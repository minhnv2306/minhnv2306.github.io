{"pages":[],"posts":[{"title":"[API] Swagger - CÃ´ng cá»¥ há»— trá»£ mÃ´ táº£ cáº¥u trÃºc API","text":"Cháº¯c háº³n khi lÃ m viá»‡c vá»›i API, viá»‡c xÃ¢y dá»±ng tÃ i liá»‡u (documents) Ä‘áº·c táº£ API, chá»©c nÄƒng, tham sá»‘, cÃ¡c respone lÃ  Ä‘iá»u cáº§n thiáº¿t. Náº¿u nhÆ° báº¡n Ä‘ang gáº·p khÃ³ khÄƒn trong viá»‡c Ä‘áº·t táº£ nÃ y hay khÃ´ng muá»‘n Ä‘áº·c táº£ trÃªn cÃ¡c file Ä‘á»‹nh dáº¡ng excel chÆ°a theo chuáº©n thÃ¬ hÃ£y xem xÃ©t sá»­ dá»¥ng Swagger. Swagger cho phÃ©p báº¡n Ä‘áº·c táº£ cáº¥u trÃºc APIs cá»§a báº¡n Ä‘á»ƒ mÃ¡y cÃ³ thá»ƒ Ä‘á»c Ä‘Æ°á»£c. Kháº£ nÄƒng mÃ´ táº£ API Ä‘áº¿n táº­n â€œrootâ€ lÃ  Ä‘iá»u tháº­t tuyá»‡t vá»i mÃ  Swagger mang láº¡i. Swagger khÃ´ng chá»‰ Ä‘áº·c táº£ cáº¥u trÃºc APIs, nÃ³ cÃ²n lÃ m Ä‘Æ°á»£c nhiá»u hÆ¡n tháº¿ vá»›i há»‡ sinh thÃ¡i Ä‘a dáº¡ng nhÆ° sinh táº¡o 1 stub server cho APIs, sinh thÆ° viá»‡n clients vá»›i 40 ngÃ´n ngá»¯ hay viá»‡c cÃ³ thá»ƒ test API trÃªn chÃ­nh Swagger. Tuy nhiÃªn trá»ng pháº¡m vi bÃ i viáº¿t, mÃ¬nh chá»‰ nÃ³i vá» cáº¥u trÃºc file mÃ  Swagger sá»­ dá»¥ng Ä‘á»ƒ Ä‘áº·c táº£ API. Demo: Swagger API Swagger demo with editor 1. Basic StructureSwagger cÃ³ thá»ƒ Ä‘Æ°á»£c viáº¿t dÆ°á»›i dáº¡ng JSON hoáº·c YAML. Trong hÆ°á»›ng dáº«n nÃ y, chÃºng tÃ´i chá»‰ sá»­ dá»¥ng vÃ­ dá»¥ dáº¡ng YAML nhÆ°ng JSON hoáº¡t Ä‘á»™ng tá»‘t tÆ°Æ¡ng Ä‘Æ°Æ¡ng. Má»™t Swagger vá»›i Ä‘á»‹nh dáº¡ng YAML sáº½ cÃ³ dáº¡ng nhÆ° sau12345678910111213141516171819swagger: &quot;2.0&quot;info: title: Sample API description: API description in Markdown. version: 1.0.0host: api.example.combasePath: /v1schemes: - httpspaths: /users: get: summary: Returns a list of users. description: Optional extended description in Markdown. produces: - application/json responses: 200: description: OKNÃ o, chÃºng ta cÃ¹ng Ä‘iá»ƒm qua cÃ¡c thÃ nh pháº§n cá»§a nÃ³ lÃ  cÃ¡i gÃ¬ nhÃ© :D 2. MetadataKhá»Ÿi Ä‘áº§u cho má»—i Swagger báº¯t Ä‘áº§u vá»›i version, 2.0 Ä‘ang lÃ  phiÃªn báº£n cuá»‘i cÃ¹ng cá»§a nÃ³. PhiÃªn báº£n giÃºp cÃ¡c trÃ¬nh dá»‹ch hiá»ƒu Ä‘Æ°á»£c cáº¥u trÃºc tá»•ng thá»ƒ cá»§a pháº§n ná»™i dung tiáº¿p theo.1swagger: &quot;2.0&quot;Tiáº¿p theo, báº¡n cáº§n Ä‘á»‹nh nghÄ©a cÃ¡c thÃ´ng tin vá» API trong trÆ°á»ng info vá»›i cÃ¡c trÆ°á»ng title, description (tÃ¹y chá»n), version (API version, khÃ´ng pháº£i version cá»§a file hay Swagger)1234info: title: Sample API description: API description in Markdown. version: 1.0.0 3. Base URLBase URL lÃ  pháº§n dÃ¹ng cho táº¥t cáº£ cÃ¡c API Ä‘á»‹nh nghÄ©a bao gá»“m: schemes, host, basePath:1234host: api.example.combasePath: /v1schemes: - httpsTáº¥t cáº£ cÃ¡c Ä‘Æ°á»ng link API Ä‘á»u quan há»‡ vá»›i base URL nÃ y. VÃ­ dá»¥ /users thá»±c táº¿ cÃ³ nghÄ©a lÃ  https://api.example.com/v1/users. 4. Consumes, ProducesPháº§n Consumes vÃ  produces Ä‘á»‹nh nghÄ©a loáº¡i MIME Ä‘Æ°á»£c há»— trá»£ bá»Ÿi API. â€œRoot-levelâ€ Ä‘á»‹nh nghÄ©a cÃ³ thá»ƒ Ä‘Æ°á»£c ghi Ä‘Ã¨ bá»Ÿi cÃ¡c toÃ¡n tá»­ riÃªng biá»‡t (cÃ¡c API cá»¥ thá»ƒ cÃ³ thá»ƒ Ä‘á»‹nh nghÄ©a láº¡i pháº§n nÃ y).123456consumes: - application/json - application/xmlproduces: - application/json - application/xml 5. PathPháº§n nÃ y chÃ­nh lÃ  pháº§n quan trá»ng, Ä‘á»‹nh nghÄ©a tá»«ng API cá»¥ thá»ƒ vÃ  phÆ°Æ¡ng thá»©c HTTP Ä‘Æ°á»£c há»— trá»£ trong cÃ¡c API nÃ y. GET /users Ä‘Æ°á»£c mÃ´ táº£ nhÆ° sau:12345678910paths: /users: get: summary: Returns a list of users. description: Optional extended description in Markdown. produces: - application/json responses: 200: description: OK 6. ParametersCÃ¡c toÃ¡n tá»­ cÃ³ thá»ƒ cáº§n cÃ¡c tham sá»‘ dá»±a trÃªn URL path (/users/{userId}), query string (/users?role=admin), headers (X-CustomHeader: Value)vÃ  trong request body. Báº¡n cÃ³ thá»ƒ Ä‘á»‹nh nghÄ©a cÃ¡c loáº¡i tham sá»‘, cáº¥u trÃºc, mÃ´ táº£ chi tiáº¿t, yÃªu cáº§u hay tÃ¹y chá»n hoáº·c cÃ¡c thÃ´ng tin khÃ¡c trong swagger nhÆ° sau:1234567891011121314paths: /users/{userId}: get: summary: Returns a user by ID. parameters: - in: path name: userId required: true type: integer minimum: 1 description: Parameter description in Markdown. responses: 200: description: OK 7. ResponsesMá»—i API táº¥t nhiÃªn Ä‘á»u response vá» má»™t tráº¡ng thÃ¡i (status codes) nhÆ° 200 OK hoáº·c 404 Not Found vÃ  schema (cáº¥u trÃºc) cá»§a response body. Schemas nÃ y thÃ¬ cÃ³ thá»ƒ Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a trá»±c tiáº¿p trong respone hoáº·c cÃ³ thá»ƒ tÃ¡ch ra Ä‘á»‹nh nghÄ©a ngoÃ i vÃ¹ng dá»±a bÃ o $ref1234567891011121314151617181920212223242526272829paths: /users/{userId}: get: summary: Returns a user by ID. parameters: - in: path name: userId required: true type: integer minimum: 1 description: The ID of the user to return. responses: 200: description: A User object. schema: type: object properties: id: type: integer example: 4 name: type: string example: Arthur Dent 400: description: The specified user ID is invalid (e.g. not a number). 404: description: A user with the specified ID was not found. default: description: Unexpected error 8. Input and Output ModelsPháº§n definitions sáº½ Ä‘á»‹nh nghÄ©a cÃ¡c cáº¥u trÃºc dá»¯ liá»‡u chung Ä‘á»ƒ sá»­ dá»¥ng trong API cá»§a báº¡n. Pháº§n nÃ y cÃ³ thá»ƒ Ä‘Æ°á»£c tham chiáº¿u qua $ref báº¥t cá»© má»™t shema nÃ o - á»Ÿ cáº£ request body vÃ  response body. VÃ­ dá»¥ Ä‘Ã¢y lÃ  JSON object:1234{ &quot;id&quot;: 4, &quot;name&quot;: &quot;Minh NV&quot;}CÃ³ thá»ƒ Ä‘Æ°á»£c mÃ´ táº£ bá»Ÿi1234567891011definitions: User: properties: id: type: integer name: type: string # Both properties are required required: - id - nameVÃ  Ä‘Æ°á»£c tham chiáº¿u trong request body schema vÃ  response body schema nhÆ° sau thÃ´ng qua $ref:12345678910111213141516171819202122232425paths: /users/{userId}: get: summary: Returns a user by ID. parameters: - in: path name: userId required: true type: integer responses: 200: description: OK schema: $ref: '#/definitions/User' /users: post: summary: Creates a new user. parameters: - in: body name: user schema: $ref: '#/definitions/User' responses: 200: description: OK 9. AuthenticationTá»« khÃ³a securityDefinitions vÃ  security Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ mÃ´ táº£ cÃ¡c phÆ°Æ¡ng thá»©c yÃªu cáº§u xÃ¡c thá»±c.12345securityDefinitions: BasicAuth: type: basicsecurity: - BasicAuth: []PhÆ°Æ¡ng thá»©c xÃ¡c thá»©c Ä‘Æ°á»£c há»— trá»£ bao gá»“m: Basic authentication API key (as a header or query parameter) OAuth 2 common flows (implicit, password, application and access code) TÃ i liá»‡u tham kháº£o Swagger Editor Basic Strcuture","link":"/2019/11/16/API-Swagger-Cong-cu-ho-tro-mo-ta-cau-truc-API/"},{"title":"AWS- Network basic","text":"Network lÃ  má»™t lÄ©nh vá»±c ráº¥t rá»™ng, gá»“m nhiá»u cÃ¡c thiáº¿t bá»‹, giao thá»©c Ä‘á»ƒ giao tiáº¿p vá»›i nhau. Tuy nhiÃªn trong pháº¡m vi bÃ i viáº¿t, tÃ¡c giáº£ sáº½ khÃ´ng liá»‡t kÃª toÃ n bá»™ cÃ¡c pháº§n thiáº¿t bá»‹ hay giao thá»©c má»™t cÃ¡ch chi tiáº¿t mÃ  chá»‰ nÃ³i qua má»™t sá»‘ pháº§n cÆ¡ báº£n nháº¥t trong Network, tá»« Ä‘Ã³ cÃ³ thá»ƒ Ã¡p dá»¥ng Ä‘á»ƒ triá»ƒn khai má»™t máº¡ng áº£o trÃªn Amazon Virtual Private Cloud. What is the networkMáº¡ng cÃ¡c mÃ¡y tÃ­nh bao gá»“m 2 hoáº·c nhiá»u mÃ¡y liÃªn káº¿t vá»›i nhau Ä‘á»ƒ chia sáº» tÃ i nguyÃªn RouteBá»™ Ä‘á»‹nh tuyáº¿n coi nhÆ° nhÆ° má»™t chiáº¿c báº£n Ä‘á»“, chá»©a cÃ¡c thÃ´ng tin Ä‘á»‹nh tuyáº¿n gÃ³i tin trong máº¡ngMá»—i Route sáº½ chá»©a cÃ¡c thÃ´ng tin Ä‘iá»ƒm Ä‘áº¿n (Destination), Ä‘Ã­ch (target) vÃ  route tiáº¿p theo cáº§n Ä‘áº¿n Ä‘á»ƒ Ä‘áº¿n Ä‘Æ°á»£c Ä‘Ã­ch. MAC AddressÄÃ¢y lÃ  má»™t khÃ¡i niá»‡m Ä‘á»‹nh danh duy nháº¥t cho cÃ¡c thiáº¿t bá»‹, khÃ´ng bao giá» trÃ¹ng nhau. MAC thÆ°á»ng Ä‘Æ°á»£c nháº¯c Ä‘áº¿n nhiá»u khi cáº¥u hÃ¬nh card máº¡ng. Äá»‹a chá»‰ IP Sá»­ dá»¥ng Ä‘á»ƒ giao tiáº¿p trong cÃ¡c giao thá»©c máº¡ng Äá»‹a chá»‰ IP cung cáº¥p nháº­n dáº¡ng cho má»™t thiáº¿t bá»‹ máº¡ng, tÆ°Æ¡ng tá»± nhÆ° Ä‘á»‹a chá»‰ nhÃ  riÃªng hoáº·c doanh nghiá»‡p. CÃ¡c thiáº¿t bá»‹ trÃªn máº¡ng cÃ³ cÃ¡c Ä‘á»‹a chá»‰ IP khÃ¡c nhau. CÃ³ thá»ƒ trÃ¹ng Ä‘á»‘i vá»›i cÃ¡c IP Address Private, Ä‘á»‘i vá»›i cÃ¡c IP Address Public thÃ¬ khÃ´ng. CÃ³ 2 loáº¡i lÃ  IP Address Public vÃ  IP Address Private IP Private: CÃ¡c Ä‘á»‹a chá»‰ IP Private sáº½ báº¯t Ä‘áº§u bá»Ÿi cÃ¡c Ä‘á»‹a chá»‰12310.172.16~31192.168 Xem IP Private báº±ng lá»‡nh1ipconfig Ip Public giá»‘ng nhÆ° tÃªn gá»i khi Ä‘i ra ngoÃ i cá»§a báº¡n, vÃ  má»—i thiáº¿t bá»‹ cáº§n cÃ³ 1 tÃªn riÃªng biá»‡t IP Private giá»‘ng nhÆ° biá»‡t danh, tÃªn gá»i á»Ÿ nhÃ  (BÆ¡, MÃ­t, Kem,â€¦) cÃ³ thá»ƒ trÃ¹ng nhau giá»¯a cÃ¡c â€œgia Ä‘Ã¬nhâ€ nhÆ°ng trong má»—i gia Ä‘Ã¬nh, tÃªn pháº£i lÃ  duy nháº¥t. Ping - Trace route - TelnetÄÃ¢y lÃ  cÃ¡c lá»‡nh cÆ¡ báº£n Ä‘á»ƒ kiá»ƒm tra network cá»§a 1 server PingKiá»ƒm tra tráº¡ng thÃ¡i cÃ¡c gÃ³i tin Ä‘áº¿n server, Ä‘á»™ trá»… cÃ³ gÃ³i tin Ping tháº¥p nghÄ©a lÃ  Ä‘á»™ trá»… tháº¥p vÃ  viá»‡c giao tiáº¿p vá»›i mÃ¡y chá»§ sáº½ diá»…n ra nhanh hÆ¡n Ping khÃ´ng tráº£ lá»i khÃ¡c vá»›i viá»‡c server bá»‹ sáº­p. Ping cháº·n cÃ³ thá»ƒ lÃ  do cháº·n IP hoáº·c response quÃ¡ lÃ¢u 1234567$ ping -c 5 vi.wikipedia.orgPING vi.wikipedia.org (130.94.122.195): 56 data bytes64 bytes from 130.94.122.195: icmp_seq=0 ttl=235 time=284.3 ms64 bytes from 130.94.122.195: icmp_seq=1 ttl=235 time=292.9 ms64 bytes from 130.94.122.195: icmp_seq=2 ttl=235 time=289.7 ms64 bytes from 130.94.122.195: icmp_seq=3 ttl=235 time=282.4 ms64 bytes from 130.94.122.195: icmp_seq=4 ttl=235 time=272.0 ms Trace routeTruy váº¿t Ä‘Æ°á»ng Ä‘i cá»§a cÃ¡c gÃ³i tin dá»¯ liá»‡u trong cÃ¡c giao thá»©c máº¡ng Lá»‡nh PING: kiá»ƒm tra káº¿t ná»‘i internet giá»¯a 2 mÃ¡y tÃ­nh. Báº±ng cÃ¡ch gá»­i Ä‘i cÃ¡c gÃ³i tin, rá»“i nháº­n láº¡i tÃ­n hiá»‡u pháº£n há»“i tá»« phÃ­a bÃªn kia. Lá»‡nh Tracert thÃ¬ cÃ³ váº» â€œcao siÃªuâ€ hÆ¡n 1 chÃºt, dÃ¹ng Ä‘á»ƒ kiá»ƒm tra Ä‘Æ°á»ng Ä‘i cá»§a cÃ¡c gÃ³i tin cá»§a lá»‡nh Ping. 123456789101112131415161718192021C:\\&gt;tracert wikipedia.comTracing route to wikipedia.com [208.80.152.201]over a maximum of 30 hops: 1 1 ms 1 ms 1 ms 192.168.8.1 [192.168.8.1] 2 * * * Request timed out. 3 12 ms 16 ms 6 ms 14.92.730.165 4 24 ms 25 ms 23 ms 203-144-128-22.uio.co.vh [203.144.128.22] 5 13 ms 8 ms 7 ms 203-144-128-13.static.qwa.co.tm [203.144.128.13] 6 14 ms 10 ms 17 ms 181.91.213.225.alop.co.uk [181.91.213.225] 7 7 ms 7 ms 7 ms 167.91.213.35.static.net.pl.org [167.91.213.35] 8 10 ms 9 ms 9 ms 121.91.213.81.static.poe.ao.com [121.91.213.81] 9 8 ms 7 ms 7 ms 68.19.101.251 10 217 ms 217 ms 215 ms 207.4.253.210 11 233 ms 259 ms 232 ms ae0-140.par20.ip4.bit.net [77.6.74.281] 12 299 ms 308 ms 302 ms xe-9-2-0.was10.ip4.bit.net [89.149.183.154] 13 293 ms 293 ms * xe-5-3-1.cr2-eqiad.wikimedia.org [173.241.131.218] 14 318 ms 327 ms 316 ms xe-1-1-0.cr1-sdtpa.wikimedia.org [208.80.154.214] 15 320 ms 319 ms 321 ms wikipedia-lb.pmtpa.wikimedia.org [208.80.152.201]Trace complete. Port protocol CÃ¡c giao thá»©c máº¡ng Ä‘á»u cÃ³ cá»•ng giao tiáº¿p Danh sÃ¡ch cÃ¡c cá»•ng: https://en.wikipedia.org/wiki/List_of_TCP_and_UDP_port_numbers Lá»‡nh telnet cÃ³ thá»ƒ sá»­ dá»¥ng Ä‘á»ƒ kiá»ƒm tra cÃ¡c cá»•ng cá»§a 1 giao thá»©c1Telnet &lt;IP_ADDRESS&gt; &lt;PORT PROTOCOL&gt; If Web Server can not connect to Database Server? DNS - Há»‡ thá»‘ng phÃ¢n giáº£i tÃªn miá»nCÃ¡c giao thá»©c máº¡ng khÃ´ng giao tiáº¿p vá»›i nhau qua cÃ¡c domain (vÃ­ dá»¥ www.example.com) mÃ  sáº½ sá»­ dá»¥ng Ä‘á»‹a chá»‰ IP. Do Ä‘Ã³ cáº§n cÃ³ 1 há»‡ thá»‘ng phÃ¢n giáº£i tÃªn miá»n Ä‘á»ƒ chuyá»ƒn Ä‘á»•i tá»« domain sang Ä‘á»‹a chá»‰ IP, Ä‘Ã³ lÃ  há»‡ thá»‘ng DNS. nslookup command1234567891011121314151617$ nslookup google.comServer: 127.0.1.1Address: 127.0.1.1#53Non-authoritative answer:Name: google.comAddress: 172.217.194.113Name: google.comAddress: 172.217.194.139Name: google.comAddress: 172.217.194.100Name: google.comAddress: 172.217.194.101Name: google.comAddress: 172.217.194.138Name: google.comAddress: 172.217.194.102 Domain mainNhÆ° Ä‘Ã£ nÃ³i á»Ÿ trÃªn, domain sáº½ Ä‘áº¡i diá»‡n cho Ä‘á»‹a chá»‰ IP, lÃ  má»™t cÃ¡c kÃ­ tá»± dá»… nhá»› vá»›i con ngÆ°á»i. CÃ³ thá»ƒ hiá»ƒu, domain chÃ­nh ta tÃªn trong danh báº¡, cÃ²n Ä‘á»‹a chá»‰ IP chÃ­nh lÃ  sá»‘ Ä‘iá»‡n thoáº¡i cá»§a ngÆ°á»i Ä‘Ã³. TÃªn chá»‰ lÃ  Ä‘á»ƒ dá»… nhá»›, cho con ngÆ°á»i biáº¿t lÃ  sá»‘ cá»§a ai, cÃ²n Ä‘iá»‡n thoáº¡i vÃ  cÃ¡c tá»•ng Ä‘Ã i sáº½ giao tiáº¿p thÃ´ng qua sá»‘ Ä‘iá»‡n thoáº¡i chá»© khÃ´ng pháº£i tÃªn danh báº¡ Sud domain edu1.com=&gt; Lev 2: env.edu1.com=&gt; Lev 3: admin.env.edu1.com CÃ³ thá»ƒ Ã¡p dá»¥ng sub domain Ä‘á»ƒ triá»ƒn khai á»©ng dá»¥ng web cho cÃ¡c mÃ´i trÆ°á»ng (dev, stg, product) vÃ  ná»™i dung web (api, backend, frontend). NATNAT cÆ¡ báº£n cÃ³ thá»ƒ sá»­ dá»¥ng Ä‘á»ƒ káº¿t ná»‘i hai máº¡ng mÃ¡y tÃ­nh cÃ³ Ä‘á»‹a chá»‰ khÃ´ng tÆ°Æ¡ng thÃ­ch. (Kiá»ƒu Ã¡nh xáº¡ IP Public vÃ  IP Private) NAT lÃ  má»™t ká»¹ thuáº­t cho phÃ©p má»™t hoáº·c nhiá»u Ä‘á»‹a chá»‰ IP ná»™i miá»n chuyá»ƒn Ä‘á»•i sang má»™t hoáº·c nhiá»u Ä‘á»‹a chá»‰ IP ngoáº¡i miá»n. Xem xÃ©t vÃ­ dá»¥ gia Ä‘Ã¬nh Minh cÃ³ 2 ngÆ°á»i con lÃ  Minh (tÃªn gá»i private á»Ÿ nhÃ  lÃ  M) vÃ  Nam (tÃªn gá»i private á»Ÿ nhÃ  lÃ  N) Khi Ä‘Æ¡n vá»‹ nÃ o Ä‘Ã³ (máº¡ng trÃªn Internet) muá»‘n giao tiáº¿p vá»›i Minh, gá»­i má»™t lÃ¡ thÆ° cho gia Ä‘Ã¬nh Minh (gia Ä‘Ã¬nh Minh lÃºc nÃ y Ä‘Ã³ng vai trÃ² nhÆ° server tiáº¿p nháº­n request), vÃ  máº¹ Minh sáº½ Ä‘á»c Ä‘á»‹a chá»‰ tá»« lÃ¡ thÆ°, gá»­i cho Minh =&gt; chuyá»ƒn cho M (tÃªn gá»i á»Ÿ nhÃ  - Private Network). Minh cÃ³ tráº£ lá»i thÃ¬ láº¡i gá»­i lÃ¡ thÆ° cho máº¹, sau Ä‘Ã³ máº¹ pháº£n há»“i láº¡i bÃªn gá»­i Ä‘áº¿n vá»›i tÃªn Minh. Máº¹ Minh á»Ÿ Ä‘Ã¢y Ä‘Ã³ng vai trÃ² lÃ  NAT, chuyá»ƒn Ä‘á»•i tÃªn public vÃ  tÃªn private, giÃºp cÃ¡c giao thá»©c máº¡ng váº­n hÃ nh 1 cÃ¡c trÆ¡n tru NhÆ° váº­y rÃµ rÃ ng M (hay Minh) Ä‘Æ°á»£c báº£o vá»‡, khÃ´ng cho phÃ©p máº¡ng bÃªn ngoÃ i truy cáº­p trá»±c tiáº¿p. Náº¿u muá»‘n truy cáº­p vÃ o M, pháº£i á»Ÿ trong â€œgia Ä‘Ã¬nhâ€ hoáº·c thÃ´ng qua máº¹ Minh (á»Ÿ trong máº¡ng ná»™i bá»™) Äá»‹a chá»‰ A giao tiáº¿p bÃªn ngoÃ i luÃ´n lÃ  Minh (GiÃºp che giáº¥u IP bÃªn trong máº¡ng LAN) CÃ¡c Ä‘á»‹a chá»‰ gá»­i Ä‘áº¿n gia Ä‘Ã¬nh Minh cho Minh khi sai tÃªn sáº½ khÃ´ng Ä‘Æ°á»£c gá»­i Ä‘áº¿n =&gt; Lá»c cÃ¡c gÃ³i tin vÃ  kiá»ƒm duyá»‡t truy cáº­p Ä‘áº¿n port NAT sá»­ dá»¥ng khi cÃ³ Private Subnet Forward Proxy &amp; Reserve ProxyReverse Proxy &amp; Load Balancer","link":"/2021/02/07/AWS-Network-basic/"},{"title":"AWS - Amazon Virtual Private Cloud (VPC)","text":"Network basic - AWS - Amazon Virtual Private Cloud (VPC) Public Subnet &amp; Private Subnet Public Subnet Private Subnet Sá»­ dá»¥ng Ä‘á»‹a chá»‰ IP Global Chá»‰ Sá»­ dá»¥ng Ä‘á»‹a chá»‰ IP Private Cho phÃ©p truy cáº­p trá»±c tiáº¿p tá»« Internet KhÃ´ng thá»ƒ truy cáº­p trá»±c tiáº¿p tá»« Internet Subnet gÃ¡n vá»›i Internet gateway Subnet gÃ¡n vá»›i NAT Subnet gÃ¡n vá»›i Internet Gateway =&gt; Public Subnet Subnet gÃ¡n vá»›i NAT =&gt; Private Subnet AWS SG &amp; ACL Äá»‹nh nghÄ©a cÃ¡c role cho phÃ©p truy cáº­p tÃ i nguyÃªn há»‡ thá»‘ng Cho phÃ©p ai (Des) Cho phÃ©p cÃ¡i gÃ¬ (Port) Security GroupChá»‰ ALLOW (cÃ²n láº¡i lÃ  deny) ThÆ°á»ng sáº½ chá»‰ quy Ä‘á»‹nh Inbound, Outbound sáº½ má»Ÿ all. VÃ¬ náº¿u config cáº£ Outbound sáº½ khÃ¡ lÃ  ráº¯c rá»‘i=&gt; Control 1 chiá»u lÃ  Ä‘á»§ Security group sáº½ Ä‘Æ°á»£c gÃ¡n cho cÃ¡c Instance cá»§a AWS: EC2, RDS, Redis, ES, Lambda SG hoÃ n toÃ n config Ä‘Æ°á»£c thay tháº¿ báº±ng IP Table trong OS, nhÆ°ng vÃ¬ váº­y thÃ¬ báº¥t tiá»‡n do pháº£i tÃ¡c Ä‘á»™ng vÃ o OS ACLCheck lÃ  Allow vÃ  DenyVÃ  Deny máº¡nh nháº¥t Máº¡ng Ä‘i vÃ o cá»•ng 22 thÃ¬ sáº½ khÃ´ng pháº£i Ä‘i ra á»Ÿ cá»•ng 22=&gt; Ephemeral Ports Náº¿u cáº£ ALC vÃ  SG, sao khÃ´ng controll 1 cÃ¡i thÃ´i=&gt; Vá»›i cÃ¡c dá»± Ã¡n nhá»‰, thÃ¬ Ä‘iá»u nÃ y lÃ  OK (LÃºc nÃ y SG =&gt; Allow vÃ  ACL sáº½ má»Ÿ ALL)Tuy nhiÃªn phá»¥ thuá»™c vÃ o cÃ¡c dá»± Ã¡n mÃ  config thay tháº¿ KhÃ´ng nÃªn edit SG, ACL Ä‘Ã£ tá»“n táº¡i khi project Ä‘Ã£ cháº¡y á»•n. Thay vÃ o Ä‘Ã³, táº¡o SG, ACL má»›i vÃ  gÃ¡n láº¡i Instance ACL khÃ´ng nÃªn setting nhiá»u (dá»± Ã¡n nhá» cÃ³ thá»ƒ má»Ÿ all. NÃ³ chá»‰ lÃ  tá»•ng quan. SG má»›i lÃ  nÆ¡i cáº§n controll chi tiáº¿tHÆ¡n ná»¯a ACL chá»‰ max 40 rule vÃ  cÃ ng nhiá»u, há»‡ thá»‘ng cÃ³ thá»ƒ cÃ ng cháº­m cho pháº£i kiá»ƒm tra nhiá»u rule Best practice - Networking Security Group &amp; Bastion Host Má»™t vÃ i cáº¥u hÃ¬nh VPCBáº¡n cÃ³ thá»ƒ sá»­ dá»¥ng má»™t trong cÃ¡c mÃ´ hÃ¬nh sau Ä‘á»ƒ Ã¡p dá»¥ng cho dá»± Ã¡n cá»§a báº¡n mÃ  khÃ´ng cÃ³ trong máº·c Ä‘á»‹nh AWS VPC - Scenario 1: VPC with a Single Public Subnet AWS VPC - Scenario 2: VPC with Public and Private Subnets (NAT) AWS VPC - Scenario 3: VPC with Public and Private Subnets and AWS Managed VPN Access AWS VPC - Scenario 4: VPC with a Private Subnet Only and AWS Managed VPN Access =&gt; Äa sá»‘ cÃ¡c dá»± Ã¡n sáº½ theo Scenario 2","link":"/2021/02/06/AWS-Amazon-Virtual-Private-Cloud-VPC/"},{"title":"AWS - WebApp Architecture Design","text":"Má»—i trang web Ä‘á»u cÃ³ má»¥c Ä‘Ã­ch sá»­ dá»¥ng khÃ¡c nhau vÃ  cÃ¡c Ä‘áº·c thÃ¹ riÃªng. HÆ¡n ná»¯a pháº§n chi phÃ­ xÃ¢y dá»±ng, duy trÃ¬ web tá»« phÃ­a khÃ¡ch hÃ ng vÃ  yÃªu cáº§u vá» táº£i há»‡ thá»‘ng, phá»¥c vá»¥ sá»‘ lÆ°á»£ng user nhÆ° tháº¿ nÃ o cÅ©ng lÃ  cÃ¡c yáº¿u tá»‘ quyáº¿t Ä‘á»‹nh Ä‘áº¿n viá»‡c báº¡n sáº½ thiáº¿t káº¿ kiáº¿n trÃºc nhÆ° tháº¿ nÃ o. TrÆ°á»›c tiÃªn ta cÃ¹ng xem cÃ¡c service cÆ¡ báº£n cá»§a AWS cáº§n dÃ¹ng Ä‘á»ƒ xÃ¢y dá»±ng má»™t website. EC2Chá»n loáº¡i EC2 cho phÃ¹ há»£p Äá»‘i vá»›i mÃ´i trÆ°á»ng láº¡i Test/dev, báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng loáº¡i T Vá»›i cÃ¡c mÃ´i trÆ°á»ng Product, cÃ³ thá»ƒ chá»n loáº¡i M hoáº·c R (loáº¡i R cáº§n khi dÃ¹ng nhiá»u RAM) hÆ¡n.Vá»›i cÃ¡c loáº¡i C, G2, dÃ¹ng cho cÃ¡c trÆ°á»ng há»£p Ä‘Ã²i há»i xá»­ lÃ½ cao nhÆ° cÃ¡c website cáº§n phÃ¢n tÃ­ch nhiá»u, hoáº·c gaming. AWS EC2 - Instance LifeCycleCÃ³ thá»ƒ sá»­ dá»¥ng EC2 hook khi pending, In Service hoáº·c Terminate Ä‘á»ƒ can thiá»‡p náº¿u cáº§n ELBMá»™t trong nhá»¯ng thÃ nh pháº§n cÃ¢n báº±ng táº£i trÃªn AWSâ— Listenerâ— Health Checksâ— Layer 4/ Layer 7 Load Balancingâ— Across-AZsâ— WebSocket Supportâ— Sticky SessionTrong trÆ°á»ng há»£p ELB sá»­ dá»¥ng nhiá»u mÃ¡y áº£o EC2, má»™t viá»‡c Ä‘Æ°á»£c Ä‘áº·t ra lÃ  duy trÃ¬ phiÃªn lÃ m viá»‡c cá»§a user. Cháº³ng háº¡n nhÆ° user Ä‘ang thá»±c hiá»‡n thao tÃ¡c trÃªn Instnace EC2 (1) sau Ä‘Ã³ qua ELB, láº§n request tiáº¿p theo sáº½ Ä‘Æ°á»£c chuyá»ƒn sang EC2 (2), khi Ä‘Ã³ phiÃªn hoÃ n toÃ n Ä‘Ã£ bá»‹ máº¥t.Äá»ƒ kháº¯c phá»¥c váº¥n Ä‘á» nÃ y, báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng Sticky Session, táº¥t cáº£ cÃ¡c yÃªu cáº§u cá»§a báº¡n sáº½ Ä‘Æ°á»£c chuyá»ƒn Ä‘áº¿n cÃ¹ng má»™t mÃ¡y EC2 trong khi trong trÆ°á»ng há»£p non-sticky cÃ³ thá»ƒ chá»n báº¥t ká»³ mÃ¡y chá»§ web nÃ o Ä‘á»ƒ phá»¥c vá»¥ yÃªu cáº§u cá»§a báº¡n. NhÆ° váº­y sticky session giÃºp báº¡n giá»¯ láº¡i phiÃªn lÃ m viá»‡c, cÃ¡c request sáº½ Ä‘Æ°á»£c gá»­i tá»›i cÃ¹ng 1 mÃ¡y EC2Note: Sticky note lÃ  vÃ´ dá»¥ng vá»›i scale â— Connection Draining (Default is 300s)Khi má»™t á»©ng dá»¥ng scale in (xÃ³a server Ä‘i), nÃ³ cáº§n thá»i gian Ä‘á»ƒ xá»­ lÃ½ ná»‘t cÃ¡c request hiá»‡n Ä‘ang cÃ³ trÃªn EC2 Ä‘Ã³ trÃ¡nh viá»‡c website cá»§a báº¡n bá»‹ giÃ¡n Ä‘oáº¡n, vÃ  thá»i gian Ä‘Ã³ lÃ  Connection Draining Báº¡n cÃ³ thá»ƒ tham kháº£o pháº§n EC2 Life Cycle Ä‘á»ƒ cÃ³ thá»ƒ can thiá»‡p vÃ o hook, xá»­ lÃ½ cÃ¡c request trong 5 mins cá»§a Connection Draining, trÃ¡nh viá»‡c váº«n cÃ²n request chÆ°a Ä‘Æ°á»£c xá»­ lÃ½.â— Idle Connection (Default is 60s) AWS CloudWatchCÃ¡c tÃ­nh nÄƒng cáº§n káº¿t há»£p láº¡i vá»›i nhau Ä‘á»ƒ giÃºp báº¡n xÃ¢y dá»±ng cÃ¡c á»©ng dá»¥ng cÃ³ kháº£ nÄƒng má»Ÿ rá»™ng vÃ  tÃ­nh kháº£ dá»¥ng cao. Amazon CloudWatch sáº½ giÃ¡m sÃ¡t dung lÆ°á»£ng Amazone EC2, Auto Sacling tá»± Ä‘á»™ng má»Ÿ rá»™ng dá»±a trÃªn nhu cáº§u vÃ  Elastic Load Balancing sáº½ phÃ¢n phá»‘i táº£i trÃªn nhiá»u instances vá»›i 1 hoáº·c nhiá»u cÃ¡c Availability Zones CloudWatch sáº½ theo dÃµi cÃ¡c thÃ´ng sá»‘, cÃ¡c request Ä‘áº¿n ELB, náº¿u trong má»™t khoáº£ng thá»i gian (gá»i lÃ  chu kÃ¬) náº¿u sá»‘ lÆ°á»£ng request vÆ°á»£t ngÆ°á»¡ng Ä‘Æ°á»£c config, nÃ³ sáº½ kÃ­ch hoáº¡t má»™t Alarm, cho phÃ©p scale há»‡ thá»‘ng thÃ´ng qua Auto Scaling Ä‘Ã£ Ä‘Æ°á»£c config tá»« trÆ°á»›c. Má»™t cÃ¢u há»i Ä‘Æ°á»£c Ä‘áº·t ra lÃ  ta nÃªn Ä‘áº·t ngÆ°á»¡ng scale á»Ÿ má»©c 30% CPU, 50% hay 70%. CÃ¢u tráº£ lá»i sáº½ lÃ  tÃ¹y tÃ¬nh hÃ¬nh thá»±c táº¿ cho project cá»§a báº¡n chá»© khÃ´ng theo má»™t chuáº©n nÃ o. Ban Ä‘áº§u báº¡n nÃªn quan sÃ¡t á»©ng dá»¥ng cá»§a mÃ¬nh cháº¡y á»Ÿ ngÆ°á»¡ng bao nhiÃªu, vÃ­ dá»¥ 15%. Khi Ä‘Ã³ báº¡n cÃ³ thá»ƒ Ä‘áº·t ngÆ°á»¡ng scale lÃ  20%. Vá» sau, khi á»©ng dá»¥ng Ä‘Ã£ phÃ¡t triá»ƒn nhiá»u chá»©c nÄƒng, cÃ³ thá»ƒ bÃ¬nh thÆ°á»ng, á»©ng dá»¥ng cá»§a báº¡n cháº¡y bÃ¬nh thÆ°á»ng á»Ÿ má»©c 15% lÃªn 30%, khi Ä‘Ã³ báº¡n cáº§n Ä‘áº·t ngÆ°á»¡ng scale má»›i lÃ  40% cho phÃ¹ há»£p. ChÃºng ta cÅ©ng khÃ´ng nÃªn Ä‘á»ƒ ngÆ°á»¡ng scale lÃ  70-80% CPU vÃ¬ cáº§n tÃ­nh thá»i gian AWS báº­t cÃ¡c dá»‹ch vá»¥ scale Ä‘i kÃ¨m (nhÆ° báº­t EC2). ChÃºng ta nÃªn Ä‘áº·t ngÆ°á»¡ng scale lÃ  40%. Khi Ä‘Ã³ giáº£ sá»­ á»©ng dá»¥ng lÃªn ngÆ°á»¡ng 40%, ta Ä‘oÃ¡n Ä‘Æ°á»£c 2,3 phÃºt tá»›i, CPU sáº½ Ä‘áº¡t ngÆ°á»¡ng 70%, lÃºc Ä‘Ã³ ta báº­t EC2 luÃ´n vÃ  khi CPU Ä‘áº¡t ngÆ°á»¡ng 70% tháº­t, server má»›i Ä‘Ã£ sáºµn sÃ ng Ä‘á»ƒ phá»¥c vá»¥. Ã€ mÃ  táº¥t nhiÃªn Ä‘á»‘i vá»›i cÃ¡c app Ã­t scale, báº¡n Ä‘áº·t 70% ngÆ°á»¡ng CPU cÅ©ng khÃ´ng váº¥n Ä‘á»! Static content with S3 and CloudFrontElastic CacheRDS, Dynamo DBAuto ScalingAWS Application and Messaging ServiceSNSSQSSESWeb/App architecture design1 User - Amazon LightsailÄá»‘i vá»›i cÃ¡c website chá»‰ 1 user, báº¡n chá»‰ cáº§n Ä‘á»ƒ táº¥t cáº£ cÃ¡c dá»‹ch vá»¥ trong EC2 (webapp, database), cáº§n má»™t EIP vÃ  Route53 cho DNS NgoÃ i ra báº¡n cÅ©ng cÃ³ thá»ƒ sá»­ dá»¥ng dá»‹ch vá»¥ Amazon Lightsail, phá»¥c vá»¥ cho cÃ¡c web cá»¡ nhá» &gt; 1 UserLÃºc nÃ y báº¡n cÃ³ thá»ƒ tÃ¡ch thÃªm má»™t database service Database options &gt; 1000 UserÄá»‘i vá»›i cÃ¡c website cá»¡ lá»›n hÆ¡n, báº¡n cáº§n thÃªm cÃ¢n báº±ng táº£i vÃ  cÃ¡c dá»‹ch vá»¥ khÃ¡c cá»§a AWS So if 10,000 ~ 100,000 Users â€¦ NhÆ° pháº§n scale Ä‘Ã£ nÃ³i, Ä‘á»ƒ há»‡ thá»‘ng cÃ³ thá»ƒ scale Ä‘Æ°á»£c thÃ¬ cáº§n move cÃ¡c dá»‹ch vá»¥ ra ngoÃ i Ä‘á»ƒ server lÃ  tráº¡ng thÃ¡i stateless Move static contentÄáº§u tiÃªn move cÃ¡c ná»™i dung static ra Amazon S3 vÃ  Amazon CloudFront Move session to cache, dynamic contentâ— Session/state to Amazon DynamoDBâ— DB caching to Amazon ElastiCacheâ— Dynamic content to Amazon CloudFront &gt; 100,000 UserLÃºc nÃ y ta cáº§n multi-AZ, ELB giá»¯a cÃ¡c báº­c, káº¿t há»£p Auto Scaling Go on Loose Coupling &amp; Service-Oriented Architecture â€¦ Loose Coupling + SOA = Winning â€¦ BÃ¢y giá» há»‡ thá»‘ng cá»§a báº¡n lá»›n hÆ¡n ráº¥t nhiá»u vÃ  ta cáº§n má»™t hÆ°á»›ng thiáº¿t káº¿ Ä‘Ã¡p á»©ng Ä‘Æ°á»£c yÃªu cáº§u nÃ y. HÃ£y xem xÃ©t hÆ°á»›ng thiáº¿t káº¿ hÆ°á»›ng dá»‹ch vá»¥. Äáº§u tiÃªn chÃºng ta sáº½ Ä‘á»ƒ táº¥t cáº£ trong má»™t (all in one - Monolidthid) vÃ  báº¯t Ä‘áº§u suy nghÄ© vá» tÃ¡ch dá»‹ch vá»¥ Trang web sáº½ chia nhá» thÃ nh cÃ¡c dá»‹ch vá»¥ back-end (BE), front-end (FE) Front-end Page cho admin Page cÃ¡c role khÃ¡TÃ¡ch thÃ nh cÃ¡c server riÃªng biá»‡t Back-endVá»›i back-end, báº¡n cÃ³ thá»ƒ tÃ¡ch theo tá»«ng chá»©c nÄƒng cho service. á» Ä‘Ã¢y tÃ´i vÃ­ dá»¥ cÃ¡c dá»‹ch vá»¥ cÃ³ thá»ƒ tÃ¡ch (1) Authentication(2) search(3) content(4) Batch, job, tÃ¡ch ra cÃ¡c service SQSSau Ä‘Ã³ Ä‘iá»u hÆ°á»›ng ELB trá» cÃ¡c API tÆ°Æ¡ng á»©ng /login, /search, /content vÃ o cÃ¡c server bÃªn trÃªn theo cÃ¡c dá»‹ch vá»¥ Vá»›i cÃ¡c chia nhá» server thÃ nh cÃ¡c dá»‹ch vá»¥ nhÆ° váº­y, tháº­m chÃ­ cáº£ 3 service cá»§a báº¡n cÃ³ thá»ƒ Ä‘á»™c láº­p luÃ´n cáº£ vá» ngÃ´n ngá»¯ láº­p trÃ¬nh (PHP, Ruby, â€¦) Tháº­m chÃ­ báº¡n váº«n cÃ³ thá»ƒ tÃ¡ch chÃºng nhá» hÆ¡n ná»¯a thÃ nh cÃ¡c microservice, chuyá»ƒn login thÃ nh cÃ¡c API Gateway, viáº¿t báº±ng Lamdba báº±ng python tÃ¹y Ã½ báº¡n. Tuy nhiÃªn hÃ£y xem xÃ©t má»©c Ä‘á»™ cáº§n thiáº¿t vÃ¬ nhÆ° váº­y há»‡ thá»‘ng cÃ³ thá»ƒ trá»Ÿ nÃªn phá»©c táº¡p vÃ¬ quÃ¡ nhá», xÃ¢y dá»±ng document API khÃ´ng Ä‘á»“ng bá»™ Ä‘Æ°á»£c cÃ¡c bÃªn &gt; +++ User AWS Security Best PracticesAWS Blue/Green Deployment â€¦","link":"/2021/02/09/AWS-WebApp-Architecture-Design/"},{"title":"[Auth] OAuth2","text":"OAuth lÃ  má»™t phÆ°Æ¡ng thá»©c chá»©ng thá»±c giÃºp cÃ¡c á»©ng dá»¥ng cÃ³ thá»ƒ chia sáº» tÃ i nguyÃªn vá»›i nhau mÃ  khÃ´ng cáº§n chia sáº» thÃ´ng tin username vÃ  password.Tá»« Auth á»Ÿ Ä‘Ã¢y mang 2 nghÄ©a: Authentication: xÃ¡c thá»±c ngÆ°á»i dÃ¹ng thÃ´ng qua viá»‡c Ä‘Äƒng nháº­p. Authorization: cáº¥p quyá»n truy cáº­p vÃ o cÃ¡c Resource. BÃ i viáº¿t chá»‰ muá»‘n tá»•ng há»£p láº¡i 2 mÃ´ hÃ¬nh cá»§a OAuth, má»™t mÃ´ hÃ¬nh cÆ¡ báº£n vÃ  má»™t mÃ´ hÃ¬nh cho cÃ¡ch cáº¥p á»§y quyá»n Ä‘Æ°á»£c sá»­ dá»¥ng phá»• biáº¿n nháº¥t: Authorization Code Grant MÃ´ hÃ¬nh chung+--------+ +---------------+ | |--(A)- Authorization Request -&gt;| Resource | | | | Owner | | |&lt;-(B)-- Authorization Grant ---| | | | +---------------+ | | | | +---------------+ | |--(C)-- Authorization Grant --&gt;| Authorization | | Client | | Server | | |&lt;-(D)----- Access Token -------| | | | +---------------+ | | | | +---------------+ | |--(E)----- Access Token ------&gt;| Resource | | | | Server | | |&lt;-(F)--- Protected Resource ---| | +--------+ +---------------+ Ref: https://tools.ietf.org/html/rfc6749 Má»™t vÃ i Ä‘iá»ƒm chÃº Ã½ vá» sÆ¡ Ä‘á»“ nÃ y Resource owner lÃ  ngÆ°á»i dÃ¹ng, chÃ­nh lÃ  báº¡n Client lÃ  application bÃªn thá»© 3, báº¡n cÃ³ thá»ƒ hÃ¬nh dung lÃ  1 á»©ng dá»¥ng sá»­ dá»¥ng facebook api cháº³ng háº¡n Authrization Server vÃ  Resource Server lÃ  nhá»¯ng dá»‹ch vá»¥ mÃ  phÃ­a bÃªn facebook hay twitter pháº£i implement Ä‘á»ƒ thá»±c hiá»‡n oauth. ÄÃ¢y chÃ­nh lÃ  Ä‘iá»ƒm cÆ¡ báº£n táº¡o nÃªn khÃ¡c biá»‡t giá»¯a Oauth2 vÃ  Oauth1, khi â€œtÃ¡ch biá»‡tâ€ giá»¯a viá»‡c chá»©ng thá»±c (authorization) , vÃ  viá»‡c cung cáº¥p thÃ´ng tin ngÆ°á»i dÃ¹ng (resource) thÃ nh 2 server riÃªng. Má»¥c Ä‘Ã­ch cuá»‘i cÃ¹ng lÃ  láº¥y Ä‘Æ°á»£c access_token Ä‘á»ƒ truy cáº­p tÃ i nguyÃªn bÃªn báº¡n cáº§n Ä‘Äƒng nháº­p (Facebook cháº³ng háº¡n), táº¥t nhiÃªn, token nÃ y cÃ³ thá»ƒ bá»‹ háº¡n cháº¿ 1 sá»‘ quyá»n hÆ¡n khi báº¡n sá»­ dá»¥ng Facebook tháº­t. Dá»±a vÃ o cÃ¡ch cáº¥p access_token khÃ¡c nhau mÃ  ta cÃ³ cÃ¡c loáº¡i triá»ƒn khai OAuth2 khÃ¡c nhau BÆ°á»›c Authorization Grant (C vÃ  D) tÃ¹y vÃ o loáº¡i OAuth2 báº¡n triá»ƒn khai mÃ  nÃ³ cÃ³ thá»ƒ cÃ³ hoáº·c khÃ´ng :D CÃ¡c cÃ¡ch cáº¥p á»§y quyá»nNhÆ° tÃ´i Ä‘Ã£ nÃ³i á»Ÿ trÃªn, tÃ¹y cÃ¡ch cáº¥p phÃ¡t access_token mÃ  chÃºng ta cÃ³ cÃ¡c cÃ¡ch cáº¥p á»§y quyá»n khÃ¡c nhau. Vá» cÆ¡ báº£n sáº½ cÃ³ 4 cÃ¡ch, tuy nhiÃªn cÃ¡ch Ä‘áº§u tiÃªn Authorization Code Ä‘Æ°á»£c sá»­ dá»¥ng phá»• biáº¿n nháº¥t. Ba cÃ¡ch cáº¥p á»§y quyá»n cÃ²n láº¡i Ã­t Ä‘Æ°á»£c sá»­ dá»¥ng. Authorization Code Grant+----------+ | Resource | | Owner | | | +----------+ ^ | (B) +----|-----+ Client Identifier +---------------+ | -+----(A)-- &amp; Redirection URI ----&gt;| | | User- | | Authorization | | Agent -+----(B)-- User authenticates ---&gt;| Server | | | | | | -+----(C)-- Authorization Code ---&lt;| | +-|----|---+ +---------------+ | | ^ v (A) (C) | | | | | | ^ v | | +---------+ | | | |&gt;---(D)-- Authorization Code ---------&apos; | | Client | &amp; Redirection URI | | | | | |&lt;---(E)----- Access Token -------------------&apos; +---------+ (w/ Optional Refresh Token) Giáº£ Ä‘á»‹nh User Agent lÃ  báº¡n Client lÃ  á»©ng dá»¥ng thá»© 3 - XXX, cáº§n láº¥y tÃ i nguyÃªn qua Facebook cá»§a báº¡n (name + avatar + email cháº³ng háº¡n). CÃ¡c thÃ´ng tin nÃ y Ä‘Æ°á»£c lÆ°u á»Ÿ Authorization Server (Facebook Resource) vÃ  cáº§n Ä‘Äƒng nháº­p tá»« Resource Owner (Facebook OAuth API) (HÃ¬nh nhÆ° Facebook Ä‘ang Ä‘á»ƒ Facebook Resource vÃ  Facebook OAuth API lÃ  1, nhÆ°ng vÃ­ dá»¥ nÃ y tÃ´i cá»© Ä‘á»ƒ tÃ¡ch ra cho rÃµ). HÃ¬nh minh há»a trÃªn Ä‘Æ°á»£c mÃ´ táº£ nhÆ° sau (A) + (B) Báº¡n vÃ o trang XXX, click Ä‘Äƒng nháº­p vá»›i Facebook, vÃ  Ä‘Æ°á»£c chuyá»ƒn hÆ°á»›ng Ä‘áº¿n trang12345https://Facebook-OAuth-API.DOMAIN/authorize?response_type=token&amp;client_id=CLIENT_ID&amp;redirect_uri=CALLBACK_URL&amp;scope=read response_type=token =&gt; Ã báº£o vá»›i á»©ng dá»¥ng Facebook OAuth API lÃ  cáº¥p mÃ£ á»§y quyá»n redirect_uri =&gt; Sau khi Facebook OAuth API xÃ¡c thá»±c cÃ¡c thÃ´ng tin lÃ  Ä‘Ãºng, chuyá»ƒn token vá» URI nÃ y cho tÃ´i nhÃ© Táº¥t nhiÃªn URL á»Ÿ trÃªn cáº§n cÃ³ middleware Auth Ä‘á»ƒ yÃªu cáº§u ngÆ°á»i dÃ¹ng nháº­p tÃ i khoáº£n facebook má»›i xá»­ lÃ½ tiáº¿p :D (C): Tiáº¿p theo pháº§n trÃªn, khi cÃ³ mÃ£ á»§y quyá»n (token), Facebook OAuth API sáº½ chuyá»ƒn vá» url XXX vÃ  bÃªn nÃ y cáº§n cÃ³ router Ä‘Ã³n nÃ³ 1https://XXX.DOMAIN/callback?code=AUTHORIZATION_CODE (D): Sau khi cÃ³ ACCESS_TOKEN, XXX cáº§n gá»­i tiáº¿p 1 request Ä‘áº¿n Facebook, nhÆ°ng láº§n nÃ y lÃ  Facebook Resoure Ä‘á»ƒ láº¥y access_token 12345https://Facebook-Resource.com/oauth/token?client_id=CLIENT_ID&amp;client_secret=CLIENT_SECRET&amp;grant_type=authorization_code&amp;code=AUTHORIZATION_CODE&amp;redirect_uri=CALLBACK_URL grant_type =&gt; cÃ¡ch cáº¥p access_token, á»Ÿ Ä‘Ã¢y lÃ  authorization_code redirect_uri =&gt; khi Facebook Resource kiá»ƒm tra cÃ¡c thÃ´ng tin Ä‘Ãºng, gá»­i access_token cho tÃ´i vá» Ä‘á»‹a chá»‰ nÃ y nhÃ©, thÆ°á»ng sáº½ lÃ  vá» láº¡i trang XXX (E): XXX nháº­n access_token qua redirect_uri á»Ÿ bÆ°á»›c D thÃ´i. Tá»« access_token nÃ y, báº¡n cÃ³ thá»ƒ gá»i cÃ¡c API láº¥y thÃ´ng tin name, avatar, email cá»§a user qua Facebook Ä‘Æ°á»£c rá»“i Ä‘Ã³ :D NhÆ° váº­y, cáº£ client (á»©ng dá»¥ng cá»§a báº¡n) vÃ  á»©ng dá»¥ng thá»© 3 (Facebook Ä‘á»u pháº£i triá»ƒn khai OAuth). CÃ¡c URL cá»§a 2 bÃªn12345678910111213141516(1) https://Facebook-OAuth-API.DOMAIN/authorize?response_type=token&amp;client_id=CLIENT_ID&amp;redirect_uri=CALLBACK_URL&amp;scope=read=&gt; Middlware Auth(2) https://XXX.DOMAIN/callback?code=AUTHORIZATION_CODE=&gt; BÃªn XXX xá»­ lÃ½ Ä‘á»ƒ nháº­n code tá»« bÆ°á»›c 1(3) https://Facebook-Resource.com/oauth/token?client_id=CLIENT_ID&amp;client_secret=CLIENT_SECRET&amp;grant_type=authorization_code&amp;code=AUTHORIZATION_CODE&amp;redirect_uri=CALLBACK_URL=&gt; Láº¥y access_token Ãp dá»¥ng OAuth2 trong Laravel Passport: (á»¨ng dá»¥ng cá»§a báº¡n chÃ­nh lÃ  Client - XXX) BÆ°á»›c áº¥n nÃºt chuyá»ƒn hÆ°á»›ng Ä‘Äƒng nháº­p báº±ng Facebook123456789101112131415161718192021Route::get('/redirect', function (Request $request) { $request-&gt;session()-&gt;put('state', $state = Str::random(40)); $request-&gt;session()-&gt;put('code_verifier', $code_verifier = Str::random(128)); $codeChallenge = strtr(rtrim( base64_encode(hash('sha256', $code_verifier, true)) , '='), '+/', '-_'); $query = http_build_query([ 'client_id' =&gt; 'client-id', 'redirect_uri' =&gt; 'http://example.com/callback', 'response_type' =&gt; 'code', 'scope' =&gt; '', 'state' =&gt; $state, 'code_challenge' =&gt; $codeChallenge, 'code_challenge_method' =&gt; 'S256', ]); return redirect('http://your-app.com/oauth/authorize?'.$query);}); ÄÃ¢y lÃ  bÆ°á»›c request access_token (3)12345678910111213141516171819202122Route::get('/callback', function (Request $request) { $state = $request-&gt;session()-&gt;pull('state'); $codeVerifier = $request-&gt;session()-&gt;pull('code_verifier'); throw_unless( strlen($state) &gt; 0 &amp;&amp; $state === $request-&gt;state, InvalidArgumentException::class ); $response = (new GuzzleHttp\\Client)-&gt;post('http://your-app.com/oauth/token', [ 'form_params' =&gt; [ 'grant_type' =&gt; 'authorization_code', 'client_id' =&gt; 'client-id', 'redirect_uri' =&gt; 'http://example.com/callback', 'code_verifier' =&gt; $codeVerifier, 'code' =&gt; $request-&gt;code, ], ]); return json_decode((string) $response-&gt;getBody(), true);}); Password Grant Tokens Cung cáº¥p cáº£ thÃ´ng tin username + password (tÃ i khoáº£n facebook cá»§a báº¡n), sá»­ dá»¥ng khi tháº­t tin tÆ°á»Ÿng Do cÃ³ cáº£ username vÃ  password nÃªn báº¡n gá»i tháº³ng 1 API vÃ o Authorization Server Ä‘á»ƒ xin cáº¥p access_token123456789$response = (new GuzzleHttp\\Client)-&gt;post('http://your-app.com/oauth/token', [ 'form_params' =&gt; [ 'grant_type' =&gt; 'authorization_code', 'client_id' =&gt; 'client-id', 'redirect_uri' =&gt; 'http://example.com/callback', 'code_verifier' =&gt; $codeVerifier, 'code' =&gt; $request-&gt;code, ],]); Client CredentialsSinh token tá»« chÃ­nh client_id vÃ  secret_id Device CodeTÃ i liá»‡u Ä‘á»c thÃªm https://viblo.asia/p/introduction-to-oauth2-3OEqGjDpR9bL https://tools.ietf.org/html/rfc6749 https://kipalog.com/posts/Tro-lai-co-ban--Oauth-2","link":"/2020/06/01/Auth-OAuth2/"},{"title":"Cáº¥u hÃ¬nh virtual host apache2","text":"Note láº¡i cáº¥u hÃ¬nh virtual host cho khá»i quÃªn :D! Táº¡o file cáº¥u hÃ¬nh12cd /etc/apache2/sites-availabletouch blog.local.conf Ná»™i dung file blog.local.conf sáº½ nhÆ° sau: blog.local.confblog.local.conf12345678910111213&lt;VirtualHost *:80&gt; ServerAdmin admin@blog.local DocumentRoot /var/www/html/blog/public ServerName blog.local ServerAlias www.blog.local &lt;Directory /var/www/html/blog/public&gt; AllowOverride All Order allow,deny Allow from all &lt;/Directory&gt; ErrorLog ${APACHE_LOG_DIR}/blog_error.log CustomLog ${APACHE_LOG_DIR}/blog_access.log combined&lt;/VirtualHost&gt; Enable cáº¥u hÃ¬nh nÃ y1sudo a2ensite blog.local.conf ÄÄƒng kÃ­ nÃ³ vÃ o DNS trÃªn mÃ¡y local1sudo vi /etc/hosts ThÃªm dÃ²ng nÃ y vÃ o nhÃ©1127.0.0.1 blog.localSau Ä‘Ã³ restart láº¡i apache1sudo service apache2 restartTháº¿ lÃ  xong rá»“i Ä‘Ã³, báº­t trÃ¬nh duyá»‡t vÃ  vÃ o http://blog.local Ä‘á»ƒ kiá»ƒm tra thÃ´i :D Cáº¥u hÃ¬nh sslSinh chá»©ng thÆ° sá»‘Äá»ƒ cáº¥u hÃ¬nh ssl, trang web sá»­ dá»¥ng phÆ°Æ¡ng thá»©c https, báº¡n cáº§n Ä‘Äƒng kÃ­ thÃªm chá»©ng thÆ° sá»‘ cho trang web. CÃ¡ch 1: Sá»­ dá»¥ng lá»‡nh opensslGenerate Certhttps://www.digitalocean.com1sudo openssl req -x509 -nodes -days 365 -newkey rsa:2048 -keyout /etc/ssl/private/apache-selfsigned.key -out /etc/ssl/certs/apache-selfsigned.crt Äá»‹nh dáº¡ng key vÃ  crt cÃ³ thá»ƒ dáº¡ng .pem CÃ¡ch nÃ y táº¡o chá»©ng thÆ° sá»‘ nhanh chÃ³ng, do openssl Ä‘Ã£ há»— trá»£ sáºµn trÃªn cÃ¡c há»‡ Ä‘iá»u hÃ nh Linux. Tuy nhiÃªn vá»›i cÃ¡ch nÃ y, chá»©ng thÆ° sá»‘ sáº½ khÃ´ng Ä‘Ã¡ng tin cáº­y trÃªn trÃ¬nh duyá»‡t do Ä‘Ã³ báº¡n load trang web https cÃ³ thá»ƒ cáº£nh bÃ¡o. CÃ¡ch 2: sá»­ dá»¥ng mkcertÄá»ƒ chá»©ng chá»‰ Ä‘Ã¡ng tin cáº­y, báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng mkcert, báº¡n pháº£i cÃ i thÃªm nÃ³: Generate Certmkcert123456$ mkcert -installCreated a new local CA at &quot;/Users/filippo/Library/Application Support/mkcert&quot; ğŸ’¥The local CA is now installed in the system trust store! âš¡ï¸The local CA is now installed in the Firefox trust store (requires browser restart)!$ mkcert blog.local Cáº¥u hÃ¬nh httpsNormal configurationVá» cÆ¡ báº£n https báº¡n chá»‰ cáº§n má»Ÿ thÃªm 1 cá»•ng 443 kÃ¨m theo Ä‘Æ°á»ng dáº«n chá»©ng thÆ° sá»‘:blog.local.conf12345678910111213141516171819&lt;VirtualHost *:443&gt; ServerAdmin admin@blog.local DocumentRoot /var/www/html/blog/public ServerName blog.local ServerAlias www.blog.local &lt;Directory /var/www/html/blog/public&gt; AllowOverride All Order allow,deny Allow from all &lt;/Directory&gt; # SSL config SSLEngine on SSLCertificateFile /etc/apache2/ssl/blog/blog.local.pem SSLCertificateKeyFile /etc/apache2/ssl/blog/blog.local-key.pem ErrorLog ${APACHE_LOG_DIR}/blog_error.log CustomLog ${APACHE_LOG_DIR}/blog_access.log combined&lt;/VirtualHost&gt;Khá»Ÿi Ä‘á»™ng láº¡i apache21sudo service apache2 restartBáº¡n cÃ³ thá»ƒ test á»©ng dá»¥ng táº¡i: https://blog.local Proxy configurationblog.local.conf1234567891011121314&lt;VirtualHost *:443&gt; ProxyPreserveHost On ProxyRequests Off ServerName blog.local # SSL config SSLEngine On SSLCertificateFile /etc/apache2/ssl/blog/blog.local.pem SSLCertificateKeyFile /etc/apache2/ssl/blog/blog.local-key.pem ProxyPass / http://127.0.0.1:8000/ ProxyPassReverse / http://127.0.0.1:8000/ RequestHeader set X-Forwarded-Proto &quot;https&quot;&lt;/VirtualHost&gt; _N.V.M_","link":"/2020/05/29/Cau-hinh-virtual-host-apache2/"},{"title":"Chapter 1: Code Should Be Easy to Understand","text":"Khoáº£ng 5 nÄƒm trÆ°á»›c, chÃºng tÃ´i Ä‘Ã£ thu tháº­p hÃ ng nghÃ¬n cÃ¡c vÃ­ dá»¥ vá» â€œbad codeâ€ (pháº§n lá»›n lÃ  cá»§a chÃºng tÃ´i) vÃ  phÃ¢n tÃ­ch xem cÃ¡i gÃ¬ Ä‘Ã£ lÃ m nÃ³ tá»‡ vÃ  cÃ¡c kÄ© thuáº­t/nguyÃªn táº¯c Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ lÃ m code tá»‘t hÆ¡n. CÃ¡i mÃ  chÃºng tÃ´i nháº­n Ä‘Æ°á»£c lÃ  táº¥t cáº£ cÃ¡c nguyÃªn táº¯c xuáº¥t phÃ¡t tá»« 1 chá»§ Ä‘á» duy nháº¥t. KEY IDEACode should be easy to understand. ChÃºng tÃ´i tin ráº±ng nguyÃªn táº¯c hÆ°á»›ng dáº«n quan trá»ng nháº¥t báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng khi quyáº¿t Ä‘á»‹nh code nhÆ° tháº¿ nÃ o. XuyÃªn suá»‘t cuá»‘n sÃ¡ch, chÃºng tÃ´i sáº½ chá»‰ ra cÃ¡ch Ã¡p dá»¥ng nhá»¯ng nguyÃªn táº¯c nÃ y vá»›i khÃ­a cáº¡nh khÃ¡c nhau Ä‘á»ƒ báº¡n cáº£i thiá»‡n kháº£ nÄƒng tá»«ng ngÃ y. NhÆ°ng trÆ°á»›c khi báº¯t Ä‘áº§u, chÃºng tÃ´i sáº½ giáº£i thÃ­ch cÃ¡c nguyÃªn táº¯c nÃ y vÃ  giáº£i thÃ­ch táº¡i sao nÃ³ láº¡i ráº¥t quan trá»ng. What Makes Code â€œBetterâ€?Äa sá»‘ láº­p trÃ¬nh viÃªn (bao gá»“m cáº£ tÃ¡c giáº£) Ä‘Æ°a ra cÃ¡c quyáº¿t Ä‘á»‹nh láº­p trÃ¬nh dá»±a vÃ o cáº£m giÃ¡c vÃ  trá»±c quan. Táº¥t cáº£ nhá»¯ng gÃ¬ chÃºng ta biáº¿t lÃ  code nhÆ°:12for (Node* node = list-&gt;head; node != NULL; node = node-&gt;next) Print(node-&gt;data);sáº½ tá»‘t hÆ¡n lÃ  code:12345678Node* node = list-&gt;head;if (node == NULL) return;while (node-&gt;next != NULL) { Print(node-&gt;data); node = node-&gt;next;}if (node != NULL) Print(node-&gt;data);(máº·c dÃ¹ 2 Ä‘oáº¡n code thá»±c hiá»‡n hÃ nh vi nhÆ° nhau) NhÆ°ng nhiá»u láº§n, 1 sá»± lá»±a chá»n khÃ³ khÄƒn hÆ¡n:1return exponent &gt;= 0 ? mantissa * (1 &lt;&lt; exponent) : mantissa / (1 &lt;&lt; -exponent);tá»‘t hÆ¡n hay tá»‡ hÆ¡n:12345if (exponent &gt;= 0) { return mantissa * (1 &lt;&lt; exponent);} else { return mantissa / (1 &lt;&lt; -exponent);} PhiÃªn báº£n Ä‘áº§u tiÃªn thÃ¬ gá»n nháº¹ hÆ¡n nhÆ°ng phiÃªn báº£n thá»© 2 thÃ¬ Ã­t Ä‘Ã¡ng sá»£. TiÃªu chÃ­ nÃ o quan trá»ng hÆ¡n? NÃ³i chung, lÃ m sao Ä‘á»ƒ báº¡n quyáº¿t Ä‘á»‹nh cÃ¡ch nÃ o Ä‘á»ƒ code? Äá»‹nh lÃ½ cÆ¡ báº£n vá» kháº£ nÄƒng Ä‘á»cSau khi há»c nhiá»u vÃ­ dá»¥ nhÆ° váº­y, chÃºng tÃ´i Ä‘i Ä‘áº¿n káº¿t luáº­n ráº±ng cÃ³ 1 sá»‘ liá»‡u cho kháº£ nÄƒng Ä‘á»c quan trá»ng hÆ¡n báº¥t kÃ¬ sá»‘ liá»‡u nÃ o khÃ¡c. NÃ³ ráº¥t quan trá»ng vÃ  chÃºng tÃ´i gá»i lÃ  â€œÄá»‹nh lÃ½ cÆ¡ báº£n vá» kháº£ nÄƒng Ä‘á»câ€. KEY IDEACode should be written to minimize the time it would take for someone else to understand it. Äiá»u nÃ y cÃ³ Ã½ nghÄ©a gÃ¬? Theo Ä‘Ãºng nghÄ©a Ä‘en, náº¿u báº¡n lÃ  1 Ä‘á»“ng nghiá»‡p Ä‘iá»ƒn hÃ¬nh cá»§a chÃ­nh báº¡n vÃ  thÆ°á»›c Ä‘Ã³ lÆ°á»£ng thá»i gian anh ta cáº§n Ä‘á»ƒ Ä‘á»c code vÃ  hiá»ƒu nÃ³, thá»i gian hiá»ƒu Ä‘Æ°á»£c lÃ  thÆ°á»›c Ä‘o mÃ  báº¡n muá»‘n giáº£m thiá»ƒu. VÃ  khi chÃºng ta nÃ³i â€œhiá»ƒuâ€, chÃºng ta 1 biá»‡n chá»©ng ráº¥t cao cho tá»« nÃ y. Äá»‘i vá»›i 1 vÃ i ngÆ°á»i, hiá»ƒu Ä‘áº§y Ä‘á»§ code cá»§a báº¡n, há» nÃªn cÃ³ thá»ƒ táº¡o ra sá»± thay Ä‘á»•i nÃ³, tÃ¬m ra lá»—i vÃ  hiá»ƒu nÃ³ tÆ°Æ¡ng tÃ¡c nhÆ° tháº¿ nÃ o vá»›i pháº§n cÃ²n láº¡i cá»§a code. BÃ¢y giá» báº¡n cÃ³ thá»ƒ nghÄ©, Ai quan tÃ¢m náº¿u ngÆ°á»i khÃ¡c cÃ³ thá»ƒ hiá»ƒu nÃ³? TÃ´i lÃ  ngÆ°á»i duy nháº¥t sá»­ dá»¥ng Ä‘oáº¡n code nÃ y! Tháº­m chÃ­ náº¿u báº¡n lÃ  project 1 thÃ nh viÃªn, nÃ³ cÅ©ng cÃ³ giÃ¡ trá»‹ Ä‘á»ƒ theo Ä‘uá»•i má»¥c Ä‘Ã­ch nÃ y. â€œNgÆ°á»i nÃ o Ä‘Ã³â€ cÃ³ thá»ƒ lÃ  báº¡n 6 thÃ¡ng sau, khi code cá»§a báº¡n nhÃ¬n láº¡ láº«m vá»›i báº¡n. VÃ  báº¡n khÃ´ng bao giá» biáº¿t - ai Ä‘Ã³ cÃ³ thá»ƒ tham gia dá»± Ã¡n cá»§a báº¡n, hoáº·c â€œcÃ¡c Ä‘oáº¡n mÃ£ quáº³ng Ä‘i nÃ yâ€ cÃ³ thá»ƒ Ä‘Æ°á»£c sá»­ dá»¥ng láº¡i á»Ÿ 1 dá»± Ã¡n khÃ¡c. Is Smaller Always Better?NÃ³i chung, báº¡n viáº¿t cÃ ng Ã­t code Ä‘á»ƒ giáº£i quyáº¿t váº¥n Ä‘á» thÃ¬ cÃ ng tá»‘t (xem thÃªm Chapter 13, Writing Less Code).). NÃ³ cÃ³ thá»ƒ máº¥t Ã­t thá»i gian hÆ¡n Ä‘á»ƒ hiá»ƒu 1 lá»›p 2000 dÃ²ng hÆ¡n lÃ  1 lá»›p 5000 dÃ²ng. NhÆ°ng Ã­t code hÆ¡n chÆ°a pháº£i lÃºc nÃ o cÅ©ng tá»‘t! CÃ³ ráº¥t nhiá»u láº§n khi 1 biá»ƒu thá»©c 1 dÃ²ng nhÆ°:1assert((!(bucket = FindBucket(key))) || !bucket-&gt;IsOccupied());Máº¥t nhiá»u thá»i gian Ä‘á»ƒ hiá»ƒu hÆ¡n náº¿u báº¡n viáº¿t 2 dÃ²ng:12bucket = FindBucket(key);if (bucket != NULL) assert(!bucket-&gt;IsOccupied());TÆ°Æ¡ng tá»±, má»™t comment lÃ m code cá»§a báº¡n cÃ³ thá»ƒ hiá»ƒu nhanh chÃ³ng, máº·c dÃ¹ nÃ³ â€œthÃªm codeâ€ vÃ o file:12// Fast version of &quot;hash = (65599 * hash) + c&quot;hash = (hash &lt;&lt; 6) + (hash &lt;&lt; 16) - hash + c;Bá»Ÿi váº­y, cÃ³ Ã­t dÃ²ng code hÆ¡n lÃ  1 má»¥c Ä‘Ã­ch tá»‘t, tá»‘i thiá»ƒu há»a thá»i gian hiá»ƒu lÃ  tháº­m chÃ­ lÃ  1 má»¥c tiÃªu tá»‘t hÆ¡n. Does Time-Till-Understanding Conflict with Other Goals?Báº¡n cÃ³ thá»ƒ nghÄ©, nhá»¯ng rÃ ng buá»™c khÃ¡c thÃ¬ sao, nhÆ° lÃ m code hiá»‡u quáº£ hÆ¡n, kiáº¿n trÃºc tá»‘t hoáº·c dá»… dÃ ng Ä‘á»ƒ test, vÃ¢n vÃ¢n? Nhá»¯ng rÃ ng buá»™c nÃ y cÃ³ máº«u thuÃ¢n vá»›i viá»‡c lÃ m cho code dá»… Ä‘á»c? ChÃºng tÃ´i Ä‘Ã£ tÃ¬m ra má»¥c Ä‘Ã­ch nÃ y khÃ´ng can thiá»‡p quÃ¡ nhiá»u vÃ o táº¥t cáº£. Ngay cáº£ trong lÄ©nh vá»±c mÃ£ Ä‘Æ°á»£c tá»‘i Æ°u hÃ³a cao, váº«n cÃ³ nhá»¯ng cÃ¡ch Ä‘á»ƒ lÃ m cho nÃ³ dá»… Ä‘á»c hÆ¡n. VÃ  lÃ m cho code Ä‘á»… Ä‘á»c hÆ¡n thÆ°á»ng dáº«n Ä‘áº¿n viá»‡c cÃ³ 1 kiáº¿n trÃºc tá»‘t vÃ  kiá»ƒm thá»­ dá»… dÃ ng. Pháº§n cÃ²n láº¡i cá»§a cuá»‘n sÃ¡ch sáº½ tháº£o luáº­n lÃ m sao Ä‘á»ƒ Ã¡p dá»¥ng â€œeasy to readâ€ trong cÃ¡c hoÃ n cáº£nh khÃ¡c nhau. NhÆ°ng hÃ£y nhá»› ráº±ng, khi nghi ngá», CÃ¡c Ä‘á»‹nh lÃ½ cÆ¡ báº£n vá» kháº£ nÄƒng Ä‘á»c bá» qua báº¥t kÃ¬ nguyÃªn táº¯c hoáº·c quy táº¯c trong cuá»‘n sÃ¡ch nÃ y. Ngoai ra, má»™t sá»‘ láº­p trÃ¬nh viÃªn cÃ³ nhu cáº§u báº¯t buá»™c pháº£i sá»­a báº¥t kÃ¬ Ä‘oáº¡n code nÃ o khÃ´ng hoÃ n háº£o. LuÃ´n luÃ´n quan trá»ng khi báº¡n cáº§n lÃ¹i láº¡i cÃ¡c bÆ°á»›c vÃ  há»i Äoáº¡n code nÃ y Ä‘Ã£ Ä‘á»ƒ Ä‘á»c chÆ°a. Náº¿u á»•n, cÃ³ thá»ƒ chuyá»ƒn sang Ä‘oáº¡n code khÃ¡c. The Hard PartÄÃºng, nÃ³ yÃªu cáº§u thÃªm cÃ´ng viá»‡c Ä‘á»ƒ liÃªn tá»¥c nghÄ© vá» viá»‡c ngÆ°á»i ngoÃ i trong tÆ°á»Ÿng tÆ°á»£ng khi tÃ¬m code cá»§a báº¡n sáº½ dá»… hiá»ƒu. LÃ m nhÆ° váº­y Ä‘Ã²i há»i pháº£i báº­t 1 pháº§n bá»™ nÃ£o cá»§a báº¡n, cÃ¡i mÃ  cÃ³ thá»ƒ khÃ´ng báº­t trong khi code trÆ°á»›c Ä‘Ã³. NhÆ°ng náº¿u báº¡n Ã¡p dá»¥ng má»¥c Ä‘Ã­ch nÃ y (nhÆ° chÃºng tÃ´i Ä‘ang lÃ m), chÃºng tÃ´i cháº¯c cháº¯n ráº±ng báº¡n sáº½ trá»Ÿ thÃ nh 1 coder tá»‘t, Ã­t lá»—i, cÃ³ nhiá»u thá»© tá»± hÃ o trong cÃ´ng viá»‡c vÃ  táº¡o ra nhá»¯ng dÃ²ng code mÃ  ai Ä‘Ã³ xung quanh báº¡n sáº½ yÃªu thÃ­ch sá»­ dá»¥ng nÃ³. HÃ£y báº¯t Ä‘áº§u nÃ o!","link":"/2020/05/24/Chapter-1-Code-Should-Be-Easy-to-Understand/"},{"title":"Chapter 12: Turning Thoughts into Code","text":"You do not really understand something unless you can explain it to your grandmother.â€”Albert Einstein Khi giáº£i thÃ­ch 1 Ã½ tÆ°á»Ÿng phá»©c táº¡p cho ai Ä‘Ã³, nÃ³ dá»… dÃ ng gÃ¢y mÆ¡ há»“ Ä‘á»‘i vá»›i há» vá»›i 1 vÃ i chi tiáº¿t. NÃ³ lÃ  1 kÄ© nÄƒng cÃ³ giÃ¡ trá»‹ Ä‘á»ƒ cÃ³ thá»ƒ giáº£i thÃ­ch 1 Ã½ tÆ°á»Ÿng â€œbáº±ng tiáº¿ng Anhâ€ Ä‘á»ƒ 1 ai Ä‘Ã³ Ã­t sá»± hiá»ƒu biáº¿t hÆ¡n báº¡n cÃ³ thá»ƒ hiá»ƒu.NÃ³ yÃªu cáº§u Ä‘áº·t 1 Ã½ tÆ°á»Ÿng xuá»‘ng vá»›i nhiá»u khÃ¡i niá»‡m quan trá»ng. LÃ m Ä‘iá»u nÃ y khÃ´ng chá»‰ giÃºp ngÆ°á»i khÃ¡c hiá»ƒu mÃ  cÃ²n giÃºp báº¡n nghÄ© vá» Ã½ tÆ°á»Ÿng cá»§a mÃ¬nh rÃµ rÃ ng hÆ¡n. KÄ© nÄƒng giá»‘ng nhÆ° váº­y nÃªn Ä‘Æ°á»£c sá»­ dá»¥ng khi â€œgiá»›i thiá»‡uâ€ code cá»§a báº¡n cho ngÆ°á»i Ä‘á»c. ChÃºng ta xem mÃ£ nguá»“n vÃ  nÃ³ lÃ  cÃ¡ch cÆ¡ báº£n giáº£i thÃ­ch nhá»¯ng gÃ¬ 1 chÆ°Æ¡ng trÃ¬nh Ä‘an lÃ m. Bá»Ÿi váº­y, code nÃªn viáº¿t â€œin plain Englishâ€ (báº£n rÃµ tiáº¿ng Anh) Trong chÆ°Æ¡ng nÃ y, chÃºng tÃ´i sáº½ sá»­ dá»¥ng quÃ¡ trÃ¬nh Ä‘Æ¡n giáº£n giÃºp báº¡n code rÃµ rÃ ng hÆ¡n: MÃ´ táº£ nhá»¯ng thá»© code cáº§n lÃ m, báº±ng tiáº¿ng Anh, nhÆ° báº¡n muá»‘n nÃ³i vá»›i Ä‘á»“ng nghiá»‡p ChÃº Ã½ Ä‘áº¿n cÃ¡c tá»« khÃ³a vÃ  cá»¥m tá»« Ä‘Æ°á»£c sá»­ dá»¥ng trong mÃ´ táº£ Viáº¿t code cá»§a báº¡n trÃ¹ng vá»›i mÃ´ táº£ nÃ y. Describing Logic ClearlyÄÃ¢y lÃ  1 Ä‘oáº¡n mÃ£ tá»« 1 trang web trong PHP. Äoáº¡n code nÃ y á»Ÿ Ä‘áº§u má»™t trang báº£o máº­t. NÃ³ kiá»ƒm tra chá»— nÃ o ngÆ°á»i dÃ¹ng xÃ¡c thá»±c Ä‘á»ƒ xem Ä‘Æ°á»£c page vÃ  náº¿u khÃ´ng, láº­p tá»©c tráº£ vá» 1 trang lá»—i quyá»n:1234567891011$is_admin = is_admin_request();if ($document) { if (!$is_admin &amp;&amp; ($document['username'] != $_SESSION['username'])) { return not_authorized(); }} else { if (!$is_admin) { return not_authorized(); }}// continue rendering the page ... Chá»‰ cÃ³ 1 chÃºt logic trong code. NhÆ° báº¡n Ä‘Ã£ tháº¥y tá»« pháº§n II, Simplying Loops and Logic, cÃ¢y logic lá»›n nhÆ° nÃ y khÃ´ng dá»… Ä‘á»ƒ hiá»ƒu. Nhá»¯ng logic trong Ä‘oáº¡n code nÃ y cÃ³ thá»ƒ Ä‘Æ°á»£c Ä‘Æ¡n giáº£n hÃ³a, nhÆ°ng báº±ng cÃ¡ch nÃ o. HÃ£y báº¯t Ä‘áº§u mÃ´ táº£ nÃ³ báº±ng tiáº¿ng Anh:1234There are two ways you can be authorized:1) you are an admin2) you own the current document (if there is one)Otherwise, you are not authorized. ÄÃ¢y lÃ  cÃ¡ch giáº£i quyáº¿t thay tháº¿ theo cáº£m há»©ng mÃ´ táº£ nÃ y:123456789if (is_admin_request()) { // authorized} elseif ($document &amp;&amp; ($document['username'] == $_SESSION['username'])) { // authorized} else { return not_authorized();}// continue rendering the page ... PhiÃªn báº£n nÃ y hÆ¡i báº¥t thÆ°á»ng vÃ¬ nÃ³ cÃ³ 2 body trá»‘ng. NhÆ°ng Ä‘oáº¡n code nÃ y nhá» hÆ¡n vÃ  logic Ä‘Æ¡n giáº£n hÆ¡n bá»Ÿi vÃ¬ nÃ³ khÃ´ng cÃ³ phá»§ Ä‘á»‹nh (cÃ²n cÃ¡ch giáº£i quyáº¿t trÆ°á»›c cÃ³ 3 â€œnotsâ€). DÃ²ng á»Ÿ dÆ°á»›i dá»… hiá»ƒu hÆ¡n. Knowing Your Libraries HelpsChÃºng ta Ä‘Ã£ tá»«ng cÃ³ 1 trang web bao gá»“m â€œtips boxâ€ chá»‰ ra nhá»¯ng gá»£i Ã½ há»¯u Ã­ch cho ngÆ°á»i dÃ¹ng nhÆ°: Tip: Log in to see your past queries. [Show me another tip!] CÃ³ vÃ i chá»¥c lá»i khuyÃªn vÃ  táº¥t cáº£ chÃºng Ä‘Æ°á»£c áº©n trong HTML:123&lt;div id=&quot;tip-1&quot; class=&quot;tip&quot;&gt;Tip: Log in to see your past queries.&lt;/div&gt;&lt;div id=&quot;tip-2&quot; class=&quot;tip&quot;&gt;Tip: Click on a picture to see it close up.&lt;/div&gt;...Khi ngÆ°á»i dÃ¹ng thÄƒm trang web, 1 trong nhá»¯ng divs nÃ y ngáº«u nhiÃªn cÃ³ thá»ƒ tháº¥y vÃ  pháº§n cÃ²n láº¡i váº«n áº©n. Náº¿u click vÃ o lin â€œShow me another tip!â€, nÃ³ sáº½ chuyá»ƒn tá»›i tip tiáº¿p theo. ÄÃ¢y lÃ  Ä‘oáº¡n code thá»± thi chá»©c nÄƒng nÃ y báº±ng JQuery:123456789101112var show_next_tip = function () { var num_tips = $('.tip').size(); var shown_tip = $('.tip:visible'); var shown_tip_num = Number(shown_tip.attr('id').slice(4)); if (shown_tip_num === num_tips) { $('#tip-1').show(); } else { $('#tip-' + (shown_tip_num + 1)).show(); } shown_tip.hide();};Äoáº¡n code nÃ y okay. NhÆ°ng nÃ³ cÃ³ thá»ƒ tá»‘t hÆ¡n. HÃ£y báº¯t Ä‘áº§u viá»‡c mÃ´ táº£, báº±ng tá»« vá»›i nhá»¯ng gÃ¬ Ä‘oáº¡n code nÃ y cá»‘ gáº¯ng lÃ m:123Find the currently visible tip and hide it.Then find the next tip after it and show that.If we've run out of tips, cycle back to the first tip. Dá»±a vÃ o mÃ´ táº£ nÃ y, Ä‘Ã¢y lÃ  cÃ¡ch khÃ¡c giáº£i quyáº¿t váº¥n Ä‘á»:12345678var show_next_tip = function () { var cur_tip = $('.tip:visible').hide(); // find the currently visible tip and hide it var next_tip = cur_tip.next('.tip'); // find the next tip after it if (next_tip.size() === 0) { // if we've run out of tips, next_tip = $('.tip:first'); // cycle back to the first tip } next_tip.show(); // show the new tip};CÃ¡ch giáº£i quyáº¿t nÃ y Ã­t code hÆ¡n vÃ  khÃ´ng pháº£i thao tÃ¡c sá»‘ nguyÃªn trá»±c tiáº¿p. NÃ³ cÅ©ng liÃªn káº¿t nhiá»u hÆ¡n vá»›i cÃ¡ch mÃ  1 ngÆ°á»i sáº½ nghÄ© vá» Ä‘oáº¡n code nÃ y Trong trÆ°á»ng há»£p nÃ y, nÃ³ giÃºp jQuery cÃ³ 1 phÆ°Æ¡ng thá»©c .next() chÃºng ta cÃ³ thá»ƒ sá»­ dá»¥ng. Má»™t pháº§n cá»§a viá»‡c viáº¿t mÃ£ ngáº¯n gá»n lÃ  nhá» thÆ° viá»‡n Applying This Method to Larger ProblemsVÃ­ dá»¥ trÆ°á»›c cÃ³ Ä‘Ã£ Ã¡p dá»¥ng cho quÃ¡ trÃ¬nh xá»­ lÃ½ cÃ¡c khá»‘i code nhá». Trong vÃ­ dá»¥ tiáº¿p theo, chÃºng tÃ´i sáº½ Ã¡p dá»¥ng nÃ³ vá»›i cÃ¡c hÃ m lá»›n hÆ¡n. NhÆ° báº¡n sáº½ thÃ¢y, cÃ¡ch thá»©c nÃ y cÃ³ thá»ƒ giÃºp báº¡n phÃ¡ vá»¡ code báº±ng cÃ¡ch giÃºp báº¡n nháº­n Ä‘á»‹nh cÃ¡c pháº§n code báº¡n cÃ³ thá»ƒ phÃ¡ vá»¡. TÆ°á»Ÿng tÆ°á»£ng chÃºng ta cÃ³ 1 há»‡ thá»‘ng ghi láº¡i viá»‡c mua bÃ¡n cá»• phiáº¿u. Má»—i phiÃªn cÃ³ 1 pháº§n sau:â€¢ time (a precise date and time of the purchase)â€¢ ticker_symbol (e.g., GOOG)â€¢ price (e.g., $600)â€¢ number_of_shares (e.g., 100) VÃ¬ 1 vÃ­ do nÃ o Ä‘Ã³, dá»¯ liá»‡u Ä‘Æ°á»£c tráº£i rá»™ng ra 1 báº£ng cÆ¡ sá»Ÿ dá»¯ liá»‡u, nhÆ° minh há»a. Vá»›i má»—i database, time lÃ  khÃ³a chÃ­nh duy nháº¥t: BÃ¢y giá», chÃºng tÃ´i cáº§n viáº¿t 1 hÆ°Æ¡ng trÃ¬nh join 3 báº£ng nÃ y láº¡i vá»›i nhau (Sá»­ dá»¥ng toÃ¡n tá»­ JOIN trong SQL). BÆ°á»›c nÃ y Ä‘Æ¡n giáº£n vÃ¬ cÃ¡c hÃ ng Ä‘Ã£ Ä‘Æ°á»£c sáº¯p xáº¿p theo time, nhÆ°ng khÃ´ng may, má»™t vÃ i cá»™t Ä‘Ã£ bá»‹ máº¥t. Báº¡n muá»‘n tÃ¬m táº¥t cáº£ cÃ¡c hÃ ng vá»›i 1 times trÃ¹ng nhau vÃ  bá» qua 1 vÃ i hÃ ng khÃ´ng Ä‘Æ°á»£c xÃ©p, nhÆ° báº¡n cÃ³ thá»ƒ tháº¥y á»Ÿ pháº§n dÆ°á»›i ÄÃ¢y lÃ  Ä‘oáº¡n code Python tÃ¬m kiáº¿m táº¥t cáº£ cÃ¡c hÃ ng trÃ¹ng nhau:123456789101112131415161718192021222324252627282930313233def PrintStockTransactions(): stock_iter = db_read(&quot;SELECT time, ticker_symbol FROM ...&quot;) price_iter = ... num_shares_iter = ... # Iterate through all the rows of the 3 tables in parallel. while stock_iter and price_iter and num_shares_iter: stock_time = stock_iter.time price_time = price_iter.time num_shares_time = num_shares_iter.time # If all 3 rows don't have the same time, skip over the oldest row # Note: the &quot;&lt;=&quot; below can't just be &quot;&lt;&quot; in case there are 2 tied-oldest. if stock_time != price_time or stock_time != num_shares_time: if stock_time &lt;= price_time and stock_time &lt;= num_shares_time: stock_iter.NextRow() elif price_time &lt;= stock_time and price_time &lt;= num_shares_time: price_iter.NextRow() elif num_shares_time &lt;= stock_time and num_shares_time &lt;= price_time: num_shares_iter.NextRow() else: assert False # impossible continue assert stock_time == price_time == num_shares_time # Print the aligned rows. print &quot;@&quot;, stock_time, print stock_iter.ticker_symbol, print price_iter.price, print num_shares_iter.number_of_shares stock_iter.NextRow() price_iter.NextRow() num_shares_iter.NextRow()Äoáº¡n code nÃ y hoáº¡t Ä‘á»™ng, nhÆ°ng cÃ³ quÃ¡ nhiá»u thá»© Ä‘ang diá»…n ra vá»›i vÃ²ng láº·p bá» qua cÃ¡c hÃ ng khÃ´ng trÃ¹ng. Má»™t sá»‘ cá» cáº£nh bÃ¡o cÃ³ thá»ƒ Ä‘Ã£ tÃ³m táº¯t trong Ä‘áº§u báº¡n: Liá»‡u cÃ³ thá»ƒ bá» máº¥t 1 sá»‘ hÃ ng? NÃ³ cÃ³ thá»ƒ Ä‘á»c Ä‘áº¿n cuá»‘i cá»§a vÃ²ng láº·p khÃ´ng? Váº­y chÃºng ta cÃ³ thá»ƒ lÃ m cho nÃ³ dá»… Ä‘á»c hÆ¡n? An English Description of the SolutionMá»™t láº§n ná»¯a, hÃ£y lÃ¹i láº¡i vÃ  mÃ´ táº£ chÃºng báº±ng tiáº¿ng Anh nhá»¯ng thá»­ chÃºng ta thá»­ lÃ m: We are reading three row iterators in parallel. Whenever the rowsâ€™ times donâ€™t line up, advance the rows so they do line up. Then print the aligned rows, and advance the rows again. Keep doing this until there are no more matching rows left. NhÃ¬n láº¡i code ban Ä‘áº§u, pháº§n lá»™n xá»™n nháº¥t trong giao dá»‹ch khá»‘i â€œadvance the rows so they do line up.â€. Äá»ƒ trÃ¬nh bÃ y Ä‘oáº¡n mÃ£ rÃµ rÃ ng hÆ¡n, chÃºng ta trÃ­ch xuáº¥t táº¥t cáº£ cÃ¡c logic lá»™n xá»™n vÃ o trong 1 hÃ m má»›i vá»›i tÃªn lÃ  AdvanceToMatchingTime(). VÃ  Ä‘Ã¢y lÃ  phiÃªn báº£n code má»›i, sá»­ dá»¥ng hÃ m nÃ y:12345678910111213141516171819def PrintStockTransactions(): stock_iter = ... price_iter = ... num_shares_iter = ... while True: time = AdvanceToMatchingTime(stock_iter, price_iter, num_shares_iter) if time is None: return # Print the aligned rows. print &quot;@&quot;, time, print stock_iter.ticker_symbol, print price_iter.price, print num_shares_iter.number_of_shares stock_iter.NextRow() price_iter.NextRow() num_shares_iter.NextRow()NhÆ° báº¡n cÃ³ thá»ƒ nhÃ¬n tháº¥y, Ä‘oáº¡n code nÃ y dá»… hiá»ƒu hÆ¡n, chÃºng ta Ä‘Ã£ áº©n táº¥t cáº£ nhá»¯ng code chi tiáº¿t báº©n thá»‰u cá»§a viá»‡c xáº¿p cÃ¡c hÃ ng Ä‘i Applying the Method RecursivelyDá»… dÃ ng Ä‘á»ƒ tÆ°á»Ÿng tÆ°á»£ng báº¡n sáº½ viáº¿t AdvanceToMatchingTime() nhÆ° tháº¿ nÃ o - trong trÆ°á»ng há»£p tá»‡ nháº¥t, nÃ³ sáº½ nhÃ¬n tÆ°Æ¡ng tá»± nhÆ° khá»‘i code trong phiÃªn báº£n Ä‘áº§u tiÃªn:123456789101112131415161718192021def AdvanceToMatchingTime(stock_iter, price_iter, num_shares_iter): # Iterate through all the rows of the 3 tables in parallel. while stock_iter and price_iter and num_shares_iter: stock_time = stock_iter.time price_time = price_iter.time num_shares_time = num_shares_iter.time # If all 3 rows don't have the same time, skip over the oldest row if stock_time != price_time or stock_time != num_shares_time: if stock_time &lt;= price_time and stock_time &lt;= num_shares_time: stock_iter.NextRow() elif price_time &lt;= stock_time and price_time &lt;= num_shares_time: price_iter.NextRow() elif num_shares_time &lt;= stock_time and num_shares_time &lt;= price_time: num_shares_iter.NextRow() else: assert False # impossible continue assert stock_time == price_time == num_shares_time return stock_timeNhÆ°ng hÃ£y cáº£i thiá»‡n Ä‘oáº¡n code nÃ y báº±ng cÃ¡ch cÃ¡ch lÃ m cá»§a chÃºng ta vá»›i AdvanceToMatchingTime(). ÄÃ¢y lÃ  mÃ´ táº£ nhá»¯ng thá»­ hÃ m nÃ y cáº§n lÃ m:123Look at the times of each current row: if they're aligned, we're done.Otherwise, advance any rows that are &quot;behind.&quot;Keep doing this until the rows are aligned (or one of the iterators has ended). MÃ´ táº£ nÃ y rÃµ rÃ ng vÃ  thanh lá»‹ch hÆ¡n Ä‘oáº¡n code trÆ°á»›c. Má»™t thá»© nháº­n ra lÃ  mÃ´ táº£ nÃ y khÃ´ng bao giá» nháº¯c Ä‘áº¿n stock_iter hoáº·c cÃ¡c chi tiáº¿t khÃ¡c cá»¥ thá»ƒ cho váº¥n Ä‘á» cá»§a chÃºng tÃ´i. Äiá»u Ä‘Ã³ cÃ³ nghÄ©a chÃºng tÃ´i cÃ³ thá»ƒ Ä‘á»•i tÃªn biáº¿n thÃ nh Ä‘Æ¡n giáº£n vÃ  tá»•ng quÃ¡t hÆ¡n. ÄÃ¢y lÃ  káº¿t quáº£ code: 123456789101112131415def AdvanceToMatchingTime(row_iter1, row_iter2, row_iter3): while row_iter1 and row_iter2 and row_iter3: t1 = row_iter1.time t2 = row_iter2.time t3 = row_iter3.time if t1 == t2 == t3: return t1 tmax = max(t1, t2, t3) # If any row is &quot;behind,&quot; advance it. # Eventually, this while loop will align them all. if t1 &lt; tmax: row_iter1.NextRow() if t2 &lt; tmax: row_iter2.NextRow() if t3 &lt; tmax: row_iter3.NextRow() return None # no alignment could be found NhÆ° báº¡n cÃ³ thá»ƒ tháº¥y, Ä‘oáº¡n code nÃ y rÃµ rÃ ng hÆ¡n trÆ°á»›c ráº¥t nhiá»u. Thuáº­t toÃ¡n trá»Ÿ nÃªn Ä‘Æ¡n giáº£n hÆ¡n vÃ  bÃ¢t giá» cÃ³ Ã­t hÆ¡n cÃ¡c phÃ©p so sÃ¡nh, VÃ  chÃºng ta Ä‘Ã£ sá»­ dá»¥ng tÃªn ngáº¯n hÆ¡n nhÆ° t1 vÃ  khÃ´ng pháº£o nghÄ© vá» cÃ¡c cá»™t cá»¥ thá»ƒ database liÃªn quan. SummaryChÆ°Æ¡ng nÃ y tháº£o luáº­n vá» cÃ¡c kÄ© thuáº­t Ä‘Æ¡n giáº£n Ä‘á»ƒ mÃ´ táº£ chÆ°Æ¡ng trÃ¬nh cá»§a báº¡n báº±ng tiáº¿ng Anh vÃ  sá»­ dá»¥ng mÃ´ táº£ nÃ y giÃºp báº¡n viáº¿t code 1 cÃ¡ch tá»± nhiÃªn. KÄ© thuáº­t nÃ y Ä‘Æ¡n giáº£n nhÆ°ng ráº¥t cÃ´ng hiá»‡u. NhÃ¬n vÃ o cÃ¡c tá»« vÃ  cá»¥m tá»« Ä‘Æ°á»£c sá»­ dá»¥ng trong mÃ´ táº£ cÃ³ thá»ƒ giÃºp báº¡n tÃ¬m ra cÃ¡c váº¥n Ä‘á» con vÃ  ngáº¯n chÃºng ra. NhÆ°ng quÃ¡ trÃ¬nh â€œsaying things in plain Englishâ€ Ä‘Æ¡n giáº£n lÃ  Ã¡p dá»¥ng bÃªn ngoÃ i viá»‡c viáº¿t code. VÃ­ dá»¥, 1 chÃ­nh sÃ¡ch cá»§a phÃ²ng thÃ­ nghiá»‡m mÃ¡y tÃ­nh, khi sinh viÃªn cáº§n gá»¡ lá»—i chÆ°Æ¡ng trÃ¬nh cá»§a anh áº¥y, Ä‘áº§u tiÃªn anh áº¥y pháº£i giáº£i thÃ­ch váº¥n Ä‘á» Ä‘áº¿n 1 con gáº¥u bÃ´ng chuyÃªn dá»¥ng á»Ÿ gÃ³c phÃ²ng. Tháº­t ngáº¡c nhiÃªn, chá»‰ mÃ´ táº£ váº¥n Ä‘á» phÃ¡t ra thÃ nh tiáº¿ng cÃ³ thá»ƒ giÃºp sinh viÃªn tÃ¬m ra giáº£i phÃ¡p. Ká»¹ thuáº­t nÃ y Ä‘Æ°á»£c gá»i lÃ  â€œrubber duckingâ€ - vá»‹t cao su. Má»™t cÃ¡ch khÃ¡c Ä‘á»ƒ nhÃ¬n viá»‡c nÃ y: náº¿u báº¡n khÃ´ng thá»ƒ mÃ´ táº£ váº¥n Ä‘á» hoáº·c cÃ¡c Ã½ Ä‘á»‹nh cá»§a báº¡n báº±ng tá»«, 1 vÃ i thá»© cÃ³ thá»ƒ quÃªn hoáº·c chÆ°a xÃ¡c Ä‘á»‹nh. Báº¯t 1 chÆ°Æ¡ng trÃ¬nh (hoáº·c 1 vÃ i Ã½ tÆ°á»Ÿng) thÃ nh tá»« ngá»¯ cÃ³ thá»ƒ thá»±c sá»± báº¯t buá»™c nÃ³ thÃ nh hÃ¬nh (shape).","link":"/2020/05/24/Chapter-12-Turning-Thoughts-into-Code/"},{"title":"Chapter 13: Writing Less Code","text":"Biáº¿t khi nÃ o khÃ´ng viáº¿t code cÃ³ kháº£ nÄƒng lÃ  kÄ© nÄƒng quan trá»ng nháº¥t 1 láº­p trÃ¬nh viÃªn cÃ³ thá»ƒ há»c. Má»—i dÃ²ng code báº¡n viáº¿t lÃ  1 dÃ²ng cáº§n pháº£i kiá»ƒm thá»­ vÃ  báº£o trÃ¬. Báº±ng cÃ¡ch sá»­ dá»¥ng láº¡i cÃ¡c thÆ° viá»‡n hoáº·c loáº¡i bá» cÃ¡c tÃ­nh nÄƒng, báº¡n cÃ³ thá»ƒ tiáº¿t kiá»‡n thá»i gian vÃ  giá»¯ codebase cá»§a báº¡n má»ng vÃ  cÃ³ Ã½ nghÄ©a. KEY IDEA The most readable code is no code at all. Donâ€™t Bother Implementing That Featureâ€”You Wonâ€™t Need ItKhi báº¡n báº¯t Ä‘áº§u 1 project, vá» láº½ tá»± nhiÃªn sáº½ ráº¥t hÃ o há»©ng vÃ  nghÄ© vá» táº¥t cáº£ cÃ¡c chá»©c nÄƒng cool ngáº§u báº¡n sáº½ lÃ m. NhÆ°ng láº­p trÃ¬nh viÃªn cÃ³ xu hÆ°á»›ng Ä‘Ã¡nh giÃ¡ quÃ¡ cao cÃ³ bao nhiÃªu chá»©c nÄƒng thá»±c sá»± thiáº¿t yáº¿u cho project cá»§a há». Ráº¥t nhiá»u cÃ¡c chá»©c nÄƒng chÆ°a hoÃ n thÃ nh hoáº·c khÃ´ng há»¯u Ã­ch hoáº·c chá»‰ lÃ m phá»©c táº¡p thÃªm cho á»©ng dá»¥ng. Láº­p trÃ¬nh viÃªn cÅ©ng cÃ³ xu hÆ°á»›ng Ä‘Ã¡nh giÃ¡ tháº¥p há» cáº§n bao nhiÃªu effort Ä‘á»ƒ thá»±c thi 1 chá»©c nÄƒng. ChÃºng ta Æ°á»›c lÆ°á»£ng láº¡c quan thá»i gian cáº§n cÃ³ thá»±c thi má»™t chá»©c nÄƒng nguyÃªn máº«u nhÆ°ng quÃªn thá»i gian thÃªm liÃªn quan Ä‘áº¿n viá»‡c báº£o trÃ¬, viáº¿t tÃ i liá»‡u vÃ  thÃªm â€œweightâ€ Ä‘áº¿n codebase. Question and Break Down Your RequirementsKhÃ´ng pháº£i táº¥t cáº£ cÃ¡c láº­p trÃ¬nh viÃªn Ä‘á» cáº§n nhanh, 100% chÃ­nh xÃ¡c, vÃ  cÃ³ thá»ƒ xá»­ lÃ½ má»i Ä‘áº§u vÃ o cÃ³ thá»ƒ. Náº¿u báº¡n thá»±c sá»± xem xÃ©t kÄ© lÆ°á»¡ng yÃªu cáº§u cá»§a mÃ¬nh, Ä‘Ã´i khi báº¡n cÃ³ thá»ƒ tháº¥y 1 sá»‘ váº¥n Ä‘á» Ä‘Æ¡n giáº£n mÃ  yÃªu cáº§u Ã­t code hÆ¡n. HÃ£y xem xÃ©t 1 vÃ i vÃ­ dá»¥ Ä‘Æ°á»›i Ä‘Ã¢y. Example: A Store LocatorGiáº£ sá»­ báº¡n Ä‘ang viáº¿t 1 chÆ°Æ¡ng trÃ¬nh â€œÄ‘á»‹nh vá»‹ cá»­a hÃ ngâ€ Ä‘á»ƒ kinh doanh. Báº¡n nghÄ© ráº±ng cÃ¡c yÃªu cáº§u lÃ : For any given userâ€™s latitude/longitude, find the store with the closest latitude/longitude. Nháº­n Ä‘áº§u vÃ o lÃ  kinh Ä‘á»™ vÄ© Ä‘á»™ tá»« ngÆ°á»i dÃ¹ng, tÃ¬m cá»­a hÃ ng cÃ³ kinh Ä‘á»™, vÄ© Ä‘á»™ gáº§n nháº¥t Äá»ƒ thá»±c thi vá»›i 100% chÃ­nh xÃ¡c, báº¡n cáº§n xá»­ lÃ½: Khi Ä‘á»‹a Ä‘iá»ƒm náº±m á»Ÿ 2 bÃªn cá»§a International Date Line Khi Ä‘á»‹a Ä‘iá»ƒm gáº§n Báº¯c Cá»±c hoáº·c Nam Cá»±c Äiá»u chá»‰nh Ä‘á»™ cong cá»§a TrÃ¡i Äáº¥t, nhÆ° thay Ä‘á»•i â€œtÃ­nh toÃ¡n theo chiá»u dá»c trÃªn má»—i dáº·mâ€ Xá»­ lÃ½ táº¥t cáº£ cÃ¡c trÆ°á»ng há»£p trÃªn yÃªu cáº§u má»™t sá»‘ tiá»n há»£p lÃ½ =)) Tuy nhiÃªn, Ä‘á»‘i vá»›i á»©ng dá»¥ng cá»§a báº¡n, chá»‰ cÃ³ 30 cá»­a hÃ ng á»Ÿ bang Texas. Trong 1 khi vá»±c khá» hÆ¡n, 3 váº¥n Ä‘á» trong danh sÃ¡ch khÃ´ng quan trá»ng. VÃ  nhÆ° lÃ  káº¿t quáº£, báº¡n cÃ³ thá»ƒ giáº£m yÃªu cáº§u thÃ nh For a user near Texas, find (approximately) the closest store in Texas. Giáº£i quyáº¿t váº¥n Ä‘á» nÃ y dá»… dÃ ng hÆ¡n vÃ¬ báº¡n cÃ³ thá»ƒ thoÃ¡t khá»i chá»‰ vÃ²ng láº·p vá»›i má»—i cá»­a hÃ ng vÃ  tÃ­nh toÃ¡n khoáº£ng cÃ¡ch Euclidean giá»¯a kinh Ä‘á»™/vÄ© Ä‘á»™ Example: Adding a CacheChÃºng tÃ´i Ä‘Ã£ tá»«ng cÃ³ 1 á»©ng dá»¥ng Java thÆ°á»ng xuyÃªn Ä‘á»c cÃ¡c objects tháº­t tá»« Ä‘Ä©a. Tá»‘c Ä‘á»™ cá»§a á»©ng dá»¥ng bá»‹ giá»›i háº¡n bá»Ÿi cÃ¡ch Ä‘á»c nÃ y, do Ä‘Ã³ chÃºng tÃ´i cáº§n caching 1 vÃ i thá»©. Má»™t thá»© tá»± chung Ä‘á»c sáº½ nhÆ° sau:12345678read Object Aread Object Aread Object Aread Object Bread Object Bread Object Cread Object Dread Object DNhÆ° báº¡n cÃ³ thá»ƒ nhÃ¬n tháº¥y, cÃ³ ráº¥t nhiá»u cÃ¡c truy cáº­p láº·p láº¡i vá»›i cÃ¡c Ä‘á»‘i tÆ°á»£ng giá»‘ng nhau do Ä‘Ã³ cache cÃ³ thá»ƒ há»¯u Ã­ch cho trÆ°á»ng há»£p nÃ y. Khi Ä‘á»‘i máº·t vá»›i váº¥n Ä‘á» nÃ y, báº£n nÄƒng Ä‘áº§u tiÃªn cá»§a chÃºng ta lÃ  sá»­ dá»¥ng cache. ChÃºng ta khÃ´ng cÃ³ 1 thÆ° viá»‡n kháº£ dá»¥ng, dÃ³ Ä‘Ã³ chÃºng tÃ´i pháº£i tá»± thá»±c thi. Äiá»u nÃ y khÃ´ng pháº£i lÃ  váº¥n Ä‘á» máº·c dÃ¹, do chÃºng ta Ä‘Ã£ thá»±c thi vá»›i kiá»ƒu cáº¥u trÃºc nhÆ° váº­y trÆ°á»›c Ä‘Ã³ (nÃ³ liÃªn quan cáº£ 1 hash table vÃ  1 danh sÃ¡ch liÃªn káº¿t Ä‘Æ¡n - cÃ³ thá»ƒ tá»•ng cá»™ng 100 dÃ²ng code). Tuy nhiÃªn, chÃºng tÃ´i nháº­n tháº¥y ráº±ng viá»‡c truy cáº­p tá»«ng hÃ ng cÃ³ thá»ƒ luÃ´n luÃ´n cho má»—i hÃ ng. Do Ä‘Ã³ thay vÃ¬ thá»±c thi URL cache, chÃºng ta sáº½ thá»±c thi one-item cache:1234567DiskObject lastUsed; // class memberDiskObject lookUp(String key) { if (lastUsed == null || !lastUsed.key().equals(key)) { lastUsed = loadDiskObject(key); }}Äiá»u nÃ y cho chÃºng ta 90% lá»£i Ã­ch mÃ  khÃ´ng cáº§n quÃ¡ nhiá»u code, vÃ  chÆ°Æ¡ng trÃ¬nh cÃ³ bá»™ nhá»› nhá» hÆ¡n. Lá»£i Ã­ch cá»§a viá»‡c â€œxÃ³a bá» yÃªu cáº§uâ€ vÃ  â€œgiáº£i quyáº¿t cÃ¡c váº¥n Ä‘á» Ä‘Æ¡n giáº£n hÆ¡nâ€ khÃ´ng thá»ƒ Ä‘Æ°á»£c nÃ³i quÃ¡. YÃªu cáº§u thÆ°á»ng xem káº½ vá»›i nhau theo 1 cÃ¡ch tinh táº¿. Äiá»u nÃ y cÃ³ nghÄ©a lÃ  viá»‡c giáº£i quyáº¿t má»™t ná»­a váº¥n Ä‘á» cÃ³ thá»ƒ chá»‰ máº¥t má»™t pháº§n tÆ° ná»— lá»±c code. Keeping Your Codebase Small Khi báº¡n báº¯t Ä‘áº§u 1 dá»± Ã¡n pháº§n má»m vÃ  báº¡n chá»‰ cÃ³ 1 hoáº·c 2 files gá»‘c, Ä‘iá»u nÃ y tháº­t tuyá»‡t. BiÃªn dá»‹ch vÃ  cháº¡y code lÃ  1 snap, dá»… dÃ ng thay Ä‘á»•i vÃ  dá»… dÃ ng nhÆ¡ má»—i hÃ m, lá»›p Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a. Sau Ä‘Ã³, project phÃ¡t triá»ƒn, cÃ¡c thÆ° má»¥c cá»§a báº¡n cÃ ng ngÃ y cÃ ng nhiá»u files hÆ¡n. Báº¡n cáº§n nhiá»u thÆ° má»¥c Ä‘á»ƒ tá»• chá»©c láº¡i chÃºng. NÃ³ trá»Ÿ nÃªn khÃ³ nhá»› hÆ¡n cÃ¡c hÃ m gá»i cÃ¡c hÃ m khÃ¡c vÃ  máº¥t nhiá»u viá»‡c hÆ¡n Ä‘á»ƒ theo dÃµi ra Ä‘Æ°á»£c bug. Cuá»‘i cÃ¹ng, báº¡n cÃ³ ráº¥t nhiá»u mÃ£ nguá»“n Ä‘Æ°á»£c tráº£i rá»™ng vÃ o nhiá»u thÆ° má»¥c khÃ¡c nhau. Dá»± Ã¡n sáº½ lá»›n vÃ  vÃ  khÃ´ng cÃ²n 1 mÃ¬nh ai hiá»ƒu táº¥t cáº£ nÃ³. ThÃªm chá»©c nÄƒng má»›i trá»Ÿ thÃ nh cÃ¡i gÃ¬ Ä‘Ã³ Ä‘au Ä‘á»›n vÃ  lÃ m viá»‡c vá»›i cÃ¡c Ä‘oáº¡n code nÃ y thÃ¬ cá»“ng ká»nh vÃ  khÃ³ chá»‹u. CÃ¡ch tá»‘t nháº¥t Ä‘á»ƒ Ä‘á»‘i phÃ³ lÃ  giá»¯ codebase cá»§a báº¡n nhá» vÃ  nháº¹ kÃ­ (lightweight) nháº¥t cÃ³ thá»ƒ, tháº­m chÃ­ dá»± Ã¡n cá»§a báº¡n lá»›n dáº§n. VÃ¬ váº­y báº¡n nÃªn: Táº¡o nhiá»u code â€œtiá»‡n Ã­châ€ chung nháº¥t cá»a thá»ƒ Ä‘á»ƒ loáº¡i bá» láº·p láº¡i code (Xem thÃªm chÆ°Æ¡ng 10, Extracting Unrelated Subproblems) XÃ³a cÃ¡c code khÃ´ng há»¯u Ã­ch hoáº·c chá»©c nÄƒng khÃ´ng sá»­ dá»¥ng Giá»¯ dá»± Ã¡n cá»§a báº¡n ngÄƒn cÃ¡ch vá»›i cÃ¡c dá»± Ã¡n con Ä‘Ã£ ngáº¯t káº¿t ná»‘i (cÃ¡c dá»± Ã¡n khÃ´ng káº¿t ná»‘i vá»›i nhau thÃ¬ nÃªn tÃ¡ch biá»‡t) NÃ³i chung lÃ , cÃ³ Ã½ thá»©c vá» â€œweightâ€ cá»§a codebase. Giá»¯ nÃ³ nháº¹ vÃ  nhanh. REMOVING UNUSED CODE NgÆ°á»i lÃ m vÆ°á»n thÆ°á»ng tá»‰a cÃ¢y Ä‘á»ƒ giá»¯ chÃºng sá»‘ng vÃ  lá»›n lÃªn. TÆ°Æ¡ng tá»±, Ä‘Ã¢y cÅ©ng lÃ  1 Ã½ tÆ°á»Ÿng tá»‘t Ä‘á»ƒ tá»‰a 1 vÃ i Ä‘oáº¡n code khÃ´ng sá»­ dá»¥ng, cáº£i mÃ  lÃ m cáº£n trá»Ÿ. Má»™t khi code Ä‘Ã£ Ä‘Æ°á»£c viáº¿t ra, coders thÆ°á»ng khÃ´ng thÃ­ch, phÃ¢n vÃ¢n xÃ³a nÃ³, vÃ¬ nÃ³ diá»…n táº£ ráº¥t nhiá»u cÃ´ng viá»‡c thá»±c táº¿. Äá»ƒ nÃ³ xÃ³a, cÅ©ng Ä‘á»“ng nghÄ©a vá»›i viá»‡c thá»i gian giÃ nh cho nÃ³ lÃ  lÃ£ng phÃ­. Well, hÃ£y vÆ°á»£t qua nÃ³! ÄÃ¢y lÃ  1 lÄ©nh vá»±c sÃ¡ng táº¡o - thá»£ chá»¥p áº£nh, nhÃ  vÄƒn vÃ  nhÃ  lÃ m phim khÃ´ng giá»¯ táº¥t cáº£ cÃ´ng viá»‡c cá»§a há». XÃ³a cÃ¡c hÃ m cÃ´ láº­p lÃ  Ä‘Æ¡n giáº£n nhÆ°ng Ä‘Ã´i khi â€œcÃ¡c Ä‘oáº¡n code khÃ´ng sá»­ dá»¥ngâ€ thá»±c táº¿ káº¿t há»£p vá»›i nhau trong dá»± Ã¡n cá»§a báº¡n, mÃ  báº¡n khÃ´ng biáº¿t. ÄÃ¢y lÃ  1 vÃ i vÃ­ dá»¥: Báº¡n thiáº¿t káº¿ ban Ä‘áº§u há»‡ thá»‘ng cá»§a báº¡n Ä‘á»ƒ xá»­ lÃ½ cÃ¡c táº­p tin quá»‘c táº¿, vÃ  bÃ¢y giá» Ä‘oáº¡n code xáº£ ra cÃ¡c váº¥n Ä‘á» vá» convention. Tuy nhiÃªn, Ä‘oáº¡n code khÃ´ng Ä‘áº§y Ä‘á»§ chá»©c nÄƒng vÃ  á»©ng dá»¥ng cá»§a báº¡n khÃ´ng bao giá» sá»­ dá»¥ng vá»›i táº­p tin quá»‘c táº¿ dÃ¹ sau Ä‘i ná»¯a?Táº¡i sao báº¡n khÃ´ng xÃ³a nhá»¯ng hÃ m nÃ y? Báº¡n muá»‘n chÆ°Æ¡ng trÃ¬nh cá»§a báº¡n lÃ m viá»‡c ngay cáº£ khi há»‡ thá»‘ng háº¿t bá»™ nhá»›, do Ä‘Ã³ báº¡n cÃ³ ráº¥t nhiá»u logic thÃ´ng minh Ä‘á»ƒ cá»‘ gáº¯ng khÃ´i phá»¥c cÃ¡c váº¥n Ä‘á» out-of-memory. ÄÃ³ lÃ  1 Ã½ tÆ°á»Ÿng tá»‘t nhÆ°ng trÃªn thá»±c táº¿, khi há»‡ thá»‘ng trÃ n bá»™ nhá»›, chÆ°Æ¡ng trÃ¬nh cá»§a báº¡n chá»‰ trá»Ÿ thÃ nh 1 zombie khÃ´ng á»•n Ä‘á»‹nh - táº¥t cáº£ cÃ¡c chá»©c nÄƒng chÃ­nh khÃ´ng sá»­ dá»¥ng Ä‘Æ°á»£c vÃ  cÃ³ thá»ƒ chá»‰ 1 click chuá»™t lÃ  oáº³ng. Táº¡i sao báº¡n khÃ´ng cháº¥m dá»©t chÆ°Æ¡ng trÃ¬nh luÃ´n vá»›i 1 thÃ´ng bÃ¡o Ä‘Æ¡n giáº£n â€œHá»‡ thá»‘ng Ä‘Ã£ trÃ n bá»™ nhá»›, xin lá»—iâ€ vÃ  xÃ³a táº¥t cáº£ cÃ¡c code out-of-memory? Be Familiar with the Libraries Around You: LÃ m quen vá»›i cÃ¡c thÆ° viá»‡n xung quanh báº¡nRáº¥t nhiá»u thá»i gian, cÃ¡c láº­p trÃ¬nh viÃªn khÃ´ng nháº­n thá»©c Ä‘Æ°á»£c ráº±ng cÃ¡c thÆ° viá»‡n Ä‘Ã£ tá»“n táº¡i cÃ³ thá»ƒ giáº£i quyáº¿t Ä‘Æ°á»£c váº¥n Ä‘á» cá»§a há». Hoáº·c thá»‰nh thoáº£ng há» quÃªn máº¥t ráº±ng 1 thÆ° viá»‡n cÃ³ thá»ƒ lÃ m gÃ¬. Ráº¥t quan trá»ng Ä‘á»ƒ biáº¿t kahr nÄƒng code thÆ° viá»‡n báº¡n cÃ¹ng cÃ³ thá»ƒ lÃ m gÃ¬ Ä‘á»ƒ báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng nÃ³ hiá»‡u quáº£. ÄÃ¢y lÃ  má»™t gá»£i Ã½ nhÃ£ nháº·n: thá»‰nh thoáº£ng, hÃ£y dÃ nh ra 15 phÃºt Ä‘á»c tÃªn vÃ  táº¥t cáº£ cÃ¡c hÃ m/modules/kiá»ƒu trong thÆ° viá»‡n tiá»ƒu chuáº©n cá»§a báº¡n. Äiá»u nÃ y bao gá»“m thÆ° viá»‡n Standard Template Library (STL) trong C++, Java API, cÃ¡c build-in Python modules vÃ  1 vÃ i cÃ¡i khÃ¡c. Má»¥c Ä‘Ã­ch khÃ´ng pháº£i nhá»› táº¥t cáº£ thÆ° viá»‡n. NÃ³ chá»‰ cho báº¡n cáº£m giÃ¡c cÃ³ nhá»¯ng thá»© gÃ¬ Ä‘Ã³ Ä‘Ã£ cÃ³, Ä‘á»ƒ trong láº§n tá»›i báº¡n lÃ m viá»‡c vá»›i cÃ¡c Ä‘oáº¡n code má»›i, báº¡n sáº½ nghÄ© â€œChá» chÃºt, cÃ¡i nÃ y nghe tÆ°Æ¡ng tá»± nhÆ° cÃ¡i mÃ¨o gÃ¬ Ä‘Ã³ tÃ´i Ä‘Ã£ tháº¥y á»Ÿ 1 API â€¦â€. ChÃºng tÃ´i tin báº±ng lÃ m cÃ´ng viá»‡c nÃ y sáº½ cÃ³ hiá»‡u quáº£ nhanh chÃ³ng vÃ¬ báº¡n sáº½ cÃ³ xu hÆ°á»›ng sá»­ dá»¥ng nhiá»u hÆ¡n thÆ° viá»‡n nÃ y trong láº§n nhÃ¬n Ä‘áº§u tiÃªn. Example: Lists and Sets in PythonGiáº£ sá»­ báº¡n cÃ³ 1 danh sÃ¡ch pháº§n tá»­ Python (nhÆ° [2,1,2]) vÃ  báº¡n muá»‘n danh sÃ¡ch cÃ¡c pháº§n tá»­ lÃ  duy nháº¥t (trong trÆ°á»ng há»£p nÃ y lÃ  [2,1]). Báº¡n cÃ³ thá»ƒ thá»±c thi pháº§n nÃ y nhÆ° sau:1234567def unique(elements): temp = {} for element in elements: temp[element] = None # The value doesn't matter. return temp.keys() unique_elements = unique([2,1,2])NhÆ°ng thay vÃ o Ä‘Ã³ báº¡n cÃ³ thá»ƒ chá»‰ sá»­ dá»¥ng kiá»ƒu set Ã­t Ä‘Æ°á»£c biáº¿t Ä‘áº¿n:1unique_elements = set([2,1,2]) # Remove duplicatesÄá»‘i tÆ°á»£ng nÃ y láº·p Ä‘i láº·p láº¡i, chá»‰ nhÆ° 1 list bÃ¬nh thÆ°á»ng. Náº¿u báº¡n muá»‘n láº¡i má»™t danh sÃ¡ch, báº¡n cÃ³ thá»ƒ chá»‰ sá»­ dá»¥ng:1unique_elements = list(set([2,1,2])) # Remove duplicatesRÃµ rÃ ng set lÃ  má»™t cÃ´ng cá»¥ tá»‘t cho cÃ´ng viá»‡c nÃ y. NhÆ°ng náº¿u báº¡n khÃ´ng biáº¿t kiá»ƒu set, báº¡n pháº£i tá»± thá»±c thi hÃ m unique() nhÆ° trÃªn. Why Reusing Libraries Is Such a Win?Má»™t thá»‘ng kÃª thÆ°á»ng Ä‘Æ°á»£c trÃ­ch dáº«n lÃ  trung bÃ¬nh kÄ© sÆ° pháº§n má»m táº¡o ra 10 dÃ²ng code cÃ³ thá»ƒ chuyá»ƒn Ä‘á»•i trong 1 ngÃ y. Khi láº§n Ä‘áº§u tiÃªn cÃ¡c láº­p trÃ¬nh viÃªn nghe tháº¥y Ä‘iá»u nÃ y, há» cÃ³ thá»ƒ biá»‡n há»™ â€œ10 dÃ²ng code? TÃ´i cÃ³ thá»ƒ viáº¿t trong 1 phÃºt!â€. Tá»« khÃ³a á»Ÿ Ä‘Ã¢y lÃ  cÃ³ thá»ƒ chuyá»ƒn Ä‘á»•i. Má»—i dÃ²ng code trong thÆ° viá»‡n Ä‘Ã£ Ä‘Æ°á»£c Ä‘áº§u tÆ° Ä‘á»ƒ thiáº¿t káº¿, debugging, viáº¿t láº¡i, xÃ¢y dá»±ng tÃ i liá»‡u, tá»‘i Æ°u vÃ  test. ÄÃ³ lÃ  lÃ½ do táº¡i sao sá»­ dá»¥ng láº¡i thÆ° viá»‡n láº¡i lÃ  1 chiáº¿n tháº¯ng, trong khi nÃ³ vá»«a tiáº¿t kiá»‡m thá»i gian mÃ  láº¡i vá»«a viáº¿t code Ã­t hÆ¡n. Example: Using Unix Tools Instead of CodingKhi má»™t á»©ng dá»¥ng web thÆ°á»ng xuyÃªn tráº£ vá» mÃ£ HTTP 4xx hoáº·c 5xx, nÃ³ lÃ  1 dáº¥u hiá»‡u cá»§a váº¥n Ä‘á» ngáº§m (4xx lÃ  client error vÃ  5xx lÃ  server error). Do Ä‘Ã³ chÃºng tÃ´i muá»‘n viáº¿t 1 chÆ°Æ¡ng trÃ¬nh cÃ³ thá»ƒ chuyá»ƒn 1 logs Ä‘á»‹a chá»‰a cá»§a web server vÃ  xÃ¡c Ä‘á»‹nh xem URLs nÃ o gÃ¢y ra nhiá»u lá»—i. Pháº§n truy cáº­p log Ä‘Ã³ cÆ¡ báº£n nhÃ¬n nhÆ° sau:12341.2.3.4 example.com [24/Aug/2010:01:08:34] &quot;GET /index.html HTTP/1.1&quot; 200 ...2.3.4.5 example.com [24/Aug/2010:01:14:27] &quot;GET /help?topic=8 HTTP/1.1&quot; 500 ...3.4.5.6 example.com [24/Aug/2010:01:15:54] &quot;GET /favicon.ico HTTP/1.1&quot; 404 ......NÃ³i chung lÃ  chÃºng chá»©a nhá»¯ng dÃ²ng vá»›i form:1browser-IP host [date] &quot;GET /url-path HTTP/1.1&quot; HTTP-response-code ...Viáº¿t 1 chÆ°Æ¡ng trÃ¬nh Ä‘á»ƒ tÃ¬m kiáº¿m url-path vá»›i nhiá»u lá»—i 4xx hoáº·c 5xx nháº¥t khÃ¡ dá»… dÃ ng, chá»‰ máº¥t táº§m 20 dÃ²ng code trong ngÃ´n ngá»¯ nhÆ° C++ hoáº·c Java. Thay vÃ¬ Ä‘Ã³, trÃªn Unix, báº¡n cÃ³ thá»ƒ gÃµ cÃ¢u lá»‡nh sau:12cat access.log | awk '{ print $5 &quot; &quot; $7 }' | egrep &quot;[45]..$&quot; \\| sort | uniq -c | sort -nrVÃ  Ä‘Ã¢y lÃ  output:1234595 /favicon.ico 40413 /help?topic=8 50011 /login 403...&lt;count&gt; &lt;path&gt; &lt;http response code&gt;DÃ²ng lá»‡nh nÃ y tháº­t tuyá»‡t vÃ  chÃºng ta trÃ¡nh Ä‘Æ°á»£c viáº¿t má»™t vÃ  code â€œtháº­tâ€ hoáº·c kiá»ƒm tra 1 Ä‘iá»u gÃ¬ Ä‘Ã³ trong code. SummaryAdventure, excitementâ€”a Jedi craves not these things._Yoda ChÆ°Æ¡ng nÃ y nÃ³i vá» viá»‡c viáº¿t Ã­t code má»›i nháº¥t cÃ³ thá»ƒ. Má»—i dÃ²ng code má»›i cáº§n Ä‘Æ°á»£c kiá»ƒm thá»­, xÃ¢y dá»±ng tÃ i liá»‡u vÃ  báº£o trÃ¬. ThÃªm ná»¯a, nhiá»u code trong codebase, sá»± â€œnáº·ng ná»â€ nÃ³ nháº­n vÃ o vÃ  lÃ m khÃ³ Ä‘á»ƒ phÃ¡t triá»ƒn hÆ¡n. Báº¡n cÃ³ thá»ƒ trÃ¡nh viáº¿t nhá»¯ng dÃ²ng code má»›i theo 1 sá»‘ cÃ¡ch: Loáº¡i bá» cÃ¡c chá»©c nÄƒng khÃ´ng quan trá»ng tá»« sáº£n pháº©m cá»§a báº¡n Xem xÃ©t láº¡i cÃ¡c yÃªu cáº§u Ä‘á»ƒ giáº£i quyáº¿t theo phiÃªn báº£n dá»… nháº¥t cá»§a váº¥n Ä‘á» mÃ  váº«n xong Ä‘Æ°á»£c cÃ´ng viá»‡c. LÃ m quen vá»›i cÃ¡c thÆ° viá»‡n chuáº©n báº±ng cÃ¡ch Ä‘á»c Ä‘á»‹nh kÃ¬ toÃ n bá»™ cÃ¡c APIs cá»§a chÃºng","link":"/2020/05/24/Chapter-13-Writing-Less-Code/"},{"title":"Chapter 6: Making Comments Precise and Compact","text":"Trong chÆ°Æ¡ng trÆ°á»›c, chÃºng ta cÃ³ nÃ³i vá» cÃ¡i mÃ  chÃºng ta nÃªn comment (what). Trong chÆ°Æ¡ng nÃ y, sáº½ nÃ³i vá» cÃ¡ch viáº¿t comment rÃµ rÃ ng vÃ  gá»n nháº¹ Náº¿u báº¡n Ä‘ang Ä‘á»‹nh viáº¿t 1 comment, nÃ³ nÃªn Ä‘Æ°á»£c tÃ³m lÆ°á»£c (tá»‰ má»‰) - cá»¥ thá»ƒ vÃ  chi tiáº¿t nháº¥t cÃ³ thá»ƒ. Máº·t khÃ¡c, comments cÅ©ng chiáº¿m thÃªm khÃ´ng gian mÃ n hÃ¬nh, máº¥t thá»i gian Ä‘á»ƒ Ä‘á»c. Do váº­y, comment cÅ©ng nÃªn Ä‘Æ°á»£c gá»n nháº¹ K E Y I D E AComments should have a high information-to-space ratio. Keep Comments CompactÄÃ¢y lÃ  1 vÃ­ dá»¥ vá» comment khi Ä‘á»‹nh nghÄ© kiá»ƒu trong C++ 1234// The int is the CategoryType.// The first float in the inner pair is the 'score',// the second is the 'weight'.typedef hash_map&lt;int, pair&lt;float, float&gt; &gt; ScoreMap; NhÆ°ng táº¡i sao sá»­ dá»¥ng 3 dÃ²ng Ä‘á»ƒ giáº£i thÃ­ch nÃ³ trong khi báº¡n cÃ³ thá»ƒ chÃº thÃ­ch, minh há»a nÃ³ chá»‰ trong 1 dÃ²ng12// CategoryType -&gt; (score, weight)typedef hash_map&lt;int, pair&lt;float, float&gt; &gt; ScoreMap;Má»™t vÃ i comments cáº§n 3 dÃ²ng, nhÆ°ng Ä‘Ã¢y khÃ´ng pháº£i lÃ  1 trong sá»‘ Ä‘Ã³. Avoid Ambiguous Pronouns: TrÃ¡nh sá»­ dá»¥ng Ä‘áº¡i tá»« mÆ¡ há»“TrÃ¡nh sá»­ dá»¥ng cÃ¡c tá»« mÃ  ngÆ°á»i Ä‘á»c máº¥y thÃªm thá»i gian Ä‘á»ƒ â€œgiáº£i quyáº¿tâ€ 1 tá»«. VÃ  trong 1 vÃ i trÆ°á»ng há»£p, nÃ³ khÃ´ng rÃµ rÃ ng cÃ¡i â€œitâ€ hoáº·c â€œthisâ€ Ä‘ang tham chiáº¿u Ä‘áº¿n. VÃ­ dá»¥:1// Insert the data into the cache, but check if it's too big first.Trong comment nÃ y, â€œitâ€ nÃªn Ä‘Æ°á»£c tham chiáº¿u tá»›i data hoáº·c cache. Báº¡n cÃ³ thá»ƒ tÃ¬m ra cÃ¢u tráº£ lá»i báº±ng cÃ¡ch Ä‘á»c pháº§n cÃ²n láº¡i cá»§a mÃ£. NhÆ°ng náº¿u báº¡n pháº£i lÃ m váº­y, comment á»Ÿ Ä‘Ã¢y lÃ m gÃ¬? Äiá»u an toÃ n nháº¥t lÃ  Ä‘iá»n luÃ´n cÃ¡c thÃ´ng tin khi cÃ³ sá»± máº­t má» nÃ y. Trong vÃ­ dá»¥ trÆ°á»›c â€œitâ€ Ä‘ang lÃ  â€œthe dataâ€:1// Insert the data into the cache, but check if the data is too big first.Ráº¥t dá»… dÃ ng Ä‘á»ƒ thay Ä‘á»•i. Báº¡n cÅ©ng cÃ³ thá»ƒ Ä‘Ã£ chá»‰nh láº¡i cÃº phÃ¡p cÃ¢u vÄƒn Ä‘á»ƒ lÃ m â€œitâ€ rÃµ rÃ ng hoÃ n háº£o:1// If the data is small enough, insert it into the cache. Polish Sloppy SentencesTrong 1 vÃ i trÆ°á»ng há»£p, táº¡o 1 comment chÃ­nh xÃ¡c hÆ¡n luÃ´n Ä‘i Ä‘Ã´i vá»›i viá»‡c lÃ m cho nÃ³ nhá» gá»n. ÄÃ¢y lÃ  1 vÃ­ dá»¥ tá»« web crawler:1# Depending on whether we've already crawled this URL before, give it a different priority.CÃ¢y nÃ y nhÃ¬n cÃ³ váº» okay, nhÆ°ng so sÃ¡nh thá»­ vá»›i phiÃªn báº£n sau:1# Give higher priority to URLs we've never crawled before.CÃ¢u vÄƒn Ä‘Æ¡n giáº£n, nhá» gá»n vÃ  tháº³ng tháº¯n. NÃ³ cÅ©ng giáº£i thÃ­ch ráº±ng sá»± Æ°u tiÃªn cao hÆ¡n lÃ  nháº­n 1 URLs chÆ°a crawled - comment trÆ°á»›c Ä‘Ã³ khÃ´ng chá»©a thÃ´ng tin nÃ y. Describe Function Behavior Precisely: MÃ´ táº£ chÃ­nh xÃ¡c hÃ nh vi cá»§a hÃ mTÆ°á»Ÿng tÆ°á»£ng báº¡n chá»‰ viáº¿t 1 hÃ m Ä‘áº¿m sá»‘ dÃ²ng cá»§a 1 file:12// Return the number of lines in this file.int CountLines(string filename) { ... }Comment khÃ´ng tá»‰ má»‰ - cÃ³ ráº¥t nhiá»u cÃ¡nh Ä‘á»ƒ Ä‘á»‹nh nghÄ©a 1 â€œdÃ²ngâ€. ÄÃ¢y lÃ  1 cÃ¡i trÆ°á»ng há»£p liÃªn quan tÃ´i cÃ³ thá»ƒ nghÄ© tá»›i: â€œâ€ (dÃ²ng trá»‘ng) - 0 hay 1 dÃ²ng? â€œhelloâ€: 0 hay 1 dÃ²ng? â€œhello\\nâ€ - 1 hay 2 dÃ²ng? â€œhello\\n worldâ€ - 1 hay 2 dÃ²ng? â€œhello\\n\\r cruel\\n world\\râ€ - 2,3 hay 4 dÃ²ng Sá»± thá»±c thi Ä‘Æ¡n giáº£n lÃ  Ä‘áº¿m sá»‘ dÃ²ng qua kÃ­ tá»± dÃ²ng má»›i (\\n) (Ä‘Ã¢y lÃ  cÃ¡ch mÃ  lá»‡nh wc cá»§a Unix lÃ m viá»‡c). á» Ä‘Ã¢y 1 comment tá»‘t hÆ¡n lÃ  trÃ¹ng vá»›i sá»± thá»±c hiá»‡n:12// Count how many newline bytes ('\\n') are in the file.int CountLines(string filename) { ... }Comment nÃ y khÃ´ng quÃ¡ dÃ i hÆ¡n so vá»›i phiÃªn báº£n trÆ°á»›c Ä‘Ã³ nhÆ°ng chá»©a nhiá»u thÃ´ng tin hÆ¡n. NÃ³ nÃ³i vá»›i ngÆ°á»i Ä‘á»c ráº±ng hÃ m sáº½ tráº£ vá» khÃ´ng náº¿u khÃ´ng cÃ³ kÃ­ tá»± xuá»‘ng dÃ²ng. NÃ³ cÅ©ng nÃ³i vá»›i ngÆ°á»i Ä‘á»c ráº±ng kÃ­ tá»± (\\r) cÅ©ng khÃ´ng Ä‘Æ°á»£c tÃ­nh lÃ  dÃ²ng má»›i. Use Input/Output Examples That Illustrate Corner CasesKhi báº¡n viáº¿t 1 comment, vÃ­ dá»¥ lá»±a chá»n 1 input/ouput cáº©n tháº­n cÃ³ thá»ƒ cÃ³ thá»ƒ giÃ¡ trá»‹ nhÆ° 1 nghÃ¬n tá»«. VÃ­ dá»¥, Ä‘Ã¢y lÃ  1 hÃ m chung xÃ³a Ä‘i 1 pháº§n cá»§a string:12// Remove the suffix/prefix of 'chars' from the input 'src'.String Strip(String src, String chars) { ... }Comment nÃ y khÃ´ng cá»¥ thá»ƒ tá»‰ má»‰ vÃ¬ nÃ³ khÃ´ng thá»ƒ tráº£ lá»i Ä‘Æ°á»£c cÃ¢u há»i nhÆ°: KÃ­ tá»± nÃ y lÃ  cáº£ 1 chuá»—i con Ä‘Æ°á»£c xÃ³a bá» hay thá»±c sá»± chá»‰ lÃ  1 táº­p há»£p cÃ¡c chá»¯ cÃ¡i khÃ´ng cÃ³ thá»© tá»±? Chuyá»‡n gÃ¬ sáº½ xáº£y ra náº¿u cÃ³ nhiá»u kÃ­ tá»± chars trong cuá»‘i cÃ¹ng cá»§a src Thay vÃ¬ Ä‘Ã³, má»™t vÃ­ dá»¥ vá»›i cÃ¡c sá»± lá»±a chá»n Ä‘áº§y Ä‘á»§ sáº½ tráº£ lá»i cÃ¡c cÃ¢u há»i nÃ y:123// ...// Example: Strip(&quot;abba/a/ba&quot;, &quot;ab&quot;) returns &quot;/a/&quot;String Strip(String src, String chars) { ... }VÃ­ dá»¥ chá»‰ ra Ä‘áº§y Ä‘á»§ chá»©c nÄƒng cá»§a hÃ m Strip(). ChÃº Ã½ ráº±ng 1 vÃ­ dá»¥ Ä‘Æ¡n giáº£n khÃ´ng thá»±c sá»± há»¯u Ã­ch, náº¿u báº¡n khÃ´ng tráº£ lá»i Ä‘Æ°á»£c nhá»¯ng cÃ¢u há»i nÃ y:1// Example: Strip(&quot;ab&quot;, &quot;a&quot;) returns &quot;b&quot;ÄÃ¢y lÃ  1 vÃ­ dá»¥ khÃ¡c Ä‘á»ƒ minh há»a:123// Rearrange 'v' so that elements &lt; pivot come before those &gt;= pivot;// Then return the largest 'i' for which v[i] &lt; pivot (or -1 if none are &lt; pivot)int Partition(vector&lt;int&gt;* v, int pivot);Comment nÃ y thá»±c sá»± Ä‘á»§ tá»‰ má»‰, chi tiáº¿t nhÆ°ng cÃ³ 1 chÃºt khÃ³ khÄƒn Ä‘á»ƒ hÃ¬nh dung. ÄÃ¢y lÃ  1 vÃ­ dá»¥ báº¡n cÃ³ thá»ƒ minh há»a thÃªm:123// ...// Example: Partition([8 5 9 8 2], 8) might result in [5 2 | 8 9 8] and return 1int Partition(vector&lt;int&gt;* v, int pivot);CÃ³ 1 vÃ i Ä‘iá»ƒm cáº§n nháº¯c tá»›i khi chá»‰ Ä‘á»‹nh vÃ­ dá»¥ input/ouput chÃºng ta chá»n: pivot báº±ng cÃ¡ch pháº§n tá»­ trong vector Ä‘á»ƒ minh há»a trÆ°á»ng há»£p canh Ä‘Ã³ ChÃºng ta Ä‘áº·t sá»± trÃ¹ng láº·p trong vector (8) Ä‘á»ƒ minh há»a ráº±ng Ä‘Ã¢y lÃ  1 input Ä‘Æ°á»£c cháº¥p nháº­n. Vector káº¿t quáº£ khÃ´ng Ä‘Æ°á»£c sáº¯p xáº¿p - náº¿u nÃ³ Ä‘Æ°á»£c, ngÆ°á»i Ä‘á»c cÃ³ thá»ƒ hiá»ƒu sai VÃ¬ giÃ¡ trá»‹ tráº£ vá» lÃ  1, chÃºng ta Ä‘áº£m báº£o ráº±ng 1 khÃ´ng pháº£i lÃ  1 giÃ¡ trá»‹ trong vector - cÃ¡i mÃ  cÃ³ thá»ƒ gÃ¢y nháº§m láº«n. State the Intent of Your CodeNhÆ° chÃºng ta Ä‘Ã£ nháº¯c tá»›i tá»« chÆ°Æ¡ng trÆ°á»›c, comment thÆ°á»ng nÃ³i cho ngÆ°á»i Ä‘á»c cÃ¡i mÃ  chÃºng ta nghÄ© khi chÃºng ta viáº¿t code. KhÃ´ng may, ráº¥t nhiá»u comment cuá»‘i cÃ¹ng chá»‰ mÃ´ táº£ cÃ¡i mÃ  code Ä‘ang lÃ m theo nghÄ©a Ä‘en, mÃ  khÃ´ng cÃ³ thÃªm nhiá»u thÃ´ng tin há»¯u Ã­ch ÄÃ¢y lÃ  1 vÃ­ dá»¥ comment nhÆ° váº­y:1234567void DisplayProducts(list&lt;Product&gt; products) { products.sort(CompareProductByPrice); // Iterate through the list in reverse order for (list&lt;Product&gt;::reverse_iterator it = products.rbegin(); it != products.rend(); ++it) DisplayPrice(it-&gt;price); ...}Táº¥t cáº£ nhá»¯ng thá»© trong comment chá»‰ Ä‘ang diá»…n táº£ cho dÃ²ng bÃªn dÆ°á»›i nÃ³. Thay vÃ o Ä‘Ã³, cÃ¢n nháº¯c 1 commnent tá»‘t hÆ¡n:12// Display each price, from highest to lowestfor (list&lt;Product&gt;::reverse_iterator it = products.rbegin(); ... )Comment nÃ y giáº£i thÃ­ch cÃ¡i mÃ  chÆ°Æ¡ng trÃ¬nh Ä‘ang lÃ m á»Ÿ táº§ng ca hÆ¡n. Äiá»u nÃ y phÃ¹ há»£p hÆ¡n nhiá»u vá»›i nhá»¯ng gÃ¬ láº­p trÃ¬nh viÃªn Ä‘Ã£ nghÄ© khi cÃ´ áº¥y viáº¿t mÃ£. Má»™t Ä‘iá»u thÃº vá»‹, cÃ³ 1 bug trong chÆ°Æ¡ng trÃ¬nh nÃ y! HÃ m CompareProductByPrice Ä‘Ã£ sáº¯p xáº¿p cÃ¡c items giÃ¡ cao Ä‘áº§u tiÃªn. Äoáº¡n code Ä‘ang lÃ m ngÆ°á»£c vá»›i nhá»¯ng gÃ¬ tÃ¡c giáº£ dá»± Ä‘á»‹nh. ÄÃ¢y lÃ  1 lÃ½ do tá»‘t táº¡i sao tham sá»‘ thá»© 2 láº¡i quan trá»ng. Máº·c dÃ¹ bug, comment Ä‘áº§u tiÃªn ráº¥t Ä‘Ãºng kÄ© thuáº­t (vÃ²ng láº·p khÃ´ng láº·p theo thá»© tá»± ngÆ°á»£c láº¡i). NhÆ°ng vá»›i comment thá»© 2, ngÆ°á»i Ä‘á»c nhiá»u kháº£ nÄƒng nháº­n tháº¥y ráº±ng Ã½ Ä‘á»“ cá»§a ngÆ°á»i viáº¿t (Ä‘áº§u tiÃªn lÃ  Ä‘Æ°a ra items giÃ¡ cao) mÃ¢u thuáº«n vá»›i cÃ¡ch mÃ  code Ä‘ang lÃ m. Trong thá»±c táº¿, cÃ¡c comment hoáº¡t Ä‘á»™ng nhÆ° 1 kiá»ƒm tra dá»± phÃ²ng (sáº½ Ä‘Æ°á»£c Ä‘á» cáº­p trong chÆ°Æ¡ng 14) â€œNamed Function Parameterâ€ CommentsGiáº£ sá»­ báº¡n nhÃ¬n tháº¥y 1 hÃ m nhÆ°:1Connect(10, false);HÃ m nÃ y gá»i cÃ¡i gÃ¬ Ä‘Ã³ bÃ­ áº©n vá»›i sá»‘ integer vÃ  boolean truyá»n vÃ o. Trong ngÃ´n ngá»¯ nhÆ° Python, báº¡n cÃ³ thá»ƒ gÃ¡n Ä‘á»‘i sá»‘ truyá»n vÃ o báº±ng tÃªn123def Connect(timeout, use_encryption): ...# Call the function using named parametersConnect(timeout = 10, use_encryption = False)KhÃ´ng giá»‘ng nhÆ° C++ vÃ  Java, báº¡n khÃ´ng thá»ƒ lÃ m váº­y. Tuy nhiÃªn, báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng comment inline Ä‘á»ƒ cÃ³ Ä‘Æ°á»£c hiá»‡u quáº£ tÆ°Æ¡ng tá»±:123void Connect(int timeout, bool use_encryption) { ... }// Call the function with commented parametersConnect(/* timeout_ms = */ 10, /* use_encryption = */ false);Nháº­n tháº¥y ráº±ng chÃºng ta Ä‘Ã£ â€œÄ‘áº·t tÃªnâ€ cho tham sá»‘ Ä‘áº§u tiÃªn lÃ  timeout_ms thay vÃ¬ timeout. LÃ½ tÆ°á»Ÿng nháº¥t, Ä‘á»‘i sá»‘ cá»§a hÃ m thá»±c sá»± nÃªn lÃ  timeout_ms, nhÆ°ng náº¿u vÃ¬ 1 sá»‘ lÃ½ do nÃ o Ä‘Ã³ chÃºng ta khÃ´ng thá»ƒ thay Ä‘á»•i nÃ³, thÃ¬ Ä‘Ã¢y lÃ  1 cÃ¡ch tiá»‡n dá»¥ng Ä‘á»ƒ â€œcáº£i thiá»‡nâ€ tÃªn. Khi báº¡n cÃ³ Ä‘á»‘i sá»‘ boolean, thá»±c sá»± quan trá»ng Ä‘á»ƒ Ä‘áº·t /* name = */ trÆ°á»›c giÃ¡ trá»‹. Äáº·t 1 comment Ä‘áº±ng sau giÃ¡ trá»‹ lÃ  ráº¥t khÃ³ hiá»ƒu:1234// Don't do this!Connect( ... , false /* use_encryption */);// Don't do this either!Connect( ... , false /* = use_encryption */);Trong vÃ­ dá»¥ trÃªn, khÃ´ng rÃµ rÃ ng lÃ  false lÃ  sá»­ dá»¥ng mÃ£ hÃ³a hay khÃ´ng sá»­ dá»¥ng mÃ£ hÃ³a. Äa sá»‘ cÃ¡c hÃ m khÃ´ng cáº§n comment nhÆ° váº­y, nhÆ°ng nÃ³ lÃ  má»™t cÃ¡ch tiá»‡n dá»¥ng (vÃ  gá»n nháº¹) Ä‘á»ƒ giáº£i thÃ­ch cÃ¡c Ä‘á»‘i sá»‘ trÃ´ng cÃ³ váº» bÃ­ áº©n. Use Information-Dense Words: Sá»­ dá»¥ng cÃ¡c tá»« â€œnáº·ng thÃ´ng tinâ€, cÃ¡c tá»« má»i ngÆ°á»i láº­p trÃ¬nh Ä‘á»u hiá»ƒu.Má»™t khi báº¡n Ä‘Ã£ láº­p trÃ¬nh Ä‘Æ°á»£c 1 vÃ i nÄƒm, báº¡n nháº­n tháº¥y ráº±ng váº¥n Ä‘á» vÃ  giáº£i phÃ¡p chung tÆ°Æ¡ng tá»± xuáº¥t hiá»‡n nhiá»u láº§n. ThÆ°á»ng xuyÃªn, sáº½ cÃ³ 1 vÃ i tá»« hoáº·c cá»¥m tá»« Ä‘Æ°á»£c cÃ¡c developers mÃ´ táº£ trong cÃ¡c máº«u/thÃ nh ngá»¯ nÃ y. Sá»­ dá»¥ng nhá»¯ng tá»« nÃ y lÃ m comment cá»§a báº¡n ngáº¯n gá»n hÆ¡n. VÃ­ dá»¥ giáº£ sá»­ commen cá»§a báº¡n nhÆ° sau:1234// This class contains a number of members that store the same information as in the// database, but are stored here for speed. When this class is read from later, those// members are checked first to see if they exist, and if so are returned; otherwise the// database is read from and that data stored in those fields for next time.Thay vÃ o Ä‘Ã³, báº¡n chá»‰ cáº§n nÃ³i:1// This class acts as a caching layer to the database.Má»™t vÃ­ dá»¥ khÃ¡c, comment nhÆ°1234// Remove excess whitespace from the street address, and do lots of other cleanup// like turn &quot;Avenue&quot; into &quot;Ave.&quot; This way, if there are two different street addresses// that are typed in slightly differently, they will have the same cleaned-up version and// we can detect that these are equal.CÃ³ thá»ƒ thay tháº¿:1// Canonicalize the street address (remove extra spaces, &quot;Avenue&quot; -&gt; &quot;Ave.&quot;, etc.)CÃ³ ráº¥t nhiá»u tá»« vÃ  cá»¥m tá»« chá»©a nhiá»u thÃ´ng tin cÃ³ nghÄ©a, nhÆ° lÃ  â€œheuristicâ€, â€œbrute forceâ€, â€œnaive solutionâ€ vÃ  tÆ°Æ¡ng tá»±. Náº¿u báº¡n cÃ³ 1 comment cáº£m tháº¥y hÆ¡i dÃ i dÃ²ng, tÃ¬m xem nÃ³ cÃ³ thá»ƒ Ä‘Æ°á»£c mÃ´ táº£ nhÆ° 1 váº¥n Ä‘á» láº­p trÃ¬nh kinh Ä‘iá»ƒn. SummaryChÆ°Æ¡ng nÃ y tháº£o luáº­n vá» viáº¿t comment Ä‘Ã³ng gÃ³i nhiá»u thÃ´ng tin trong má»™t khÃ´ng gian nhá» nháº¥t cÃ³ thá»ƒ. ÄÃ¢y lÃ  1 vÃ i tips TrÃ¡nh cÃ¡c tá»« â€œitâ€, â€œthisâ€ khi chÃºng ta cÃ³ thá»ƒ tham chiáº¿u tá»›i 1 vÃ i thá»© MÃ´ táº£ hÃ nh vi cá»§a hÃ m cÃ ng chi tiáº¿t thÃ¬ cÃ ng tiá»‡n lá»£i Minh há»a comment cá»§a báº¡n vá»›i vÃ­ dá»¥ lá»±a chá»n input/ouput cáº©n tháº­n NÃªu ra Ã½ Ä‘á»‹nh á»Ÿ level cao thay vÃ¬ chi tiáº¿t thá»±c hiá»‡n bÃªn dÆ°á»›i Sá»­ dá»¥ng cÃ¡c comments inline (e.g., Function(/ arg = / â€¦ ) ) Ä‘á»ƒ giáº£i thÃ­ch cÃ¡c tham sá»‘ mÆ¡ há»“ cá»§a 1 hÃ m Giá»¯ comment cá»§a báº¡n ngáº¯n gá»n báº±ng cÃ¡c tá»« vá»›i nhiá»u nghÄ©a.","link":"/2020/05/24/Chapter-6-Making-Comments-Precise-and-Compact/"},{"title":"[Circle CI] Auto deploying á»©ng dá»¥ng web trÃªn Heroku","text":"BÃ i viáº¿t láº§n trÆ°á»›c cÃ³ hÆ°á»›ng dáº«n qua cÃ¡ch build projects vá»›i CircleCI. Tuy nhiÃªn CircleCI cÃ²n má»™t Æ°u Ä‘iá»ƒm ná»¯a lÃ  tá»± Ä‘á»™ng hÃ³a viá»‡c deploy á»©ng dá»¥ng sau khi build vÃ  cháº¡y tests xong. Pháº§n nÃ y chÃºng ta cÃ¹ng xem cáº¥u hÃ¬nh Ä‘á»ƒ nÃ³ tá»± Ä‘á»™ng deploying nhÃ©. CÅ©ng Ä‘Æ¡n giáº£n thÃ´i :DLetâ€™s practice!!!!! 1. Deploy á»©ng dá»¥ng lÃªn HerokuTáº¥t nhiÃªn, Ä‘á»ƒ deploy Ä‘Æ°á»£c 1 cÃ¡ch tá»± Ä‘á»™ng thÃ¬ báº¡n pháº£i deploy thá»§ cÃ´ng Ä‘Ã£ pháº£i khÃ´ng nÃ o.Vá» cÆ¡ báº£n, báº¡n chá»‰ cáº§n remote vÃ o heroku remote vÃ  push lÃªn nhÃ¡nh master12$ heroku git:remote -a first-cd$ git push heroku masterChi tiáº¿t tham kháº£o táº¡i bÃ i viáº¿t 2. Cáº¥u hÃ¬nh CI cho á»©ng dá»¥ngBÃ i trÆ°á»›c mÃ¬nh Ä‘Ã£ hÆ°á»›ng dáº«n cÃ¡ch cáº¥u hÃ¬nh trÃªn CircleCI 2.0. Pháº§n nÃ y mÃ¬nh khÃ´ng nháº¯c láº¡i ná»¯a mÃ  táº­p trung cáº¥u hÃ¬nh pháº§n auto deploy trÃªn Heroku 2.1. ThÃªm biáº¿n mÃ´i trÆ°á»ngÄáº§u tiÃªn báº¡n cáº§n thÃªm cÃ¡c biáº¿n tá»« á»©ng dá»¥ng Heroku nhÆ° nhá»¯ng biáº¿n mÃ´i trÆ°á»ng. ChÃºng ta cáº§n thÃªm 2 biáº¿n HEROKU_APP_NAME vÃ  HEROKU_API_KEY Ä‘á»ƒ cÃ³ thá»ƒ tá»± Ä‘á»™ng deployRefs: https://circleci.com/docs/2.0/env-vars/#setting-an-environment-variable-in-a-project BÆ°á»›c 1: VÃ o á»©ng dá»¥ng Circle, chá»n project (Nháº¥n JOBS) báº¡n muá»‘n auto deploy. Nháº¥n vÃ o icon Setting bÃªn pháº£i cá»§a project BÆ°á»›c 2: Trong pháº§n Build Setting, click Environment Variables BÆ°á»›c 3: Import biáº¿n tá»« project khÃ¡c báº±ng cÃ¡ch nháº¥n vÃ o button Import Variable(s) hoáº·c thÃªm cÃ¡c biáº¿n má»›i báº±ng cÃ¡ch nháº¥n vÃ o button Add Variable (LÆ°u Ã½ ráº±ng Import Variables(s) khÃ´ng kháº£ dá»¥ng trÃªn CircleCI Ä‘Æ°á»£c cÃ i Ä‘áº·t private) BÆ°á»›c 4: Sá»­ dá»¥ng cÃ¡c biáº¿n nÃ y trong file .circleci/config.yml thÃ´i. 2.2. Chá»‰nh sá»­a configFile .circleci/config.yml:12345678910111213141516171819202122232425version: 2jobs: build: ... deploy: docker: - image: buildpack-deps:trusty steps: - checkout - run: name: Deploy Master to Heroku command: | git push https://heroku:$HEROKU_API_KEY@git.heroku.com/$HEROKU_APP_NAME.git masterworkflows: version: 2 build-deploy: jobs: - build - deploy: requires: - build filters: branches: only: masterMÃ¬nh chá»‰ thá»­ nghiá»‡m tá»± Ä‘á»™ng deploy, khÃ´ng tiáº¿n hÃ nh build vÃ  tests nÃªn nÃ³ sáº½ Ä‘Æ¡n giáº£n nhÆ° sau:1234567891011version: 2jobs: build: docker: - image: circleci/php:7.1-apache steps: - checkout - run: name: Deploy Master to Heroku command: | git push https://heroku:$HEROKU_API_KEY@git.heroku.com/$HEROKU_APP_NAME.git masterNgon rá»“i, váº­y lÃ  tá»« giá» má»—i láº§n báº¡n commit code lÃªn nhÃ¡nh master, project sáº½ tá»± Ä‘á»™ng Ä‘Æ°á»£c build, check cÃ¡c thá»© báº¡n Ä‘Ã£ cáº¥u hÃ¬nh (trong build jobs) vÃ  tá»± Ä‘á»™ng deploy lÃªn Heroku qua lá»‡nh1git push https://heroku:$HEROKU_API_KEY@git.heroku.com/$HEROKU_APP_NAME.git master ÄÃ¢y lÃ  káº¿t quáº£ chi tiáº¿t Deploy ÄÆ¡n giáº£n váº­y thÃ´i. Tuy nhiÃªn Ä‘Ã¢y má»›i chá»‰ lÃ  má»©c Ä‘Æ¡n giáº£n nháº¥t (hello world) cho viá»‡c tá»± Ä‘á»™ng deploy á»©ng dá»¥ng, cÃ¡c pháº§n khÃ¡c báº¡n cÃ³ thá»ƒ tÃ¬m hiá»ƒu thÃªm trÃªn trang chá»§ CircleCI Ä‘á»ƒ cáº¥u hÃ¬nh TÃ i liá»‡u tham kháº£o Setting an Environment Variable in a Project - CircleCI Configuring Deploys - CircleCI Deploying project to Heroku - Viblo Github repository","link":"/2020/01/09/Circle-CI-Auto-deploying-ung-dung-web-tren-Heroku/"},{"title":"[CircleCI] Running Your First Build","text":"CI/CD lÃ  má»™t bá»™ Ä‘Ã´i cÃ´ng viá»‡c liÃªn quan Ä‘áº¿n viá»‡c tá»± Ä‘á»™ng lÃ m nhá»¯ng cÃ´ng viá»‡c láº·p Ä‘i láº·p láº¡i cá»§a developers, bao gá»“m CI (Continuous Integration) vÃ  CD (Continuous Delivery), Ã½ nÃ³i lÃ  quÃ¡ trÃ¬nh tÃ­ch há»£p (integration) thÆ°á»ng xuyÃªn, nhanh chÃ³ng hÆ¡n khi code cÅ©ng nhÆ° thÆ°á»ng xuyÃªn cáº­p nháº­t phiÃªn báº£n má»›i (delivery). CircleCI lÃ  má»™t sáº£n pháº©m thá»±c hiá»‡n cáº£ CI/CD, cá»¥ thá»ƒ nÃ³ build, kiá»ƒm thá»­ cÃ¡c script báº¡n cÃ i Ä‘áº·t vÃ  tests (unit test) cháº³ng háº¡n vÃ  tá»± Ä‘á»™ng deploy á»©ng dá»¥ng - Continuous Deploy. CircleCI automates your software builds, tests, and deployments. CircleCI cháº¡y gáº§n 1 triá»‡u jobs má»—i ngÃ y, há»— trá»£ 30.000 tá»• chá»©c. CÃ¡c tá»• chá»©c nÃ y chá»n CircloCI bá»Ÿi vÃ¬ jobs cháº¡y nhanh vÃ  viá»‡c builds á»©ng dá»¥ng cÃ³ thá»ƒ Ä‘Æ°á»£c tá»‘i Æ°u xá»­ lÃ½ vá» tá»‘c Ä‘á»™. CircleCI cÃ³ thá»ƒ Ä‘Æ°á»£c cáº¥u hÃ¬nh Ä‘á»ƒ cháº¡y nhiá»u pipelines phá»©c táº¡p má»™t cÃ¡ch hiá»‡u quáº£. Vá»›i má»™t developer cÅ©ng cÃ³ thá»ƒ sá»­ dá»¥ng SSH into any joib Ä‘á»ƒ debug cÃ¡c váº¥n Ä‘á» khi build, cÃ i Ä‘áº·t song song cÃ¡c jobs Ä‘á»ƒ cháº¡y nhanh hÆ¡n, vÃ  config caching vá»›i 1 vÃ i tá»« khÃ³a Ä‘Æ¡n giáº£n Ä‘á»ƒ cÃ³ thá»ƒ sá»­ dá»¥ng láº¡i dá»¯ liá»‡u tá»« jobs trÆ°á»›c Ä‘Ã³ qua workflow. Äá»‘i vá»›i ngÆ°á»i Ä‘iá»u hÃ nh vÃ  quáº£n trá»‹ viÃªn, sá»­ dá»¥ng CircleCI cÃ i Ä‘áº·t trÃªn server chung, CircleCI cung cáº¥p giao diá»‡n trá»±c quan theo dÃµi viá»‡c build cá»§a báº¡n. TÃ i liá»‡u cung cáº¥p hÆ°á»›ng dáº«n tá»«ng bÆ°á»›c Ä‘á»ƒ báº¡n build thÃ nh cÃ´ng láº§n Ä‘áº§u trÃªn Circle 2.0 0. YÃªu cáº§u trÆ°á»›c khi cháº¡y build láº§n Ä‘áº§u CÃ¡c kiáº¿n thá»©c cÆ¡ báº£n vá» Git, cÃ³ tÃ i khoáº£n GitHub.com, GitHub repository CÃ³ kiáº¿n thá»©c cÆ¡ báº£n vá» terminal hoáº·c bash Ä‘á»ƒ sá»­ dá»¥ng command line má»™t cÃ¡ch há»¯u Ã­ch 1. Createting a RepositoryBÆ°á»›c 1: Chá»n repositories vÃ  nháº¥n New hoáº·c vÃ o trá»±c tiáº¿p trang nÃ y https://github.com/new BÆ°á»›c 2: Chá»n Initialize this repository with a README vÃ  click Create repository button: 2. ThÃªm má»™t .yml fileCircle sá»­ dá»¥ng 1file YAML Ä‘á»ƒ xÃ¡c Ä‘á»‹nh lÃ m sao báº¡n muá»‘n test mÃ´i trÆ°á»ng vÃ  test nhá»¯ng thá»© báº¡n muá»‘n cháº¡y. Trong Circle 2.0, file nÃ y pháº£i Ä‘Æ°á»£c gá»i lÃ  config.yml vÃ  pháº£i Ä‘Æ°á»£c trong thÆ° má»¥c áº©n .circleci. TrÃªn Mac, Linux vÃ  Windows, tÃªn files vÃ  folders báº¯t Ä‘áº§u vá»›i dáº¥u cháº¥m sáº½ bá»‹ áº¥n Ä‘i theo cÃ i Ä‘áº·t máº·c Ä‘á»‹nh.12mkdir .circlecitouch .circleci/config.ymlVÃ  ná»™i dung cá»§a file config.yml12345678version: 2jobs: build: docker: - image: circleci/ruby:2.4.1 steps: - checkout - run: echo &quot;A first hello&quot; sau Ä‘Ã³ commit vÃ  push lÃªn repo nhÆ° thÃ´ng thÆ°á»ng nhÃ©123git add .circleci/config.ymlgit commit -m &quot;Create circle-ci config&quot;git push origin masterHoáº·c báº¡n cÅ©ng cÃ³ thá»ƒ táº¡o vá»›i giao diá»‡n 3. Setting up Your Build on CircleCI BÆ°á»›c 1: TrÆ°á»›c khi thá»±c hiá»‡n bÆ°á»›c nÃ y báº¡n cáº§n táº¡o má»™t tÃ i khoáº£n CircleCI. Sau Ä‘Ã³ vÃ o trang Dashboard. BÆ°á»›c 2: Tiáº¿p theo báº¡n sáº½ nháº­n Ä‘Æ°á»£c tÃ¹y chá»n danh sÃ¡ch cÃ¡c projects báº¡n cÃ³ thá»ƒ truy cáº­p vÃ  building CircleCI. á» mÃ n hÃ¬nh tiáº¿p theo, báº¡n cÃ³ thá»ƒ thÃªm repo báº¡n Ä‘Ã£ táº¡p nhÆ° 1 project má»›i trÃªn CircleCI BÆ°á»›c 3: Äá»ƒ thÃªm repo má»›i cá»§a báº¡n, nháº¥n Set Up project BÆ°á»›c 4: á» mÃ n hÃ¬nh tiáº¿p theo, báº¡n sáº½ nháº­n Ä‘Æ°á»£c 1 vÃ i tÃ¹y chá»n cáº¥u hÃ¬nh cho project cá»§a báº¡n trÃªn CircleCI. Lá»±a chá»n phÃ¹ há»£p vÃ  nháº¥n Start building 4. Running Your First CircleCI Build!Báº¡n nÃªn xem láº§n build cháº¡y tá»± Ä‘á»™ng vÃ  pass! Váº­y, cÃ¡i gÃ¬ Ä‘ang diá»…n ra? Nháº¥n vÃ o nÃºt Success xanh trÃªn Dashboard Ä‘á»ƒ xem xÃ©t cÃ¡c pháº§n cháº¡y. Spin up environment: CircleCI Ä‘Ã£ sá»­ dá»¥ng circleci/ruby:2.4.1. Docker image to launch a virtual computing environment. Checkout code: CircleCI checked out your GitHub repository vÃ  â€œclonedâ€ vÃ o vÃ o the virtual environment launched in Step 1. echo: ÄÃ¢y lÃ  cÃ¡c lá»‡nh khÃ¡c trong file config.yml: CircleCI cháº¡y lá»‡nh echo vá»›i inpuit â€œA first helloâ€.Máº·c dÃ¹ thá»±c cháº¥t khÃ´ng cÃ³ source code trÃªn repo cá»§a báº¡n vÃ  thá»±c táº¿ khÃ´ng Ä‘Æ°á»£c cáº¥u hÃ¬nh tests trong file config.yml, CircleCI váº«n xem xÃ©t build cá»§a báº¡n Ä‘Ã£ â€œsucceededâ€ vÃ¬ táº¥t cáº£ cÃ¡c bÆ°á»›c Ä‘Ã£ thÃ nh cÃ´ng (Ä‘Ã£ Ä‘Æ°á»£c tráº£ vá» 0). Thá»±c cháº¥t nhiá»u projects phá»©c táº¡p hÆ¡n ráº¥t nhiá»u, thÃ´ng thÆ°á»ng sáº½ cÃ³ nhiá»u Docker images vÃ  nhiá»u bÆ°á»›c, bao gá»“m sá»‘ lÆ°á»£ng test ráº¥t lá»›n. 5. Breaking Your Build!Chá»‰nh sá»­a file config.yml trÃªn GitHub vÃ  táº¡o commit má»›i Ä‘á»ƒ thá»±c hiá»‡nláº§n build má»›i. Náº¿u build lá»—i, sáº½ cÃ³ nÃºt Ä‘á» Failed vÃ  CircleCI sáº½ gá»­i cho báº¡n 1 email Ä‘á»ƒ thÃ´ng bÃ¡o lá»—i. 6. Using the Workflows FunctionalityHÆ°á»›ng dáº«n tiáº¿p theo sáº½ hÆ°á»›ng dáº«n báº¡n sá»­ dá»¥ng workflow, má»™t Ä‘iá»ƒm máº¡nh cá»§a CircleCI giÃºp build cÃ¡c jobs song song hoáº·c cáº§n phá»¥ thuá»™c vÃ o nhau. BÆ°á»›c 1: Äá»ƒ xem luá»“ng lÃ m viá»‡c, chá»‰nh sá»­a file .circleci/config.yml1234567891011121314version: 2jobs: build: docker: - image: circleci/ruby:2.4.1 steps: - checkout - run: echo &quot;A first hello&quot; build: docker: - image: circleci/ruby:2.4.1 steps: - checkout - run: echo &quot;A first hello&quot; BÆ°á»›c 2: Tiáº¿p theo, Ä‘á»•i tÃªn 2 jobs Ä‘á»ƒ chÃºng khÃ¡c tÃªn. Trong vÃ­ dá»¥ nÃ y chÃºng tÃ´i sáº½ Ä‘áº·t tÃªn chÃºng lÃ  one vÃ  two. Thay Ä‘á»•i ná»™i dung echo khÃ¡c nhau ná»¯a. Äá»ƒ cÃ³ thá»i gian giá»¯a csac láº§n build trÆ°á»›c, chÃºng ta cÃ³ thá»ƒ thÃªm lá»‡nh sleep. BÆ°á»›c 3: ThÃªm pháº§n workflows vÃ o file config.yml. Pháº§n nÃ y cÃ³ thá»ƒ Ä‘Æ°á»£c Ä‘áº·t á»Ÿ báº¥t cá»© Ä‘Ã¢u trong file. NhÆ°ng nÃ³ thÆ°á»ng Ä‘Æ°á»£c Ä‘áº·t á»Ÿ Ä‘áº§u hoáº·c cuá»‘i file:12345678910111213141516171819202122version: 2jobs: one: docker: - image: circleci/ruby:2.4.1 steps: - checkout - run: echo &quot;A first hello&quot; - run: sleep 25 two: docker: - image: circleci/ruby:2.4.1 steps: - checkout - run: echo &quot;A more familiar hi&quot; - run: sleep 15workflows: version: 2 one_and_two: jobs: - one - two BÆ°á»›c 4: Commit sá»± thay Ä‘á»•i nÃ y, Ä‘áº©y lÃªn repository cá»§a báº¡n vÃ  nhÃ¬n láº¡i CircleCI dashboard BÆ°á»›c 5: Click vÃ o link Ä‘á»ƒ xem workflow 2 jobs cháº¡y song song Xem thÃªm workflow táº¡i: https://circleci.com/docs/2.0/workflows/#overview 7. Adding Some Changes to use the Workspaces FunctionalityMá»—i workflow cáº§n liÃªn káº¿t khÃ´ng gian lÃ m viá»‡c, cÃ¡i mÃ  cÃ³ thá»ƒ dÃ¹ng Ä‘á»ƒ chuyá»ƒn file tá»« jobs trÃªn xuá»‘ng xÃ¡c workflow Ä‘ang xá»­ lÃ½. Báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng workflow Ä‘á»ƒ lÃ m viá»‡c nÃ y.12345678910111213141516171819202122232425262728293031323334353637383940version: 2jobs: one: docker: - image: circleci/ruby:2.4.1 steps: - checkout - run: echo &quot;A first hello&quot; - run: mkdir -p my_workspace - run: echo &quot;Trying out workspaces&quot; &gt; my_workspace/echo-output - persist_to_workspace: # Must be an absolute path, or relative path from working_directory root: my_workspace # Must be relative path from root paths: - echo-output two: docker: - image: circleci/ruby:2.4.1 steps: - checkout - run: echo &quot;A more familiar hi&quot; - attach_workspace: # Must be absolute path or relative path from working_directory at: my_workspace - run: | if [[ $(cat my_workspace/echo-output) == &quot;Trying out workspaces&quot; ]]; then echo &quot;It worked!&quot;; else echo &quot;Nope!&quot;; exit 1 fiworkflows: version: 2 one_and_two: jobs: - one - two: requires: - one 8. SSH into Your BuildNáº¿u báº¡n cáº£m tháº¥y thoáº£i mÃ¡i hÆ¡n vá»›i terminal, báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng SSH trá»±c tiáº¿p tá»›i jobs CircleCI Ä‘á»ƒ xá»­ lÃ½ váº¥n Ä‘á» vá»›i builds báº±ng cÃ¡ch cháº¡y láº¡i build vá»›i SSH enabled option. Sá»­ dá»¥ng cÃ¡ch nÃ y cÅ©ng ráº¥t thuáº­n tiá»‡n Ä‘á»ƒ báº¡n debug cÃ¡c jobs cá»§a mÃ¬nh, tuyá»‡t vá»i pháº£i khÃ´ng nÃ o. Note that you will need to add your SSH keys to your GitHub account: https://help.github.com/articles/connecting-to-github-with-ssh/. OK rá»“i Ä‘Ã³, báº¡n cÃ³ thá»ƒ copy lá»‡nh shh sinh ra vÃ  truy cáº­p thÃ´i1ssh -p 64539 54.146.195.254NhÆ° váº­y báº¡n Ä‘ang thá»±c thi jobs nÃ y dÆ°á»›i dáº¡ng command line. Báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng cÃ¡c lá»‡nh trong workspace thÃ´i:1234pwd # print what directory, find out where you are in the file systemls -al # list what files and directories are in the current directorycd &lt;directory_name&gt; # change directory to the &lt;directory_name&gt; directorycat &lt;file_name&gt; # show me the contents of the file &lt;file_name&gt; Tá»•ng káº¿t Äá»ƒ tÃ­ch há»£p CircleCI á»©ng dá»¥ng, cÅ©ng Ä‘Æ¡n giáº£n, táº¡o file cáº¥u hÃ¬nh .circleci/config.yml vÃ  cáº¥u hÃ¬nh trÃªn Dashboard lÃ  Ä‘Æ°á»£c https://circleci.com/dashboard Náº¿u báº¡n chá»‰ cáº§n cháº¡y 1 jobs Ä‘Æ¡n giáº£n nhÆ° check convention, unit test, khÃ´ng cáº§n setting quÃ¡ nhiá»u thá»© ná»™i dung file nÃ y sáº½ khÃ¡ Ä‘Æ¡n giáº£n, bao gá»“m cÃ¡c run trong steps lÃ  Ä‘Æ°á»£c1234567891011121314151617181920212223version: 2.1jobs: build: docker: - image: circleci/php:7.2-node-browsers steps: - checkout - run: name: Install Composer command: | php -r &quot;copy('https://getcomposer.org/installer', 'composer-setup.php');&quot; php -r &quot;if (hash_file('SHA384', 'composer-setup.php') === trim(file_get_contents('https://composer.github.io/installer.sig'))) { echo 'Installer verified'; } else { echo 'Installer invalid'; unlink('composer-setup.php'); } echo PHP_EOL;&quot; php composer-setup.php php -r &quot;unlink('composer-setup.php');&quot; - run: name: Running PHPCS command: | cd ./vendor/squizlabs/php_codesniffer/src/Standards git clone git@github.com:wataridori/framgia-php-codesniffer.git Framgia cd ../../../../../ ./vendor/bin/phpcs -n Náº¿u cÃ³ nhiá»u jobs hÆ¡n, hÃ£y xem xÃ©t sá»­ dá»¥ng jobs vÃ  workflows (vÃ­ dá»¥ nhÆ° báº¡n vá»«a muá»‘n check cÃ¡c tests vÃ  muá»‘n deploy cháº³ng háº¡n) Sá»­ dá»¥ng SSH Ä‘á»ƒ debug cÃ¡c jobs, truy cáº­p vÃ o container Ä‘á»ƒ kiá»ƒm tra. CÃ¡c lá»‡nh trong CircleCI hoÃ n toÃ n cÃ³ thá»ƒ tham chiáº¿u tá»›i cÃ¡c biáº¿n mÃ´i trÆ°á»ng, cho phÃ©p báº¡n lÃ m viá»‡c cÃ³ thá»ƒ má»Ÿ rá»™ng hÆ¡n! TÃ i liá»‡u tham kháº£oCircleCI - Get started","link":"/2020/01/09/CircleCI-Running-Your-First-Build/"},{"title":"[Circle CI] Auto deploying á»©ng dá»±ng trÃªn Google Cloud","text":"BÃ i viáº¿t sáº½ giáº£i thÃ­ch cÃ¡c tham sá»‘ Ä‘á»ƒ cÃ³ thá»ƒ auto deploy 1 project lÃªn Google Cloud. CÃ¡c bÆ°á»›c cá»¥ thá»ƒ hÃ£y Ä‘á»c theo Quickstart vÃ¬ nÃ³ khÃ¡ Ä‘Æ¡n giáº£n Äá»ƒ tá»± Ä‘á»™ng deploy Ä‘Æ°á»£c thÃ¬ tÃ i liá»‡u Ä‘ang sá»­ dá»¥ng deploy trÃªn Google Kubernetes Engine. CÃ¡c App Engine hay Compute Engine cÃ³ Ä‘Æ°á»£c hay khÃ´ng thÃ¬ tÃ¡c giáº£ khÃ´ng rÃµ Project Demo: https://github.com/CircleCI-Public/circleci-demo-k8s-gcp-hello-app Docs: https://circleci.com/docs/2.0/deployment-integrations/#google-cloud 0. YÃªu cáº§uBáº¡n cÃ³ thá»ƒ tá»± deploy thá»§ cÃ´ng á»©ng dá»¥ng vá»›i Google Kubernetes Engine, Ã­t nháº¥t cÅ©ng theo hÆ°á»›ng dáº«n nÃ yhttps://cloud.google.com/kubernetes-engine/docs/quickstart 1. Giáº£i thÃ­ch cÃ¡c tham sá»‘ cáº¥u hÃ¬nh GCLOUD_SERVICE_KEY: &lt;base64-encoded GCP service account key value&gt; ÄÃ¢y lÃ  giÃ¡ trá»‹ mÃ£ hÃ³a base-64 file JSON chá»©a key cá»§a service accout cá»§a báº¡n. Copy giÃ¡ trá»‹ trong file auth.json Ä‘Ã³ vÃ  Ä‘Æ°a lÃªn trang https://www.base64encode.org/ láº¥y ná»™i dung cho vÃ o biáº¿n nÃ y. GOOGLE_PROJECT_ID: e.g. hello-app-12345 GOOGLE_CLUSTER_NAME: e.g. cluster-1 (the cluster will be created if it doesnâ€™t yet exist) GOOGLE_COMPUTE_ZONE: e.g. us-central1-a DOCKER_IMAGE_NAME: e.g. gcr.io/hello-app-12345/hello-app (should match project id) GiÃ¡ trá»‹ hellp-app-12345 Ä‘Ã³ lÃ  project id Tham kháº£o thÃªm táº¡i Ä‘Ã¢y1docker push [HOSTNAME]/[PROJECT-ID]/[IMAGE] DELETE_CLUSTER_AT_END_OF_TEST: true|false (If set to true, the deploymentâ€™s resources including the cluster named by GOOGLE_CLUSTER_NAME will be deleted after the test. This will prevent unwanted charges incurring on your GCP account) 2. Giáº£i thÃ­ch CircleCI configNá»™i dung file config: https://github.com/CircleCI-Public/circleci-demo-k8s-gcp-hello-app/blob/master/.circleci/config.yml 2.1. Build Jobsname: Generate full image name for new docker imagePháº§n nÃ y cháº¯c khÃ´ng cáº§n giáº£i thÃ­ch Ä‘Ã¢u nhá»‰, nÃ³ chá»‰ lÃ  sinh tÃªn cho docker image TÃªn nÃ y Ä‘Æ°á»£c lÆ°u vÃ o biáº¿n full_docker_image_name name: Build imageBuild image xÃ¢y dá»±ng Ä‘Æ°á»£c tá»« bÆ°á»›c trÃªn. name: Push image1echo $GCLOUD_SERVICE_KEY | base64 --decode --ignore-garbage &gt; gcloud-service-key.json Láº¥y ná»™i dung biáº¿n env GCLOUD_SERVICE_KEY Ä‘Ã£ mÃ£ hÃ³a base 64 á»Ÿ trÃªn, ná»™i dung file JSON Ä‘Æ°á»£c sinnh tá»« Google Cloud lÆ°u vÃ o file má»›i vá»›i tÃªn gcloud-service-key.json12gcloud auth activate-service-account --key-file gcloud-service-key.jsongcloud --quiet auth configure-dockerTiáº¿p theo lÃ  gcloud xÃ¡c thá»±c user vÃ  config docker thÃ´i. Chi tiáº¿t: https://cloud.google.com/sdk/gcloud/reference/auth/activate-service-account https://cloud.google.com/sdk/gcloud/reference/auth/configure-docker name: Test local imageBáº­t (run) docker 2.2. Deploy Jobsname: DeployÄÃ¢y lÃ  cÃ¡c viá»‡c cáº§n lÃ m khi thá»§ cÃ´ng Ä‘á»ƒ tiáº¿n hÃ nh deploy 1 project len Google Cloud. Äá»ƒ deploy tá»± Ä‘á»™ng Ä‘Æ°á»£c, báº¡n pháº£i sá»­ dá»¥ng Kubernetes Engine CÃ¡c lá»‡nh trong Jobs nÃ y thá»±c hiá»‡n tÆ°Æ¡ng tá»± GKE Quickstart Äáº§u tiÃªn sáº½ lÃ  xÃ¡c thá»±c vÃ  cáº¥u hÃ¬nh project id, zone vá»›i gcloud123gcloud auth activate-service-account --key-file gcloud-service-key.jsongcloud --quiet config set project $GOOGLE_PROJECT_IDgcloud --quiet config set compute/zone $GOOGLE_COMPUTE_ZONEBÆ°á»›c tiáº¿p theo lÃ  táº¡o hoáº·c káº¿t ná»‘i vá»›i GKE cluster:12345678EXISTING_CLUSTER=$(gcloud container clusters list --format=&quot;value(name)&quot; --filter=&quot;name=$GOOGLE_CLUSTER_NAME&quot;)if [ &quot;${EXISTING_CLUSTER}&quot; != $GOOGLE_CLUSTER_NAME ]then # Create cluster if it doesn't already exist gcloud --quiet container clusters create $GOOGLE_CLUSTER_NAME --num-nodes=1else gcloud --quiet container clusters get-credentials $GOOGLE_CLUSTER_NAMEfiTiáº¿p theo lÃ : Deploying an application to the cluster:1234FULL_DOCKER_IMAGE_NAME=$(cat workspace/full_docker_image_name)# Replace DOCKER_IMAGE_NAME placeholder in manifest with actual image nameKUBE_CONFIG=$(cat hello-app/manifests/helloweb-all-in-one.yaml.template | sed &quot;s|DOCKER_IMAGE_NAME|$FULL_DOCKER_IMAGE_NAME|g&quot;)echo &quot;$KUBE_CONFIG&quot; | kubectl apply -f -Inspecting the application1kubectl get podsNhÆ° váº­y lÃ  deploy xong rá»“i Ä‘Ã³ :D name: Test deployed applicationKiá»ƒm tra xem Ä‘Ã£ deploy thÃ nh cÃ´ng chÆ°a thÃ´ng qua curl vÃ  cÃ¡c tham sá»‘ Ä‘Æ°á»£c láº¥y tá»« kubectl command. name: Tear down application and resources if configured (since this is a demo)CÃ¡i nÃ y cháº¯c khá»i cáº§n giáº£i thÃ­ch. 3. Test auto deployÄá»ƒ thá»­ xem nÃ³ Ä‘Ã£ tá»± Ä‘á»™ng deploy chÆ°a, báº¡n chá»‰ cáº§n táº¡o má»™t commit vÃ  Ä‘áº©y tháº±ng vÃ o master thÃ´i. Káº¿t quáº£ thá»±c sá»± Ä‘Ãºng nhÆ° Ã½https://github.com/minhnv2306/circleci-demo-k8s-gcp-hello-app/commit/dbe2cdcf49def4bd3c2ccd23ce98e39886465e36 Ngon tháº­t. 4. Tá»•ng káº¿t NhÆ° váº­y Ä‘á»ƒ á»©ng dá»¥ng Auto deploy trÃªn CircleCI, báº¡n cáº§n tÃ¬m hiá»ƒu Kubernetes Engine deploy qua cÃ¡c Cluster chá»© khÃ´ng thá»ƒ dÃ¹ng Compute Engine deploy trÃªn cÃ¡c VM Instance Ä‘Æ°á»£c. Cáº§n káº¿t há»£p thÃªm docker vÃ  push lÃªn Container Registry ná»¯a nhÃ©. Äau Ä‘áº§u @@. ÄÃ¢y má»›i chá»‰ lÃ  auto deploy á»©ng dá»¥ng example trÃªn trang chá»§, hi vá»ng bÃ i viáº¿t tiáº¿p theo sáº½ deploy Ä‘Æ°á»£c project laravel =)) TÃ i liá»‡u tham kháº£o Github demo project: https://github.com/CircleCI-Public/circleci-demo-k8s-gcp-hello-app Circle CI: https://circleci.com/docs/2.0/deployment-integrations/#google-cloud","link":"/2020/02/06/Circle-CI-Auto-deploying-ung-dung-tren-Google-Cloud/"},{"title":"[Clean code] Chapter 2: Äáº·t tÃªn cÃ³ Ã½ nghÄ©a","text":"TÃªn xuáº¥t hiá»‡n má»i nÆ¡i trong pháº§n má»m. ChÃºng ta cÃ³ tÃªn biáº¿n, tÃªn hÃ m, tÃªn Ä‘á»‘i sá»‘, tÃªn lá»›p, vÃ  package. ChÃºng ta Ä‘áº·t tÃªn cho file mÃ£ nguá»“n, Ä‘Æ°á»ng dáº«n chá»©a chÃºngâ€¦ ChÃºng ta thá»±c hiá»‡n Ä‘áº·t tÃªn, Ä‘áº·t tÃªn vÃ  Ä‘áº·t tÃªn. Bá»Ÿi vÃ¬ chÃºng ta lÃ m viá»‡c Ä‘áº·t tÃªn ráº¥t nhiá»u nÃªn hÃ£y cá»‘ lÃ m nÃ³ má»™t cÃ¡ch tá»‘t nháº¥t. Má»™t sá»‘ tips lÃ  má»™t sá»‘ rule Ä‘Æ¡n giáº£n giÃºp báº¡n táº¡o ra má»™t cÃ¡i tÃªn tá»‘t ^^ Sá»­ dá»¥ng tÃªn cÃ³ thá»ƒ gá»£i lÃªn cÃ¡c thÃ´ng tinTÃªn cuáº£ má»™t biáº¿n, hÃ m hoáº·c lá»›p nÃªn tráº£ lá»i táº¥t cáº£ cÃ¡c cÃ¢u há»i lá»›n: nÃ³ nÃ³i cho báº¡n lÃ  táº¡i sao nÃ³ tá»“n táº¡i, nÃ³ lÃ m cÃ¡i gÃ¬ vÃ  sá»­ dá»¥ng nÃ³ nhÆ° tháº¿ nÃ o. HÃ£y xem xÃ©t cÃ¡ch Ä‘áº·t tÃªn sau:1int d; // elapsed time in daysTÃªn d hoÃ n toÃ n khÃ´ng cÃ³ má»™t Ã½ nghÄ©a nÃ o. Báº¡n khÃ´ng nÃªn Ä‘áº·t tÃªn nhÆ° váº­y, thay vÃ o Ä‘Ã³ báº¡n nÃªn Ä‘áº·t má»™t tÃªn gá»£i lÃªn Ã½ nghÄ©a, nhÆ° thÃªm Ä‘Æ¡n vá»‹ cháº³ng háº¡n, cÃ¡i gÃ¬ Ä‘ang Ä‘Æ°á»£c Ä‘o lÆ°á»ng trong biáº¿n nÃ y vÃ  Ä‘Æ¡n vá»‹ Ä‘o lÆ°á»ng cá»§a nÃ³ lÃ  gÃ¬: 1234int elapsedTimeInDays;int daysSinceCreation;int daysSinceModification;int fileAgeInDays; OK, code cÃ³ váº» dá»… Ä‘á»c hÆ¡n rá»“i Ä‘Ã³. BÃ¢y giá» thá»­ xem xÃ©t Ä‘oáº¡n code sau:1234567public List&lt;int[]&gt; getThem() { List&lt;int[]&gt; list1 = new ArrayList&lt;int[]&gt;(); for (int[] x : theList) if (x[0] == 4) list1.add(x); return list1;}Äoáº¡n code cháº¡y ráº¥t á»•n nhÆ°ng cÃ³ váº» khÃ³ hiá»ƒu quÃ¡. HÃ ng tá»‰ cÃ¢u há»i cÃ³ thá»ƒ Ä‘Æ°á»£c Ä‘áº·t ra vá»›i Ä‘á»‘ng code nÃ y nhÆ°ng mÃ¬nh trÃ­ch xuáº¥t 4 cÃ¢u há»i chÃ­nh: theList lÃ  cÃ¡i quÃ¡i gÃ¬? Táº§m quan trá»ng cuáº£ x[0], táº¡i sao láº¡i dÃ¹ng nÃ³ Ä‘á»ƒ so sÃ¡nh? Dáº¥u hiá»‡u 4 Ä‘á»ƒ so sÃ¡nh mang Ã½ nghÄ©a gÃ¬ ???? GiÃ¡ trá»‹ tráº£ vá» Ä‘Æ°á»£c sá»­ dá»¥ng nhÆ° tháº¿ nÃ o? CÃ¡c cÃ¢u tráº£ lá»i hoáº·c hÃ m Ã½ tráº£ lá»i cÃ¡c cÃ¢u há»i Ä‘Ã³ hoÃ n toÃ n cÃ³ thá»ƒ Ä‘Æ°á»£c báº¡n thá»ƒ hiá»‡n trong code náº¿u báº¡n tinh Ã½ má»™t chÃºt trong viá»‡c Ä‘áº·t tÃªn biáº¿n. HÃ£y coi Ä‘oáº¡n code trÃªn xá»­ lÃ½ má»™t trÃ² chÆ¡i, má»—i hÃ ng (Cell) trÃªn báº£ng (gameBoard) Ä‘Æ°á»£c biá»ƒu diá»…n bá»Ÿi má»™t máº£ng Ä‘Æ¡n giáº£n. Nhiá»‡n vá»¥ cá»§a ta lÃ  xem pháº§n tá»­ Ä‘áº§u cá»§a má»—i hÃ ng Ä‘Ã³ cÃ³ pháº£i lÃ  má»™t â€œcá»â€ nÃ o Ä‘Ã³ khÃ´ng (isFlagged) vÃ  tráº£ vá» cÃ¡c cá»™t thá»a mÃ£n Ä‘iá»u kiá»‡n Ä‘Ã³, easy thÃ´i mÃ : 1234567public List&lt;Cell&gt; getFlaggedCells() { List&lt;Cell&gt; flaggedCells = new ArrayList&lt;Cell&gt;(); for (Cell cell : gameBoard) if (cell.isFlagged()) flaggedCells.add(cell); return flaggedCells;} Äoáº¡n code cÃ³ váº» ngon hÆ¡n rá»“i Ä‘Ã³ :D nÃ³ mang nhiá»u Ã½ nghÄ©a hÆ¡n rá»“i. TrÃ¡nh sai lá»‡ch Ã½ nghÄ©aLáº­p trÃ¬nh viÃªn nÃªn trÃ¡nh cÃ¡c tÃªn gÃ¢y hiá»ƒu nháº§m, sai lá»‡ch nghÄ©a cho ngÆ°á»i khÃ¡c. VÃ­ dá»¥ nhÆ° Ä‘áº·t tÃªn lÃ  accountLists nhÆ°ng cÃ¡c pháº§n tá»­ trong nÃ³ láº¡i lÃ  má»™t array chá»© khÃ´ng pháº£i lÃ  má»™t list. Thay vÃ o Ä‘Ã³, hÃ£y Ä‘áº·t tÃªn lÃ  accountGroup hoáº·c bunchofAccounts hoáº·c tá»‘t nháº¥t lÃ  accounts. Táº¡o sá»± phÃ¢n biá»‡t cÃ³ nghÄ©aCÃ¡ch Ä‘áº·t tÃªn biáº¿n theo kiá»ƒu a1, a2, ... aN táº¡o ra sá»± phÃ¢n biá»‡t nhÆ°ng Ä‘Ã³ thá»±c sá»± lÃ  má»™t cÃ¡ch Ä‘áº·t tÃªn biáº¿n tá»“i. Xem xÃ©t Ä‘oáº¡n code copy chuá»—i mÃ  ta váº«n hay viáº¿t:12345public static void copyChars(char a1[], char a2[]) { for (int i = 0; i &lt; a1.length; i++) { a2[i] = a1[i]; }}NhÃ¬n vÃ o tÃªn hÃ m tháº­t khÃ³ biáº¿t Ä‘Ã¢u lÃ  chuá»—i Ä‘Ã­ch Ä‘Ã¢u lÃ  chuá»—i nguá»“n. Thay vÃ o Ä‘Ã³ hÃ£y Ä‘á»•i tÃªn thÃ nh source vÃ  destination.CÃ¡c tá»« â€œnoise wordsâ€ (a, an, theâ€¦) cÅ©ng khÃ´ng nÃªn xuáº¥t hiá»‡n xuáº¥t hiá»‡n lÃ m tiá»n tá»‘ trong tÃªn biáº¿n. Tá»« varialbe khÃ´ng bao giá» nÃªn xuáº¥t hiá»‡n trong tÃªn biáº¿n, tá»« table khÃ´ng bao giá» nÃªn xuáº¥t hiá»‡n trong tÃªn má»™t cÃ¡i bÃ n. Báº¡n cÃ³ bao giá» thá»­ há»i NameString tá»‘t hÆ¡n hay Name tá»‘t hÆ¡n. CÃ³ khi nÃ o Name láº¡i cÃ³ kiá»ƒu float hay int? OK tÃ´i cá»© thÃ­ch thÃ¬ sao? Váº­y báº¡n nÃªn Ä‘á»c láº¡i nguyÃªn táº¯c sá»‘ 2 :D. Sá»­ dá»¥ng má»™t tÃªn cÃ³ thá»ƒ phÃ¡t Ã¢m Ä‘Æ°á»£cNghe cÃ³ váº» ká»³ ká»³ nhÆ°ng nÃ³ thá»±c sá»± ráº¥t hay. Báº¡n Ä‘áº·t tÃªn biáº¿n lÃ  genymdhms (giáº£ sá»­ lÃ  viáº¿t táº¯t cÃ¡c chá»¯ cÃ¡i Ä‘áº§u cá»§a 1 cá»¥m tá»« nÃ o Ä‘Ã³ báº¡n nhá»› Ä‘Æ°á»£c Ä‘i) sau Ä‘Ã³ anh X review code cho báº¡n nÃ³i â€œX Æ¡i, dÃ²ng XXX em viáº¿t biáº¿n â€¦.â€ (5 phÃºt Ä‘á»ƒ Ä‘á»c). Vá»›i cÃ¡c tÃªn khÃ´ng thá»ƒ phÃ¡t Ã¢m gÃ¢y khÃ³ chá»‹u vÃ  ráº¯c rá»‘i khi trao Ä‘á»•i giá»¯a cÃ¡c thÃ nh viÃªn, nÃ³ biáº¿n chÃºng ta nÃ³i chuyá»‡n nhÆ° nhá»¯ng ngÆ°á»i báº¥t bÃ¬nh thÆ°á»ng @@. Sá»­ dá»¥ng tÃªn cÃ³ thá»ƒ tÃ¬m kiáº¿m Ä‘Æ°á»£cCÃ¡c trÃ¬nh soáº¡n tháº£o ngÃ y cÃ ng Ä‘Æ°á»£c phÃ¡t triá»ƒn máº¡nh máº½ giÃºp viá»‡c tÃ¬m kiáº¿m trá»Ÿ nÃªn dá»… dÃ ng trong Ä‘Ã³ cÃ³ cáº£ tÃªn. Báº¡n thÃ­ch Ä‘áº·t tÃªn ngáº¯n, má»™t hoáº·c 2 kÃ½ tá»± cho code nhanh (vÃ­ dá»¥ tÃªn s cháº³ng háº¡n), vÃ o Ä‘oáº¡n code 1000 dÃ²ng, báº¡n nhá»› lÃ  mÃ¬nh Ä‘Ã£ Ä‘áº· tÃªn nÃ³ lÃ  s xong tÃ¬m kiáº¿m tá»« s vÃ  káº¿t quáº£ lÃ  báº¡n nháº­n vá» 300 káº¿t quáº£. Chá»‹u khÃ³ ngá»“i dÃ² Ä‘i nhÃ© :D. CÃ¡c sá»‘ cÅ©ng váº­y, tÃ¬m má»™t sá»‘ sáº½ cÃ³ ráº¥t nhiá»u káº¿t quáº£, thay vÃ o Ä‘Ã³ báº¡n nÃªn gáº¯n nÃ³ má»™t biáº¿n const:123for (int j=0; j&lt;34; j++) { s += (t[j]*4)/5;}nÃªn Ä‘Æ°á»£c chuyá»ƒn thÃ nh:12345678int realDaysPerIdealDay = 4;const int WORK_DAYS_PER_WEEK = 5;int sum = 0;for (int j=0; j &lt; NUMBER_OF_TASKS; j++) { int realTaskDays = taskEstimate[j] * realDaysPerIdealDay; int realTaskWeeks = (realdays / WORK_DAYS_PER_WEEK); sum += realTaskWeeks;}Äáº·t tÃªn má»™t biáº¿n cÃ³ thá»ƒ tÃ¬m kiáº¿m giÃºp báº¡n rÃºt ngáº¯n thá»i gian tÃ¬m kiáº¿m tÃªn biáº¿n, hÃ m vÃ  lá»›p Ä‘Ã³ má»™t cÃ¡ch dá»… dÃ ng. RÃµ rÃ ng tÃ¬m kiáº¿m biáº¿n NUMBER_OF_TASKS, realDaysPerIdealDay cÃ³ Ã­t káº¿t quáº£ hÆ¡n vÃ  dá»… dÃ ng hÆ¡n ráº¥t nhiá»u so vá»›i 4 hay 5 hay s. TrÃ¡nh cÃ¡c Ã¡nh xáº¡ vá» tinh tháº§n (Avoid Mental Mapping)NÃ³ nÃªn Ä‘Æ°á»£c hiá»ƒu nhÆ° tháº¿ nÃ o? Báº¡n cÃ³ Ä‘á»ƒ Ã½ lÃ  trong vÃ²ng láº·p for() báº¡n hay dÃ¹ng biáº¿n i vÃ  j tháº­m chÃ­ k Ä‘á»ƒ cháº¡y vÃ²ng láº·p. CÃ³ bao giá» báº¡n dÃ¹ng biáº¿n n? Háº§u nhÆ° má»i ngÆ°á»i láº­p trÃ¬nh Ä‘á»u bá»‹ tÃ¢m lÃ½ ráº±ng biáº¿n i,j Ä‘á»ƒ lÆ°u biáº¿n trong vÃ²ng láº·p. Tháº­t lÃ  tháº£m há»a khi báº¡n dÃ¹ng biáº¿n i lÆ°u tá»•ng sá»‘ sinh viÃªn cá»§a má»™t lá»›p. NÃ³i Ä‘Æ¡n giáº£n hÆ¡n, má»i ngÆ°á»i Viá»‡t Nam nhÃ¬n chá»¯ â€œThá»‹â€ trong tÃªn lÃ  trong Ä‘áº§u hiá»ƒu vá»›i nhau Ä‘Æ°Ã¡ Ä‘Ã³ lÃ  con gÃ¡i rá»“i. VÃ¬ váº­y náº¿u báº¡n lÃ  con trai, báº¡n khÃ´ng nÃªn láº¥y cÃ¡i tÃªn â€œBÃ¹i Thá»‹ Hiáº¿uâ€ =)) TÃªn lá»›pTÃªn lá»›p nÃªn lÃ  danh tá»« hoáº·c cá»¥m danh tá»« nhÆ° Customer, WikiPage, Account and AddressParser trÃ¡nh sá»­ dá»¥ng Ä‘á»™ng tá»« nhÆ° Manager , Processor , Data , or Info. TÃªn phÆ°Æ¡ng thá»©cTÃªn phÆ°Æ¡ng thá»©c hoáº·c tÃªn hÃ m nÃªn báº¯t Ä‘áº§u lÃ  Ä‘á»™ng tá»«, tráº£ lá»i cÃ¢u há»i lÃ m gÃ¬ vá»›i cÃ¡i gÃ¬?. Accessors, mutators, vÃ  nháº­n Ä‘á»‹nh nÃªn báº¯t Ä‘áº§u lÃ  get, set vÃ  is:123string name = employee.getName();customer.setName(&quot;mike&quot;);if (paycheck.isPosted()).. Äá»«ng Ä‘áº·t tÃªn â€œcuteâ€, chÆ¡i chá»¯Cute vÃ  chÆ¡i chá»¯ giÃºp vÄƒn cá»§a báº¡n trá»Ÿ nÃªn sinh Ä‘á»™ng cuá»‘n hÃºt ngÆ°á»i Ä‘á»c nhÆ°ng lÃ m Æ¡n chÃºng ta Ä‘ang láº­p trÃ¬nh, Ä‘á»«ng nÃªn Ä‘em lá»‘i viáº¿t vÄƒn Ä‘Ã³ vÃ o viá»‡c Ä‘áº·t tÃªn biáº¿n. Thay vÃ¬ tÃªn phÆ°Æ¡ng thá»©c Ä‘áº·t lÃ  HolyHandGrenade() hÃ£y Ä‘áº·t lÃ  DeleteItem(), thay vÃ¬ Ä‘áº·t tÃªn lÃ  whack(), hÃ£y Ä‘áº·t lÃ  kill(), thay vÃ¬ Ä‘áº·t tÃªn lÃ  eatMyShorts() hÃ£y Ä‘áº·t tÃªn lÃ  abort() Ngá»¯ cáº£nh trong tÃªn biáº¿nTrong phÆ°Æ¡ng thá»©c lÃ m viá»‡c vá»›i Ä‘á»‹a chá»‰, cÃ¡c tÃªn biáº¿n nhÆ° firstName, lastName, street, houseNumber, state cÃ³ thá»ƒ lÃ m cho báº¡n dá»… hiá»ƒu Ä‘Ã³ lÃ  cÃ¡c biáº¿n Ä‘á»ƒ lÆ°u thÃ´ng tin vá» Ä‘á»‹a chá»‰. Tuy nhiÃªn khi Ä‘á»©ng má»™t mÃ¬nh state liá»‡u báº¡n cÃ³ dÃ¡m cháº¯c lÃ  nÃ³ Ä‘á»ƒ lÆ°u má»™t thÃ´ng tin vá» Ä‘á»‹a chá»‰.Do Ä‘Ã³ báº¡n cÃ³ thá»ƒ gÃ¡n cÃ¡c thÃ´ng tin vá» context (ngá»¯ cáº£nh) cho nÃ³ Ä‘á»ƒ lÃ m cho ngÆ°á»i Ä‘á»c thá»±c sá»± hiá»ƒu nÃ³ hÆ¡n. Báº¡n cÃ³ thá»ƒ thÃªm context báº±ng cÃ¡ch sá»­ dá»¥ng prefix: addrFirstName, addrLastName, addrState,... Tá»•ng káº¿tTÃªn ngáº¯n hay tÃªn dÃ i khÃ´ng quan trá»ng, quan trá»ng lÃ  báº¡n pháº£i Ä‘áº·t tÃªn theo cÃ¡ch dá»… Ä‘á»c, dá»… tÃ¬m kiáº¿m, dá»… maintain code, dá»… trao Ä‘á»•i nháº¥t cÃ³ thá»ƒ. Hi vá»ng vá»›i má»™t sá»‘ tips trÃªn giÃºp cÃ¡c báº¡n cÃ³ thá»ƒ lÃ m Ä‘iá»u Ä‘Ã³ má»™t cÃ¡ch tá»‘t hÆ¡n. TÃ i liá»‡u tham kháº£oChapter 2: Clean Code","link":"/2019/04/11/Clean-code-Chapter-2-Dat-ten-co-y-nghia/"},{"title":"[Clean code] Chapter 3: Function - Pháº§n 2","text":"Tiáº¿p tá»¥c pháº§n clean code cho hÃ m, mÃ¬nh xin Ä‘Æ°a ra má»™t sá»‘ tip giÃºp báº¡n clean hÃ m tá»‘t hÆ¡n. Khá»‘i SwitchTháº­t khÃ³ Ä‘á»ƒ táº¡o ra má»™t khá»‘i switch nhá». Tháº­m chÃ­ má»™t khá»‘i switch chá»‰ cÃ³ 2 cases cÅ©ng Ä‘Ã£ lá»›n hÆ¡n má»™t khá»‘i block hoáº·c má»™t hÃ m. Ráº¥t khÃ³ Ä‘á»ƒ táº¡o ra má»™t khá»‘i switch chá»‰ lÃ m 1 viá»‡c. Báº£n thÃ¢n máº·c Ä‘á»‹nh khá»‘i switch Ä‘Ã£ lÃ m N viá»‡c :D. Ta cÃ¹ng xem xÃ©t Ä‘oáº¡n code tÃ­nh lÆ°Æ¡ng theo thá»ƒ loáº¡i nhÃ¢n viÃªn sau:12345678910111213public Money calculatePay(Employee e)throws InvalidEmployeeType { switch (e.type) { case COMMISSIONED: return calculateCommissionedPay(e); case HOURLY: return calculateHourlyPay(e); case SALARIED: return calculateSalariedPay(e); default: throw new InvalidEmployeeType(e.type); }}CÃ³ má»™t vÃ i váº¥n Ä‘á» vá»›i hÃ m nÃ y. Äáº§u tiÃªn, nÃ³ quÃ¡ lá»›n vÃ  khi cÃ³ má»™t thá»ƒ loáº¡i nhÃ¢n viÃªn má»›i Ä‘Æ°á»£c thÃªm, nÃ³ sáº½ ráº¥t lá»›n. Váº¥n Ä‘á» thá»© 2 ráº¥t rÃµ rÃ ng lÃ  nÃ³ lÃ m nhiá»u hÆ¡n 1 viá»‡c. Thá»© 3 lÃ  nÃ³ vi pháº¡m Single Responsibility Principle (SRP) bá»Ÿi vÃ¬ cÃ³ nhiá»u hÆ¡n 1 lÃ½ do cho sá»± thay Ä‘á»•i hÃ m nÃ y. Thá»© 4 lÃ  nÃ³ vi pháº¡m nguyÃªn táº¯c Open Closed Principle (OCP) bá»Ÿi vÃ¬ má»™t khi thÃªm 1 loáº¡i nhÃ¢n viÃªn thÃ¬ pháº£i thay Ä‘á»•i. NhÆ°ng váº¥n Ä‘á» tá»“i tá»‡ nháº¥t á»Ÿ Ä‘Ã¢y lÃ  chÃºng ta sáº½ cÃ³ hÃ ng tá»‰ hÃ m dáº¡ng nhÆ° nÃ y ná»¯a, kiá»ƒu nhÆ°isPayday(Employee e, Date date)hoáº·cdeliverPay(Employee e, Money pay). Giáº£i phÃ¡p cho cÃ¡c khá»‘i switch-case nÃ y lÃ  táº¡o má»™t â€œtáº§ng háº§mâ€ ABSTRACT FACTORY vÃ  khÃ´ng Ä‘á»ƒ ai nhÃ¬n tháº¥y nÃ³. â€œNhÃ  mÃ¡yâ€ sáº½ táº¡o ra cÃ¡c thá»ƒ loáº¡i Employee cho chÃºng ta, cÃ¡c phÆ°Æ¡ng thá»©c calculatePay , isPayday , vÃ  deliverPay sáº½ Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a thÃ´ng qua cÃ¡c interface:123456789101112131415161718192021222324public abstract class Employee { public abstract boolean isPayday(); public abstract Money calculatePay(); public abstract void deliverPay(Money pay);}-----------------public interface EmployeeFactory { public Employee makeEmployee(EmployeeRecord r) throws InvalidEmployeeType;}-----------------public class EmployeeFactoryImpl implements EmployeeFactory { public Employee makeEmployee(EmployeeRecord r) throws InvalidEmployeeType { switch (r.type) { case COMMISSIONED: return new CommissionedEmployee(r) ; case HOURLY: return new HourlyEmployee(r); case SALARIED: return new SalariedEmploye(r); default: throw new InvalidEmployeeType(r.type); } }} Äá»‘i sá»‘ cá»§a 1 hÃ mSá»‘ lÆ°á»£ng Ä‘á»‘i sá»‘ cá»§a 1 hÃ m lÃ½ tÆ°á»Ÿng nháº¥t lÃ  0 (niladic). Sau Ä‘Ã³ lÃ  1 Ä‘á»‘i sá»‘ (monadic), gáº§n ngon hÆ¡n ná»¯a thÃ¬ lÃ  2 (dyadic). CÃ¡c hÃ m 3 Ä‘á»‘i sá»‘ (triadic) Ä‘Æ°á»£c khuyÃªn lÃ  nÃªn trÃ¡nh náº¿u thá»±c sá»± khÃ´ng cáº§n thiáº¿t. CÃ¡c hÃ m hÆ¡n 3 Ä‘á»‘i sá»‘ thÃ¬ háº¡n cháº¿ sá»­ dá»¥ng, trá»« khi cÃ³ lÃ½ do Ä‘áº·c biá»‡t Máº«u hÃ m chung cÃ³ 1 Ä‘á»‘i sá»‘CÃ³ 2 lÃ½ do chung Ä‘á»ƒ báº¡n truyá»n 1 tham sá»‘ vÃ o hÃ m. LÃ½ do Ä‘áº§u tiÃªn lÃ  Ä‘á»ƒ tráº£ lá»i cÃ¢u há»i vá» Ä‘á»‘i sá»‘ Ä‘Ã³, vÃ­ dá»¥ nhÆ° boolean fileExists(â€œMyFileâ€) (tráº£ lá»i cÃ¢u há»i file nÃ y tá»“n táº¡i hay khÃ´ng). LÃ½ do thá»© 2 lÃ  báº¡n truyá»n Ä‘á»‘i sá»‘ nÃ y, xÃ o náº¥u biáº¿n Ä‘á»•i nÃ³ Ä‘á»ƒ tráº£ vá» má»™t cÃ¡i gÃ¬ Ä‘Ã³ tá»« nÃ³. Hai cÃ¡ch sá»­ dá»¥ng nÃ y lÃ  nhá»¯ng gÃ¬ ngÆ°á»i Ä‘á»c mong Ä‘á»£i khi há» tháº¥y má»™t hÃ m thá»±c sá»±. Tuy nhiÃªn, báº¡n hÃ£y chÃº Ã½ Ä‘áº¿n cÃ¡c Ä‘áº·t tÃªn hÃ m Ä‘á»ƒ ngÆ°á»i Ä‘á»c cÃ³ thá»ƒ phÃ¢n biá»‡t Ä‘Æ°á»£c Ã½ nghÄ©a cá»§a hÃ m loáº¡i nÃ y Ä‘ang Ä‘Æ°á»£c sá»­ dá»¥ng vá»›i ly do nÃ o. Má»™t trÆ°á»ng há»£p khÃ¡c cÅ©ng dÃ¹ng kiá»ƒu hÃ m 1 tham sá»‘ nÃ y lÃ  cÃ¡c sá»± kiá»‡n. Nhá»¯ng máº«u event cÃ³ 1 Ä‘á»‘i sá»‘ Ä‘áº§u vÃ o vÃ  khÃ´ng cÃ³ Ä‘á»‘i sá»‘ Ä‘áº§u ra. Tá»•ng thá»ƒ chÆ°Æ¡ng trÃ¬nh cÃ³ nghÄ©a lÃ  diá»…n giáº£i lá»i gá»i hÃ m nhÆ° má»™t sá»± kiá»‡n vÃ  sá»­ dá»¥ng Ä‘á»‘i sá»‘ Ä‘á»ƒ thay Ä‘á»•i tráº¡ng thÃ¡i cá»§a há»‡ thá»‘ng, vÃ­ dá»¥, void passwordAttemptFailedNtimes(int attempts). Sá»­ dá»¥ng sá»± kiá»‡n kiá»ƒu nÃ y cáº§n chÃº Ã½. Cáº§n pháº£i ráº¥t rÃµ rÃ ng cho ngÆ°á»i Ä‘á»c ráº±ng Ä‘Ã¢y lÃ  má»™t sá»± kiá»‡n. Chá»n tÃªn vÃ  bá»‘i cáº£nh cáº©n tháº­n Flag ArgumentsVá»›i nhiá»u ngÆ°á»i cÃ¡c Ä‘á»‘i sá»‘ cá» tháº­t tuyá»‡t, nÃ³ giÃºp giáº£m thiá»ƒu Ä‘Æ°á»£c cÃ¡c cÃ´ng viá»‡c trÃ¹ng láº·p vÃ  kiá»ƒm tra cÃ¡c thá»© â€¦. Tuy nhiÃªn dÆ°á»›i gÃ³c nhÃ¬n clean code vÃ  test, nÃ³ khÃ´ng thá»±c sá»± hoÃ n háº£o nhÆ° váº­y. CÃ¹ng xem Ã½ kiáº¿n cá»§a tÃ¡c giáº£ nhÃ© :D CÃ¡c tham sá»‘ cá» tháº­t lÃ  xáº¥u xÃ­ vÃ  khÃ³ chá»‹u. Truyá»n má»™t giÃ¡ trá»‹ boolean vÃ o 1 hÃ m thá»±c sá»± ráº¥t khá»§ng khiáº¿p. NÃ³ ngay láº­p tá»©c lÃ m phá»©c táº¡p chá»¯ kÃ½ cá»§a phÆ°Æ¡ng thá»©c, lá»›n tiáº¿ng tuyÃªn bá»‘ ráº±ng chá»©c nÄƒng nÃ y lÃ m nhiá»u hÆ¡n má»™t Ä‘iá»u. NÃ³ lÃ m má»™t viá»‡c náº¿u cá» lÃ  Ä‘Ãºng vÃ  má»™t viá»‡c khÃ¡c náº¿u cá» sai! Thay vÃ¬ sá»­ dá»¥ng má»™t phÆ°Æ¡ng thá»©c render(boolean isSuite) tÃ¡c giáº£ khuyÃªn nÃªn tÃ¡ch thÃ nh 2 phÆ°Æ¡ng thá»©c renderForSuite()vÃ  renderForSingleTest() @@ Dyadic Function (hÃ m 2 Ä‘á»‘i sá»‘)HÃ m 2 tham sá»‘ thÃ¬ khÃ³ hiá»ƒu hÆ¡n lÃ  hÃ m 1 tham sá»‘. VÃ­ dá»¥ writeField(name) thÃ¬ dá»… hiá»ƒu hÆ¡n lÃ  writeField(output-Stream, name). Máº·c dÃ¹ tÃªn cá»§a 2 phÆ°Æ¡ng thá»©c Ä‘á»u rÃµ rÃ ng. Má»™t vÃ i trÆ°á»ng há»£p táº¥t nhiÃªn, hÃ m 2 tham sá»‘ lÃ  cá»±c kÃ¬ thÃ­ch há»£p, vÃ­ dá»¥ nhÆ° Point p = new Point(0,0). ChÃºng ta sáº½ ráº¥t ngáº¡c nhiÃªn náº¿u nhÃ¬n tháº¥y new Point(0). Tuy nhiÃªn 2 Ä‘á»‘i sá»‘ trong trÆ°á»ng há»£p nÃ y thá»±c ra lÃ  cÃ¡ch sáº¯p xáº¿p cÃ¡c pháº§n tá»­ cá»§a 1 giÃ¡ trá»‹ Ä‘Æ¡n, khÃ¡c vá»›i output-Stream vÃ  name á»Ÿ trÃªn HÃ£y xem xÃ©t Ä‘áº¿n viá»‡c cáº¯t giáº£m Ä‘á»‘i sá»‘ Ä‘á»ƒ chuyá»ƒn nÃ³ vá» dáº¡ng 1 Ä‘á»‘i sá»‘. VÃ­ dá»¥ writeField(outputStream, name). HÃ£y xem xÃ©t lá»›p chá»©a phÆ°Æ¡ng thá»©c nÃ y cÃ³ thá»ƒ táº¡o má»™t Ä‘á»‘i tÆ°á»£ng outputStream dÃ¹ng chung trong hÃ m táº¡o, hoáº·c cÃ³ thá»ƒ xem xÃ©t táº¡o má»™t lá»›p má»›i (OutputStream) chá»©a phÆ°Æ¡ng thá»©c write(name) vá»›i chá»©c nÄƒng tÆ°Æ¡ng tá»± nÃ³ TriadsHÃ m vá»›i 3 Ä‘á»‘i sá»‘ khÃ³ Ä‘á»c hÆ¡n Ä‘Ã¡ng ká»ƒ so vá»›i hÃ m 2 Ä‘á»‘i sá»‘. TÃ´i khuyÃªn báº¡n nÃªn suy nghÄ© cáº©n tháº­n trÆ°á»›c khi táº¡o ra hÃ m nÃ y CÃ¡c hÃ m cÃ¡c nhiá»u Ä‘á»‘i sá»‘ khi dÃ¹ng kháº£ nÄƒng xáº£y ra lá»—i, sáº¯p xáº¿p tham sá»‘ gÃ¢y khÃ³ hiá»ƒu hÆ¡i ráº¥t nhiá»u so vá»›i cÃ¡c hÃ m 1,2 Ä‘á»‘i sá»‘. Äáº·c biá»‡t khi test cÃ¡c hÃ m nÃ y cÅ©ng gáº·p ráº¥t nhiá»u cÃ¡c váº¥n Ä‘á» Ä‘Ã¡ng pháº£i quan tÃ¢m. Do váº­y hÃ£y suy nghÄ© trÆ°á»›c khi táº¡o cÃ¡c hÃ m nhÆ° váº­y. Äá»‘i sá»‘ lÃ  Ä‘á»‘i tÆ°á»£ngKhi má»™t hÃ m dÆ°á»ng nhÆ° cáº§n nhiá»u hÆ¡n 2 hoáº·c 3 Ä‘á»‘i sá»‘, ta cÃ³ thá»ƒ xem xÃ©t bao bá»c chÃºng trong cÃ¡c lá»›p. CÃ¢n nháº¯c sá»± khÃ¡c biá»‡t cá»§a 2 cÃ¡ch khai bÃ¡o12Circle makeCircle(double x, double y, double radius);Circle makeCircle(Point center, double radius); Cáº¯t giáº£m Ä‘á»‘i sá»‘ truyá»n báº±ng cÃ¡ch táº¡o Ä‘á»‘i tÆ°á»£ng dÆ°á»ng nhÆ° Ä‘ang gian láº­n, nhÆ°ng khÃ´ng pháº£i váº­y. Má»™t thÃ¬ nhÃ³m cÃ¡c biáº¿n vÃ  truyá»n chÃºng cÃ¹ng nhau, nhÆ° cÃ¡ch nhÃ³m x, y vÃ­ dá»¥ trÃªn Äá»‘i sá»‘ lÃ  List thÃ¬ sao nhá»ƒ?Thá»‰nh thoáº£ng chÃºng ta muá»‘n truyá»n 1 sá»‘ lÆ°á»£ng biáº¿n vÃ o 1 hÃ m. Xem xÃ©t vÃ­ dá»¥ hÃ m String.format1String.format(&quot;%s worked %.2f hours.&quot;, name, hours);Náº¿u nhÆ° táº¥t cáº£ cÃ¡c Ä‘á»‘i sá»‘ Ä‘Æ°á»£c xá»­ lÃ½ giá»‘ng nhau nhÆ° vÃ­ dá»¥ trÃªn, chÃºng tÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i má»™t Ä‘á»‘i sá»‘ duy nháº¥t cá»§a loáº¡i List. Vá»›i lÃ½ do nÃ y, hÃ m String.format thá»±c cháº¥t chá»‰ lÃ  dyadic1public String format(String format, Object... args)VÃ¬ váº­y, táº¥t cáº£ cÃ¡c quy táº¯c tÆ°Æ¡ng tá»± cÃ³ thá»ƒ Ã¡p dá»¥ng. CÃ¡c hÃ m cÃ³ Ä‘á»‘i sá»‘ cÃ³ thá»ƒ lÃ  1 Ä‘á»‘i sá»‘, 2 Ä‘á»‘i sá»‘ hoáº·c 3 Ä‘á»‘i sá»‘123void monad(Integer... args);void dyad(String name, Integer... args);void triad(String name, int count, Integer... args); Verbs and KeywordsChá»n 1 cÃ¡i tÃªn tá»‘t cho hÃ m cÃ³ thá»ƒ giáº£i thÃ­ch ná»™i dung hÃ m vÃ  thá»© tá»±, Ã½ nghÄ©a cá»§a cÃ¡c Ä‘á»‘i sá»‘. Äá»‘i vá»›i trÆ°á»ng há»£p hÃ m 1 Ä‘á»‘i sá»‘, tÃªn hÃ m vÃ i Ä‘á»‘i sá»‘ nÃªn lÃ  1 cá»¥m verb/noun thÃ¬ Ä‘áº¹p nháº¥t :v: . VÃ­ dá»¥ write(name) sáº½ Ä‘á»§ gá»£i lÃªn thÃ´ng tin. Tuy nhiÃªn cÃ¢u há»i Ä‘áº·t ra lÃ  â€œnameâ€ lÃ  cÃ¡i gÃ¬? nÃ³ Ä‘Æ°á»£c viáº¿t bá»Ÿi written? Má»™t cÃ¡i tÃªn tá»‘t hÆ¡n lÃ  writeField(name), cÃ¡i mÃ  sáº½ nÃ³i vá»›i chÃºng ta â€œnameâ€ lÃ  má»™t â€œfieldâ€ Cuá»‘i cÃ¹ng lÃ  má»™t vÃ­ dá»¥ vá» keyword trong tÃªn hÃ m. Sá»­ dá»¥ng máº«u nÃ y chÃºng ta sáº½ mÃ£ hÃ³a Ä‘Æ°á»£c tÃªn Ä‘á»‘i sá»‘ trong tÃªn hÃ m. VÃ­ dá»¥ hÃ m assertEquals cÃ³ thá»ƒ Ä‘Æ°á»£c viáº¿t tá»‘t hÆ¡n dÆ°á»›i dáº¡ng assertExpectedEqualsActual(expected, actual). Äiá»u nÃ y máº¡nh máº½ giáº£m thiá»ƒu váº¥n Ä‘á» pháº£i nhá»› thá»© tá»± cá»§a cÃ¡c Ä‘á»‘i sá»‘. KhÃ´ng cÃ³ cÃ¡c chá»©c nÄƒng phá»¥CÃ¡c chá»©c nÄƒng phá»¥ lÃ  sá»± lá»«a dá»‘i. HÃ m cá»§a báº¡n pháº£i há»©a lÃ  lÃ m 1 thá»© nhÆ°ng nÃ³ cÅ©ng lÃ m nhá»¯ng thá»© áº©n khÃ¡c. ÄÃ´i khi nÃ³ lÃ m nhá»¯ng thá»© thay Ä‘á»•i khÃ´ng cáº§n thiáº¿t cho cÃ¡c biáº¿n cá»§a lá»›p cá»§a nÃ³, cÃ¡c biáº¿n global. Xem xÃ©t vÃ­ dá»¥ check login:123456789101112131415public class UserValidator { private Cryptographer cryptographer; public boolean checkPassword(String userName, String password) { User user = UserGateway.findByName(userName); if (user != User.NULL) { String codedPhrase = user.getPhraseEncodedByPassword(); String phrase = cryptographer.decrypt(codedPhrase, password); if (&quot;Valid Password&quot;.equals(phrase)) { Session.initialize(); return true; } } return false; }}Chá»©c nÄƒng phá»¥ á»Ÿ Ä‘Ã¢y lÃ  Session.initialize(). TÃªn hÃ m cá»§a nÃ³ chá»‰ mÃ´ táº£ kiá»ƒm tra máº­t kháº©u, khÃ´ng nÃ³i Ä‘áº¿n viá»‡c khá»Ÿi táº¡o Session. VÃ¬ váº­y ngÆ°á»i gá»i tin vÃ o tÃªn cá»§a nÃ³, gá»i hÃ m vÃ  ráº¥t cÃ³ thá»ƒ sáº½ xÃ³a bá» toÃ n bá»™ thÃ´ng tin Ä‘Ã£ tá»“n táº¡i trong session. LÃºc nÃ y cÃ³ thá»ƒ tÃªn hÃ m sáº½ lÃ  checkPasswordAndInitializeSession, nhÆ°ng nÃ³ khÃ´ng thá»a mÃ£n tiÃªu chÃ­ Do one thing. Äá»‘i sá»‘ Ä‘áº§u raCÃ¡c Ä‘á»‘i sá»‘ máº·c Ä‘á»‹nh Ä‘Æ°á»£c hiá»ƒu lÃ  cÃ¡c Ä‘á»‘i sá»‘ Ä‘áº§u vÃ o cá»§a 1 hÃ m. Tuy nhiÃªn hÃ£y xem xÃ©t vÃ­ dá»¥1appendFooter(s);HÃ m nÃ y thÃªm s vÃ o footer hay thÃªm 1 vÃ i footer vÃ o s? s lÃ  input hay output. NÃ³ khÃ´ng máº¥t nhiá»u thá»i gian Ä‘á»ƒ xem chá»¯ kÃ½ hÃ m vÃ  nhÃ¬n tháº¥y:1public void appendFooter(StringBuffer report)NhÆ° váº­y Ä‘Ã£ lÃ m rÃµ Ä‘Æ°á»£c váº¥n Ä‘á» nhÆ°ng chi phÃ­ bá» ra lÃ  pháº£i check khai bÃ¡o hÃ m (thÃ¬ ra lÃ  thÃªm footer cho má»™t cÃ¡i report nÃ o Ä‘Ã³, haizz). Má»—i thá»© lÃ m báº¡n pháº£i check chá»¯ kÃ½ cá»§a hÃ m tÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i double-take. Äiá»u Ä‘Ã³ cáº§n trÃ¡nh trong láº­p trÃ¬nh. Trong nhá»¯ng ngÃ y trÆ°á»›c khi láº­p trÃ¬nh hÆ°á»›ng Ä‘á»‘i tÆ°á»£ng, Ä‘Ã´i khi cáº§n pháº£i cÃ³ Ä‘á»‘i sá»‘ Ä‘áº§u ra. Tuy nhiÃªn pháº§n lá»›n nhu cáº§u Ä‘á»‘i sá»‘ Ä‘áº§u ra biáº¿n máº¥t trong cÃ¡c ngÃ´n ngá»¯ OOP, nÃ³ cÃ³ thá»ƒ Ä‘Æ°á»£c sá»­ dá»¥ng thÃ´ng qua this vÃ  trÃ¡nh Ä‘Æ°á»£c cÃ¡c tham sá»‘ Ä‘áº§u ra1report.appendFooter(); Command Query Separation: PhÃ¢n tÃ¡ch cÃ¡c lá»‡nh truy váº¥nCÃ¡c hÃ m nÃªn lÃ m má»™t cÃ¡i gÃ¬ Ä‘Ã³ hoáº·c tráº£ lá»i má»™t cÃ¡i gÃ¬ Ä‘Ã³, nhÆ°ng khÃ´ng pháº£i cáº£ hai. Hoáº·c hÃ m sáº½ thay Ä‘á»•i tráº¡ng thÃ¡i cá»§a má»™t Ä‘á»‘i tÆ°á»£ng hoáº·c nÃ³ sáº½ tráº£ vá» má»™t sá»‘ thÃ´ng tin vá» Ä‘á»‘i tÆ°á»£ng Ä‘Ã³. LÃ m cáº£ hai thÆ°á»ng dáº«n Ä‘áº¿n nháº§m láº«n. HÃ£y xem xÃ©t, vÃ­ dá»¥, sau Ä‘Ã¢y chá»©c nÄƒng:1public boolean set(String attribute, String value);hÃ m nÃ y sáº½ set giÃ¡ trá»‹ cho 1 thuá»™c tÃ­nh vÃ  tráº£ vá» true náº¿u nÃ³ thÃ nh cÃ´ng vÃ  false náº¿u khÃ´ng cÃ³ thuá»™c tÃ­nh tá»“n táº¡i.1if (set(&quot;username&quot;, &quot;unclebob&quot;))...TÆ°á»Ÿng tÆ°á»£ng tá»« gÃ³c nhÃ¬n cá»§a ngÆ°á»i Ä‘á»c. Äiá»u Ä‘Ã³ cÃ³ Ã½ nghÄ©a gÃ¬? NÃ³ kiá»ƒm tra â€œusernameâ€ Ä‘Ã£ Ä‘Æ°á»£c set â€œunclebobâ€ tá»« trÆ°á»›c hay kiÃªm tra set â€œusernameâ€ lÃ  â€œunclebobâ€ thÃ nh cÃ´ng hay khÃ´ng? NÃ³ khÃ³ cÃ³ thá»ƒ suy ra Ã½ nghÄ©a tá»« cuá»™c gá»i nÃ y vÃ¬ nÃ³ khÃ´ng rÃµ rÃ ng vá» viá»‡c tá»« â€œsetâ€ lÃ  má»™t Ä‘á»™ng tá»« hay tÃ­nh tá»«. NgÆ°á»i viáº¿t hÃ m dá»± Ä‘á»‹nh set lÃ  1 Ä‘á»™ng tá»« nhÆ°ng khi Ä‘áº·t nÃ³ trong bá»‘i cáº£nh vá»›i if, nÃ³ dÆ°á»ng nhÆ° láº¡i lÃ  má»™t tÃ­nh tá»«. Do Ä‘Ã³ má»›i xáº£y ra sá»± hiá»ƒu nháº§m nhÆ° trÃªn. ChÃºng ta nÃªn cá»‘ giáº£i quyáº¿t váº¥n Ä‘á» báº±ng cÃ¡ch Ä‘áº·t tÃªn láº¡i cho hÃ m lÃ  setAndCheckIfExists nhÆ°ng nÃ³ láº¡i khÃ´ng cÃ³ Ã­ch cho viá»‡c cÃ³ thá»ƒ Ä‘á»c Ä‘Æ°á»£c trong khá»‘i if. Giáº£i phÃ¡p thá»±c sá»± lÃ  tÃ¡ch lá»‡nh tá»« truy váº¥n Ä‘á»ƒ sá»± mÆ¡ há»“ khÃ´ng thá»ƒ xáº£y ra.1234if (attributeExists(&quot;username&quot;)) { setAttribute(&quot;username&quot;, &quot;unclebob&quot;); ...} Báº¡n nÃªn viáº¿t hÃ m nhÆ° tháº¿ nÃ o?Viáº¿t pháº§n má»m cÅ©ng nhÆ° viáº¿t cÃ¡c thá»© khÃ¡c. Khi báº¡n viáº¿t bÃ¡o hoáº·c táº¡p chÃ­. Báº¡n viáº¿t cÃ¡c Ã½ tÆ°á»Ÿng cá»§a báº¡n Ä‘áº§u tiÃªn, sau Ä‘Ã³ báº¡n chá»‰nh sá»­a nÃ³ cho tá»›i khi Ä‘á»c cÃ³ váº» á»•n. Báº£n tháº£o Ä‘áº§u tiÃªn cÃ³ thá»ƒ lÃ  vá»¥ng vá» vÃ  vÃ´ tá»• chá»©c, vÃ¬ váº­y báº¡n cÆ¡ cáº¥u láº¡i nÃ³ vÃ  tinh chá»‰nh nÃ³ cho Ä‘áº¿n khi nÃ³ cÃ³ thá»ƒ Ä‘á»c theo cÃ¡ch báº¡n muá»‘n nÃ³ Ä‘á»c. Khi báº¡n viáº¿t 1 hÃ m, chÃºng quÃ¡ dÃ i vÃ  phá»©c táº¡p. CÃ³ ráº¥t nhiá»u indenting vÃ  cÃ¡c vÃ²ng láº·p lá»“ng nhau. NÃ³ cÃ³ quÃ¡ nhiá»u Ä‘á»‘i sá»‘. CÃ¡c tÃªn tÃ¹y Ã½, cÃ³ cÃ¡c mÃ£ láº·p láº¡i. VÃ  cÅ©ng cÃ³ cÃ¡c Ä‘oáº¡n mÃ£ unit tests Ä‘á»ƒ test chá»— code lÃ´m cÃ´m nÃ y. VÃ¬ váº­y, sau Ä‘Ã³ báº¡n xem láº¡i vÃ  tinh chá»‰nh Ä‘oáº¡n mÃ£ Ä‘Ã³, tÃ¡ch cÃ¡c hÃ m nhá» hÆ¡n, thay Ä‘á»•i tÃªn, loáº¡i bá» trÃ¹ng láº·p. Báº¡n cáº§n thu nhá» cÃ¡c phÆ°Æ¡ng thá»©c vÃ  sáº¯p xáº¿p láº¡i chÃºng, Ä‘Ã´i khi báº¡n cáº§n phÃ¡ vá»¡ toÃ n bá»™ cÃ¡c lá»›p Ä‘Ã£ xÃ¢y dá»±ng tá»« trÆ°á»›c Ä‘Ã³. Cuá»‘i cÃ¹ng, báº¡n káº¿t thÃºc vá»›i cÃ¡c chá»©c nÄƒng tuÃ¢n theo cÃ¡c quy táº¯c mÃ  tÃ¡c giáº£ Ä‘Ã£ Ä‘áº·t ra trong chÆ°Æ¡ng nÃ y. Tá»•ng káº¿t: Khi sá»­ dá»¥ng switch-case, cÃ¢n nháº¯c sá»­ dá»¥ng ABSTRACT FACTORY. CÃ¢n nháº¯c vÃ  tÃ¬m cÃ¡ch giáº£m Ä‘á»‘i sá»‘ truyá»n vÃ o cá»§a 1 hÃ m, xuá»‘ng 1 Ä‘áº¿n 2 lÃ  tá»‘t Ä‘á»ƒ cÃ³ thá»ƒ test vÃ  dá»… hiá»ƒu. TÃªn hÃ m cÅ©ng cá»±c kÃ¬ quan trá»ng, trÃ¡nh Ä‘á»ƒ double-take. TÃªn Ä‘áº¹p nháº¥t lÃ  cum verb/noun(cho loáº¡i hÃ m 1 Ä‘á»‘i sá»‘). NguyÃªn táº¯c mang tÃ­nh cháº¥t tham kháº£o, tÃ¹y má»¥c Ä‘Ã­ch mÃ  báº¡n cÃ³ thá»ƒ Ã¡p dá»¥ng cho khÃ´ng. Náº¿u cÃ¡c project khÃ´ng cÃ³ cÃ¡c Ä‘oáº¡n unit tests hoáº·c khÃ´ng coi trá»ng clean, báº¡n cÃ³ thá»ƒ táº¡o ra cÃ¡c hÃ m vá»›i nhiá»u Ä‘á»‘i sá»‘, cá» Ä‘á»ƒ thuáº­n tiá»‡n nháº¥t cho project :D. TÃ i liá»‡u tham kháº£o Chapter 3: Clean Code. ABSTRAC FACTORY","link":"/2019/04/11/Clean-code-Chapter-3-Function-Phan-2/"},{"title":"[Clean code] Chapter 3: Function - Pháº§n 1","text":"CÃ¡c function, method xuáº¥t hiá»‡n ráº¥t nhiá»u trong láº­p trÃ¬nh vÃ  pháº§n clean code cá»§a pháº§n nÃ y cÅ©ng lÃ  má»™t pháº§n mÃ¬nh tháº¥y khÃ¡ khÃ³. Trong bÃ i viáº¿t mÃ¬nh Ä‘Æ°a ra má»™t vÃ i nguyÃªn táº¯c vÃ  cá»‘ gáº¯ng clean code chÃ­nh mÃ¬nh theo cÃ¡c nguyÃªn táº¯c Ä‘Ã³ vÃ  táº¥t nhiÃªn cÃ¡c Ä‘oáº¡n code mÃ¬nh tá»‘i Æ°u chÆ°a pháº£i lÃ  tá»‘t nháº¥t :D.TrÆ°á»›c háº¿t hÃ£y xem Ä‘oáº¡n code xá»­ lÃ½ bÆ°á»›c login sau (Xá»© lÃ½ vá»›i framework FuelPHP nhÃ©): Tá»‘ng táº¥t cáº£ vÃ o 1 hÃ m: 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748public function post_login(){ $input = array(); $vali = $this-&gt;_vali(); $check_vali = $vali-&gt;run(); // was the login form posted? if (\\Input::method() == 'POST') { if ($check_vali) { // check the credentials. if (\\Auth::instance()-&gt;login(\\Input::param('username'), \\Input::param('password'))) { // did the user want to be remembered? if (\\Input::param('remember', false)) { // create the remember-me cookie \\Auth::remember_me(); } else { // delete the remember-me cookie if present \\Auth::dont_remember_me(); } // logged in, go back to the page the user came from, or the // application dashboard if no previous page can be detected \\Response::redirect_back('/'); } else { // login failed, show an error message //\\Messages::error(__('login.failure')); $errorMessage = 'Username or password not right!'; $data = [ 'errorMessage' =&gt; $errorMessage, ]; return Response::forge(View::forge('login/index')-&gt;set($data)); } } else { $errors = $vali-&gt;error(); $oldRequest = $vali-&gt;validated(); $data = [ 'errors' =&gt; $errors, 'oldRequest' =&gt; $oldRequest, ]; return Response::forge(View::forge('login/index')-&gt;set($data)); } } // display the login page return \\View::forge('login/index');}Äoáº¡n code cháº¡y á»•n (táº¥t nhiÃªn lÃ  pháº£i cháº¡y á»•n má»›i dÃ¡m nghÄ©a tá»›i clean code chá»© :v) nhÆ°ng ta sáº½ tá»‘i Æ°u nÃ³ ngon hÆ¡n hiá»‡n táº¡i :D Small!!!NguyÃªn táº¯c Ä‘áº§u tiÃªn viáº¿t hÃ m lÃ  hÃ m Ä‘á» nÃªn nhá» vÃ  nguyÃªn táº¯c thá»© 2 lÃ  hÃ m Ä‘Ã³ nÃªn nhá» hÆ¡n ná»¯a. Váº­y tháº¿ nÃ o lÃ  nhá»? Trong cuá»‘n clean code, tÃ¡c giáº£ cÃ³ Ä‘á» cáº­p Ä‘áº¿n Ä‘oáº¡n code xá»­ lÃ½ 1 trÃ² chÆ¡i. NÃ³ cung cáº¥p má»™t hiá»‡u á»©ng áº£o nhÃ¬n ráº¥t Ä‘áº¹p, khi báº¡n di chuyá»ƒn chuá»™t, cÃ³ cÃ¡c hÃ¬nh láº¥p lÃ¡nh rÆ¡i xuá»‘ng dÆ°á»›i mÃ n hÃ¬nh nhÆ° cÃ¡c Ä‘Å©a tháº§n. TÃ¡c giáº£ viáº¿t gá»™p táº¥t cáº£ vÃ o khoáº£ng 3000 dÃ²ng vÃ  sau khi tham kháº£o Ä‘oáº¡n code cá»§a 1 ngÆ°á»i báº¡n Ä‘á»ƒ há»c cÃ¡c clean code, ngÆ°á»i báº¡n Ä‘Ã³ chia code thÃ nh cÃ¡c function cá»±c nhá», nhá» Ä‘áº¿n má»©c má»—i hÃ m chá»‰ 2,3 dÃ²ng. Khá»i láº¥y vÃ­ dá»¥ Ä‘Ã¢u xa, hÃ£y xem code trong Laravel xem function cá»§a há» nhá» Ä‘áº¿n má»©c nÃ o. TrÃ­ch code cá»§a trait ThrottlesLogins trong Laravel:12345678910111213141516171819202122232425262728293031323334353637383940/** * Get the throttle key for the given request. * * @param \\Illuminate\\Http\\Request $request * @return string */ protected function throttleKey(Request $request) { return Str::lower($request-&gt;input($this-&gt;username())).'|'.$request-&gt;ip(); } /** * Get the rate limiter instance. * * @return \\Illuminate\\Cache\\RateLimiter */ protected function limiter() { return app(RateLimiter::class); } /** * Get the maximum number of attempts to allow. * * @return int */ public function maxAttempts() { return property_exists($this, 'maxAttempts') ? $this-&gt;maxAttempts : 5; } /** * Get the number of minutes to throttle for. * * @return int */ public function decayMinutes() { return property_exists($this, 'decayMinutes') ? $this-&gt;decayMinutes : 1; }VÃ¬ váº­y Ä‘á»«ng lo hÃ m cá»§a báº¡n cÃ³ 1,2 dÃ²ng vÃ  tháº­t vÃ´ nghÄ©a. NÃªn chia hÃ m thÃ nh cÃ¡c hÃ m nhá», nhá» vÃ  nhá» hÆ¡n ná»¯a. 1.1. Blocks and IndentingBáº¡n cÃ³ tháº¥y náº¿u báº¡n sá»­ dá»¥ng quÃ¡ nhiá»u if nhÆ° Ä‘oáº¡n code trÃªn, code phá»“ng khÃ¡ to vÃ  gÃ¢y khÃ³ Ä‘á»c. Má»™t nguyÃªn táº¯c ná»¯a lÃ  thá»±c hiá»‡n vá»›i if, else, while .. sau Ä‘Ã³ chá»‰ nÃªn cÃ³ 1 dÃ²ng. DÃ²ng nÃ y nÃªn Ä‘Æ°á»£c gá»i hÃ m. Äiá»u nÃ y khÃ´ng chá»‰ giÃºp hÃ m trá»Ÿ nÃªn small mÃ  nÃ³ cÃ²n lÃ m tÃ i liá»‡u cÃ³ giÃ¡ trá»‹ vÃ¬ hÃ m Ä‘Æ°á»£c gá»i bÃªn trong block cÃ³ 1 cÃ¡i tÃªn miÃªu táº£ ráº¥t Ä‘áº¹p:123456public static String renderPageWithSetupsAndTeardowns( PageData pageData, boolean isSuite) throws Exception { if (isTestPage(pageData)) includeSetupAndTeardownPages(pageData, isSuite); return pageData.getHtml();} 2. Do one thing!!!HÃ m nÃªn Ä‘Æ°á»£c rÃµ rÃ ng vÃ  chá»‰ nÃªn Ä‘áº£m nhiá»‡m lÃ m 1 thá»©. TÆ° tÆ°á»Ÿng nÃ y Ä‘Ã£ xuáº¥t hiá»‡n tá»« hÆ¡n 30 nÄƒm vá» trÆ°á»›c â€œFUNCTIONS SHOULD DO ONE THING . THEY SHOULD DO IT WELL .THEY SHOULD DO IT ONLY.â€œ HÃ m Ä‘Ã³ cÃ³ thá»ƒ táº¡o cÃ¡c bá»™ nhá»› Ä‘á»‡m, chá»‰ format dá»¯ liá»‡u, chá»‰ render ra HTML â€¦ Tuy nhiÃªn Ä‘á»‹nh nghÄ©a tháº¿ nÃ o lÃ  lÃ m 1 viá»‡c láº¡i lÃ  váº¥n Ä‘á» khÃ³. NhÃ¬n láº¡i vÃ­ dá»¥ trong 1.1 ta tháº¥y hÃ m thá»±c hiá»‡n: Determining whether the page is a test page. If so, including setups and teardowns. Rendering the page in HTML. NhÆ° váº­y hÃ m Ä‘Ã³ thá»±c hiá»‡n má»™t viá»‡c hay nhiá»u viá»‡c. HÃ£y Ä‘á»ƒ Ã½ ráº±ng, 3 bÆ°á»›c nÃ y lÃ  3 bÆ°á»›c Ä‘á»ƒ thá»±c hiá»‡n má»™t viá»‡c, má»—i bÆ°á»›c Ä‘Æ°á»£c gá»i má»™t tÃªn hÃ m @@. NhÆ° váº­y nÃ³ thá»±c hiá»‡n 1 viá»‡c. ChÃºng ta cÃ³ thá»ƒ mÃ´ táº£ hÃ m Ä‘Ã³ báº±ng Ä‘oáº¡n vÄƒn TO sau: 123*TO RenderPageWithSetupsAndTeardowns, we check to see whether the page is a test page and if so, we include the setups and teardowns. In either case we render the page in HTML.* HÆ¡i hack nÃ£o má»™t chÃºt xÃ­u. Náº¿u nhÆ° báº¡n thá»±c hiá»‡n theo kiá»ƒu tá»«ng bÆ°á»›c nhÆ° trÃªn dÆ°á»›i dáº¡ng cÃ¡c hÃ m, hÃ m Ä‘Ã³ rÃµ rÃ ng thá»±c hiá»‡n 1 viá»‡c (NguyÃªn báº£n:v It should be very clear that Listing 3-1 contains steps at many different levels of abstraction. So it is clearly doing more than one thing). 3. One Level of Abstraction per FunctionÄá»ƒ cháº¯c cháº¯n ráº±ng 1 hÃ m lÃ m 1 viá»‡c, báº¡n nÃªn chá»‰ gá»i 1 level hÃ m trong 1 hÃ m :v. KhÃ³ giáº£i thÃ­ch quÃ¡ nhÆ°ng tÃ³m láº¡i lÃ  khÃ´ng nÃªn gá»i hÃ m trong hÃ m trong má»™t hÃ m =)). OK nÃ³i tháº¿ nÃ y cho dá»… hÃ¬nh dung nhÃ©. 3.1. Reading Code from Top to Bottom: The Stepdown RuleQuy táº¯c nÃ y hiá»ƒu Ä‘Æ¡n giáº£n lÃ  chÃºng ta muá»‘n Ä‘á»c chÆ°Æ¡ng trÃ¬nh cá»§a báº¡n tá»« trÃªn xuá»‘ng nhÆ° lÃ  táº­p cÃ¡c Ä‘oáº¡n vÄƒn báº¯t Ä‘áº§u lÃ  TO, má»—i bÆ°á»›c miÃªu táº£ â€œcurrent level of abstractionâ€ á»Ÿ hiá»‡n táº¡i vÃ  cÃ¡c miÃªu táº£ cÃ¡c bÆ°á»›c con á»Ÿ level tiáº¿p theo vÃ  má»—i hÃ m chá»‰ nÃªn dá»«ng láº¡i á»Ÿ 1 level cá»§a sá»± trá»«u tÆ°á»£ng.MÃ´ táº£ Ä‘oáº¡n code nhÆ° sau (theo cÃ¡c level):123456789To include the setups and teardowns, we include setups, then we include the test page content, and then we include the teardowns. To include the setups, we include the suite setup if this is a suite, then we include the regular setup. To include the suite setup, we search the parent hierarchy for the â€œSuiteSetUpâ€ page and add an include statement with the path of that page. To search the parent. . .Tá»«ng TO nhÆ° váº­y ta cÃ³ thá»ƒ hiá»ƒu má»—i TO sáº½ lÃ  má»™t hÃ m vÃ  nÃªn dÃ¹ng láº¡i á»Ÿ 1 level TO thá»¥t vÃ o cho má»—i miÃªu táº£ theo nguyÃªn táº¯c sá»‘ 3 nÃ y. Ráº¥t khÃ³ Ä‘á»ƒ láº­p trÃ¬nh viÃªn cÃ³ thá»ƒ tuÃ¢n theo nguyÃªn táº¯c nÃ y, nhÆ°ng Ä‘Ã³ chÃ­nh lÃ  thá»© giÃºp báº¡n cÃ³ thá»ƒ cá»¥ thá»ƒ hÃ³a cÃ¡i má»—i hÃ m chá»‰ lÃ m 1 viá»‡c. 4. á»¨ng dá»¥ng Ä‘á»ƒ clean Ä‘oáº¡n code ban Ä‘áº§uOK, chÃºng ta nhá»› 2 thá»© trong pháº§n bÃ i viáº¿t nÃ y Ä‘Ã³ lÃ  1 hÃ m cáº§n small vÃ  small hÆ¡n ná»¯a. Thá»© 2 lÃ  má»™t hÃ m cáº§n â€œDO ONE THINGâ€, lÃ m 1 viá»‡c nhÆ° tháº¿ nÃ o thÃ¬ hÃ£y sá»­ dá»¥ng cÃ¡c Ä‘oáº¡n vÄƒn TO, Ä‘á»c code tá»« trÃªn xuá»‘ng dÆ°á»›i Ä‘á»ƒ dá»… hÃ¬nh dung. OK váº­y pha login ta mÃ´ táº£ Ä‘oáº¡n vÄƒn TO nhÆ° sau:1234567TO Ä‘Äƒng nháº­p, báº¡n cáº§n pháº£i kiá»ƒm tra dá»¯ liá»‡u sau Ä‘Ã³ má»›i Ä‘Äƒng nháº­p TO kiá»ƒm tra dá»¯ liá»‡u, báº¡n cáº§n xÃ¢y dá»±ng cÃ¡c rules vÃ  cháº¡y nÃ³ TO xÃ¢y dá»±ng cÃ¡c rules ... khoan Ä‘Ã£, chá»‰ 1 level abstract trong 1 hÃ m, cÃ¡i nÃ y mÃ´ táº£ váº«n Ä‘Æ°á»£c nhÆ°ng cáº§n tÃ¡ch nÃ³ ra 1 hÃ m vá»›i cÃ¡i bÃªn trÃªn Ä‘á»ƒ Ä‘áº£m báº£o nguyÃªn táº¯c nÃ y TO Ä‘á»ƒ Ä‘Äƒng nháº­p báº¡n cáº§n gá»i API Ä‘Äƒng nháº­p TO Ä‘Äƒng nháº­p lá»—i thÃ¬ xá»­ lÃ½ nÃ³NhÃ¬n qua ta cáº§n xÃ¢y dá»±ng cÃ¡c hÃ m login, kiá»ƒm tra dá»¯ liá»‡u, tÃ¡c biá»‡t riÃªng, khÃ´ng nÃªn Ä‘á»ƒ chung háº¿t nhÆ° pháº§n má»Ÿ Ä‘áº§u. CÆ¡ báº£n Ä‘oáº¡n TO trÃªn mÃ´ táº£ nhÆ° sau:12345678910111213public function post_login(){ // TO kiá»ƒm tra dá»¯ liá»‡u $checkVali = $this-&gt;_vali_login(); if ($checkVali) { // TO Ä‘Äƒng nháº­p (tÃ¡ch hÃ m riÃªng cho dá»… Ä‘á»c) $this-&gt;handleLoginEvent(); } else { // TO Ä‘Äƒng nháº­p lá»—i return $this-&gt;handleFailedValidateResponse($vali); }}Trong mÃ´ táº£ trÃªn cÃ³ Ä‘oáº¡n á»Ÿ level 2, bÃ¢y giá» ta má»›i mÃ´ táº£:1234TO kiá»ƒm tra dá»¯ liá»‡u, báº¡n cáº§n xÃ¢y dá»±ng cÃ¡c rules vÃ  cháº¡y nÃ³ TO xÃ¢y dá»±ng cÃ¡c roles, Ä‘Ã£ cÃ³ API :D TO cháº¡y nÃ³, ta dÃ¹ng hÃ m run() :D(khÃ´ng cÃ³ level 2 lÃ  ngon rá»“i)Viáº¿t hÃ m validate thÃ´i:12345678910private function _vali_login() { // TO xÃ¢y dá»±ng cÃ¡c rules trong hÃ m login $vali = Validation::forge(); $vali-&gt;add_field('username', 'Your username', 'required'); $vali-&gt;add_field('password', 'Your password', 'required|min_length[3]|max_length[10]'); // TO cháº¡y, gá»i methods run return $vali-&gt;run(); }TÆ°Æ¡ng tá»± xá»­ lÃ½ cÃ¡c pha login, ta cÃ³ Ä‘oáº¡n code Ä‘áº§y Ä‘á»§ sau:123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869// ÄÃ¢y lÃ  hÃ m xá»­ lÃ½ login, cÃ¡c phÆ°Æ¡ng thá»©c sau mang tÃ­nh cháº¥t bá»• trá»£ vÃ  small, small, smallpublic function post_login(){ $checkVali = $$this-&gt;_vali_login(); if ($checkVali) { $this-&gt;handleLoginEvent(); } else { return $this-&gt;handleFailedValidateResponse($vali); }}// Smallprivate function _vali_login(){ $vali = Validation::forge(); $vali-&gt;add_field('username', 'Your username', 'required'); $vali-&gt;add_field('password', 'Your password', 'required|min_length[3]|max_length[10]'); return $vali-&gt;run();}private function login($username, $password){ return \\Auth::instance()-&gt;login($username, $password);}private function handleLoginEvent(){ $username = \\Input::param('username'); $password = \\Input::param('password'); $checkLogin = $this-&gt;login($username, $password); if ($checkLogin) { $this-&gt;handleRememberMe(\\Input::param('remember', false)); \\Response::redirect_back('/'); } else { $this-&gt;handleFailedLoginResponse(); }}private function handleFailedValidateResponse($vali){ $errors = $vali-&gt;error(); $oldRequest = $vali-&gt;validated(); $data = array( 'errors' =&gt; $errors, 'oldRequest' =&gt; $oldRequest, ); return Response::forge(View::forge('login/index')-&gt;set($data));}private function handleFailedLoginResponse(){ Session::set_flash('errorMessage', 'Username or password not right!'); return Response::redirect('login/login');}private function handleRememberMe($remeberMe = true){ if ($remeberMe) { \\Auth::remember_me(); } else { \\Auth::dont_remember_me(); }} Tá»•ng káº¿tVá»›i Function báº¡n cáº§n nhá»› Small. DO ONE THINGS? Äoáº¡n vÄƒn TO.TÃ i liá»‡u tham kháº£oChapter 3: Clean Code.","link":"/2019/04/11/Clean-code-Chapter-3-Function-Phan-1/"},{"title":"[Clean code] Chapter 4: Comment","text":"Sá»± tháº­t chá»©c nÄƒng cÃ¡c hÃ m, lá»›p lÃ m gÃ¬ chá»‰ cÃ³ thá»ƒ Ä‘Æ°á»£c tÃ¬m tháº¥y á»Ÿ má»™t nÆ¡i: code. Chá»‰ cÃ³ code má»›i thá»±c sá»± cÃ³ thá»ƒ cho báº¡n biáº¿t nÃ³ Ä‘ang cÃ³ gÃ¬ vÃ  lÃ m gÃ¬. ÄÃ¢y lÃ  nguá»“n thÃ´ng tin thá»±c sá»± chÃ­nh xÃ¡c duy nháº¥t. Do Ä‘Ã³, máº·c dÃ¹ comment lÃ  Ä‘Ã´i khi lÃ  cáº§n thiáº¿t, nhÆ°ng chÃºng ta sáº½ tÃ¬m cÃ¡ch Ä‘á»ƒ tá»‘i thiá»ƒu nÃ³ trong code cá»§a mÃ¬nh Ä‘á»ƒ trÃ¡nh gÃ¢y hoang mang thÃ´ng tin :v. Comment thÆ°á»ng Ä‘Æ°á»£c khuyÃªn lÃ  khÃ´ng nÃªn cho vÃ o trong code â€œDonâ€™t comment bad codeâ€”rewrite it.â€ Comments Do Not Make Up for Bad CodeMá»™t trong nhá»¯ng lÃ½ do chÃ­nh Ä‘á»ƒ báº¡n comment lÃ  bad code. Báº¡n viáº¿t xong 1 Ä‘oáº¡n code, báº¡n Ä‘á»c láº¡i vÃ  tháº¥y nÃ³ tháº­t khÃ³ hiá»ƒu vÃ  vÃ´ tá»• chá»©c. Sau Ä‘Ã³ báº¡n thÃªm má»™t vÃ i Ä‘oáº¡n comment vÃ o giáº£i thÃ­ch cho cÃ¡c Ä‘oáº¡n code Ä‘Ã³ vÃ  tá»± nhá»§ vá»›i mÃ¬nh â€œÄoáº¡n code Ä‘Ã£ tá»‘t hÆ¡n rá»“iâ€. KhÃ´ng, sáº½ tá»‘t hÆ¡n lÃ  báº¡n nÃªn xÃ³a nÃ³ Ä‘i :DMá»™t Ä‘oáº¡n mÃ£ tá»‘t vá»›i chá»‰ vá»›i má»™t vÃ i comment sáº½ tá»‘t hÆ¡n ráº¥t nhiá»u so vá»›i sá»± lá»™n xá»™n vÃ  phá»©c táº¡p cá»§a má»™t Ä‘oáº¡n mÃ£ vá»›i quÃ¡ nhiá»u comment. Thay vÃ¬ dÃ nh thá»i gian Ä‘á»ƒ viáº¿t comment cho nhá»¯ng má»› há»—n Ä‘á»™n cá»§a mÃ¬nh thÃ¬ hÃ£y dÃ nh thá»i gian Ä‘á»ƒ xÃ³a nÃ³. Explain Yourself in Code: Tá»± giáº£i thÃ­ch trong codeXem xÃ©t Ä‘oáº¡n code sau vá»›i comment12// Check to see if the employee is eligible for full benefitsif ((employee.flags &amp; HOURLY_FLAG) &amp;&amp; (employee.age &gt; 65))Báº¡n tháº¥y á»•n khÃ´ng? CÃ³ comment giáº£i thÃ­ch Ä‘oáº¡n if cho báº¡n. Váº­y táº¡i sao khÃ´ng Ä‘á»ƒ nÃ³ tá»± giáº£i thÃ­ch nhÆ° tháº¿ nÃ y cháº³ng háº¡n if (employee.isEligibleForFullBenefits()) Chá»‰ máº¥t vÃ i giÃ¢y Ä‘á»ƒ ngÆ°á»i Ä‘á»c hiá»ƒu Ä‘oáº¡n code muá»‘n Ä‘á» cáº­p Ä‘áº¿n váº¥n Ä‘á» gÃ¬ thay vÃ¬ Ä‘á»c comment Good CommentsNháº­n xÃ©t nÃªn háº¡n cháº¿ Ä‘Æ°á»£c Ä‘Æ°a vÃ o code, tuy nhiÃªn dÆ°á»›i Ä‘Ã¢y lÃ  má»™t sá»‘ good comment báº¡n nÃªn Ä‘Æ°a vÃ o Ä‘á»ƒ bá»• sung cÃ¡c thÃ´ng tin há»¯u Ã­ch cho cÃ¡c Ä‘oáº¡n code cá»§a báº¡n. Legal Comments: Comment vá» phÃ¡p lÃ½ÄÃ³ lÃ  cÃ¡c comment Ä‘á»ƒ cho ngÆ°á»i khÃ¡c biáº¿t ai viáº¿t Ä‘oáº¡n code Ä‘Ã³. Báº¡n nÃªn comment Ä‘á»ƒ cho ngÆ°á»i khÃ¡c biáº¿t. Náº¿u báº¡n dÃ¹ng PHPStorm, cÃ¡c Ä‘oáº¡n comment nÃ y Ä‘Æ°á»£c sinh má»—i khi báº¡n táº¡o file:12345678&lt;?php/** * Created by PhpStorm. * User: FRAMGIA\\nguyen.van.minhb * Date: 20/07/2018 * Time: 08:50 */class Controller_Event extends \\Controller CÃ¡c comment chá»©a thÃ´ng tinÄÃ³ lÃ  cÃ¡c thÃ´ng tin khÃ¡ há»¯u Ã­ch, cung cáº¥p cÃ¡c thÃ´ng tin cÆ¡ báº£n nháº¥t vá» 1 hÃ m (cháº³ng háº¡n Ä‘áº§u vÃ o, Ä‘áº§u ra):12// Returns an instance of the Responder being tested.protected abstract Responder responderInstance();Hoáº·c Ä‘Ã´i khi lÃ  format dá»¯ liá»‡u Ä‘áº§u ra Ä‘á»ƒ bá»• sung cho láº­p trÃ¬nh viÃªn123// format matched kk:mm:ss EEE, MMM dd, yyyyPattern timeMatcher = Pattern.compile(&quot;\\\\d*:\\\\d*:\\\\d* \\\\w*, \\\\w* \\\\d*, \\\\d*&quot;);Tuy nhiÃªn lá»i khuyÃªn á»Ÿ Ä‘Ã¢y lÃ  tá»‘t nháº¥t báº¡n váº«n nÃªn Ä‘á»ƒ tÃªn hÃ m nÃ³i lÃªn cÃ¡c thÃ´ng tin nÃ y. Náº¿u khÃ´ng thá»ƒ hoáº·c muá»‘n bá»• trá»£ thÃ¬ hÃ£y dÃ¹ng comment. (VÃ­ dá»¥ nhÆ° Accesstor, Mutators hay cÃ¡c nháº­n Ä‘á»‹nh thÃ¬ báº£n cháº¥t tÃªn hÃ m Ä‘Ã£ nÃ³i lÃªn Ã½ nghÄ©a cá»§a nÃ³ rá»“i, cháº¯c khÃ´ng cáº§n comment ná»¯a) Lá»i khuyÃªn thá»© 2 lÃ  báº¡n nÃªn dÃ¹ng PHPStorm Ä‘á»ƒ nÃ³ cÃ³ thá»ƒ sinh chuáº©n format nÃ y cho báº¡n mÃ£ báº¡n Ä‘á»¡ pháº£i nghÄ© :D Giáº£i thÃ­ch thÃªm cho má»¥c Ä‘Ã­ch, quyáº¿t Ä‘á»‹nhÄÃ´i khi, comment nÃªn giáº£i thÃ­ch cÃ¡c thÃ´ng tin há»¯u Ã­ch vá» viá»‡c thá»±c thi vÃ  cung cáº¥p Ã½ Ä‘á»‹nh Ä‘áº±ng sau quyáº¿t Ä‘á»‹nh, cÃ¡c Ä‘oáº¡n code xá»­ lÃ½ (tráº£ lá»i cÃ¢u há»i Why). ÄÃ¢y lÃ  má»™t vÃ­ dá»¥. Báº¡n cÃ³ thá»ƒ khÃ´ng Ä‘á»“ng Ã½ vá»›i giáº£i phÃ¡p cá»§a láº­p trÃ¬nh viÃªn Ä‘á»ƒ giáº£i quyáº¿t váº¥n Ä‘á», nhÆ°ng Ã­t nháº¥t báº¡n biáº¿t nhá»¯ng gÃ¬ Ã´ng Ä‘Ã£ cá»‘ gáº¯ng Ä‘á»ƒ lÃ m.1234567891011121314151617public void testConcurrentAddWidgets() throws Exception { WidgetBuilder widgetBuilder = new WidgetBuilder(new Class[]{BoldWidget.class}); String text = &quot;'''bold text'''&quot;; ParentWidget parent = new BoldWidget(new MockWidgetRoot(), &quot;'''bold text'''&quot;); AtomicBoolean failFlag = new AtomicBoolean(); failFlag.set(false); //This is our best attempt to get a race condition //by creating large number of threads. for (int i = 0; i &lt; 25000; i++) { WidgetBuilderThread widgetBuilderThread = new WidgetBuilderThread(widgetBuilder, text, parent, failFlag); Thread thread = new Thread(widgetBuilderThread); thread.start(); } assertEquals(false, failFlag.get());} ÄÆ°a ra cáº£nh bÃ¡o háº­u quáº£ÄÃ´i khi ráº¥t há»¯u Ã­ch khi cáº£nh bÃ¡o nhá»¯ng ngÆ°á»i láº­p trÃ¬nh khÃ¡c vá» nhá»¯ng háº­u quáº£ nháº¥t Ä‘á»‹nh. VÃ­ dá»¥ dÆ°á»›i Ä‘Ã¢y Ä‘Æ°a ra cÃ¡c cáº£nh bÃ¡o sá»­ dá»¥ng hÃ m náº¿u báº¡n khÃ´ng cÃ³ thá»i gian Ä‘á»ƒ táº¯t nÃ³ Ä‘i:1234567891011// Don't run unless you// have some time to kill.public void _testWithReallyBigFile(){ writeLinesToFile(10000000); response.setBody(testFile); response.readyToSend(this); String responseString = output.toString(); assertSubString(&quot;Content-Length: 1000000000&quot;, responseString); assertTrue(bytesSent &gt; 1000000000);} TO DO commentÄÃ³ lÃ  comment cÃ¡c cÃ´ng viá»‡c báº¡n chÆ°a ká»‹p thá»±c hiá»‡n hoáº·c cÃ¡c chá»©c nÄƒng báº¡n cÃ³ thá»ƒ phÃ¡t triá»ƒn trong tÆ°Æ¡ng lai:123456//TODO-MdM these are not needed// We expect this to go away when we do the checkout modelprotected VersionInfo makeVersion() throws Exception{ return null;} Bad commentsÄa sá»‘ cÃ¡c comment Ä‘á»u thuá»™c thá»ƒ loáº¡i nÃ y. Ká»ƒ cáº£ Ä‘á»‘i vá»›i cÃ¡c good comment ngÆ°á»i ta váº«n khuyÃªn báº¡n khÃ´ng nÃªn Ä‘Æ°a nÃ³ vÃ o trong code náº¿u thá»±c sá»± khÃ´ng cáº§n thiáº¿t. Comment thá»«aNhá»¯ng comment nhÆ° tháº¿ nÃ y lÃ  nhá»¯ng comment khÃ´ng cÃ³ Ã½ nghÄ©a, Ä‘Ã´i khi cÃ³ lÃ m giÃ¡n Ä‘oáº¡n hay khÃ³ chá»‹u vá»›i ngÆ°á»i Ä‘á»c. XÃ©t vÃ­ dá»¥ sau: i++; // increment i Cháº¯c háº³n vÃ­ dá»¥ nÃ y hÆ¡i ngÃ¢y thÆ¡. ThÃ´i thá»­ vÃ o Laravel Ä‘i, lá»›p â€œUserâ€ máº·c Ä‘á»‹nh nhÃ©:12345678910111213141516171819202122class User extends Authenticatable{ use Notifiable; /** * The attributes that are mass assignable. * * @var array */ protected $fillable = [ 'name', 'email', 'password', ]; /** * The attributes that should be hidden for arrays. * * @var array */ protected $hidden = [ 'password', 'remember_token', ];}Nhá»¯ng comment nhÆ° trÃªn quáº£ tháº­t lÃ  thá»«a. Gáº§n nhÆ° ai cÅ©ng biáº¿t cÃ¡c biáº¿n $fillable, $hidden hay thÃ¢m chÃ­ lÃ  $table, $primaryKey Ä‘á»ƒ lÆ°u lÃ m gÃ¬ rá»“i (vÃ¬ nÃ³ Ä‘Ã£ cÃ³ trong document vÃ  quy Æ°á»›c chung), comment nhÆ° váº­y khÃ´ng bá»‘ trá»£ thÃªm mÃ  gÃ¢y dÃ i dÃ²ng khÃ³ chá»‹u cho Ä‘oáº¡n code. Commented-Out CodeÄÃ³ lÃ  nhá»¯ng comment nhÆ° tháº¿ nÃ o. ÄÃ³ lÃ  nhá»¯ng comment khÃ´ng Ä‘Æ°á»£c cháº¡y nhÆ°ng váº«n Ä‘Æ°á»£c comment kiá»ƒu nhÆ° tháº¿ nÃ y:1234567891011121314this.bytePos = writeBytes(pngIdBytes, 0);//hdrPos = bytePos;writeHeader();writeResolution();//dataPos = bytePos;if (writeImageData()) { writeEnd(); this.pngBytes = resizeByteArray(this.pngBytes, this.maxPos);}else { this.pngBytes = null;}return this.pngBytes;Nhá»¯ng ngÆ°á»i khÃ¡c tháº¥y ráº±ng mÃ£ Ä‘Ã£ nháº­n xÃ©t sáº½ khÃ´ng cÃ³ Ä‘á»§ can Ä‘áº£m Ä‘á»ƒ xÃ³a nÃ³. Há» sáº½ nghÄ© nÃ³ á»Ÿ Ä‘Ã¢y vÃ¬ má»™t vÃ o lÃ½ do vÃ  ráº¥t quan trá»ng khÃ´ng dÃ¡m xÃ³a.Há» sáº½ Ä‘áº·t ra cÃ¡c cÃ¢u há»i, táº¡i sao Ä‘oáº¡n code nÃ y á»Ÿ Ä‘Ã¢y? NÃ³ cÃ³ quan trá»ng? Há» Ä‘á»ƒ láº¡i nÃ³ nhÆ° lÃ  má»™t lá»i nháº¯c vá»›i má»™t vÃ i sá»± thay Ä‘á»•i? ÄÃ£ cÃ³ má»™t thá»i gian, trá»Ÿ láº¡i vÃ o nhá»¯ng nÄƒm sÃ¡u mÆ°Æ¡i, khi mÃ£ bÃ¬nh luáº­n ra cÃ³ thá»ƒ lÃ  há»¯u Ã­ch. NhÆ°ng bÃ¢y giá» cÃ´ng nghá»‡ phÃ¡t triá»ƒn, chÃºng ta Ä‘Ã£ cÃ³ cÃ¡c há»‡ thá»‘ng quáº£n lÃ½ mÃ£ nguá»“n trong má»™t thá»i gian ráº¥t dÃ i (nhÆ° git cháº³ng háº¡n), nhá»¯ng comment nhÆ° váº­y lÃ  hoÃ n toÃ n khÃ´ng cáº§n thiáº¿t. Nhá»¯ng há»‡ thá»‘ng sáº½ nhá»› code giÃºp chÃºng ta. ChÃºng ta khÃ´ng pháº£i bÃ¬nh luáº­n thÃªm ná»¯a. Chá»‰ xÃ³a mÃ£. ChÃºng ta sáº½ khÃ´ng máº¥t nÃ³. Há»©a Ä‘Ã³ :D. Äá»«ng comment khi báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng biáº¿n Ä‘á»ƒ thay tháº¿HÃ£y Æ°u tiÃªn sá»­ dá»¥ng biáº¿n, hÃ m hÆ¡n lÃ  comment. Thay vÃ¬ comment nhiá»u nhÆ° tháº¿ nÃ y 123// does the module from the global list &lt;mod&gt; depend on the// subsystem we are part of?if (smodule.getDependSubsystems().contains(subSysMod.getSubSystem())) HÃ£y biáº¿n chÃºng thÃ nh cÃ¡c biáº¿n:123ArrayList moduleDependees = smodule.getDependSubsystems();String ourSubSystem = subSysMod.getSubSystem();if (moduleDependees.contains(ourSubSystem))Láº§n Ä‘áº§u viáº¿t Ä‘oáº¡n code báº¡n cÃ³ thá»ƒ comment vÃ  sau Ä‘Ã³ viáº¿t Ä‘oáº¡n code Ä‘á»ƒ thá»±c hiá»‡n comment Ä‘Ã³. Tuy nhiÃªn trong láº§n tÃ¡i cáº¥u trÃºc, hÃ£y thÃªm biáº¿n Ä‘á»ƒ xÃ³a bá» cÃ¡c comment Ä‘Ã³ nhÆ° Ã´ng Robert Cecil Martin Ä‘Ã£ lÃ m =)) Nonlocal InformationÃ tÆ°á»Ÿng chung cá»§a nÃ³ lÃ  khi báº¡n comment gÃ¬ thÃ¬ báº¡n táº­p trung vÃ o váº¥n Ä‘á» Ä‘Ã³. Náº¿u báº¡n pháº£i viáº¿t comment vÃ  sau Ä‘Ã³, hÃ£y cháº¯c cháº¯n nÃ³ miÃªu táº£ cho Ä‘oáº¡n code xuáº¥t hiá»‡n gáº§n Ä‘Ã³. KhÃ´ng Ä‘Æ°á»£c cung cáº¥p thÃ´ng tin toÃ n há»‡ thá»‘ng trong ngá»¯ cáº£nh nÃ o Ä‘Ã³ xa xÃ´i:123456789/*** Port on which fitnesse would run. Defaults to &lt;b&gt;8082&lt;/b&gt;.** @param fitnessePort*/public void setFitnessePort(int fitnessePort){ this.fitnessePort = fitnessePort;} Comment cÃ³ quÃ¡ nhiá»u thÃ´ng tinComment khÃ´ng cáº§n Ä‘Æ°a lá»‹ch sá»­ cÃ´ng nghá»‡ vÃ o :v, chá»‰ cáº§n Ä‘Æ°a RFC cho há» tá»± tÃ¬m lÃ  Ä‘Æ°á»£c rá»“i:123456789101112131415/*RFC 2045 - Multipurpose Internet Mail Extensions (MIME)Part One: Format of Internet Message Bodiessection 6.8. Base64 Content-Transfer-EncodingThe encoding process represents 24-bit groups of input bits as outputstrings of 4 encoded characters. Proceeding from left to right, a24-bit input group is formed by concatenating 3 8-bit input groups.These 24 bits are then treated as 4 concatenated 6-bit groups, eachof which is translated into a single digit in the base64 alphabet.When encoding a bit stream via the base64 encoding, the bit streammust be presumed to be ordered with the most-significant-bit first.That is, the first bit in the stream will be the high-order bit inthe first 8-bit byte, and the eighth bit will be the low-order bit inthe first 8-bit byte, and so on.*/ Tá»•ng káº¿t Háº¡n cháº¿ Ä‘Æ°a comment vÃ o code cá»§a báº¡n, hÃ£y cá»‘ gáº¯ng Ä‘á»ƒ cÃ¡c hÃ m, cÃ¡c biáº¿n, cÃ¡c lá»›p tá»± nÃ³i lÃªn chá»©c nÄƒng cá»§a nÃ³. Má»™t vÃ i trÆ°á»ng há»£p â€œgood commentâ€ nhÆ° comment vá» phÃ¡p lÃ½ Ä‘á»ƒ chá»©ng thá»±c tÃ¡c giáº£, comment tá»•ng quan vá» cháº¯c nÄƒng hÃ m (input, output), comment Ä‘á»ƒ Ä‘Æ°a ra lÃ½ do quyáº¿t Ä‘á»‹nh thá»±c hiá»‡n quyáº¿t Ä‘á»‹nh (táº¡i sao láº¡i if, for, while á»Ÿ chá»— nÃ y). CÃ²n láº¡i háº§u nhÆ° lÃ  cÃ¡c â€œbad commentâ€. LÃ½ thuyáº¿t chá»‰ mang tÃ­nh cháº¥t lá»i khuyÃªn Ä‘á»ƒ code cá»§a báº¡n dá»… Ä‘á»c hÆ¡n chá»© khÃ´ng báº¯t buá»™c báº¡n pháº£i tuÃ¢n theo, vÃ¬ váº­y thá»±c tiá»…n báº¡n cÃ³ thá»ƒ thay Ä‘á»•i, miá»…n lÃ  code cá»§a báº¡n dá»… Ä‘á»c vá»›i báº¡n vÃ  vá»›i team lÃ  Ä‘Æ°á»£c =)). TÃ i liá»‡u tham kháº£oChapter 4: Clean Code","link":"/2019/04/11/Clean-code-Chapter-4-Comment/"},{"title":"[Clean code] Chapter 7: Error Handling","text":"Trong chÆ°Æ¡ng nÃ y, má»™t sá»‘ tips cÃ³ thá»ƒ giÃºp báº¡n xá»­ lÃ½ cÃ¡c error tá»‘t hÆ¡n, lÃ m code Ä‘áº¹p hÆ¡n :D Use Exceptions Rather Than Return Codes (Sá»­ dá»¥ng Exceptions hÆ¡n lÃ  tráº£ vá» giÃ¡ trá»‹ trong code)Trá»Ÿ láº¡i quÃ¡ khá»© xa xÃ´i cÃ³ nhiá»u ngÃ´n ngá»¯ khÃ´ng cÃ³ ngoáº¡i lá»‡. Trong nhá»¯ng ngÃ´n ngá»¯ cÃ¡c ká»¹ thuáº­t xá»­ lÃ½ vÃ  bÃ¡o cÃ¡o lá»—i bá»‹ háº¡n cháº¿. Báº¡n cÃ³ thá»ƒ Ä‘áº·t lá»—i cá» hoáº·c tráº£ láº¡i mÃ£ lá»—i mÃ  ngÆ°á»i gá»i cÃ³ thá»ƒ kiá»ƒm traVáº¥n Ä‘á» vá»›i cÃ¡c phÆ°Æ¡ng phÃ¡p nÃ y lÃ  chÃºng gÃ¢y lá»™n xá»™n, khÃ³ xá»­ lÃ½ cho ngÆ°á»i Ä‘á»c. NgÆ°á»i gá»i hÃ m pháº£i check lá»—i ngay láº­p tá»©c sau khi gá»i nÃ³. KhÃ´ng may, nÃ³ quÃ¡ dá»… Ä‘á»ƒ quÃªn. CÃ¡ch tá»‘t hÆ¡n lÃ  báº¡n báº¯n ra má»™t ngoáº¡i lá»‡ khi báº¡n gáº·p má»™t lá»—i. MÃ£ sáº½ sáº¡ch Ä‘áº¹p hÆ¡n vÃ  code logic khÃ´ng bá»‹ che khuáº¥t Ä‘i bá»Ÿi viá»‡c xá»­ lÃ½ lá»—i VÃ­ dá»¥ nhÆ°:12345678910111213141516171819202122public class DeviceController { ... public void sendShutDown() { DeviceHandle handle = getHandle(DEV1); // Check the state of the device if (handle != DeviceHandle.INVALID) { // Save the device status to the record field retrieveDeviceRecord(handle); // If not suspended, shut down if (record.getStatus() != DEVICE_SUSPENDED) { pauseDevice(handle); clearDeviceWorkQueue(handle); closeDevice(handle); } else { logger.log(&quot;Device suspended. Unable to shut down&quot;); } } else { logger.log(&quot;Invalid handle for: &quot; + DEV1.toString()); } } ...}NÃªn tÃ¡ch thÃ nh code nhÆ° sau:123456789101112131415161718192021222324public class DeviceController { ... public void sendShutDown() { try { tryToShutDown(); } catch (DeviceShutDownError e) { logger.log(e); } } private void tryToShutDown() throws DeviceShutDownError { DeviceHandle handle = getHandle(DEV1); DeviceRecord record = retrieveDeviceRecord(handle); pauseDevice(handle); clearDeviceWorkQueue(handle); closeDevice(handle); } private DeviceHandle getHandle(DeviceID id) { ... throw new DeviceShutDownError(&quot;Invalid handle for: &quot; + id.toString()); ... } ...}Ta xÃ©t trong Laravel, cháº³ng háº¡n repository báº¡n xá»­ lÃ½ hÃ m update má»™t model:12345678910public function updateBook($id, $attribute){ $boook = Book::find($id); if (!empty($book)) { $book-&gt;update($attribute); return true; } else { return false; }}Äoáº¡n code trÃªn tráº£ vá» true, false Ä‘á»“ng nghÄ©a viá»‡c sinh thÃªm viá»‡c cho pháº§n code nÃ o gá»i nÃ³ láº¡i pháº£i check true, false, Ä‘áº·c biá»‡t lÃ  khi tráº£ vá» false lá»›p gá»i hÃ m nÃ y láº¡i pháº£i xem vÃ¬ sao false? Thay vÃ o Ä‘Ã³ hÃ£y Ä‘á»ƒ hÃ m Ä‘Ã³ tá»± xá»­ Ä‘á»ƒ lá»›p gá»i nÃ³ Ä‘á»¡ pháº£i kiá»ƒm tra123456789public function updateBook($id, $attribute){ $boook = Book::find($id); if (!empty($book)) { $book-&gt;update($attribute); } else { throw new Exception('404'); }}NhÆ° váº­y hÃ m Ä‘Ã³ Ä‘Ã£ tá»± xá»­ lÃ½ lá»—i mÃ  khÃ´ng Ä‘áº©y trÃ¡ch nhiá»‡m cho ai gá»i nÃ³ ná»¯a. Náº¿u khÃ´ng tÃ¬m tháº¥y nÃ³ sáº½ báº¯n ra exception 404 Write Your Try-Catch-Finally Statement FirstMá»™t trong nhá»¯ng thá»© quan trá»ng vá» ngoáº¡i lá»‡ lÃ  chÃºng Ä‘Æ°á»£c â€œdefine a scopeâ€ (Ä‘á»‹nh nghÄ©a cÃ¡c pháº¡m vi) vá»›i chÆ°Æ¡ng trÃ¬nh cá»§a báº¡n. Khi báº¡n thá»±c thi code trong khá»‘i try, trong khá»‘i try-cactch-finally. Báº¡n Ä‘ang nÃ³i rÃµ hÆ¡n lÃ  Ä‘oáº¡n code thá»±c thi nÃ y cÃ³ thá»ƒ bá»‹ giÃ¡n Ä‘oáº¡n á»Ÿ má»™t vÃ i chá»—, cÃ¡i sáº½ Ä‘Æ°á»£c xá»­ lÃ½ trong catch Trong cÃ¡ch nÃ y, khá»‘i try giá»‘ng nhÆ° má»™t transactions (phiÃªn giao dá»‹ch). Catch cá»§a báº¡n sáº½ khÃ´ng Ä‘Æ°á»£c thá»±c thi náº¿u khÃ´ng cÃ³ váº¥n Ä‘á» gÃ¬ vá»›i try. Vá»›i lÃ½ do nÃ y, tháº­t lÃ  má»™t good practice Ä‘á»ƒ báº¯t Ä‘áº§u má»™t khá»‘i try-catch-finally khi báº¡n viáº¿t code cÃ³ thá»ƒ xáº£y ra ngoáº¡i lá»‡. cÃ³ thá»ƒ khiá»ƒn ngÆ°á»i dÃ¹ng Ä‘á»‹nh nghÄ©a Ä‘Æ°á»£c cÃ¡i mong muá»‘n, khÃ´ng váº¥n Ä‘á» gÃ¬ phÃ¡t sinh náº¿u nhÆ° sai Ä‘oáº¡n code trong try 12345678910111213public static function createModel($request){ try { $book = Book::forge(); $book-&gt;title = $request['title']; $book-&gt;author = $request['author']; $book-&gt;price = $request['price']; $book-&gt;cover_img = $request['cover_img']; $book-&gt;save(); } catch (Exception $ex) { throw new Exception($ex-&gt;getCode()); }} Provide Context with Exceptions (Cung cáº¥p â€œngá»¯ cáº£nhâ€ vá»›i cÃ¡c ngoáº¡i lá»‡)Má»—i ngoáº¡i lá»‡ mÃ  báº¡n â€œnÃ©m raâ€ pháº£i cung cáº¥p Ä‘á»§ ngá»¯ cáº£nh Ä‘á»ƒ xÃ¡c Ä‘á»‹nh nguá»“n vÃ  vá»‹ trÃ­ cá»§a má»™t lá»—i.táº¡o ra cÃ¡c thÃ´ng bÃ¡o lá»—i vÃ  truyá»n nÃ³ cÃ¹ng vá»›i ngoáº¡i lá»‡ cá»§a báº¡n. Äá» cáº­p Ä‘áº¿n hoáº¡t Ä‘á»™ng Ä‘Ã³, lá»—i gÃ¬ vÃ  vÃ¬ sau láº¡i lá»—i. VÃ­ dá»¥ náº¿u báº¡n Ä‘Äƒng nháº­p vÃ o á»©ng dá»¥ng cá»§a mÃ¬nh, truyá»n Ä‘á»§ thÃ´ng tin nháº¥t cÃ³ thá»ƒ Ä‘á»ƒ báº¡n cÃ³ thá»ƒ log láº¡i cÃ¡c lá»—i má»—i khi báº¡n báº¯t Ä‘Æ°á»£cÃ tÆ°á»Ÿng chung lÃ  hÃ£y ghi lá»—i ra log má»™t cÃ¡ch chi tiáº¿t nháº¥t cÃ³ thá»ƒ Ä‘á»ƒ dá»… dÃ ng debug 1234567891011121314151617public function store(CategoryRequest $request){ $this-&gt;authorize('create', Category::class); try { $data = $request-&gt;only('name'); $this-&gt;cateRepository-&gt;create($data); return redirect()-&gt;route('categories.index') -&gt;with('message', trans('admin.category.success_add')); } catch (Exception $ex) { Log::useDailyFiles(config('app.file_log')); Log::error($ex-&gt;getMessage()); return redirect()-&gt;route('categories.index') -&gt;with('error', trans('admin.category.error')); }} Define Exception Classes in Terms of a Callerâ€™s Needs: Äá»‹nh nghÄ©a cÃ¡c lá»›p Exception cáº§n thiáº¿tPháº§n nÃ y Ä‘á»ƒ cáº­p Ä‘áº¿n viá»‡c xá»­ lÃ½ lá»—i Ä‘áº¿n tá»« bÃªn thá»© 3 (CÃ³ thá»ƒ lÃ  API hoáº·c cÃ¡c dá»‹ch vá»¥ bÃªn thá»© 3). CÃ³ ráº¥t nhiá»u cÃ¡ch Ä‘á»ƒ phÃ¢n loáº¡i lá»—i. Báº¡n cÃ³ thá»ƒ phÃ¢n loáº¡i lá»—i theo nguá»“n gá»‘c cá»§a chÃºng: chÃºng Ä‘áº¿n tá»« thÃ nh pháº§n nÃ o, loáº¡i lá»—i gÃ¬, thiáº¿t bá»‹ hay máº¡ng hay lá»—i do láº­p trÃ¬nh. Tuy nhiÃªn, khi chÃºng ta nÃªn Ä‘á»‹nh nghÄ©a cÃ¡c lá»›p ngoáº¡i lá»‡ trong má»™t á»©ng dá»¥ng, má»‘i quan tÃ¢m quan trá»ng nháº¥t cá»§a chÃºng ta nÃªn lÃ  chÃºng bá»‹ báº¯t nhÆ° tháº¿ nÃ o.Xem xÃ©t vá» má»™t vÃ­ dá»¥ vá» try catch cÆ¡ báº£n, cÃ³ gá»i thÆ° viá»‡n bÃªn thá»© 3: 123456789101112131415ACMEPort port = new ACMEPort(12);try { port.open();} catch (DeviceResponseException e) { reportPortError(e); logger.log(&quot;Device response exception&quot;, e);} catch (ATM1212UnlockedException e) { reportPortError(e); logger.log(&quot;Unlock exception&quot;, e);} catch (GMXError e) { reportPortError(e); logger.log(&quot;Device response exception&quot;);} finally {...} ChÃºng ta cÃ³ thá»ƒ tháº¥y Ä‘oáº¡n code chá»‰ thá»±c hiá»‡n má»Ÿ 1 port tá»« bÃªn thá»© 3 mÃ  xá»­ lÃ½ nhiá»u ngoáº¡i lá»‡ quÃ¡ :D. CÃ³ quÃ¡ nhiá»u Ä‘oáº¡n mÃ£ xá»­ lÃ½ lá»—i giá»‘ng nhau Ä‘Æ°á»£c láº·p láº¡i vÃ  báº¡n khÃ´ng thá»ƒ theo dÃµi. Trong háº§u háº¿t cÃ¡c trÆ°á»ng há»£p xá»­ lÃ½ ngoáº¡i lá»‡, cÃ´ng viá»‡c chÃºng tÃ´i lÃ m lÃ  tÆ°Æ¡ng Ä‘á»‘i chuáº©n báº¥t ká»ƒ nguyÃªn nhÃ¢n thá»±c sá»±. ChÃºng tÃ´i pháº£i ghi láº¡i lá»—i vÃ  Ä‘áº£m báº£o ráº±ng chÃºng tÃ´i cÃ³ thá»ƒ xá»­ lÃ½.Äá»ƒ giáº£i quyáº¿t nÃ³, ta sáº½ táº¡o má»™t lá»›p má»›i chuyÃªn dá»¥ng xá»­ lÃ½ riÃªng cho bÃªn thá»© 3. Äoáº¡n code viáº¿t láº¡i nhÆ° sau:123456789LocalPort port = new LocalPort(12);try { port.open();} catch (PortDeviceFailure e) { reportError(e); logger.log(e.getMessage(), e);} finally {...}Vá»›i lá»›p LocalPort lÃ  lá»›p chuyÃªn dá»¥ng xá»­ lÃ½ cÃ¡c ngoáº¡i lá»‡ cÃ³ thá»ƒ xáº£y ra khi má»Ÿ port ACMEPort123456789101112131415161718public class LocalPort { private ACMEPort innerPort; public LocalPort(int portNumber) { innerPort = new ACMEPort(portNumber); } public void open() { try { innerPort.open(); } catch (DeviceResponseException e) { throw new PortDeviceFailure(e); } catch (ATM1212UnlockedException e) { throw new PortDeviceFailure(e); } catch (GMXError e) { throw new PortDeviceFailure(e); } } ...} Define the Normal Flow: Äá»‹nh nghÄ©a má»™t luá»“ng bÃ¬nh thÆ°á»ng (khi ngoáº¡i lá»‡ láº«n lá»™n vá»›i code logic)Náº¿u nhÆ° báº¡n theo dÃµi cÃ¡c lá»i khuyÃªn tá»« pháº§n trÆ°á»›c, báº¡n sáº½ káº¿t thÃºc vá»›i Ã½ niá»‡m tÃ¡ch biá»‡t code logic nghiá»‡p vá»¥ vÃ  code xá»­ lÃ½ lá»—i. Pháº§n lá»›n code cá»§a báº¡n sáº½ báº¯t Ä‘áº§u trÃ´ng giá»‘ng nhÆ° má»™t thuáº­t toÃ¡n chÆ°a Ä‘Æ°á»£c sáº¯p xáº¿p. Tuy nhiÃªn, quÃ¡ trÃ¬nh thá»±c hiá»‡n Ä‘iá»u nÃ y Ä‘áº©y phÃ¡t hiá»‡n lá»—i Ä‘áº¿n cÃ¡c cáº¡nh cá»§a chÆ°Æ¡ng trÃ¬nh cá»§a báº¡n (kiá»ƒu Ä‘áº©y cÃ¡c pháº§n xá»­ lÃ½ error xuá»‘ng dÆ°á»›i). Báº¡n bá»c cÃ¡c â€œexternal APIâ€ Ä‘á»ƒ nÃ©m vÃ o cÃ¡c error vÃ  Ä‘á»‹nh nghÄ©a cÃ¡c xá»­ lÃ½ nÃ³. NhÆ°ng Ä‘Ã´i khi báº¡n khÃ´ng muá»‘n bá» qua háº³n nÃ³ mÃ  váº«n muá»‘n xá»­ lÃ½ thÃªm thÃ¬ sao? Xem xÃ©t vÃ­ dá»¥ sau:123456try { MealExpenses expenses = expenseReportDAO.getMeals(employee.getID()); m_total += expenses.getTotal();} catch(MealExpensesNotFound e) { m_total += getMealPerDiem();} Trong vÃ­ dá»¥ nÃ y, náº¿u bá»¯a Äƒn Ä‘Æ°á»£c má»Ÿ rá»™ng, nÃ³ trá»Ÿ thÃ nh má»™t pháº§n cá»§a tá»•ng sá»‘. Exception láº¡i há»—n Ä‘á»™n vá»›i code logic. NÃ³ sáº½ tá»‘t hÆ¡n náº¿u báº¡n khÃ´ng cÃ³ giao dá»‹ch nÃ o vá»›i trÆ°á»ng há»£p Ä‘áº·c biá»‡t á»Ÿ Ä‘Ã¢y, code cá»§a báº¡n cÃ³ thá»ƒ trÃ´ng Ä‘Æ¡n giáº£n hÆ¡n, nhÆ° tháº¿ nÃ y 12MealExpenses expenses = expenseReportDAO.getMeals(employee.getID());m_total += expenses.getTotal(); ChÃºng ta cÃ³ thá»ƒ lÃ m code trá»Ÿ nÃªn Ä‘Æ¡n giáº£n nhÆ° váº­y? ChÃºng ta cÃ³ thá»ƒ thay Ä‘á»•i ExpenseReportDAO Ä‘á»ƒ nÃ³ luÃ´n tráº£ vá» má»™t Ä‘á»‘i tÆ°á»£ng MealExpense. Náº¿u khÃ´ng cÃ³ bá»¯a Äƒn chi phÃ­, nÃ³ tráº£ vá» má»™t Ä‘á»‘i tÆ°á»£ng MealExpense tráº£ vá» cho má»—i diem nhÆ° tá»•ng sá»‘ cá»§a nÃ³: 12345public class PerDiemMealExpenses implements MealExpenses { public int getTotal() { // return the per diem default }} CÃ¡i nÃ y gá»i lÃ  SPECIAL CASE PATTERN [Fowler]. Báº¡n táº¡o 1 lá»›p hoáº·c config 1 object Ä‘á»ƒ nÃ³ xá»­ lÃ½ cÃ¡c trÆ°á»ng há»£p Ä‘áº·c biá»‡t cho báº¡n. Khi báº¡n lÃ m váº­y, client code khÃ´ng cÃ³ giao dá»‹ch nÃ o vá»›i hÃ nh Ä‘á»™ng ngá»ai lá»‡. HÃ nh Ä‘á»™ng Ä‘Ã³ Ä‘Æ°á»£c Ä‘Ã³ng gÃ³i trong lá»›p Ä‘áº·c biá»‡t Äá»«ng tráº£ vá» nullXem xÃ©t vÃ­ dá»¥ sau:1234567891011public void registerItem(Item item) { if (item != null) { ItemRegistry registry = peristentStore.getItemRegistry(); if (registry != null) { Item existing = registry.getItem(item.getID()); if (existing.getBillingPeriod().hasRetailOwner()) { existing.register(item); } } }} Khi chÃºng ta tráº£ vá» null, chÃºng ta chá»§ yáº¿u táº¡o ra cÃ´ng viá»‡c cho chÃ­nh chÃºng ta vÃ  Ä‘áº©y váº¥n Ä‘á» khi ngÆ°á»i gá»i. Táº¥t cáº£ pháº£i máº¥t lÃ  má»™t máº¥t kiá»ƒm tra null Ä‘á»ƒ gá»­i má»™t á»©ng dá»¥ng quay ra khá»i táº§m kiá»ƒm soÃ¡t.Báº¡n cÃ³ Ä‘á»ƒ Ã½ lÃ  trÃªn thá»±c táº¿ khi cÃ³ má»™t check null, báº¡n láº¡i pháº£i táº¡o 1 block lá»“ng bÃªn trong 1 khá»‘i if? Äiá»u gÃ¬ sáº½ xáº£y ra náº¿u persistentStore lÃ  null? NÃ³ sáº½ sinh ra má»™t NullPointerException trong khi cháº¡y vÃ  ai Ä‘Ã³ cÃ³ thá»ƒ báº¯t trÃªn cÃ¹ng hoáº·c lÃ  khÃ´ng? ÄÃºng lÃ  tá»“i tá»‡ Tháº­t dá»… dÃ ng Ä‘á»ƒ nÃ³i ráº±ng váº¥n Ä‘á» vá»›i Ä‘oáº¡n code á»Ÿ trÃªn lÃ  thiáº¿u check null nhÆ°ng trong thá»±c táº¿ váº¥n Ä‘á» nÃ y cÃ³ ráº¥t nhiá»u. HÃ£y xem xÃ©t nÃ©m ra má»™t ngoáº¡i lÃªn hoáº·c tráº£ vá» má»™t SPECIAL CASE object thay tháº¿. Náº¿u báº¡n nháº­n má»™t giÃ¡ trá»‹ null tráº£ vá» tá»« API cá»§a bÃªn thá»© 3, cÃ¢n nháº¯c Ä‘Ã³ng nÃ³ vÃ o vá»›i má»™t phÆ°Æ¡ng thá»©c, cÃ¡i mÃ  thay vÃ¬ tráº£ vá» má»™t ngoáº¡i lá»‡ nÃ³ sáº½ tráº£ vá» má»™t SPECIAL CASE OBJECT. Xem xÃ©t Ä‘oáº¡n code sau: 123456List&lt;Employee&gt; employees = getEmployees();if (employees != null) { for(Employee e : employees) { totalPay += e.getPay(); }} NÃªu Ä‘Æ°á»£c sá»­a thÃ nh:1234List&lt;Employee&gt; employees = getEmployees();for(Employee e : employees) { totalPay += e.getPay();}vÃ  (tráº£ vá» danh sÃ¡ch trá»‘ng hÆ¡n lÃ  null)1234public List&lt;Employee&gt; getEmployees() { if( .. there are no employees .. ) return Collections.emptyList();}Náº¿u báº¡n code theo cÃ¡ch nÃ y, báº¡n sáº½ giáº£m thiá»ƒu cÆ¡ há»™i cho NullPointerExceptions vÃ  code cá»§a báº¡n sáº½ rÃµ rÃ ng hÆ¡n Äá»«ng truyá»n vÃ o nullPhÆ°Æ¡ng thá»©c tráº£ vá» null lÃ  tá»“i nhÆ°ng truyá»n null vÃ o 1 phÆ°Æ¡ng thá»©c cÃ²n tá»‡ háº¡i hÆ¡n. Trá»« khi báº¡n Ä‘ang lÃ m viá»‡c vá»›i API, cÃ¡i mÃ  yÃªu cáº§u báº¡n truyá»n null, báº±ng khÃ´ng báº¡n nÃªn trÃ¡nh truyá»n null vÃ o code cá»§a báº¡nXem xÃ©t vÃ­ dá»¥ dÆ°á»›i Ä‘Ã¢y Ä‘á»ƒ hiá»ƒu vÃ¬ sao? PhÆ°Æ¡ng thá»©c tÃ­nh toÃ¡n sá»‘ liá»‡u cho 2 Ä‘iá»ƒm: 1234567public class MetricsCalculator{ public double xProjection(Point p1, Point p2) { return (p2.x â€“ p1.x) * 1.5; } ...} Chuyá»‡n gÃ¬ sáº½ xáº£y ta náº¿u truyá»n null vÃ o nhÆ° 1 Ä‘á»‘i sá»‘ calculator.xProjection(null, new Point(12, 13)); ChÃºng ta nháº­n Ä‘Æ°á»£c má»™t NullPointerException táº¥t nhiÃªn. LÃ m sao Ä‘áº¿n fix nÃ³123456789public class MetricsCalculator{ public double xProjection(Point p1, Point p2) { if (p1 == null || p2 == null) { throw InvalidArgumentException(&quot;Invalid argument for MetricsCalculator.xProjection&quot;); } return (p2.x â€“ p1.x) * 1.5; }}Liá»‡u nÃ³ cÃ³ ngon hÆ¡n khÃ´ng? nÃ³ cÃ³ thá»ƒ tá»‘t hÆ¡n má»™t chÃºt lÃ  nháº­n vá» exception null nhÆ°ng hÃ£y nhá»› ráº±ng chÃºng ta láº¡i pháº£i sinh ra má»™t thá»© xá»­ lÃ½ cho InvalidArgumentException? HÃ m xá»­ lÃ½ Ä‘Ã³ nÃªn lÃ m gÃ¬? NÃ³ cÃ³ báº¥t kÃ¬ hÃ nh Ä‘á»™ng nÃ o tá»‘t khÃ´ng? 12345678public class MetricsCalculator{ public double xProjection(Point p1, Point p2) { assert p1 != null : &quot;p1 should not be null&quot;; assert p2 != null : &quot;p2 should not be null&quot;; return (p2.x â€“ p1.x) * 1.5; }} ÄÃ³ lÃ  má»™t tÃ i liá»‡u tá»‘t nhÆ°ng váº«n chÆ°a giáº£i quyáº¿t Ä‘Æ°á»£c váº¥n Ä‘á». Náº¿u cÃ³ ai dÃ³ truyá»n vÃ o null, chÃºng ta váº«n bá»‹ lá»—i runtime errorTrong háº§u háº¿t cÃ¡c ngÃ´n ngá»¯ láº­p trÃ¬nh, chÆ°a cÃ³ cÃ¡ch tá»‘t nháº¥t Ä‘á»ƒ deal vá»›i null, cÃ¡i mÃ  cÃ³ thá»ƒ gÃ¢y ra má»™t â€œtai náº¡nâ€ cho ngÆ°á»i gá»i :v. Bá»Ÿi vÃ¬ trong trÆ°á»ng há»£p nÃ y, cÃ¡ch tiáº¿p cáº­n tá»‘t nháº¥t lÃ  cáº¥m truyá»n null nhÆ° lÃ  máº·c Ä‘á»‹nh :v. Khi báº¡n lÃ m, báº¡n cÃ³ thá»ƒ viáº¿t mÃ£ vá»›i kiáº¿n thá»©c ráº±ng má»™t null trong má»™tdanh sÃ¡ch Ä‘á»‘i sá»‘ lÃ  dáº¥u hiá»‡u cá»§a sá»± cá»‘ vÃ  káº¿t thÃºc vá»›i Ã­t sai sÃ³t báº¥t cáº©n hÆ¡n ráº¥t nhiá»u TÃ³m láº¡i Sá»­ dá»¥ng cÃ¡c exception thay vÃ¬ tráº£ vá» giÃ¡ trá»‹ Ä‘á»ƒ cÃ¡c lá»›p gá»i nÃ³ Ä‘á»¡ pháº£i xá»­ lÃ½ tiáº¿p. Viáº¿t cÃ¡c Ä‘oáº¡n code thÃ nh Try-Catch-Finally Ä‘á»ƒ dá»… quan sÃ¡t cÃ¡c xá»­ lÃ½ code vÃ  ngoáº¡i lá»‡. Cung cáº¥p Ä‘áº§y Ä‘á»§ thÃ´ng tin ngoáº¡i lá»‡ nháº¥t (cÃ³ thá»ƒ ghi log) Ä‘á»ƒ dá»… dÃ ng debug :D. Náº¿u exception cÃ³ code logic hoáº·c cÃ¡c exception gÃ¢y ra bá»Ÿi bÃªn thá»© 3, cÃ¢n nháº¯c â€œwrappingâ€- Ä‘Ã³ng gá»i láº¡i trong má»™t lá»›p ngoáº¡i lá»‡ má»›i ta xÃ¢y dá»±ng. ChÆ°a cÃ³ cÃ¡ch hoÃ n háº£o nháº¥t Ä‘á»ƒ xá»­ lÃ½ vá»›i null, háº¡n cháº¿ truyá»n vÃ  nháº­n nÃ³ vÃ o cÃ¡c hÃ m. Hi vá»ng má»™t vÃ i tips trÃªn giÃºp báº¡n xá»­ lÃ½ lá»—i tá»‘t hÆ¡n trong code cá»§a mÃ¬nh &lt;3 TÃ i liá»‡u tham kháº£oChapter 7: Clean Code","link":"/2019/04/11/Clean-code-Chapter-7-Error-Handling/"},{"title":"[Collection] Practice 1: Pricing Lamps and Wallets","text":"BÃ¢y giá» chÃºng ta Ä‘Ã£ cÃ³ nhá»¯ng khÃ¡i niá»‡m cÆ¡ báº£n rá»“i, hÃ£y xem cÃ¡ch sá»­ dá»¥ng chÃºng thÃ´i nÃ o! ChÃºng ta Ä‘Ã£ tháº¥y chÃºng ta cÃ³ thá»ƒ viáº¿t Collection, nhÆ°ng nhá»¯ng vÃ­ dá»¥ dÆ°á»›i Ä‘Ã¢y chÃºng ta sáº½ sá»­ dá»¥ng nhá»¯ng thá»© thá»±c thi cÃ³ sáºµn=&gt; Chá»n Laravel Ä‘á»ƒ thá»±c thi Báº¡n cÃ³ thá»ƒ táº¡o 1 Laravel Collection báº±ng 3 cÃ¡ch: Truyá»n 1 máº£ng vÃ o hÃ m táº¡o:1$collection = new Collection($items); Sá»­ dá»¥ng hÃ m táº¡o cÃ³ tÃªn lÃ m make:1$collection = Collection::make($items); Sá»­ dá»¥ng helper collect()1$collection = collect($items); Theo tÃ¡c giáº£ sá»­ dá»¥ng cÃ¡ch 3 vá»›i helper tiáº¿t kiá»‡m khoáº£ng trá»‘ng, code ngáº¯n Ä‘áº¹p hÆ¡n vÃ  sáº½ Ã¡p dá»¥ng cÃ¡ch Ä‘Ã³ cho pháº§n tiáº¿p theo BÃ i toÃ¡nBÃ i toÃ¡n: Cho 1 JSON lÃ  products tá»« 1 cá»­a hÃ ng, tÃ­nh toÃ¡n giÃ¡ tiá»n cá»§a loáº¡i, biáº¿n thá»ƒ (variants) Ä‘Ã¨n Ä‘Æ¡n vÃ  vÃ­ VÃ­ dá»¥ JSON:1234567891011121314151617181920212223242526272829303132333435{ &quot;products&quot;: [ { &quot;title&quot;: &quot;Small Rubber Wallet&quot;, &quot;product_type&quot;: &quot;Wallet&quot;, &quot;variants&quot;: [ { &quot;title&quot;: &quot;Blue&quot;, &quot;price&quot;: 29.33 }, { &quot;title&quot;: &quot;Turquoise&quot;, &quot;price&quot;: 18.50 } ] }, { &quot;title&quot;: &quot;Sleek Cotton Shoes&quot;, &quot;product_type&quot;: &quot;Shoes&quot;, &quot;variants&quot;: [ { &quot;title&quot;: &quot;Sky Blue&quot;, &quot;price&quot;: 20.00 } ] }, { &quot;title&quot;: &quot;Intelligent Cotton Wallet&quot;, &quot;product_type&quot;: &quot;Wallet&quot;, &quot;variants&quot;: [ { &quot;title&quot;: &quot;White&quot;, &quot;price&quot;: 17.97 } ] }, { &quot;title&quot;: &quot;Enormous Leather Lamp&quot;, &quot;product_type&quot;: &quot;Lamp&quot;, &quot;variants&quot;: [ { &quot;title&quot;: &quot;Azure&quot;, &quot;price&quot;: 65.99 }, { &quot;title&quot;: &quot;Salmon&quot;, &quot;price&quot;: 1.66 } ] }, // ... ]}NhÆ° váº­y chÃºng ra cÃ³ cÃ¡c táº­p sáº£n pháº©m, 1 vÃ i cÃ¡i cÃ³ product_type lÃ  â€œLampâ€ hoáº·c â€œWalletâ€ vÃ  1 vÃ i thÃ¬ khÃ´ng. Má»—i sáº£n pháº©m cÅ©ng cÃ³ sá»‘ lÆ°á»£ng â€œvariantsâ€ vÃ  variants lÃ  cÃ¡i thá»±c táº¿ sáº½ cÃ³ giÃ¡. CÃ¡ch giáº£i quyáº¿t Ä‘Æ¡n giáº£n:123456789101112131415$totalCost = 0;// Loop over every productforeach ($products as $product) { $productType = $product['product_type']; // If the product is a lamp or wallet... if ($productType == 'Lamp' || $productType == 'Wallet') { // Loop over the variants and add up their prices foreach ($product['variants'] as $productVariant) { $totalCost += $productVariant['price']; } }}return $totalCost;OK bÃ¢y giá» chÃºng ta cÃ¹ng cáº£i thiá»‡n váº¥n Ä‘á» nÃ y nhÃ©. Replace Conditional with Filter (cÃ¡i nÃ y dá»… Ä‘oÃ¡n)Má»¥c Ä‘Ã­ch cá»§a chÃºng ta lÃ  phÃ¡ vá»¡ foreach to vÃ  tÃ¬m cÃ¡ch cho vÃ o chuá»—i cÃ¡c bÆ°á»›c Ä‘Æ¡n giáº£n, Ä‘á»™c láº­p, liÃªn káº¿t:12345678910111213$lampsAndWallets = $products-&gt;filter(function ($product) { $productType = $product['product_type']; return $productType == 'Lamp' || $productType == 'Wallet';});$totalCost = 0;foreach ($lampsAndWallets as $product) { foreach ($product['variants'] as $productVariant) { $totalCost += $productVariant['price']; }}return $totalCost; Replace || with Contains (contains methods)Má»™t sá»± khÃ©o lÃ©o nháº¹ á»Ÿ Ä‘Ã¢y lÃ  sá»­ dá»¥ng in_array Ä‘á»ƒ check123$lampsAndWallets = $products-&gt;filter(function ($product) { return in_array($product['product_type'], ['Lamp', 'Wallet']);});Trong collection thÃ¬ in_array lÃ  contains, 1 sá»± cáº£i tiáº¿n tuyá»‡t vá»i vÃ¬ nÃ³ xÃ³a Ä‘i má»™t vÃ i sá»± mÆ¡ há»“ trong thá»© tá»± tham sá»‘:123$lampsAndWallets = $products-&gt;filter(function ($product) { return collect(['Lamp', 'Wallet'])-&gt;contains($product['product_type']);}); Reduce to SumOK pháº§n filter ngon rá»“i, giá» tá»›i pháº§n dÆ°á»›i nÃ o:123456789101112131415/**$lampsAndWallets = $products-&gt;filter(function ($product) { $productType = $product['product_type']; return $productType == 'Lamp' || $productType == 'Wallet';});**/$totalCost = 0;foreach ($lampsAndWallets as $product) { foreach ($product['variants'] as $productVariant) { $totalCost += $productVariant['price']; }}return $totalCost;Äoáº¡n code nÃ y Ä‘ang Ä‘Æ°á»£c tÃ¡ch biá»‡t thÃ nh 2 pháº§n Láº¥y giÃ¡ cá»§a má»—i product variant TÃ­nh tá»•ng giÃ¡ Ä‘á»ƒ láº¥y tá»•ng chung ChÃºng ta cÃ³ thá»ƒ chia nhÆ° sau, vÃ  chÃºng ta cÃ³ thá»ƒ sá»­ dá»¥ng reduce Ä‘á»ƒ thay tháº¿ bÆ°á»›c 2123456789101112131415// Get all of the product variant prices$prices = collect();foreach ($lampsAndWallets as $product) { foreach ($product['variants'] as $productVariant) { $prices[] = $productVariant['price']; }}// Sum the prices to get a total cost$totalCost = $prices-&gt;reduce(function ($total, $price) { return $total + $price;}, 0);return $totalCost;HÃ£y nhá»› ráº±ng nhá»¯ng gÃ¬ tÃ´i Ä‘Ã£ nÃ³i sá»›m hÆ¡n vá» chÃºng ta cÃ³ thá»ƒ thay tháº¿ reduce báº±ng nhÆ°ng toÃ¡n tá»­ giÃ u tÃ­nh biá»ƒu Ä‘áº¡t hÆ¡n. Thá»±c ra thÃ¬ thay reduce báº±ng sum nhanh hÆ¡n1return $prices-&gt;sum(); Replace Nested Loop with FlatMapBÃ¢y giá» cÃ²n Ä‘oáº¡n láº¥y ra giÃ¡ cÃ¡c sáº£n pháº©m á»Ÿ giá»¯a12345678910111213141516/**// Get all of the product variant prices**/$prices = collect();foreach ($lampsAndWallets as $product) { foreach ($product['variants'] as $productVariant) { $prices[] = $productVariant['price']; }}/**// Sum the prices to get a total cost$totalCost = $prices-&gt;sum()return $totalCost;**/NhÃ¬n qua thÃ¬ cÃ³ váº» nhÆ° chá»‰ cáº§n map product variants vá»›i giÃ¡ cá»§a nÃ³ nhÆ°ng chÃºng ta láº¡i Ä‘ang lÃ m viá»‡c vá»›i táº­p products chá»© khÃ´ng pháº£i lÃ  vá»›i variants. Váº­y chÃºng ta cÃ³ thá»ƒ lÃ m ntn xÃ¢y dá»±ng 1 collection lÃ  táº­p variants vÃ  sau Ä‘Ã³ map chÃºng vá»›i giÃ¡ lÃ  ngon :D. á»ª ok, dÃ¹ng map láº¥y ra123$variants = $lampsAndWallets-&gt;map(function ($product) { return $product['variants'];});Váº¥n Ä‘á» lÃ  bÃ¢y giá» chÃºng ta cÃ³ 1 colelction cá»§a máº£ng cÃ¡c variants, khÃ´ng pháº£i máº£ng cÃ¡c vartiants123456789101112131415161718[ // ... [ { &quot;title&quot;: &quot;Blue&quot;, &quot;price&quot;: 29.33 }, { &quot;title&quot;: &quot;Turquoise&quot;, &quot;price&quot;: 18.50 } ], [ { &quot;title&quot;: &quot;Sky Blue&quot;, &quot;price&quot;: 20.00 } ], [ { &quot;title&quot;: &quot;White&quot;, &quot;price&quot;: 17.97 } ], { &quot;title&quot;: &quot;Azure&quot;, &quot;price&quot;: 65.99 }, { &quot;title&quot;: &quot;Salmon&quot;, &quot;price&quot;: 1.66 } ], // ...]Tháº­t may khi chÃºng ta cÃ³ 1 toÃ¡n tá»­ â€œlÃ m pháº³ngâ€ 1 collection vá» 1 level. VÃ  káº¿t há»£p vá»›i map ná»¯a thÃ¬ nÃ³ lÃ  flatMap. Sá»­ dá»¥ng nÃ³ Ä‘á»ƒ thay tháº¿ 2 cÃ¡i foreach:1234567$variants = $lampsAndWallets-&gt;flatMap(function ($product) { return $product['variants'];});$prices = $variants-&gt;map(function ($productVariant) { return $productVariant['price'];});Rá»“i OK, Ä‘áº¿n thá»i Ä‘iá»ƒm nÃ y cÃ³ thá»ƒ Ä‘áº·p táº¥t cáº£ má»i thá»© thÃ nh 1 single pipeline:1234567return $products-&gt;filter(function ($product) { return collect(['Lamp', 'Wallet'])-&gt;contains($product['product_type']);})-&gt;flatMap(function ($product) { return $product['variants'];})-&gt;map(function ($productVariant) { return $productVariant['price'];})-&gt;sum();Haha, nhÃ¬n cÃ³ váº» ngon rá»“i nhá»‰. NhÆ°ng tin tÃ´i Ä‘i, váº«n cÃ³ thá»ƒ ngon hÆ¡n Ä‘Ã³ Plucking for Fun and Profitpluck lÃ  shortcut cá»§a mapping 1 trÆ°á»ng Ä‘Æ¡n vá»›i má»—i pháº§n tá»­ cá»§a collection. VÃ­ dá»¥123$emails = $users-&gt;map(function ($user) { return $user['email'];});ThÃ¬ tÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i:1$emails = $users-&gt;pluck('email');Do Ä‘Ã³ cÃ³ thá»ƒ thay tháº¿ Ä‘oáº¡n map trÃªn báº±ng pluck12345return $products-&gt;filter(function ($product) { return collect(['Lamp', 'Wallet'])-&gt;contains($product['product_type']);})-&gt;flatMap(function ($product) { return $product['variants'];})-&gt;pluck('price')-&gt;sum();Xong váº«n chÆ°a háº¿t, ta láº¡i cÃ³ thá»ƒ thay tháº¿ -&gt;pluck('price')-&gt;sum() báº±ng -&gt;sum('price') , vÃ  káº¿t quáº£ cuá»‘i cÃ¹ng12345return $products-&gt;filter(function ($product) { return collect(['Lamp', 'Wallet'])-&gt;contains($product['product_type']);})-&gt;flatMap(function ($product) { return $product['variants'];})-&gt;sum('price');KhÃ´ng cÃ³ vÃ²ng láº·p Ä‘Æ¡n, Ä‘iá»u kiá»‡n hay biáº¿n táº¡m thá»i nÃ o Ä‘Æ°á»£c tÃ¬m tháº¥y. Ráº¥t lÃ  thanh lá»‹ch náº¿u báº¡n há»i tÃ´i :D Tá»•ng káº¿t váº¥n Ä‘á»Äoáº¡n code ban Ä‘áº§u123456789101112131415$totalCost = 0;// Loop over every productforeach ($products as $product) { $productType = $product['product_type']; // If the product is a lamp or wallet... if ($productType == 'Lamp' || $productType == 'Wallet') { // Loop over the variants and add up their prices foreach ($product['variants'] as $productVariant) { $totalCost += $productVariant['price']; } }}return $totalCost; vÃ  sau khi Ä‘Æ°á»£c refactor: 12345return $products-&gt;filter(function ($product) { return collect(['Lamp', 'Wallet'])-&gt;contains($product['product_type']);})-&gt;flatMap(function ($product) { return $product['variants'];})-&gt;sum('price'); CÃ¡c helper Ä‘Ã£ Ä‘Æ°á»£c dÃ¹ng:flatten(): san pháº³ng máº£ng Ä‘a chiá»u thÃ nh máº£ng 1 chiá»u. Báº¡n cÅ©ng cÃ³ thá»ƒ truyá»n â€œÄ‘á»™ sÃ¢uâ€ cá»§a máº£ng nhÆ° 1 Ä‘á»‘i sá»‘12345678910111213141516171819$collection = collect([ 'Apple' =&gt; [ ['name' =&gt; 'iPhone 6S', 'brand' =&gt; 'Apple'], ], 'Samsung' =&gt; [ ['name' =&gt; 'Galaxy S7', 'brand' =&gt; 'Samsung'] ],]);$products = $collection-&gt;flatten(1);$products-&gt;values()-&gt;all();/* [ ['name' =&gt; 'iPhone 6S', 'brand' =&gt; 'Apple'], ['name' =&gt; 'Galaxy S7', 'brand' =&gt; 'Samsung'], ]*/ flatMap(): flatMap is a shortcut for mapping a collection and then flattening it by one Sá»± káº¿t há»£p giá»¯a map Ä‘á»ƒ xá»­ lÃ½ dá»¯ liá»‡u Sau Ä‘Ã³ â€œsan pháº³ngâ€ chÃºng thÃ nh 1 máº£ng. pluck(): pluck is a shortcut for mapping a single field out of each element in a collection. sum() contains(): kiá»ƒm tra 1 collection cÃ³ chÆ°a 1 pháº§n tá»­ nháº­n vÃ o hay khÃ´ng. NÃ³ ráº¥t há»¯u Ã­ch Ä‘á»ƒ sá»­ dá»¥ng cho phÃ©p hoáº·c (||) reduce(): thu nhá», cáº¯t giáº£m cáº£ collection thÃ nh má»™t giÃ¡ trá»‹ Ä‘Æ¡n duy nháº¥t. N.V.M","link":"/2019/12/27/Collection-Practice-1-Pricing-Lamps-and-Wallets/"},{"title":"[Collection] Higher Order Functions","text":"Äiá»ƒm qua má»™t sá»‘ lÃ½ thuyáº¿t vá» collection nÃ o! Imperative vs. Declarative ProgrammingNÃ³ khÃ´ng pháº£i lÃ  back vÃ  white nhÃ© Imperative ProgrammingLáº­p trÃ¬nh theo lá»‡nh hay cÃ²n Ä‘Æ°á»£c gá»i vá»›i tÃªn khÃ¡c lÃ  láº­p trÃ¬nh hÆ°á»›ng thá»§ tá»¥c (Procedural Programming) Kiá»ƒu láº­p trÃ¬nh nÃ y táº­p trung vÃ o viá»‡c â€œhow something gets doneâ€œ. Code sáº½ thÆ°á»ng xuyÃªn táº­p trung vÃ o viá»‡c building káº¿t quáº£ trong cÃ¡c biáº¿n trung gian vÃ  quáº£n lÃ½ cÃ¡c luá»“ng thÃ´ng qua vÃ²ng láº·p vÃ  cÃ¡c Ä‘iá»u kiá»‡n. ChÃºng ta cÃ³ 1 táº­p users vÃ  chÃºng ta muá»‘n láº¥y danh sÃ¡ch email cá»§a cÃ¡c users. Code sáº½ nhÆ° sau1234567891011121314function getUserEmails($users){ $emails = []; for ($i = 0; $i &lt; count($users); $i++) { $user = $users[$i]; if ($user-&gt;email !== null) { $emails[] = $user-&gt;email; } } return $emails;}Thay vÃ¬ cá»‘ gáº¯ng nÃ³i â€œgive me the emails of users who have emailsâ€, viá»‡c giáº£i quyáº¿t táº­p trung vÃ o viá»‡c thá»±c thi chi tiáº¿t vÃ o viá»‡c sá»‘ vÃ²ng láº·p, truy cáº­p vÃ o chá»‰ sá»‘ cá»§a cáº¥u trÃºc dá»¯ liá»‡u vÃ  quáº£n lÃ½ bá»™ Ä‘áº¿m Declarative ProgrammingThay vÃ¬ táº­p trung vÃ o viá»‡c mÃ¡y tÃ­nh nÃªn lÃ m viá»‡c nhÆ° tháº¿ nÃ o thÃ¬ declaractive programing táº­p trung vÃ o viá»‡c â€œwhat we need it to accomplishâ€ (nhá»¯ng gÃ¬ chÃºng ta cáº§n nÃ³ Ä‘á»ƒ Ä‘áº¡t Ä‘Æ°á»£c má»¥c Ä‘Ã­ch.) So sÃ¡nh Ä‘oáº¡n code trÃªn vá»›i Ä‘oáº¡n code trong SQL:1SELECT email FROM users WHERE email IS NOT NULLChÃºng ta khÃ´ng pháº£i viáº¿t báº¥t cá»© gÃ¬ vá» vÃ²ng láº·p, bá»™ Ä‘áº¿m hay array indexs. ChÃºng ta chá»‰ nÃ³i vá»›i mÃ¡y tÃ­nh cÃ¡i chÃºng ta muá»‘n vÃ  khÃ´ng quan tÃ¢m nÃ³ láº¥y dá»¯ liá»‡u nhÆ° tháº¿ nÃ o. Under the hood, Iâ€™m sure the SQL engine must be doing some sort of iteration or keeping track of which records itâ€™s checked or which records it hasnâ€™t, but I donâ€™t really know for sure. And thatâ€™s the beauty of it: I donâ€™t need to know. VÃ  dÄ© nhiÃªn PHP vÃ  má»™t ngÃ´n ngá»¯ khÃ¡c SQL vÃ  chÃºng ta sáº½ khÃ´ng thá»ƒ táº¡o láº¡i cÃº phÃ¡p chÃ­nh xÃ¡c Ä‘Ã³. Tuy nhiÃªn chÃºng ta cÃ³ thá»ƒ táº¡o 1 cÃ¡i gÃ¬ Ä‘Ã³ gáº§n giá»‘ng? Cháº¯c cháº¯n lÃ  Ä‘Æ°á»£c, sá»­ dá»¥ng Higher Order Functions Higher Order FunctionsTáº¡m dá»‹ch lÃ  hÃ m báº­c cao Ä‘i :D A higher order function is a function that takes another function as a parameter, returns a function, or does both.(Má»™t higher order function lÃ  1 hÃ m nháº­n 1 hÃ m khÃ¡c nhÆ° 1 tham sá»‘, tráº£ vá» 1 hÃ m hoáº·c lÃ m cáº£ 2) Xem xÃ©t vÃ­ dá»¥ sau, hÃ m bá»c code database transaction:1234567891011121314public function transaction($func){ $this-&gt;beginTransaction(); try { $result = $func(); $this-&gt;commitTransaction(); } catch (Exception $e) { $this-&gt;rollbackTransaction(); throw $e; } return $result}VÃ  Ä‘Ã¢y lÃ  cÃ¡ch chÃºng ta sá»­ dá»¥ng:1234567try { $databaseConnection-&gt;transaction(function () use ($comment) { $comment-&gt;save(); });} catch (Exception $e) { echo &quot;Something went wrong!&quot;;} Noticing PatternsHOF cÃ³ sá»©c máº¡nh to lá»›n vÃ¬ chÃºng cho phÃ©p chÃºng ta táº¡o sá»± trá»«u tÆ°á»£ng xung quanh cÃ¡c máº«u láº­p trÃ¬nh phá»• biáº¿n mÃ  khÃ´ng thá»ƒ sá»­ dá»¥ng láº¡i Trá»Ÿ láº¡i bÃ i toÃ¡n láº¥y danh Ã¡ch email cá»§a khÃ¡ch hÃ ng: 1234567$customerEmails = [];foreach ($customers as $customer) { $customerEmails[] = $customer-&gt;email;}return $customerEmails; VÃ  bÃ¢y giá» chÃºng ta cÅ©ng cÃ³ danh sÃ¡ch cÃ¡c sáº£n pháº©m hÃ ng tá»“n kho vÃ  chÃºng ta muá»‘n biáº¿t tá»•ng giÃ¡ trá»‹ dÆ° thá»«a cá»§a chÃºng ta lÃ  bao nhiÃªu: 12345678910$stockTotals = [];foreach ($inventoryItems as $item) { $stockTotals[] = [ 'product' =&gt; $item-&gt;productName, 'total_value' =&gt; $item-&gt;quantity * $item-&gt;price, ];}return $stockTotals; NhÃ¬n lÆ°á»›t qua thÃ¬ nÃ³ khÃ´ng cÃ³ gÃ¬ lÃ  quÃ¡ trá»«u tÆ°á»£ng hÃ³a (abstract) Ä‘Æ°á»£c á»Ÿ Ä‘Ã¢y nhÆ°ng náº¿u báº¡n nhÃ¬n ká»¹ láº¡i báº¡n sáº½ nháº­n tháº¥y chá»‰ cÃ³ 1 Ä‘iá»ƒm khÃ¡c nhau thá»±c sá»± giá»¯a 2 vÃ­ dá»¥ nÃ y. Trong cáº£ 2 vÃ­ dá»¥, táº¥t cáº£ cÃ¡i chÃºng ta lÃ m lÃ  táº¡o ra 1 máº£ng má»›i báº±ng cÃ¡ch Ã¡p dá»¥ng 1 vÃ i toÃ¡n tá»­ vá»›i má»—i item trong danh sÃ¡ch Ä‘Ã£ tá»“n táº¡i. CÃ¡i mÃ  chá»‰ khÃ¡c nhau giá»¯a 2 vi dá»¥ thá»±c cháº¥t lÃ  toÃ¡n tá»­ mÃ  ta Ã¡p dá»¥ng Trong vÃ­ dá»¥ Ä‘áº§u tiÃªn, chÃºng ta chá»‰ thÃªm trÆ°á»ng email vÃ o má»—i item Trong vÃ­ dá»¥ thá»© 2, chÃºng ta táº¡o ra má»™t táº­p há»£p máº£ng tá»« 1 vÃ i trÆ°á»ng cá»§a item. NhÆ° váº­y chÃºng ta Ä‘Ã£ tháº¥y Ä‘Æ°á»£c sá»± trá»«u tÆ°á»£ng cÃ³ thá»ƒ Ã¡p dá»¥ng á»Ÿ Ä‘Ã¢y, Ä‘Ã³ lÃ  viá»‡c truyá»n vÃ o hÃ m xá»­ lÃ½ cho má»—i xá»­ lÃ½ lÃ  Ä‘Æ°á»£c 123456789101112131415161718192021function map($items, $func){ $results = []; foreach ($items as $item) { $results[] = $func($item); } return $results;}$customerEmails = map($customers, function ($customer) { return $customer-&gt;email;});$stockTotals = map($inventoryItems, function ($item) { return [ 'product' =&gt; $item-&gt;productName, 'total_value' =&gt; $item-&gt;quantity * $item-&gt;price, ];});","link":"/2019/12/27/Collection-Higher-Order-Functions/"},{"title":"[Collection] Practice 4: What&#39;s Your GitHub Score?","text":"ÄÃ¢y lÃ  1 trong nhá»¯ng cÃ¢u há»i trong cuá»™c phá»ng váº¥n vÃ o Reddit.GitHub cung cáº¥p 1 public API tráº£ vá» hoáº¡t Ä‘á»™ng public cá»§a ngÆ°á»i dÃ¹ng gáº§n Ä‘Ã¢y. JSON respone nÃ y cho báº¡n 1 máº£ng cÃ¡c objects cÃ³ dáº¡ng sau:1234567891011[ { &quot;id&quot;: &quot;3898913063&quot;, &quot;type&quot;: &quot;PushEvent&quot;, &quot;public&quot;: true, &quot;actor&quot;: &quot;adamwathan&quot;, &quot;repo&quot;: &quot;tightenco/jigsaw&quot;, &quot;payload&quot;: { /* ... */ } }, // ...]Nhiá»‡m vá»¥ cá»§a báº¡n lÃ  tÃ­nh Ä‘iá»ƒm GitHub cá»§a 1 user dá»±a vÃ o Ä‘iá»u kiá»‡n sau123451. Each PushEvent is worth 5 points.2. Each CreateEvent is worth 4 points.3. Each IssuesEvent is worth 3 points.4. Each CommitCommentEvent is worth 2 points.5. All other events are worth 1 point. Loops and Conditionals123456789101112131415161718192021222324252627282930313233343536373839function githubScore($username){ // Grab the events from the API, in the real world you'd probably use // Guzzle or similar here, but keeping it simple for the sake of brevity. $url = &quot;https://api.github.com/users/{$username}/events&quot;; $events = json_decode(file_get_contents($url), true); // Get all of the event types $eventTypes = []; foreach ($events as $event) { $eventTypes[] = $event['type']; } // Loop over the event types and add up the corresponding scores $score = 0; foreach ($eventTypes as $eventType) { switch ($eventType) { case 'PushEvent': $score += 5; break; case 'CreateEvent': $score += 4; break; case 'IssuesEvent': $score += 3; break; case 'CommitCommentEvent': $score += 2; break; default: $score += 1; break; } } return $score;} NhÃ¬n hÆ¡i tÃ¹ nhá»‰, refactor nÃ o :D Replace Collecting Loop with PluckCháº¯c háº³n chÃºng ta Ä‘Ã£ nhÃ¬n ra ngay Ä‘oáº¡n láº¥y trÆ°á»ng type hoÃ n toÃ n cÃ³ thá»ƒ thay tháº¿ báº±ng pluck rá»“i nhá»‰123456789/**// Get all of the event types$eventTypes = [];foreach ($events as $event) { $eventTypes[] = $event['type'];}**/$eventTypes = $events-&gt;pluck('type'); BÃ¢y giá» cáº§n xá»­ lÃ½ Ä‘oáº¡n nÃ y: 123456789101112131415161718192021222324$eventTypes = $events-&gt;pluck('type');$score = 0;foreach ($eventTypes as $eventType) { switch ($eventType) { case 'PushEvent': $score += 5; break; case 'CreateEvent': $score += 4; break; case 'IssuesEvent': $score += 3; break; case 'CommitCommentEvent': $score += 2; break; default: $score += 1; break; } }return $score; Extract Score Conversion with MapÄÃ¢y rÃµ rÃ ng lÃ  Ã¡nh xáº¡ Ä‘iá»ƒm sá»‘ cho má»—i event rá»“i, dÃ¹ng map lÃ  phÃ¹ há»£p123456789101112131415$scores = $eventTypes-&gt;map(function ($eventType) { switch ($eventType) { case 'PushEvent': return 5; case 'CreateEvent': return 4; case 'IssuesEvent': return 3; case 'CommitCommentEvent': return 2; default: return 1; } });return $scores-&gt;sum();Váº«n cÃ²n 1 váº¥n Ä‘á» báº©n lÃ  switch thá»±c sá»± cáº§n Ä‘Æ°á»£c rÃºt ngáº¯n láº¡i. NÃ o giáº£i quyáº¿t nÃ³ thÃ´i Replace Switch with Lookup TableMá»—i khi báº¡n cÃ³ 1 switch nhÆ° váº­y, báº¡n cÃ³ thá»ƒ thay tháº¿ nÃ³ vá»›i 1 máº£ng vÃ  case sáº½ trá»Ÿ thÃ nh key123456789101112131415161718192021function githubScore($username){ /** $url = &quot;https://api.github.com/users/{$username}/events&quot;; $events = collect(json_decode(file_get_contents($url), true)); $eventTypes = $events-&gt;pluck('type'); **/ $scores = $eventTypes-&gt;map(function ($eventType) { $eventScores = [ 'PushEvent' =&gt; 5, 'CreateEvent' =&gt; 4, 'IssuesEvent' =&gt; 3, 'CommitCommentEvent' =&gt; 2, ]; return $eventScores[$eventType]; }); return $scores-&gt;sum();}Cáº£m giÃ¡c code Ä‘Ã£ Ä‘Æ°á»£c dá»n dáº¹p bá»Ÿi vÃ¬ nhÃ¬n vÃ o Ä‘iá»ƒm cho má»—i sá»± kiá»‡n trá»Ÿ nÃªn ráº¥t tá»± nhiÃªn vá» nhá»¯ng gÃ¬ chÃºng ta Ä‘ang cá»‘ gáº¯ng lÃ m vá»›i 1 biá»ƒu thá»©c Ä‘iá»u kiá»‡n nhÆ° switch. HÃ¬nh nhÆ° váº¥n Ä‘á» chÃºng ta quÃªn máº¥t default case, táº¥t cáº£ cÃ¡c trÆ°á»ng há»£p khÃ´ng pháº£i sá»± kiá»‡n trÃªn sáº½ tráº£ vá» 1. CÃ¡i nÃ y thÃ¬ cÃ³ thá»ƒ bá»• sung nhÆ° sau: 1234567891011121314151617181920212223242526function githubScore($username){ /*** $url = &quot;https://api.github.com/users/{$username}/events&quot;; $events = collect(json_decode(file_get_contents($url), true)); $eventTypes = $events-&gt;pluck('type'); $scores = $eventTypes-&gt;map(function ($eventType) { $eventScores = [ 'PushEvent' =&gt; 5, 'CreateEvent' =&gt; 4, 'IssuesEvent' =&gt; 3, 'CommitCommentEvent' =&gt; 2, ]; **/ if (! isset($eventScores[$eventType])) { return 1; } /** return $eventScores[$eventType]; }); return $scores-&gt;sum(); **/} Äá»™t nhiÃªn, Ä‘iá»u nÃ y khÃ´ng thá»±c sá»± cÃ³ váº» tá»‘t hÆ¡n nhiá»u so vá»›i khá»‘i switch, nhÆ°ng Ä‘á»«ng sá»£ hÃ£i, chÃºng ta váº«n cÃ²n hi vá»ng :D Associative Collections: LiÃªn káº¿t collectionsEverything is better as a collection, remember? Cho Ä‘áº¿n giá» thÃ¬ chÃºng ta chá»‰ sá»­ dá»¥ng collection cho cÃ¡c máº£ng sá»‘ truyá»n thá»‘ng nhÆ°ng collection cho chÃºng ta nhiá»u sá»©c máº¡nh hÆ¡n khi lÃ m viá»‡c vá»›i táº­p há»£p máº£ng â€œTell, Donâ€™t Askâ€ Principle!!! Báº¡n Ä‘Ã£ bao giá» nghe vá» nguyÃªn lÃ½ â€œNÃ³i, Ä‘á»«ng cÃ³ há»iâ€. Ã tÆ°á»Ÿng chung lÃ  báº¡n nÃªn trÃ¡nh viá»‡c há»i 1 object 1 cÃ¢u há»i vá» chÃ­nh nÃ³ Ä‘á»ƒ quyáº¿t Ä‘á»‹nh khÃ¡c vá» Ä‘iá»u gÃ¬ Ä‘Ã³ báº¡n Ä‘ang Ä‘á»‹nh lÃ m vá»›i object nÃ y. Thay vÃ o Ä‘Ã³, báº¡n nÃªn Ä‘áº©y trÃ¡ch nhiá»‡m vÃ o object nÃ y, vÃ¬ váº­y báº¡n cÃ³ thá»ƒ nÃ³i vá»›i nÃ³ cÃ¡i báº¡n cáº§n thay vÃ¬ há»i nÃ³ Ä‘áº§u tiÃªn NÃ³ thÃ¬ liÃªn quan gÃ¬ Ä‘áº¿n vÃ­ dá»¥ nÃ y. HÃ£y nhÃ¬n láº¡i nhÃ©123456789101112$eventScores = [ 'PushEvent' =&gt; 5, 'CreateEvent' =&gt; 4, 'IssuesEvent' =&gt; 3, 'CommitCommentEvent' =&gt; 2,];if (! isset($eventScores[$eventType])) { return 1;}return $eventScores[$eventType];Báº¡n Ä‘ang sá»­ dá»¥ng má»™t báº£ng Ä‘á»ƒ tra cá»© náº¿u nÃ³ cÃ³ 1 giÃ¡ trá»‹ cháº¯c cháº¯n vÃ  náº¿u nÃ³ khÃ´ng cÃ³ giÃ¡ trá»‹ cháº¯c cháº¯n thÃ¬ nÃ³ sáº½ tráº£ vá» giÃ¡ trá»‹ máº·c Ä‘á»‹nh Collection giÃºp chÃºng ta Ã¡p dá»¥ng nguyÃªn táº¯c â€œTell, Donâ€™t Askâ€ Ä‘á»ƒ giáº£i quyáº¿t váº¥n Ä‘á» vá»›i get() method, cÃ¡i mÃ  sáº½ nháº­n vÃ o key vÃ  tra cá»©u vÃ  1 giÃ¡ trá»‹ máº·c Ä‘á»‹nh sáº½ Ä‘Æ°á»£c tráº£ vá» náº¿u nÃ³ khÃ´ng tá»“n táº¡i.12345678$eventScores = collect([ 'PushEvent' =&gt; 5, 'CreateEvent' =&gt; 4, 'IssuesEvent' =&gt; 3, 'CommitCommentEvent' =&gt; 2,]);return $eventScores-&gt;get($eventType, 1); Táº­p há»£p láº¡i nÃ o:123456789101112131415function githubScore($username){ $url = &quot;https://api.github.com/users/{$username}/events&quot;; $events = collect(json_decode(file_get_contents($url), true)); return $events-&gt;pluck('type')-&gt;map(function ($eventType) { return collect([ 'PushEvent' =&gt; 5, 'CreateEvent' =&gt; 4, 'IssuesEvent' =&gt; 3, 'CommitCommentEvent' =&gt; 2, ])-&gt;get($eventType, 1); })-&gt;sum();} Extracting Helper FunctionsDÆ°á»ng nhÆ° body cá»§a toÃ¡n tá»­ map váº«n cÃ²n nhiá»u dÃ²ng cho viá»‡c tra cá»©u Ä‘iá»ƒm cho sá»± kiá»‡n á»Ÿ Ä‘Ã¢y. ChÃºng tÃ´i chÆ°a nÃ³i nhiá»u tá»« trÆ°á»›c, nhÆ°ng vÃ¬ chÃºng ta Ä‘ang lÃ m viá»‡c vá»›i collection pipelines khÃ´ng cÃ³ nghÄ©a lÃ  chÃºng ta nÃªn nÃ©m nhá»¯ng good practice khÃ¡c ra ngoÃ i nhÆ° viá»‡c Ä‘á»ƒ logic ra cÃ¡c hÃ m nhá». Trong trÆ°á»ng há»£p cá»§a chÃºng ta lÃ  hÃ m call API vÃ  hÃ m kiá»ƒm tra Ä‘iá»ƒm cÃ³ thá»ƒ tÃ¡ch ra:12345678910111213141516171819202122function githubScore($username){ return fetchEvents($username)-&gt;pluck('type')-&gt;map(function ($eventType) { return lookupEventScore($eventType); })-&gt;sum();}function fetchEvents($username){ $url = &quot;https://api.github.com/users/{$username}/events&quot;; return collect(json_decode(file_get_contents($url), true));}function lookupEventScore($eventType){ return collect([ 'PushEvent' =&gt; 5, 'CreateEvent' =&gt; 4, 'IssuesEvent' =&gt; 3, 'CommitCommentEvent' =&gt; 2, ])-&gt;get($eventType, 1);} Encapsulating in a ClassTáº¡o 1 class náº¿u cáº§n thiáº¿t Tá»•ng káº¿t Xá»­ lÃ½ switch case vá»›i collection. ThÃ´ng qua lookup Table NguyÃªn táº¯c â€œTell, Donâ€™t Askâ€ Ä‘á»ƒ lÃ m viá»‡c giÃ¡ trá»‹ máº·c Ä‘á»‹nh.","link":"/2019/12/27/Collection-Practice-4-What-s-Your-GitHub-Score/"},{"title":"[Collection] Practice 5: Building a Lookup Table","text":"TÃ´i cÃ³ 1 danh sÃ¡ch nhÃ¢n viÃªn vÃ  báº¡n cáº§n chuyá»ƒn Ä‘á»•i nÃ³ vÃ o báº£ng tra cá»©u mapping Ä‘á»‹a chá»‰ email vá»›i tÃªn cá»§a há».Máº£ng Ä‘áº§u vÃ o1234567891011121314151617$employees = [ [ 'name' =&gt; 'John', 'department' =&gt; 'Sales', 'email' =&gt; 'john@example.com' ], [ 'name' =&gt; 'Jane', 'department' =&gt; 'Marketing', 'email' =&gt; 'jane@example.com' ], [ 'name' =&gt; 'Dave', 'department' =&gt; 'Marketing', 'email' =&gt; 'dave@example.com' ],];VÃ  chÃºng tÃ´i cáº§n táº¡o 1 máº£ng tra cá»©u cÃ³ dáº¡ng nhÆ° sau:12345$emailLookup = [ 'john@example.com' =&gt; 'John', 'jane@example.com' =&gt; 'Jane', 'dave@example.com' =&gt; 'Dave',];Váº­y chÃºng ta cÃ³ thá»ƒ sá»­ dá»¥ng collections vÃ  higher order functions? Map to nowhereKhi mÃ  chuyá»ƒn Ä‘á»•i dá»¯ liá»‡u ta nghÄ© ngay Ä‘áº¿n map123$emailLookup = $employees-&gt;map(function ($employee) { return $employee['name'];});Äiá»u nÃ y sáº½ cho báº¡n 1 danh sÃ¡ch tÃªn nhá»¯ng nhÃ¢n viÃªn, mÃ  khoan, key Ä‘Ã¢u?? PHPâ€™s Array Identity Crisis: Cuá»™c khá»§ng hoáº£ng báº£n sáº¯cVáº¥n Ä‘á» tÃ¹y chá»‰nh keys trong khi sá»­ dá»¥ng toÃ¡n tá»­ map lÃ  Ä‘iá»u mÃ  tÃ´i nháº­n Ä‘Æ°á»£c khÃ¡ thÆ°á»ng xuyÃªn. TÃ´i nghÄ© lÃ½ do mÃ  lÃ m cho váº¥n Ä‘áº¿ nÃ y trá»Ÿ nÃªn hÃ³c bÃºa lÃ  bá»Ÿi vÃ¬ PHP, chÃºng ta sá»­ dá»¥ng kiá»ƒu dá»¯ liá»‡u giá»‘ng nhau Ä‘áº¡i diá»‡n cho cáº£ list vÃ  dictionary. QuÃªn PHP trong 1 vÃ i phÃºt vÃ  giáº£ nhÆ° chÃºng ta Ä‘ang cá»‘ giáº£i quyáº¿t váº¥n Ä‘á» vá»›i Javascriptâ€¦ (xem vÃ­ dá»¥ vá» Object) VÃ¬ váº­y chÃºng ta khÃ´ng thá»±c sá»± chuyá»ƒn Ä‘á»•i 1 máº£ng thÃ nh máº£ng khÃ¡c, chÃºng ta Ä‘ang giáº£m (reducing) máº£ng ban Ä‘áº§u thÃ nh 1 Ä‘á»‘i tÆ°á»£ng Ä‘Æ¡n. Thá»±c thi chuyá»ƒn Ä‘á»•i trong Javascript vá»›i reduce sáº½ cÃ³ dáº¡ng nhÆ° sau:1234const emailLookup = employees.reduce(function (emailLookup, employee) { emailLookup[employee.email] = employee.name; return emailLookup;}, {});VÃ  Laravel cÅ©ng tÆ°Æ¡ng tá»±:12345$emailLookup = $employees-&gt;reduce(function ($emailLookup, $employee) { $emailLookup[$employee['email']] = $employee['name']; return $emailLookup;}, []); A Reusable Abstraction: Má»™t trá»«u tÆ°á»£ng hÃ³a cÃ³ thá»ƒ sá»­ dá»¥ng láº¡iMáº·c dÃ¹ chÃºng ta Ä‘Ã£ giáº£i quyáº¿t Ä‘Æ°á»£c váº¥n Ä‘á» ban Ä‘áº§u nhÆ°ng tÃ´i thá»±c sá»± chÆ°a hÃ i lÃ²ng vá»›i viá»‡c Ä‘á»c code nhÆ° tháº¿ nÃ o? NhÆ° tÃ´i Ä‘Ã£ nháº¯c á»Ÿ pháº§n trÆ°á»›c cuá»‘n sÃ¡ch, tÃ´i thÆ°á»ng xuyÃªn nhÃ¬n tháº¥y reduce nhÆ° 1 dáº¥u hiá»‡u ráº±ng tÃ´i Ä‘ang quÃªn máº¥t cÃ¡ch diá»…n Ä‘áº¡t dá»… hÃ¬nh dung hÆ¡n Ä‘Æ°á»£c xÃ¢y dá»±ng vá»›i reduce? =&gt; Tá»©c lÃ  xÃ¢y dá»±ng function cao hÆ¡n, giÃ u tÃ­nh biá»ƒu Ä‘áº¡t hÆ¡n dá»±a vÃ o reduce. Tháº­t tuyá»‡t vá»i náº¿u chÃºng ta táº¡o 1 toÃ¡n tá»­ vá»›i tÃªn toAssoc() sá»­ dá»¥ng Ä‘á»ƒ chuyá»ƒn 1 danh sÃ¡ch vÃ o máº£ng káº¿t há»£p (associative array), nhÆ°ng lÃ m sao chÃºng ta cÃ³ thá»ƒ xÃ¡c Ä‘á»‹nh Ä‘Æ°á»£c cáº£ key vÃ  value? Learning from Other LanguagesRuby cÃ³ kiá»ƒu máº£ng káº¿t há»£p lÃ  Hash. Báº¡n cÃ³ thá»ƒ chuyá»ƒn 1 Enumerable vÃ o trong Hash báº±ng cÃ¡ch sá»­ dá»¥ng phÆ°Æ¡ng thá»©c to_h miá»…n lÃ  enumerable táº¡o thÃ nh cáº·p [key, value]12345employees = [ ['john@example.com', 'John'], ['jane@example.com', 'Jane'], ['dave@example.com', 'Dave'],]vÃ  gá»i phÆ°Æ¡ng thá»©c to_h123456employees.to_h # =&gt; { # 'john@example.com' =&gt; 'John', # 'jane@example.com' =&gt; 'Jane', # 'dave@example.com' =&gt; 'Dave',# } The toAssoc Macro1234567Collection::macro('toAssoc', function () { return $this-&gt;reduce(function ($assoc, $keyValuePair) { list($key, $value) = $keyValuePair; $assoc[$key] = $value; return $assoc; }, new static);}); VÃ  cÃ³ thá»ƒ sá»­ dá»¥ng12345678910$emailLookup = collect([ ['john@example.com', 'John'], ['jane@example.com', 'Jane'], ['dave@example.com', 'Dave'],])-&gt;toAssoc();// =&gt; [// 'john@example.com' =&gt; 'John',// 'jane@example.com' =&gt; 'Jane',// 'dave@example.com' =&gt; 'Dave',// ] Mapping to PairsTáº¥t nhiÃªn lÃ  sá»­ dá»¥ng map, vÃ  khi Ä‘áº·t má»i thá»© cÃ¹ng nhau, nÃ³ sáº½ nhÆ° sau :D12345678910111213141516171819$emailLookup = collect([ [ 'name' =&gt; 'John', 'department' =&gt; 'Sales', 'email' =&gt; 'john@example.com' ], [ 'name' =&gt; 'Jane', 'department' =&gt; 'Marketing', 'email' =&gt; 'jane@example.com' ], [ 'name' =&gt; 'Dave', 'department' =&gt; 'Marketing', 'email' =&gt; 'dave@example.com' ],])-&gt;map(function ($employee) { return [$employee['email'], $employee['name']];})-&gt;toAssoc();Náº¿u báº¡n muá»‘n cáº£i tiáº¿n thÃªm 1 bÆ°á»›c ná»¯a, báº¡n hoÃ n toÃ n cÃ³ thá»ƒ xÃ¢y dá»±ng má»™t phÆ°Æ¡ng thá»©c vá»›i tÃªn mapToAssoc giÃºp chÃºng ta chuyá»ƒn Ä‘á»•i dá»¯ liá»‡u trong 1 bÆ°á»›c:123Collection::macro('mapToAssoc', function ($callback) { return $this-&gt;map($callback)-&gt;toAssoc();});VÃ  chÃºng ta cÃ³ thá»ƒ sá»­ dá»¥ng nÃ³ nhÆ° sau:123$emailLookup = $employees-&gt;mapToAssoc(function ($employee) { return [$employee['email'], $employee['name']];});Pretty slick!","link":"/2019/12/28/Collection-Practice-5-Building-a-Lookup-Table/"},{"title":"[Collection] Transforming Data, Introducing Collections","text":"â€¦.Trá»Ÿ vá» vÃ­ dá»¥ Ä‘áº§u tiÃªn, láº¥y danh sÃ¡ch email cá»§a users1234567891011121314function getUserEmails($users){ $emails = []; for ($i = 0; $i &lt; count($users); $i++) { $user = $users[$i]; if ($user-&gt;email !== null) { $emails[] = $user-&gt;email; } } return $emails;}Hay nhÃ¬n nhÆ° kiá»ƒu nÃ y1SELECT email FROM users WHERE email IS NOT NULLÄá»‘i vá»›i nhá»¯ng ngÆ°á»i má»›i báº¯t Ä‘áº§u, chá»±a chá»n foreach dá»… dÃ ng hÆ¡n 123456789101112function getUserEmails($users){ $emails = []; foreach ($users as $user) { if ($user-&gt;email !== null) { $emails[] = $user-&gt;email; } } return $emails;} Náº¿u khÃ´ng kiá»ƒm tra null trong email, viá»‡c dÃ¹ng map lÃ  phÃ¹ há»£p. Äáº·c Ä‘iá»ƒm cá»§a map lÃ  Ã¡p dá»¥ng chuyá»ƒn Ä‘á»•i má»—i pháº§n tá»­ cá»§a máº£ng, bá»Ÿi váº­y nÃ³ cÅ©ng tráº£ vá» 1 máº£ng vá»›i size giá»‘ng vá»›i máº£ng gá»‘c. HÃ m getUserEmails chá»‰ cÃ³ nghÄ©a lÃ  tráº£ vá» táº­p con (subset) cá»§a items, nhá»¯ng item cÃ³ trÆ°á»ng $email khÃ¡c null. Khi táº¡o subset, chÃºng ta sáº½ sá»­ dá»¥ng filter, nhÆ°ng filter cÅ©ng khÃ´ng Ä‘Ãºng á»Ÿ Ä‘Ã¢y. Filter cÃ³ nghÄ©a lÃ  tráº£ cho báº¡n táº¥t cáº£ cÃ¡c pháº§n tá»­ thá»a mÃ£n 1 vÃ i Ä‘iá»u kiá»‡n, trong trÆ°á»ng há»£p nÃ y lÃ  email not null. Váº¥n Ä‘á» á»Ÿ Ä‘Ã¢y lÃ  filter lÃ  chÃºng tráº£ vá» cho chÃºng ta users cÃ³ email chá»© khÃ´ng pháº£i lÃ  Ä‘á»‹a chá»‰ email cá»§a há» Thinking in StepsVáº¥n Ä‘á» chÃºng Ä‘á» Ä‘ang pháº£i Ä‘á»‘i máº·t lÃ  chÃºng ta Ä‘ang cá»‘ gáº¯ng lÃ m quÃ¡ nhiá»u thá»© cÃ¹ng 1 lÃºc. Khi báº¡n Ä‘ang á»Ÿ tÃ¬nh tráº¡ng nÃ y, thá»© Ä‘áº§u tiÃªn báº¡n lÃ m lÃ  cá»‘ gáº¯ng cho â€œI canâ€™t because â€¦â€ vÃ o â€œNáº¿u tÃ´i cÃ³ thá»ƒ â€¦â€ (I could if â€¦). VÃ­ dá»¥:TÃ´i khÃ´ng thá»ƒ map vÃ¬ nÃ³ sáº½ Ä‘Æ°á»£c Ã¡p dá»¥ng cho má»—i users, khÃ´ng chá»‰ vá»›i users cÃ³ email Trá»Ÿ thÃ nh:TÃ´i cÃ³ thá»ƒ sá»­ dá»¥ng map náº¿u tÃ´i chá»‰ lÃ m viá»‡c vá»›i nhá»¯ng users cÃ³ email Well, láº¥y nhá»¯ng users vá»›i email nghe thÃ´i Ä‘Ã£ tháº¥y ta cÃ³ thá»ƒ sá»­ dá»¥ng vá»›i filter123$usersWithEmails = filter($users, function ($user) { return $user-&gt;email !== null;});VÃ  giá» khi Ä‘Ã£ chÃºng ta chá»‰ lÃ m viá»‡c vá»›i users cÃ³ email rá»“i, chÃºng ta cÃ³ thá»ƒ xÃ³a Ä‘iá»u kiá»‡n ra khá»i lÃ²ng láº·p1234567891011121314function getUserEmails($users){ $usersWithEmails = filter($users, function ($user) { return $user-&gt;email !== null; }); $emails = []; foreach ($usersWithEmails as $user) { $emails[] = $user-&gt;email; } return $emails;}Rá»“i nha, má»™t khi Ä‘iá»u kiá»‡n Ä‘Ã£ khÃ´ng cÃ²n, chÃºng ta sáº½ thay tháº¿ nÃ³ vá»›i map123456789101112function getUserEmails($users){ $usersWithEmails = filter($users, function ($user) { return $user-&gt;email !== null; }); $emails = map($usersWithEmails, function ($user) { return $user-&gt;email; }); return $emails;}ChÃºng ta Ä‘Ã£ giáº£i quyáº¿t xong váº¥n Ä‘á» báº±ng cÃ¡ch tÃ¡ch biá»‡t vÃ o 1 toÃ¡n tá»­ riÃªng biá»‡t, má»—i cÃ¡i phá»¥ trÃ¡ch 1 pháº§n rÃµ rÃ ng Khi code cá»§a báº¡n trá»Ÿ nÃªn phá»©c táº¡p hÆ¡n, viá»‡c tÃ¡ch biá»‡t chia nhá» má»i thá»© nhÆ° tháº¿ nÃ y báº¯t Ä‘áº§u hiá»‡u quáº£ bá»Ÿi vÃ¬ khi debug sáº½ debug Ä‘Æ°á»£c cÃ¡c hoáº¡t Ä‘á»™ng Ä‘á»™c láº­p, Ä‘Æ¡n giáº£n hÆ¡n nhiá»u khi gá»¡ lá»—i vá»›i cÃ¡c toÃ¡n tá»­ phá»©c táº¡p The Problem with Primitives (Váº¥n Ä‘á» vá»›i kiá»ƒu dá»¯ liá»‡u nguyÃªn thá»§y)CÃ¡i mÃ  chÃºng ta cáº§n cáº£i thiá»‡n ná»¯a loáº¡i bá» Ä‘i cÃ¡c biáº¿n trung gian $usersWithEmails vÃ  $email Loáº¡i bá» $email thÃ¬ ráº¥t Ä‘Æ¡n giáº£n, chÃºng ta chá»‰ cáº§n tráº£ vá» trá»±c tiáº¿p:12345678910function getUserEmails($users){ $usersWithEmails = filter($users, function ($user) { return $user-&gt;email !== null; }); return map($usersWithEmails, function ($user) { return $user-&gt;email; });}NhÆ°ng Ä‘oáº¡n code báº¯t Ä‘áº§u khÃ³ hiá»ƒu 1 chÃºt náº¿u báº¡n sá»­ dá»¥ng biáº¿n $usersWithEmail cÃ¹ng dÃ²ng nhÆ° váº­y12345678function getUserEmails($users){ return map(filter($users, function ($user) { return $user-&gt;email !== null; }), function ($user) { return $user-&gt;email; });}What? NÃ³ khÃ´ng dá»… Ä‘á»ƒ Ä‘á»c. NÃ³ nhÃ¬n tháº­m chÃ­ cÃ²n tá»“i tá»‡ hÆ¡n náº¿u báº¡n sá»­ dá»¥ng PHPâ€™s build-in array functions vÃ¬ chÃºng cÃ³ thá»© tá»± tham sá»‘ khÃ´ng trá»±c quan12345678function getUserEmails($users){ return array_map(function ($user) { return $user-&gt;email; }, array_filter($users, function ($user) { return $user-&gt;email !== null; }));}LÃ½ do code khÃ³ hiá»ƒu lÃ  vÃ¬ nÃ³ pháº£i Ä‘Æ°á»£c Ä‘á»c â€œinside-outâ€ (Ä‘á»c tá»« trong ra ngoÃ i) Váº¥n Ä‘á» giá»‘ng nhau gáº·p pháº£i phÃ¡t sinh khi lÃ m viá»‡c vá»›i string trong PHP. VÃ­ dá»¥ báº¡n cÃ³ Ä‘oáº¡n code chuyá»ƒn Ä‘á»•i tá»« snake_case sang camelCase12345$camelString = lcfirst( str_replace(' ', '', ucwords(str_replace('_', ' ', $snakeString)) ));Máº¥t má»™t lÃºc Ä‘á»ƒ load nÃ£o. VÃ¬ strings vÃ  array lÃ  kiá»ƒu dá»¯ liá»‡u nguyÃªn thá»§y, chÃºng ta pháº£i thá»±c hiá»‡n toÃ¡n tá»­ vá»›i nÃ³ tá»« bÃªn ngoÃ i báº±ng cÃ¡ch truyá»n chÃºng dÆ°á»›i dáº¡ng tham sá»‘ vÃ o cÃ¡c hÃ m khÃ¡c (kiá»ƒu pháº£i thá»±c hiá»‡n á»Ÿ Ä‘Ã¢u Ä‘Ã³ rá»“i má»›i truyá»n vÃ o Ä‘Æ°á»£c chá»© khÃ´ng thá»ƒ thá»±c hiá»‡n trong hÃ m chÃ­nh luÃ´n Ã½). ÄÃ³ lÃ  nhá»¯ng gÃ¬ dáº«n Ä‘áº¿n â€œinside-outâ€, nÆ¡i báº¡n cáº§n Ä‘áº¿m cÃ¡c bÆ°á»›c liÃªn káº¿t Ä‘á»ƒ xem chuyá»‡n gÃ¬ xáº£y ra Ä‘áº§u tiÃªn vá»›i biáº¿n cá»§a mÃ¬nh. Thay tháº¿ chá»— inside-out code kia báº±ng vÃ­ dá»¥ sau Ä‘Ã¢y?1234$camelString = $snakeString-&gt;replace('_', ' ') -&gt;ucwords() -&gt;replace(' ', '') -&gt;lcfirst();CÃ³ pháº£i dá»… hiá»ƒu hÆ¡n ráº¥t nhiá»u Ä‘Ãºng ko? Äiá»ƒm khÃ¡c biá»‡t á»Ÿ Ä‘Ã¢y lÃ  chÃºng ta xem $snakeString nhÆ° lÃ  1 object thay vÃ¬ giÃ¡ trá»‹ kiá»ƒu nguyÃªn thá»§y. Báº±ng cÃ¡ch gá»i cÃ¡c phÆ°Æ¡ng thá»©c trá»±c tiáº¿p thay vÃ¬ truyá»n nÃ³ thÃ´ng qua cÃ¡c tham sá»‘, báº¡n chá»‰ cáº§n Ä‘á»c code tá»« trÃ¡i qua pháº£i vá»›i cÃ¡c toÃ¡n tá»­ xuáº¥t hiá»‡n Ä‘Ã£ Ä‘Æ°á»£c sáº¯p xáº¿p Arrays as ObjectsHÃ£y tÆ°á»Ÿng tÆ°á»£ng trong giÃ¢y lÃ¡t, cÃ¡ch chÃºng ta biáº¿n array thÃ nh Object trong hÃ m getUserEmails function:1234567891011121314function getUserEmails($users){- $usersWithEmails = filter($users, function ($user) {+ $usersWithEmails = $users-&gt;filter(function ($user) { return $user-&gt;email !== null; });- $emails = map($usersWithEmails, function ($user) {+ $emails = $usersWithEmails-&gt;map(function ($user) { return $user-&gt;email; }); return $emails;}Sá»± khÃ¡c biá»‡t lÃºc nÃ y lÃ  $usersWithEmails outside trong lá»i gá»i map cá»§a chÃºng ta thay vá» inside. BÃ¢y giá» chÃºng ta chÃºng ta cÃ³ thá»ƒ inline nÃ³, filter trÆ°á»›c khi map, code cá»§a chÃºng ta Ä‘Æ°á»£c Ä‘á»c tá»« trÃ¡i qua pháº£i mÃ  khÃ´ng cáº§n inside.12345678function getUserEmails($users){ return $users-&gt;filter(function ($user) { return $user-&gt;email !== null; })-&gt;map(function ($user) { return $user-&gt;email; });}Báº¡n cÃ³ tháº¥y thÃº vá»‹ khÃ´ng? Kiá»ƒu láº­p trÃ¬nh nÃ y Ä‘Æ°á»£c gá»i chung lÃ  collection pipeline vÃ  chÃºng ta hoÃ n toÃ n cÃ³ thá»ƒ lÃ m Ä‘iá»u nÃ y trong PHP. Giá»›i thiá»‡u vá» Collection A collection is an object that bundles up an array and lets us perform array operations by calling methods on the collection instead of passing the array into functions. Má»™t collection lÃ  1 object â€œbÃ³â€ láº¡i 1 máº£ng vÃ  cho phÃ©p chÃºng ta thá»±c hiá»‡n cÃ¡c toÃ¡n tá»­ Ä‘Æ°á»£c gá»i lÃ  cÃ¡c methods vá»›i collection thay vÃ¬ truyá»n máº£ng vÃ o máº£ng. ÄÃ¢y lÃ  Collection class Ä‘Æ¡n giáº£n chá»‰ há»— trá»£ map vÃ  filter:123456789101112131415161718192021222324class Collection{ protected $items; public function __construct($items) { $this-&gt;items = $items; } public function map($callback) { return new static(array_map($callback, $this-&gt;items)); } public function filter($callback) { return new static(array_filter($this-&gt;items, $callback)); } public function toArray() { return $this-&gt;items; }}Äá»ƒ láº¥y dÃ¡nh sÃ¡ch email cá»§a $user theo vÃ­ dá»¥ trÃªn chÃºng ta cÃ³ thá»ƒ dÃ¹ng Collection12345678function getUserEmails($users){ return (new Collection($users))-&gt;filter(function ($user) { return $user-&gt;email !== null; })-&gt;map(function ($user) { return $user-&gt;email; })-&gt;toArray();}PhÆ°Æ¡ng thá»©c liÃªn káº¿t sau hÃ m táº¡o cÃ³ thá»ƒ nhÃ¬n cÃ³ 1 chÃºt lá»™n xá»™n vÃ¬ váº­y tÃ´i sáº½ thÆ°á»ng xuyÃªn táº¡o hÃ m táº¡o cÃ³ tÃªn Ä‘á»ƒ rÃµ rÃ ng má»i thá»©1234public static function make($items){ return new static($items);}Sá»­ dá»¥ng hÃ m táº¡o cÃ³ tÃªn giÃºp chÃºng ta tiáº¿t kiá»‡m Ä‘Æ°á»£c cÃ¡c dáº¥u ngoáº·c Ä‘Æ¡n vÃ  nhÃ¬n gá»n hÆ¡n123456789function getUserEmails($users){- return (new Collection($users))-&gt;filter(function ($user) {+ return Collection::make($users)-&gt;filter(function ($user) { return $user-&gt;email !== null; })-&gt;map(function ($user) { return $user-&gt;email; })-&gt;toArray();} Má»™t chÃº Ã½ vá» kháº£ nÄƒng biáº¿n Ä‘á»•i Báº¡n pháº£i chÃº Ã½ ráº±ng trong cÃ¡c vÃ­ dá»¥ tÃ­nh Ä‘áº¿n thá»i Ä‘iá»ƒm hiá»‡n táº¡i, chÃºng ta Ã¡p dá»¥ng cÃ¡c toÃ¡n tá»­ vá»›i máº£ng vÃ  chÃºng ta luÃ´n tráº£ vá» máº£ng má»›i, chÃºng ta thá»±c sá»± khÃ´ng thay Ä‘á»•i gÃ¬ trong máº£ng gá»‘c. Äiá»u nÃ y rÃµ rÃ ng vá»›i cÃ¡c thá»±c thi Collection á»Ÿ dÆ°á»›i khi mÃ  ta tráº£ vá» new static vá»›i cáº£ map vÃ  filter So sÃ¡nh Ä‘iá»u Ä‘Ã³ vá»›i cÃ¡c thá»±c hiá»‡n nÃ y, tahy vÃ¬ tráº£ vá» new collection, chÃºng ta sáº½ tráº£ vá» thuá»™c tinh $item thay tháº¿12345public function map($callback){ $this-&gt;items = array_map($callback, $this-&gt;items); return $this;}Äiá»u nÃ y cÃ³ váº» khÃ´ng pháº£i lÃ  má»™t sá»± khÃ¡c biá»‡t lá»›n, nhÆ°ng nÃ³ cÃ³ thá»ƒ gÃ¢y ra cÃ¡c lá»—i lÃ m tan cháº£y nÃ£o, ma quÃ¡i hÃ nh Ä‘á»™ng á»Ÿ khoáº£ng cÃ¡ch sáº½ loáº¡i bá» táº¥t cáº£ â€œniá»m vuiâ€ ra khá»i láº­p trÃ¬nh.=&gt; Ä‘iá»u nÃ y cÃ³ thá»ƒ hack nÃ£o vÃ  gÃ¢y bug Ä‘Ã³ :D Code sáº½ nhÆ° sau:12345678910111213$employees = new Collection([ ['name' =&gt; 'Mary', 'email' =&gt; 'mary@example.com', 'salaried' =&gt; true], ['name' =&gt; 'John', 'email' =&gt; 'john@example.com', 'salaried' =&gt; false], ['name' =&gt; 'Kelly', 'email' =&gt; 'kelly@example.com', 'salaried' =&gt; true],]);$employeeEmails = $employees-&gt;map(function ($employee) { return $employee['email'];});$salariedEmployees = $employees-&gt;filter(function ($employee) { return $employee['salaried'];});Báº¡n cÃ³ thá»ƒ phÃ¡t hiá»‡n ra bug? HÃ£y nhÃ¬n map. Khi chÃºng ta Ä‘ang cá»‘ filter danh sÃ¡ch nhÃ¢n viÃªn thÃ¬ chÃºng ta thá»±c táº¿ láº¡i Ä‘ang lá»c danh sÃ¡ch email cá»§a há». Ráº¥t tiáº¿c Quacking Likeâ€¦ an Array?Pháº§n nÃ y nÃ³i vá» cÃ¡c interface Ä‘á»ƒ tÆ°Æ¡ng tÃ¡c vá»›i Collection nhÆ° 1 máº£ng nhÃ© Collection Ä‘Æ¡n giáº£n cho Ä‘áº¿n giá» khÃ¡ gá»n, nhÆ°ng hÆ¡i khÃ³ chá»‹u 1 chÃºt khi pháº£i liÃªn tá»¥c chuyá»ƒn Ä‘á»•i dá»¯ liá»‡u qua láº¡i giá»¯a collection vÃ  array. Tháº­t sá»± tuyá»‡t vá»i náº¿u chÃºng ta cÃ³ thá»ƒ xÃ¢y dá»±ng collection, cÃ¡i mÃ  chÃºng ta cÃ³ thá»ƒ sá»­ dá»¥ng thay cho máº£ng mÃ  khÃ´ng cáº§n há»‡ thá»‘ng nháº­n tháº¥y, vÃ  ráº¥t máº¯n, PHP Ä‘Æ°á»£c Ä‘Æ°á»£c Ä‘iá»u Ä‘Ã³ (háº§u háº¿u, Ä‘a sá»‘) thÃ´ng qua 1 interfaces sau ArrayAccessMá»™t trong nhá»¯ng chá»©c nÄƒng Ä‘áº·c biá»‡t cá»§a máº£ng lÃ  báº¡n cÃ³ thá»ƒ láº¥y pháº§n tá»­ báº±ng cÃ¡ch xÃ¡c Ä‘á»‹nh offset thÃ´ng qua dáº¥u []123$items = [1, 2, 3];echo $items[2];// =&gt; 3Náº¿u báº¡n thá»­ lÃ m nÃ³ vá»›i Collection, nÃ³ sáº½ lá»—i. ChÃºng ta cÃ³ thá»ƒ thÃªm nÃ³ thÃ´ng qua interface ArrayAccess (xem thÃªm trong sÃ¡ch - 43) CountableInterface tÆ°Æ¡ng tá»± count() IteratorAggregateInterface cho vÃ²ng láº·p The Golden Rule of Collection Programming: NguyÃªn táº¯c vÃ ng cá»§a láº­p trÃ¬nh collection Never use a foreach loop outside of a collection! Má»—i khi báº¡n sá»­ dá»¥ng vÃ²ng láº·p foreach, báº¡n Ä‘ang lÃ m cÃ¡i quÃ© gÃ¬ Ä‘Ã³ vÃ  tÃ´i há»©a vá»›i báº¡n ráº±ng â€œcÃ¡i quÃ© gÃ¬ Ä‘Ã³â€ Ä‘Ã£ cÃ³ tÃªn: Cáº§n vÃ²ng láº·p trÃªn 1 máº£ng Ä‘á»ƒ thá»±c hiá»‡n 1 vÃ i hÃ nh Ä‘á»™ng vá»›i má»—i item vÃ  nhÃ©t káº¿t quáº£ vÃ o máº£ng khÃ¡c? Báº¡n khÃ´ng cáº§n láº·p, báº¡n cáº§n map Báº¡n cáº§n vÃ²ng láº·p qua 1 máº£ng Ä‘á»ƒ loáº¡i bá» 1 vÃ i pháº§n tá»­ khÃ´ng trÃ¹ng vá»›i Ä‘iá»u kiá»‡n. Báº¡n khÃ´ng cáº§n vÃ²ng láº·p, báº¡n cáº§n filter Pipeline programming (láº­p trÃ¬nh Ä‘Æ°á»ng á»‘ng) lÃ  vá» cÃ¡c toÃ¡n tá»­ á»Ÿ má»©c Ä‘á»™ cao hÆ¡n. Thay vÃ¬ lÃ m Ä‘iá»u gÃ¬ Ä‘Ã³ vá»›i items trong collection, báº¡n hÃ£y lÃ m tá»± lÃ m nÃ³ vá»›i collection =&gt; CÃ¢u nÃ y khÃ³ hiá»ƒu quÃ¡, huhu Map it, filter it, reduce it, sum it, zip it, reverse it, transpose it, flatten it, group it, count it, chunk it, sort it, slice it, search it; if you can do it with a foreach loop, you can do it with a collection method. Má»—i khi báº¡n nÃ¢ng cáº¥p máº£ng tá»« cÃ¡c kiá»ƒu nguyÃªn thá»§y lÃªn thÃ nh object, cÃ¡i mÃ  cÃ³ cÃ¡c hÃ nh vi, thÃ¬ khÃ´ng cÃ³ lÃ½ do gÃ¬ Ä‘á»ƒ sá»­ dá»¥ng vÃ²ng láº·p bÃªn ngoÃ i chÃ­nh collection Ä‘Ã³ vÃ  tÃ´i sáº½ chá»©ng minh Ä‘iá»u Ä‘Ã³ vá»›i báº¡n. Ká»ƒ tá»« thá»i Ä‘iá»ƒm nÃ y, báº¡n sáº½ khÃ´ng nhÃ¬n tháº¥y 1 vÃ²ng foreach Ä‘Æ¡n nÃ o trá»« khi nÃ³ bÃªn trong 1 collection method ná»¯a. Let the games begin!","link":"/2019/12/27/Collection-Transforming-Data-Introducing-Collections/"},{"title":"[Collection] Practice 3: Binary to Decimal","text":"BÃ i toÃ¡n chuyá»ƒn Ä‘á»•i tá»« nhá»‹ phÃ¢n sang tháº­p phÃ¢n: So given a string like â€œ100110101â€ , we need to write a function that spits out 309. Use a for loop123456789101112function binaryToDecimal($binary){ $total = 0; $exponent = strlen($binary) - 1; for ($i = 0; $i &lt; strlen($binary); $i++) { $decimal = $binary[$i] * (2 ** $exponent); $total += $decimal; $exponent--; } return $total;} Breaking It DownMá»™t trong nhá»¯ng thá»©c quan trá»ng tÃ´i muá»‘n báº¡n há»c Ä‘Æ°á»£c tá»« cuá»‘n sÃ¡ch nÃ y lÃ  cÃ¡ch dá»«ng lÃ m quÃ¡ nhiá»u thá»© trong 1 lÃºc vÃ  thay vÃ o Ä‘Ã³ giáº£i quyáº¿t váº¥n Ä‘á» nhá», nhá»¯ng bÆ°á»›c Ä‘Æ¡n giáº£n HÃ£y tÆ°á»Ÿng tÆ°á»£ng trong giÃ¢y lÃ¡t ráº±ng chÃºng ta khÃ´ng cho phÃ©p sá»­ dá»¥ng biáº¿n táº¡m thá»i (trung gian). Váº­y lÃ m sao chÃºng ta cÃ³ thá»ƒ giáº£i quyáº¿t váº¥n Ä‘á» mÃ  chá»‰ cho phÃ©p thá»±c hiá»‡n cÃ¡c phÃ©p toÃ¡n tá»­ vá»›i dá»¯ liá»‡u Ä‘áº§u vÃ o nhÆ° 1 thá»ƒ thá»‘ng nháº¥t? Äáº§u tiÃªn cáº§n tÃ¡ch chuá»—i ra Ä‘Ã£. Báº¡n cÃ³ thá»ƒ lÃ m viá»‡c Ä‘Ã³ báº±ng cÃ¡ch sá»­ dá»¥ng str_split, cÃ¡i mÃ  sáº½ bá»c káº¿t quáº£ trong collection123456function binaryToDecimal($binary){ // $binary =&gt; &quot;11010&quot; $columns = collect(str_split($binary)); // $columns =&gt; [&quot;1&quot;, &quot;1&quot;, &quot;0&quot;, &quot;1&quot;, &quot;0&quot;]}OK, váº­y chÃºng ta Ä‘Ã£ cÃ³ 1 collection tá»« chuá»—i string. ChÃºng ta sáº½ lÃ m gÃ¬ tiáº¿p theo Ä‘á»ƒ giáº£i quyáº¿t váº¥n Ä‘á». Quay trá»Ÿ láº¡i váº¥n Ä‘á», chÃºng ta nÃ³i vá» chuyá»ƒn Ä‘á»•i dá»¯ liá»‡u nhá»‹ phÃ¢n sang tháº­p phÃ¢n, cÃ³ váº» nhÆ° dÃ¹ng map Æ°? Reversing the CollectionPháº£i Ä‘áº£o ngÆ°á»£c láº¡i collection12345678$columns-&gt;reverse();// =&gt; [// 4 =&gt; &quot;0&quot;,// 3 =&gt; &quot;1&quot;,// 2 =&gt; &quot;0&quot;,// 1 =&gt; &quot;1&quot;,// 0 =&gt; &quot;1&quot;,// ]Sá»­ dá»¥ng values Ä‘á»ƒ láº¥y giÃ¡ trá»‹. HÃ£y chÃº Ã½, reverse Ä‘áº£o ngÆ°á»£c láº¡i giÃ¡ trá»‹ láº¡i nhÆ°ng key cá»§a nÃ³ khÃ´ng Ä‘á»•i. Äá»ƒ reset láº¡i key báº¯t Ä‘áº§u tá»« 0, báº¡n cáº§n sá»­ dá»¥ng toÃ¡n tá»­ values ná»¯a1234567891011121314function binaryToDecimal($binary){ // $binary =&gt; &quot;11010&quot; $columns = collect(str_split($binary)) -&gt;reverse() -&gt;values(); // =&gt; [ // 0 =&gt; &quot;0&quot;, // 1 =&gt; &quot;1&quot;, // 2 =&gt; &quot;0&quot;, // 3 =&gt; &quot;1&quot;, // 4 =&gt; &quot;1&quot;, // ]} Mapping with KeysOK, giá» lÃ  ta sáº½ map káº¿t há»£p sum Ä‘á»ƒ tÃ­nh káº¿t quáº£ nÃ o123456789function binaryToDecimal($binary){ return collect(str_split($binary)) -&gt;reverse() -&gt;values() -&gt;map(function ($column, $exponent) { return $column * (2 ** $exponent); })-&gt;sum();}Äiá»u tuyá»‡t vá»i lÃ  sau khi tÃ¡i cáº¥u trÃºc code, khÃ´ng biáº¿n táº¡m thá»i. Váº¥n Ä‘á» lá»›n nháº¥t vá»›i biáº¿n táº¡m thá»i lÃ  chÃºng báº¯t báº¡n giá»¯ toÃ n bá»™ hÃ m trong Ä‘áº§u báº¡n trong má»i lÃºc Ä‘á»ƒ suy nghÄ© vá» cÃ¡ch thá»©c hoáº¡t Ä‘á»™ng cá»§a hÃ m (kiá»ƒu giá»¯ biáº¿n Ä‘á»ƒ truyá»n vÃ o hÃ m sau vÃ  theo dÃµi luá»“ng vá»›i nhau. Kiá»ƒu nÃ³ giá»¯ giÃ¡ trá»‹ cá»§a hÃ m nÃ o vÃ  truyá»n vÃ o Ä‘Ã¢u ná»¯a Ã½) Äá»‘i láº­p vá»›i phÆ°Æ¡ng Ã¡n nÃ y lÃ  giáº£i phÃ¡p Ä‘Æ°á»ng á»‘ng (pipeline). Má»—i toÃ¡n tá»­ hoÃ n toÃ n Ä‘á»™c láº­p. Báº¡n khÃ´ng cáº§n hiá»ƒu giÃ¡ trá»‹ cá»§a biáº¿n táº¡m thá»i á»Ÿ dÃ²ng X Ä‘á»ƒ biáº¿t hÃ m reverse thá»±c sá»± lÃ m gÃ¬, nÃ³ chá»‰ phá»¥ thuá»™c vÃ o Ä‘áº§u ra cá»§a toÃ¡n tá»­ trÆ°á»›c Ä‘Ã³ vÃ  khÃ´ng gÃ¬ cáº£. Vá»›i tÃ´i, nÃ³ lÃ  sá»± thanh lá»‹ch Tá»•ng káº¿tHelper: reverse(), values(), sum() ChÃº Ã½: sá»­ dá»¥ng má»™t vÃ i toÃ¡n tá»­ thay Ä‘á»•i thá»© tá»± cá»§a collection, hÃ£y chÃº Ã½ xem chÃºng cÃ³ Ä‘á»•i thá»© tá»± key khÃ´ng. NhÆ° toÃ¡n tá»­ reverse()sáº½ khÃ´ng thay Ä‘á»•i thá»© tá»± key vÃ  báº¡n cáº§n káº¿t há»£p vá»›i toÃ¡n tá»­ values Ä‘á»ƒ reset key láº¡i tá»« 0 NgoÃ i ra vá»›i issue nÃ y, báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng hÃ m bindec cá»§a PHP","link":"/2019/12/27/Collection-Practice-3-Binary-to-Decimal/"},{"title":"Deploy Laravel project with Kubernetes","text":"Kubernetes hay K8s lÃ  má»™t há»‡ thá»‘ng Ä‘á»ƒ quáº£n lÃ½ cÃ¡c â€œcontainerâ€œ. NÃ³i má»™t cÃ¡ch dá»… hiá»ƒu, náº¿u báº¡n biáº¿t dÃ¹ng Docker hoáº·c rkt [0] Ä‘á»ƒ cháº¡y cÃ¡c container, thÃ¬ K8s lÃ  giáº£i phÃ¡p Ä‘á»ƒ quáº£n lÃ½ chÃºng (quáº£n lÃ½ bao gá»“m: táº¡o, sá»­a, xoÃ¡, xáº¿p lá»‹ch(schedule), hay má»Ÿ rá»™ng (scale)â€¦) trÃªn nhiá»u mÃ¡y. NhÆ° váº­y, Ä‘á»ƒ cÃ³ thá»ƒ sá»­ dá»¥ng Ä‘Æ°á»£c K8s, báº¡n pháº£i biáº¿t dÃ¹ng Docker. Tham kháº£o thÃªm táº¡o Blog: https://www.familug.org/2017/03/kubernetes.html VÃ¬ Ä‘Ã¢y lÃ  má»™t chá»§ Ä‘á» quÃ¡ rá»™ng vÃ  chÆ°a cÃ³ kinh nghiá»‡m Ã¡p dá»¥ng, tÃ¡c giáº£ xin dá»«ng láº¡i á»Ÿ má»©c giá»›i thiá»‡u, cÆ°á»¡i tÃªn lá»­a xem hoa. Github projects: https://github.com/minhnv2306/laravel_6_learn_deploy BÆ°á»›c 0: Test docker á»Ÿ local12docker build -t my-laravel-image .docker run -p 8000:8000 my-laravel-image Sau Ä‘Ã³ kiá»ƒm tra qua Ä‘Æ°á»ng dáº«n http://localhost:8000/login xem á»©ng dá»¥ng lÃªn chÆ°a nhÃ© :D Náº¿u docker Ä‘Ã£ cháº¡y ngon á»Ÿ local, bÆ°á»›c tiáº¿p theo lÃ  Ä‘á»ƒ nÃ³ Ä‘Æ°á»£c deploy lÃªn Kubernetes thÃ´i. BÆ°á»›c 1: Push Docker lÃªn Container RegistryGuideline: https://cloud.google.com/container-registry/docs/pushing-and-pulling VÃ­ dá»¥123456$ docker imagesmy-laravel-image 3.0 bd8aa88c505e 2 days ago 1.46GB$ docker tag bd8aa88c505e gcr.io/coastal-set-245303/my-laravel-image:3.0$ docker push gcr.io/coastal-set-245303/my-laravel-image:3.0 BÆ°á»›c 2: Deploy vá»›i KubernetesGuideline: https://cloud.google.com/kubernetes-engine/docs/quickstart1kubectl create deployment hello-laravel --image=[HOSTNAME]/[PROJECT-ID]/[IMAGE]:[TAG]VÃ­ dá»¥1kubectl create deployment hello-laravel --image=gcr.io/coastal-set-245303/my-laravel-image:3.0Exposing the Deployment12kubectl expose deployment hello-laravel --type LoadBalancer \\ --port 80 --target-port 8000Inspecting and viewing the application Inspect the running Pods by using kubectl get pods:1kubectl get pods Xem thÃ´ng tin service deploy1kubectl get service hello-laravel GÃ³c nhÃ¬n Ã­t á»i cá»§a tÃ¡c giáº£ vá» Kubernetes Kubernetes Æ°u Ä‘iá»ƒm trong viá»‡c tá»‘i Æ°u há»‡ thá»‘ng, cÃ¢n báº±ng táº£i, nÃªn Ä‘Æ°á»£c sá»­ dá»¥ng trong cÃ¡c há»‡ thá»‘ng lá»›n, táº£i cao. Khi Ä‘Ã³ viá»‡c phÃ¢n táº£i Ä‘a pháº§n mÃ¬nh sáº½ nhá» Google lÃ m giÃºp. ChÃ­nh vÃ¬ váº­y khi deploy vá»›i Kubernetes, nÃ³ sáº½ táº¡o cho báº¡n 3 instance VM (xem trong instance group sáº½ tháº¥y rÃµ) Ä‘á»ƒ cÃ¹ng cháº¡y web cá»§a báº¡n Thá»±c táº¿ tÃ¡c giáº£ chÆ°a lÃ m vá» web táº£i lá»›n, khi nÃ o cÃ³ kinh nghiá»‡m sáº½ Ä‘á»c tiáº¿p, giá» xem qua thÃ´i :D","link":"/2020/02/06/Deploy-Laravel-project-with-Kubernetes/"},{"title":"[Collection] Functional Building Blocks","text":"Map chá»‰ lÃ  1 trong hÃ ng chá»¥c hÃ m báº­c cao máº¡nh (HOF) máº½ Ä‘á»ƒ lÃ m viá»‡c vá»›i máº£ng. ChÃºng ta sáº½ nÃ³i vá» ráº¥t nhiá»u vá» chÃºng trong cÃ¡c vÃ­ dá»¥ sau, nhÆ°ng chÃºng ta hÃ£y xem xÃ©t 1 sá»‘ Ä‘iá»u cÆ¡ báº£n á»Ÿ nhá»¯ng cáº¥p Ä‘á»™ Ä‘áº§u tiÃªn. EACHEach is no more than a foreach loop wrapped inside of a higher order function: (khÃ´ng khÃ¡c gÃ¬ 1 vÃ²ng láº·p foreach) 123456function each($items, $func){ foreach ($items as $item) { $func($item); }} Báº¡n cÃ³ thá»ƒ tá»± há»i lÃ  â€œtáº¡i sao ai Ä‘Ã³ láº¡i quan tÃ¢m Ä‘áº¿n viá»‡c nÃ yâ€? Má»™t trong nhá»¯ng lá»£i Ã­ch lÃ  nÃ³ áº©n cÃ¡c chi tiáº¿t thá»±c hiá»‡n cá»§a vÃ²ng láº·p (vÃ  chÃºng tÃ´i ghÃ©t vÃ²ng láº·p) :D HÃ£y tÆ°á»Ÿng tÆ°á»£ng PHP khÃ´ng cÃ³ vÃ²ng láº·p foreach. Khi Ä‘Ã³ Ä‘á»ƒ thá»±c thi each, chÃºng ta sáº½ lÃ m nhÆ° sau 123456function each($items, $func){ for ($i = 0; $i &lt; count($items); $i++) { $func($items[$i]); }} VÃ  vá»›i cÃ¡ch nÃ y, cÃ³ 1 sá»± trá»«u tÆ°á»£ng cáº§n thá»±c hiá»‡n lÃ  â€œlÃ m Ä‘iá»u nÃ y vá»›i má»i pháº§n tá»­ trong máº£ngâ€. NÃ³ sáº½ nhÆ° sau: 123for ($i = 0; $i &lt; count($productsToDelete); $i++) { $productsToDelete[$i]-&gt;delete();} VÃ  viáº¿t láº¡i nÃ³ nhÆ° sau, rÃµ rÃ ng hÆ¡n má»™t chÃºt 123each($productsToDelete, function ($product) { $product-&gt;delete();}); Each cÅ©ng trá»Ÿ nÃªn cáº£i tiáº¿n rÃµ rÃ ng so vá»›i viá»‡c sá»­ dá»¥ng foreach trá»±c tiáº¿p ngay cáº£ khi báº¡n nháº­n nÃ³ trong toÃ¡n tá»­ cá»§a hÃ m nÃ o Ä‘Ã³, cÃ¡i mÃ  chÃºng ta sáº½ Ä‘á» cáº­p trong pháº§n sau cá»§a cuá»‘n sÃ¡ch Má»™t vÃ i thá»© báº¡n cáº§n nhá»› vá»›i each: Náº¿u báº¡n Ä‘ang muá»‘n sá»­ dá»¥ng má»™t loáº¡i biáº¿n nÃ o Ä‘Ã³ Ä‘á»ƒ thu tháº­p giÃ¡ trá»‹ (1 biáº¿n lÆ°u giÃ¡ trá»‹) (sá»­ dá»¥ng 1 biáº¿n Ä‘á»ƒ lÆ°u giÃ¡ trá»‹ cá»§a collection), each khÃ´ng pháº£i lÃ  má»™t sá»± lá»±a chá»n.123456789// Bad! Use `map` instead.each($customers, function ($customer) use (&amp;$emails) { $emails[] = $customer-&gt;email;});// Good!$emails = map($customers, function ($customer) { return $customer-&gt;email;}); KhÃ´ng giá»‘ng nhÆ° cÃ¡c toÃ¡n tá»­ cÆ¡ báº£n vá»›i máº£ng khÃ¡c, each khÃ´ng tráº£ vá» giÃ¡ trá»‹. Äiá»u nÃ³ gá»£i Ã½ cho báº¡n ráº±ng nÃ³ nÃªn Ä‘á»ƒ dÃ nh cho thá»±c hiá»‡n hÃ nh Ä‘á»“ng, nhÆ° xÃ³a products, shiping orders, sending emails, vÃ¢n vÃ¢n123each($orders, function ($order) { $order-&gt;markAsShipped();}); MAPMap Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ transform (chuyá»ƒn Ä‘á»•i) má»—i item trong máº£ng sang cÃ¡i gÃ¬ Ä‘Ã³. Nháº­n vÃ o 1 vÃ i máº£ng cá»§a cÃ¡c items vÃ  1 hÃ m, map sáº½ apply hÃ m Ä‘Ã³ vá»›i má»—i pháº§n tá»­ vÃ  táº¡o ra máº£ng má»›i giá»‘ng size 12345678910function map($items, $func){ $result = []; foreach ($items as $item) { $result[] = $func($item); } return $result;} Nhá»› ráº±ng má»—i pháº§n tá»­ cá»§a máº£ng má»›i cÃ³ quan há»‡ tÆ°Æ¡ng á»©ng pháº§n tá»­ máº£ng gá»‘c. Má»™t cÃ¡ch tá»‘t Ä‘á»ƒ nhá»› map lÃ m viá»‡c nhÆ° tháº¿ nÃ o lÃ  nghÄ© nÃ³ lÃ  1 mapping giá»¯a má»—i pháº§n tá»­ máº£ng cÅ© vÃ  máº£ng má»›i. Map sáº½ cÃ´ng cá»¥ tuyá»‡t vá»i Ä‘á»ƒ thá»±c hiá»‡n: Láº¥y, trÃ­ch xuáº¥t 1 trÆ°á»ng tá»« 1 máº£ng cÃ¡c Ä‘á»‘i tÆ°á»£ng, nhÆ° lÃ  mapping customes vÃ o Ä‘á»‹a chá»‰ email123$emails = map($customers, function ($customer) { return $customer-&gt;email;}); Táº¡o má»™t máº£ng cÃ¡c Ä‘á»‘i tÆ°á»£ng tá»« dá»¯ liá»‡u thÃ´, nhÆ° mapping 1 máº£ng káº¿t quáº£ dá»¯ liá»‡u JSON vÃ o máº£ng Ä‘á»‘i tÆ°á»£ng ta quan tÃ¢m123$products = map($productJson, function ($productData) { return new Product($productData);}); Chuyá»ƒn Ä‘á»•i má»—i pháº§n tá»­ vá»›i 1 format má»›i123$displayPrices = map($prices, function ($price) { return '$' . number_format($price / 100, 2);}); MAP vs EACHMá»™t lá»—i chung tÃ´i nhÃ¬n tháº¥y cá»§a má»i ngÆ°á»i lÃ  sá»­ dá»¥ng map khi mÃ  há» nÃªn sá»­ dá»¥ng each. Xem xÃ©t vÃ­ dá»¥ each sau khi xÃ³a products. Báº¡n cÃ³ thá»ƒ thá»±c thi sá»­ dá»¥ng mao vÃ  vá» máº·t ká»¹ thuáº­t thÃ¬ nÃ³ khÃ´ng há» áº£nh hÆ°á»Ÿng:123map($productsToDelete, function ($product) { $product-&gt;delete();});Máº·c dÃ¹ code hoáº¡t Ä‘á»™ng nhÆ°ng dÆ°á»ng nhÆ° nÃ³ chÆ°a Ä‘Ãºng vá» máº·t ngá»¯ nghÄ©a. ChÃºng ta Ä‘ang khÃ´ng map cÃ¡i quÃ© gÃ¬ cáº£. Äoáº¡n code sáº½ Ä‘i qua táº¥t cáº£ cÃ¡c lá»—i (kiá»ƒu cÃ¡c lá»—i cÃ³ thá»ƒ gáº·p pháº£i) táº¡o 1 máº£ng má»›i cho chÃºng ta vÃ  máº£ng Ä‘Æ°á»£c táº¡o vá»›i má»—i pháº§n tá»­ lÃ  null vÃ  chÃºng ta khÃ´ng lÃ m gÃ¬ vá»›i chÃºng. Map Ä‘Æ°á»£c dÃ¹ng Ä‘á»ƒ transforming 1 máº£ng vÃ o máº£ng má»›i. Náº¿u báº¡n khÃ´ng chuyá»ƒn Ä‘á»•i cÃ¡i gÃ¬, báº¡n khÃ´ng nÃªn dÃ¹ng map. NhÆ° 1 chuáº©n chung, báº¡n nÃªn sá»­ dá»¥ng each thay cho map náº¿u 1 trong nhÆ°ng Ä‘iá»u sao lÃ  Ä‘Ãºng: Callback khÃ´ng tráº£ vá» gÃ¬? map cÃ³ tráº£ vá» dá»¯ liá»‡u nhÆ°ng vá» sau báº¡n láº¡i ko thá»±c hiá»‡n thao tÃ¡c gÃ¬ vá»›i nÃ³ (You donâ€™t do anything with the return value of map .) Báº¡n chá»‰ Ä‘ang cá»‘ gáº¯ng thá»±c hiá»‡n 1 vÃ i hÃ nh Ä‘á»™ng gÃ¬ Ä‘Ã³ vá»›i má»—i pháº©n tá»­ cá»§a máº£ng FILTERChÃºng ta cÃ³ 1 danh sÃ¡ch cÃ¡c sáº£n pháº©m vÃ  chÃºng ta biáº¿t cÃ¡i nÃ o Ä‘Ã£ háº¿t. Náº¿u khÃ´ng sá»­ dá»¥ng HOF, code sáº½ nhÆ° sau:123456789$outOfStockProducts = [];foreach ($products as $product) { if ($product-&gt;isOutOfStock()) { $outOfStockProducts[] = $product; }}return $outOfStockProducts;TÆ°Æ¡ng tá»±, náº¿u báº¡n muá»‘n products cÃ¡i mÃ  cÃ³ giÃ¡ lá»›n hÆ¡n $10012345678$expensiveProducts = [];foreach ($products as $product) { if ($product-&gt;price &gt; 100) { $expensiveProducts[] = $product; }}return $expensiveProducts;Äiá»ƒm khÃ¡c biá»‡t giá»¯a 2 vÃ­ dá»¥ trÃªn chá»‰ lÃ  Ä‘iá»u kiá»‡n vÃ  ta cÃ³ thá»ƒ trá»«u tÆ°á»£ng hÃ³a nÃ³ tÆ°Æ¡ng tá»± map. HÃ m mÃ  chÃºng ta Ä‘á»ƒ thá»±c hiá»‡n viá»‡c Ä‘Ã³ Ä‘Æ°á»£c gá»i lÃ  filter12345678910111213141516171819function filter($items, $func){ $result = []; foreach ($items as $item) { if ($func($item)) { $result[] = $item; } } return $result;}$outOfStockProducts = filter($products, function ($product) { return $product-&gt;isOutOfStock();});$expensiveProducts = filter($products, function ($product) { return $product-&gt;price &gt; 100;}); ToÃ¡n tá»­ filter Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ filter out (loáº¡i bá» khá»i) 1 vÃ i pháº§n tá»­ ra khá»i máº£ng mÃ  báº¡n khÃ´ng muá»‘n. Báº¡n nÃ³i vá»›i filter ráº±ng pháº§n tá»­ nÃ o truyá»n callback vÃ o tráº£ vá» true náº¿u báº¡n muá»‘n giá»¯ nÃ³, tráº£ vá» false náº¿u báº¡n muá»‘n xÃ³a nÃ³. Má»™t thá»© quan trá»ng Ä‘á»ƒ hiá»ƒu vá» filter lÃ  nÃ³ KHÃ”NG thay Ä‘á»•i hay chuyá»ƒn Ä‘á»•i giÃ¡ trá»‹ trong máº£ng, nÃ³ chá»‰ Ä‘áº©y cÃ¡c pháº§n tá»­ báº¡n khÃ´ng muá»‘n. Äiá»u Ä‘Ã³ cÃ³ nghÄ©a cÃ¡c pháº§n tá»­ trong máº£ng má»›i khÃ´ng chá»‰ giá»‘ng kiá»ƒu vá»›i cÃ¡c pháº§n tá»­ máº£ng cÅ©, chÃºng lÃ  same items. Äiá»u nÃ y thÃ¬ hoÃ n toÃ n trÃ¡i ngÆ°á»£c vá»›i map. Báº¡n pháº£i map products vá»›i giÃ¡, nhÆ°ng báº¡n luÃ´n luÃ´n filter products vÃ o máº£ng products má»›i Reject: ngÆ°á»£c vá»›i filter REDUCEChÃºng ta cÃ³ giá» hÃ ng mua sáº¯m cá»§a cÃ¡c items vÃ  chÃºng ta cáº§n tÃ­nh toÃ¡n tá»•ng giÃ¡ cá»§a giá» hÃ ng Ä‘Ã³. Má»™t cÃ¡ch Ä‘Æ¡n giáº£n chÃºng ta lÃ m lÃ  láº·p qua táº¥t cáº£ cÃ¡c pháº§n tá»­ vÃ  tÃ­nh toÃ¡n:1234567$totalPrice = 0;foreach ($cart-&gt;items as $item) { $totalPrice = $totalPrice + $item-&gt;price;}return $totalPrice;BÃ¢y giá» hÃ£y tÆ°á»Ÿng tÆ°á»£ng váº¥n Ä‘á» khÃ¡c nÆ¡i báº¡n muá»‘n gá»­i 1 email tá»›i nhÃ³m khÃ¡ch hÃ ng vÃ  báº¡n cáº§n sinh ra BCC line lÃ  dáº¥u pháº©y phÃ¢n cÃ¡ch cÃ¡c email Ä‘Ã³:1234567$bcc = '';foreach ($customers as $customer) { $bcc = $bcc . $customer-&gt;email . ', ';}return $bcc; CÃ¢u há»i Ä‘Æ°á»£c Ä‘áº·t ra tÆ°Æ¡ng tá»±, liá»‡u cÃ³ thá»ƒ trá»«u tÆ°á»£ng hÃ³a toÃ¡n tá»­ nÃ y?123456789101112131415161718function reduce($items, $callback, $initial){ $accumulator = $initial; foreach ($items as $item) { $accumulator = $callback($accumulator, $item); } return $accumulator;}$totalPrice = reduce($cart-&gt;items, function ($totalPrice, $item) { return $totalPrice + $item-&gt;price;}, 0);$bcc = reduce($customers, function ($bcc, $customer) { return $bcc . $customer-&gt;email . ', ';}, '');Higher order function nhÆ° trÃªn Ä‘Æ°á»£c gá»i lÃ  reduce, cÃ¡i mÃ  nháº­n vÃ o táº¥t cáº£ cÃ¡c biáº¿n chÃºng ta muá»‘n láº¥y nhÆ° 1 tham sá»‘ With Great PowerNote 1: ToÃ¡n tá»­ reduce Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ nháº­n vÃ o máº£ng cÃ¡c items vÃ  cáº¯t giáº£m (reduce) nÃ³ xuá»‘ng thÃ nh 1 giÃ¡ trá»‹ Ä‘Æ¡n. KhÃ´ng cÃ³ rÃ ng buá»™c gÃ¬ vá» giÃ¡ trá»‹ Ä‘Æ¡n nÃ y, nÃ³ cÃ³ thá»ƒ lÃ  1 sá»‘, 1 chuá»—i, 1 object hoáº·c tháº­m chÃ­ lÃ  báº¥t cá»© gÃ¬ báº¡n muá»‘n, khÃ´ng váº¥n Ä‘á». NÃ³ tháº­m chÃ­ cÃ³ thá»ƒ Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ giáº£m 1 máº£ng items vÃ o 1 máº£ng khÃ¡c, Ä‘iá»u Ä‘Ã³ cÃ³ nghÄ©a báº¡n tháº­m chÃ­ cÃ³ thá»ƒ thá»±c thi map vÃ  filter trong Ä‘iá»u kiá»‡n cá»§a reduce1234567function map($items, $func){ return reduce($items, function ($mapped, $item) use ($func) { $mapped[] = $func($item); return $mapped; }, []);} Note 2: VÃ¬ reduce lÃ  toÃ¡n tá»­ hÃ m á»Ÿ level khÃ¡ tháº¥p, cÃ¡i cÃ³ thá»ƒ biáº¿n 1 máº£ng thÃ nh báº¥t cá»© cÃ¡i gÃ¬, vÃ  nÃ³ khÃ´ng pháº£i luÃ´n luÃ´n giÃ u tÃ­nh biá»ƒu Ä‘áº¡t @@. Thá»‰nh thoáº£ng khi báº¡n tá»± tÃ¬m tháº¥y cÃ¡ch sá»­ dá»¥ng reduce, cÃ¡i mÃ  báº¡n thá»±c sá»± muá»‘n lÃ  1 higher level abstraction Ä‘Æ°á»£c built trÃªn cao hÆ¡n cá»§a reduce, liÃªn káº¿t cÃ¡i báº¡n Ä‘ang cá»‘ lÃ m rÃµ (kiá»ƒu sá»­ dá»¥ng reduce á»Ÿ má»©c tháº¥p Ä‘á»ƒ trá»«u tÆ°á»£ng hÃ³a á»Ÿ dÆ°á»›i, cÃ¡i mÃ¬nh cáº§n lÃ  lá»›p cao hÆ¡n, xÃ¢y dá»±ng cÃ¡c hÃ m giÃ u sá»©c biá»ƒu Ä‘áº¡t hÆ¡n nhÆ° sum Ä‘Æ°á»£c xÃ¢y dá»±ng dá»±a trÃªn reduce) VÃ­ dá»¥ tÃ­nh tá»•ng giÃ¡, ta táº¡o má»™t trá»«u tÆ°á»£ng má»›i trÃªn top cá»§a reduce vá»›i tÃªn gá»i lÃ  sum:12345678910function sum($items, $callback){ return reduce($items, function ($total, $item) use ($callback) { return $total + $callback($item); }, 0);}$totalPrice = sum($cart-&gt;items, function ($item) { return $item-&gt;price;});And BCC list12345678910function join($items, $callback){ return reduce($items, function ($string, $item) use ($callback) { return $string . $callback($item); }, '');}$bcc = join($customers, function ($customer) { return $customer-&gt;email . ', ';}); Trong 4 toÃ¡n tá»­ chÃºng ta tÃ¬m hiá»ƒu, reduce cháº¯c cháº¯n lÃ  khÃ³ nhá»› nháº¥t Ä‘á»ƒ Ã¡p dá»¥ng cho báº¡n. Khi thá»±c hÃ nh, hÃ£y cá»‘ gáº¯ng thá»±c thi láº¡i filter vá»›i reducer lÃ  vÃ  xem nhá»¯ng gÃ¬ báº¡n Ä‘Ã£ nghÄ© ra =))","link":"/2019/12/27/Collection-Functional-Building-Blocks/"},{"title":"Config nhiá»u tÃ i khoáº£n github trÃªn cÃ¹ng 1 mÃ¡y","text":"BÃ i viáº¿t hÆ°á»›ng dáº«n cáº¥u hÃ¬nh nhiá»u tÃ i khoáº£n github trÃªn cÃ¹ng 1 mÃ¡y 1. Add new ssh key12cd ~/.sshssh-keygen -t rsa -C &quot;email@personal_mail.com&quot; -f &quot;id_rsa_personal&quot; 2. ThÃªm key Ä‘Ã³ vÃ o GitHub (thÃªm public key nhÃ©)3. Táº¡o file config Ä‘á»ƒ quáº£n lÃ½ cÃ¡c keysÄá»ƒ phÃ¢n biá»‡t SSH key vá»›i cÃ¡c host khÃ¡c nhau. chÃºng ta pháº£i táº¡o file config Ä‘á»ƒ xÃ¡c Ä‘á»‹nh SSH key nÃ o dÃ¹ng cho tÃ i khoáº£n, host nÃ o.123cd ~/.sshtouch confignano configCopy ná»™i dung nÃ y vÃ o1234567891011# Work account - default configHost github.comHostName github.comUser gitIdentityFile ~/.ssh/id_rsa# Personal accountHost github.com-personalHostName github.comUser gitIdentityFile ~/.ssh/id_rsa_personal 4. Cáº¥u hÃ¬nh trong viá»‡c quáº£n lÃ½ tÃ i khoáº£n git Ä‘á»ƒ quáº£n lÃ½ nhiá»u keyhttps://viblo.asia/p/config-de-su-dung-duoc-nhieu-tai-khoan-git-tren-cung-mot-may-tinh-bWrZnwgYlxw#_tao-file-config-de-quan-ly-cac-keys-2 Náº¿u khÃ´ng dÃ¹ng file, báº¡n cÃ³ thá»ƒ lÃ m báº±ng tay (khÃ´ng nÃªn)123git initgit config user.name &quot;User 1&quot; // Updates git config user namegit config user.email &quot;user1@workMail.com&quot; 5. Sá»­ dá»¥ngÄá»ƒ sá»­ dá»¥ng csac key, báº¡n pháº£i Ä‘á»•i Ä‘Æ°á»ng dáº«n remote url tÆ°Æ¡ng á»©ng thÃ¬ nÃ³ má»›i nháº­n ssh key NÃ³ Ä‘ang lÃ 123 git@github.com:minhnv2306/Firebase.git======&gt; git@github.com-personal:minhnv2306/Firebase.git(Ä‘á»ƒ Ã½ host trong ~/.ssh/config)VÃ­ dá»¥:1git clone git@github.com-personal:minhnv2306/icarus_blog.gitRá»“i, hoáº¡t Ä‘á»™ng ngon :D Tham chiáº¿u https://medium.com/the-andela-way/a-practical-guide-to-managing-multiple-github-accounts-8e7970c8fd46 https://viblo.asia/p/config-de-su-dung-duoc-nhieu-tai-khoan-git-tren-cung-mot-may-tinh-bWrZnwgYlxw","link":"/2020/02/06/Config-nhieu-tai-khoan-github-tren-cung-1-may/"},{"title":"[Docker] Compose file version 3 reference","text":"ChÃºng ta cÃ¹ng xem cÃ¡c tham sá»‘ cáº¥u hÃ¬nh trong docker compose nhÃ©. Reference and guidelinesCompose file hiá»‡n Ä‘ang cÃ³ 3 version khi format. PhiÃªn báº£n má»›i nháº¥t tÃ­nh Ä‘áº¿n ngÃ y 30/4/2020 lÃ  3.8 Ma tráº­n tÆ°Æ¡ng thÃ­ch Compose vÃ  DockerCÃ³ 1 vÃ i version cá»§a Composer file format - 1,2,2.x vÃ  3.x. Báº£ng dÆ°á»›i Ä‘Ã¢y sáº½ chá»‰ ra sá»± tÆ°Æ¡ng thÃ­ch version Docker vÃ  Compose, náº¿u báº¡n dÃ¹ng phiÃªn báº£n Docker Ä‘Ã£ quÃ¡ cÅ© nhÆ°ng muá»‘n dÃ¹ng file format cho Compose phiÃªn báº£n má»›i, hÃ£y nÃ¢ng cáº¥p Docker Compose file format Docker Engine release 3.8 19.03.0+ 3.7 18.06.0+ 3.6 18.02.0+ 3.5 17.12.0+ 3.4 17.09.0+ 3.3 17.06.0+ 3.2 17.04.0+ 3.1 1.13.1+ 3.0 1.13.0+ 2.4 17.12.0+ 2.3 17.06.0+ 2.2 1.13.0+ 2.1 1.12.0+ 2.0 1.10.0+ 1.0 1.9.1.+ Compose file structure and examplesÄÃ¢y lÃ  1 vÃ­ dá»¥ vá» Composer file format Example Compose file version 31234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192939495version: &quot;3.8&quot;services: redis: image: redis:alpine ports: - &quot;6379&quot; networks: - frontend deploy: replicas: 2 update_config: parallelism: 2 delay: 10s restart_policy: condition: on-failure db: image: postgres:9.4 volumes: - db-data:/var/lib/postgresql/data networks: - backend deploy: placement: constraints: - &quot;node.role==manager&quot; vote: image: dockersamples/examplevotingapp_vote:before ports: - &quot;5000:80&quot; networks: - frontend depends_on: - redis deploy: replicas: 2 update_config: parallelism: 2 restart_policy: condition: on-failure result: image: dockersamples/examplevotingapp_result:before ports: - &quot;5001:80&quot; networks: - backend depends_on: - db deploy: replicas: 1 update_config: parallelism: 2 delay: 10s restart_policy: condition: on-failure worker: image: dockersamples/examplevotingapp_worker networks: - frontend - backend deploy: mode: replicated replicas: 1 labels: [APP=VOTING] restart_policy: condition: on-failure delay: 10s max_attempts: 3 window: 120s placement: constraints: - &quot;node.role==manager&quot; visualizer: image: dockersamples/visualizer:stable ports: - &quot;8080:8080&quot; stop_grace_period: 1m30s volumes: - &quot;/var/run/docker.sock:/var/run/docker.sock&quot; deploy: placement: constraints: - &quot;node.role==manager&quot;networks: frontend: backend:volumes: db-data: Service configuration referenceCompose file Ä‘á»‹nh nghÄ©a services, networks vÃ  volumes. Báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng cáº£ pháº§n má»Ÿ rá»™ng .yml hoáº·c .yaml Ä‘á»u Ä‘Æ°á»£c Má»—i service Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a chá»©a 1 cáº¥u hÃ¬nh Ä‘Æ°á»£c Ã¡p dá»¥ng cho tá»«ng container trong service, giá»‘ng nhÆ° truyá»n tham sá»‘ tá»›i lá»‡nh docker run. TÆ°Æ¡ng tá»±, cÃ¡c Ä‘á»‹nh nghÄ©a volume vÃ  network tÆ°Æ¡ng tá»± nhÆ° cÃ¡c lá»‡nh docker network create vÃ  docker volume create. CÅ©ng nhÆ° vá»›i docker run, cÃ¡c tÃ¹y chá»n Ä‘Æ°á»£c xÃ¡c Ä‘á»‹nh trong Dockerfile, nhÆ° CMD, EXPOSE, VOLUME, ENV Ä‘Æ°á»£c sá»­ dá»¥ng máº·c Ä‘á»‹nh - báº¡n khÃ´ng cáº§n truyá»n chÃºng láº¡i trong file docker-compose.yml. Pháº§n tiáº¿p theo sáº½ trÃ¬nh bÃ y táº¥t cáº£ cÃ¡c cáº¥u hÃ¬nh Ä‘Æ°á»£c há»— trá»£ trong version 3. build: CÃ¡c tÃ¹y chá»n cáº¥u hÃ¬nh Ä‘Æ°á»£c Ã¡p dá»¥ng khi build context: ÄÆ°á»ng dáº«n thÆ° má»¥c chá»©a 1 Dockerfile hoáº·c url tá»›i git repository dockerfile: Thay Ä‘á»•i Dockerfile args: ThÃªm cÃ¡c Ä‘á»‘i sá»‘ khi build cÃ¡i mÃ  Ä‘Æ°á»£c biáº¿n mÃ´i trÆ°á»ng cÃ³ thá»ƒ truy cáº­p chá»‰ trong quÃ¡ trÃ¬nh build Äáº§u tiÃªn, xÃ¡c Ä‘á»‹nh cÃ¡c Ä‘á»‘i sá»‘ cá»§a báº¡n trong Dockerfile12345ARG buildnoARG gitcommithashRUN echo &quot;Build number: $buildno&quot;RUN echo &quot;Based on commit: $gitcommithash&quot;Chá»‰ Ä‘á»‹nh cÃ¡c Ä‘á»‘i sá»‘ nÃ y dÆ°á»›i tá»« khÃ³a build. Báº¡n cÃ³ thá»ƒ map hoáº·c sá»­ dá»¥ng list12345build: context: . args: buildno: 1 gitcommithash: cdc3b19Or12345build: context: . args: - buildno=1 - gitcommithash=cdc3b19 Scope of build-args In your Dockerfile, if you specify ARG before the FROM instruction, ARG is not available in the build instructions under FROM. If you need an argument to be available in both places, also specify it under the FROM instruction. Refer to the understand how ARGS and FROM interact section in the documentation for usage details. Báº¡n cÅ©ng cÃ³ thá»ƒ bá» qua cÃ¡c giÃ¡ trá»‹ nÃ y khi build, trong trÆ°á»ng há»£p Ä‘Ã³, giÃ¡ trá»‹ cá»§a nÃ³ sáº½ lÃ  trong mÃ´i trÆ°á»ng nÆ¡i mÃ  Compose Ä‘ang cháº¡y.123args: - buildno - gitcommithash cache_fromMá»›i Ä‘Æ°á»£c thÃªm tá»« version 3.2Danh sÃ¡ch images cÃ³ thá»ƒ sá»­ dá»¥ng cache 12345build: context: . cache_from: - alpine:latest - corp/web_app:3.14 labelMá»›i Ä‘Æ°á»£c thÃªm tá»« version 3.3ThÃªm metdata vÃ o káº¿t quáº£ image sá»­ dá»¥ng Docker labelNÃ³ khuyÃªn báº¡n nÃªn sá»­ dá»¥ng kÃ½ hiá»‡u DNS ngÆ°á»£c Ä‘á»ƒ ngÄƒn label cá»§a báº¡n xung Ä‘á»™t vá»›i cÃ¡c nhÃ£n Ä‘Æ°á»£c sá»­ dá»¥ng bá»Ÿi pháº§n má»m khÃ¡c. shm-size target cap_add, cap_dropcgroup_parentcommandGhi Ä‘Ã¨ command máº·c Ä‘á»‹nh1command: bundle exec thin -p 3000Command cÅ©ng cÃ³ thá»ƒ lÃ  1 danh sÃ¡ch, tÆ°Æ¡ng tá»± nhÆ° dockerfile1command: [&quot;bundle&quot;, &quot;exec&quot;, &quot;thin&quot;, &quot;-p&quot;, &quot;3000&quot;] configscontainer_nameÄá»‹nh nghÄ©a 1 custom container name thay vÃ¬ sinh ra máº·c Ä‘á»‹nh credential_specÄÆ°á»£c thÃªm tá»« phiÃªn báº£n 3.3. Chá»‰ Ä‘Æ°á»£c sá»­ dá»¥ng trÃªn windows quáº£n lÃ½ tÃ i khoáº£n group Managed Service Account (gMSA) depends_onMÃ´ táº£ sá»± phá»¥ thuá»™c giá»¯a cÃ¡c service. Sá»± phá»¥ thuá»™c cÃ¡c dá»‹ch vá»¥ gÃ¢y ra cÃ¡c hÃ nh vi sau: docker-compose up: start service theo thá»© tá»± sá»± phá»¥ thuá»™c. NhÆ° vÃ­ dá»¥ dÆ°á»›i, db vÃ  redis Ä‘Æ°á»£c start trÆ°á»›c web docker-compose up SERVICE: tá»± Ä‘á»™ng bao gá»“m cÃ¡c SERVICE phá»¥ thuá»™c. NhÆ° vÃ­ dá»¥ dÆ°á»›i, docker-compose up web cÅ©ng sáº½ táº¡o vÃ  start db vÃ  redis docker-compose stop: stop service theo thá»© tá»± sá»± phá»¥ thuá»™c. NhÆ° vÃ­ dá»¥ dÆ°á»›i Ä‘Ã¢y, web sáº½ bá»‹ stop trÆ°á»›c db vÃ  redis1234567891011version: &quot;3.7&quot;services: web: build: . depends_on: - db - redis redis: image: redis db: image: postgres There are several things to be aware of when using depends_on: depends_on does not wait for db and redis to be â€œreadyâ€ before starting web - only until they have been started. If you need to wait for a service to be ready, see Controlling startup order for more on this problem and strategies for solving it.Version 3 no longer supports the condition form of depends_on.The depends_on option is ignored when deploying a stack in swarm mode with a version 3 Compose file. deployCÃ¡c cáº¥u hÃ¬nh Ä‘á»ƒ cho quÃ¡ trÃ¬nh deploy vÃ  cháº¡y cÃ¡c services. NÃ³ chá»‰ áº£nh hÆ°á»Ÿng khi deploying tá»›i 1 swarm vá»›i docker stack deploy vÃ  nÃ³ bá»‹ bá» qua bá»Ÿi docker-compose up vÃ  docker-compose run(ChÃ­nh vÃ¬ bá» qua nÃªn khi nÃ o cáº§n sáº½ Ä‘á»c láº¡i) devicesList of device mappings. Uses the same format as the â€“device docker client create option. dnsdns_searchentrypointGhi Ä‘Ã¨ entrypoint máº·c Ä‘á»‹nh1entrypoint: /code/entrypoint.shentrypoint cÅ©ng cÃ³ thá»ƒ lÃ  1 danh sÃ¡ch, tÆ°Æ¡ng tá»± dockerfile1entrypoint: [&quot;php&quot;, &quot;-d&quot;, &quot;memory_limit=-1&quot;, &quot;vendor/bin/phpunit&quot;] env_fileThÃªm biáº¿n mÃ´i trÆ°á»ng tá»« 1 file. Báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng giÃ¡ trá»‹ Ä‘Æ¡n hoáº·c 1 danh sÃ¡ch1env_file: .envHoáº·c1234env_file: - ./common.env - ./apps/web.env - /opt/runtime_opts.envVÃ  cáº¥u trÃºc file .env sáº½ nhÆ° sau:12# Set Rails/Rack environmentRACK_ENV=development environmentThÃªm biáº¿n mÃ´i trÆ°á»ng. CÃ¡i trÃªn lÃ  thÃªm dá»±a vÃ o file nhÃ© :D1234environment: RACK_ENV: development SHOW: 'true' SESSION_SECRET:Hoáº·c1234environment: - RACK_ENV=development - SHOW=true - SESSION_SECRET exposeExpose ra cá»•ng mÃ  khÃ´ng truy xuáº¥t Ä‘Æ°á»£c xá»­ host machine, chÃºng sáº½ chá»‰ cÃ³ thá»ƒ truy cáº­p Ä‘Æ°á»£c sá»­ cÃ¡c link services. Chá»‰ coongt ná»™i bá»™ cÃ³ thá»ƒ Ä‘Æ°á»£c chá»‰ Ä‘á»‹nh123expose: - &quot;3000&quot; - &quot;8000&quot; Ã kiáº¿n cÃ¡ nhÃ¢n: Docker-compose Ä‘Ã£ tá»± expose cÃ¡c cá»•ng cá»§a cÃ¡c container, vÃ¬ váº­y tham sá»‘ nÃ y bá» Ä‘i thÃ¬ cÅ©ng khÃ´ng áº£nh hÆ°á»Ÿng láº¯m. Tuy nhiÃªn báº¡n cÅ©ng nÃªn cÃ³ tham sá»‘ nÃ y trong docker-compose.yml file Ä‘á»ƒ: ChÃº thÃ­ch cho ngÆ°á»i Ä‘á»c dá»… hiá»ƒu cÃ¡c cá»•ng expose máº·c Ä‘á»‹nh KhÃ´ng expose ra host machine Expose cÃ¡c cá»•ng custome, váº«n Ä‘Æ°á»£c (KHÃ”NG KHUYáº¾N KHÃCH_, vÃ­ dá»¥ mysql:5.7 cÃ³ thá»ƒ expose cá»•ng 3307 external_linksextra_hostshealthcheck123456healthcheck: test: [&quot;CMD&quot;, &quot;curl&quot;, &quot;-f&quot;, &quot;http://localhost&quot;] interval: 1m30s timeout: 10s retries: 3 start_period: 40s imageXÃ¡c Ä‘á»‹nh image Ä‘á»ƒ báº¯t Ä‘áº§u container. Báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng cáº£ dáº¡ng repository/tag hoáº·c má»™t pháº§n cá»§a image ID initisolationlabelslinks Warning The â€“link flag is a legacy feature of Docker. It may eventually be removed. Unless you absolutely need to continue using it, we recommend that you use user-defined networks to facilitate communication between two containers instead of using â€“link. One feature that user-defined networks do not support that you can do with â€“link is sharing environmental variables between containers. However, you can use other mechanisms such as volumes to share environment variables between containers in a more controlled way. LiÃªn káº¿t cÃ¡c containers khÃ¡c service. NÃ³ cÃ³ thá»ƒ sá»­ dá»¥ng qua service name vÃ  link alias (â€œSERVICE:ALIASâ€), hoáº·c chá»‰ tÃªn service12345web: links: - &quot;db&quot; - &quot;db:database&quot; - &quot;redis&quot; CÃ¡c containers Ä‘á»‘i vá»›i cÃ¡c service Ä‘Ã£ Ä‘Æ°á»£c liÃªn káº¿t cÃ³ thá»ƒ truy caaoj tá»›i hostname Ä‘Æ°á»£c chá»‰ Ä‘á»‹nh alias hoáº·c tá»›i service name náº¿u khÃ´ng cÃ³ alias nÃ o Ä‘Æ°á»£c chá»‰ Ä‘á»‹nh Links khÃ´ng báº¯t buá»™c Ä‘á»ƒ cho phÃ©p cÃ¡c dá»‹ch vá»¥ giao tiáº¿p - máº·c Ä‘á»‹nh, 1 vÃ i dá»‹ch vá»¥ cÃ³ thá»ƒ káº¿t ná»‘i vá»›i cÃ¡c dá»‹ch vá»¥ khÃ¡c qua tÃªn cá»§a service. Xem thÃªm táº¡i https://docs.docker.com/compose/networking/#links Links cÅ©ng mÃ´ táº£ sá»± phá»¥ thuá»™c giá»¯a cÃ¡c service giá»‘ng nhÆ° depends_on, bá»Ÿi váº­y chÃºng xÃ¡c Ä‘á»‹nh thá»© tá»± startup cá»§a cÃ¡c service Warning: Note when using docker stack deploy The links option is ignored when deploying a stack in swarm mode loggingCáº¥u hÃ¬nh pháº§n log cho service123456789version: &quot;3.7&quot;services: some-service: image: some-service logging: driver: &quot;json-file&quot; options: max-size: &quot;200k&quot; max-file: &quot;10&quot; network_modenetworkpidportsExpose ports SHORT SYNTAXBáº¡n cÃ³ thá»ƒ chá»‰ Ä‘á»‹nh cáº£ 2 ports (HOST:CONTAINER) hoáº·c chá»‰ container port (má»™t cá»•ng random, khÃ´ng á»•n Ä‘á»‹nh trÃªn host sáº½ Ä‘Æ°á»£c chá»n)12345678910ports: - &quot;3000&quot; - &quot;3000-3005&quot; - &quot;8000:8000&quot; - &quot;9090-9091:8080-8081&quot; - &quot;49100:22&quot; - &quot;127.0.0.1:8001:8001&quot; - &quot;127.0.0.1:5000-5010:5000-5010&quot; - &quot;6060:6060/udp&quot; - &quot;12400-12500:1240&quot; LONG SYNTAXCÃº phÃ¡p nÃ y má»›i Ä‘Æ°á»£c thÃªm tá»« phiÃªn báº£n 3.2NÃ³ sáº½ thÃªm cÃ¡c trÆ°á»ng, cho phÃ©p thÃªm thÃ´ng tin vá» cÃ¡c cáº¥u hÃ¬nh target: the port inside the container published: the publicly exposed port protocol: the port protocol (tcp or udp) mode: host for publishing a host port on each node, or ingress for a swarm mode port to be load balanced.12345ports: - target: 80 published: 8080 protocol: tcp mode: host restartno lÃ  chÃ­nh sÃ¡ch restart máº·c Ä‘á»‹nh vÃ  nÃ³ sáº½ khÃ´ng restart 1 container trong 1 vÃ i hoÃ n cáº£nh. Khi always, container luÃ´n luÃ´n restarts. on-failure sáº½ restarts 1 container náº¿u exit code vá»›i 1 lá»—i nÃ o Ä‘Ã³1234restart: &quot;no&quot;restart: alwaysrestart: on-failurerestart: unless-stopped (warning) Note when using docker stack deploy The restart option is ignored when deploying a stack in swarm mode. secretsecurity_optstop_grace_periodstop_signalsysctlstmpfsulimitsuserns_modevolumes","link":"/2020/04/30/Docker-Compose-file-version-3-reference/"},{"title":"[Docker] Docker volume","text":"NhÆ° chÃºng ta Ä‘á»u biáº¿t, Ä‘áº·c Ä‘iá»ƒm cá»§a Docker container lÃ  chÃºng cháº¡y Ä‘á»™c láº­p, vÃ  khÃ´ng áº£nh hÆ°á»Ÿng Ä‘áº¿n nhau, tháº¿ nhÆ°ng vÃ¬ má»™t lÃ­ do nÃ o Ä‘Ã³, chÃºng ta láº¡i muá»‘n chia sáº» data giá»¯a cÃ¡c container vÃ­ dá»¥, báº¡n cÃ³ má»™t 2,3 web server nginx vÃ  mong muá»‘n khi chÃºng share chung cÃ¡c file config, hay html tÄ©nh. May máº¯n docker cung cáº¥p volume Ä‘á»ƒ thá»±c hiá»‡n viá»‡c Ä‘Ã³ Docker volume lÃ  má»™t volume Ä‘Æ°á»£c táº¡o ra cho phÃ©p cÃ¡c container mount volume vÃ o trong cÃ¡c container hay dá»… hiá»ƒu hÆ¡n lÃ  docker sá»­ dá»¥ng Volume Ä‘Ã³ thay tháº¿ cho 1 folder cá»§a container Sá»­ dá»¥ng volume cÃ³ 3 tÃ¡c dá»¥ng chÃ­nh: Äá»ƒ giá»¯ láº¡i dá»¯ liá»‡u khi má»™t container bá»‹ xÃ³a. Äá»ƒ chia sáº» dá»¯ liá»‡u giá»¯a cÃ¡c há»‡ thá»‘ng táº­p tin mÃ¡y chá»§ vÃ  container Docker. Äá»ƒ chia sáº» dá»¯ liá»‡u vá»›i cÃ¡c container Docker khÃ¡c. VOLUME trong DockerfileTrá»Ÿ láº¡i vÃ­ dá»¥ trong pháº§n Docker instructions1234FROM ubuntuRUN mkdir /myvolRUN echo &quot;hello world&quot; &gt; /myvol/greetingVOLUME /myvolKáº¿t quáº£ nhÆ° trang nÃ y cÃ³ giáº£i thÃ­ch nÃ³ sáº½ táº¡o ra má»™t volume má»›i vÃ  copy file greeting vÃ o volume Ä‘Æ°á»£c táº¡o. NhÆ°ng khi tÃ´i build vÃ  run docker nÃ y láº¡i khÃ´ng cÃ³ volume myvol nÃ o Ä‘Æ°á»£c táº¡o ra? Thá»±c táº¿ khÃ´ng pháº£i volume myvol khÃ´ng Ä‘Æ°á»£c táº¡o ra mÃ  nÃ³ Ä‘Ã£ Ä‘Æ°á»£c bÄƒm dÆ°á»›i dáº¡ng id12345docker volume lsDRIVER VOLUME NAMElocal 09ac41f23520dfeaec2d2dcc571168a1a8ff185f633cbaa355915703b3fa6b4flocal 0a7f05233da3de18ae8d67f80b3d6bcda4f374bffd7c2d44b0b0914db976f835local 16f5fec934cc322c7b065ea89b6bc122c3fabafcad76ff69bc53ab3849ababc5CÃ´ng viá»‡c cá»§a báº¡n lÃ  cáº§n tÃ¬m VOLUME NAME Ä‘Ã³ lÃ  cÃ¡i nÃ o :v (sáº¯p xáº¿p theo ngÃ y táº¡o áº¥y sáº½ tháº¥y nhÃ©) Sá»­ dá»¥ng VOLUME trong Dockerfile nhÆ° váº­y, cÃ¡c volume sáº½ Ä‘Æ°á»£c táº¡o trong thÆ° má»¥c: /var/lib/docker/volumes/ vÃ  Ä‘Æ°á»£c docker quáº£n lÃ½, báº¡n khÃ´ng thá»ƒ Ã¡nh xáº¡ nÃ³ sang thÆ° má»¥c khÃ¡c cá»§a mÃ¡y tháº­t Ä‘Æ°á»£c. TÃ¹y chá»n volume khi run dockerSá»­ dá»¥ng lá»‡nh thÃªm tham sá»‘ volume khi cháº¡y docker cho phÃ©p báº¡n Ã¡nh xáº¡ Ä‘Æ°á»£c vÃ¹ng mount bá»Ÿi volume tá»« docker container ra host cá»§a chÃºng ta thÃ´ng qua 2 tham sá»‘ source vÃ  destination1docker run -d --name nginx1 --mount source=nginx-static-html-share-volume,destination=/usr/share/nginx/html -p 2222:80 nginx Tá»•ng káº¿t Sá»­ dá»¥ng VOLUME trong Dockerfile, volume sáº½ Ä‘Æ°á»£c Docker quáº£n lÃ½, khÃ´ng thá»ƒ Ã¡nh xáº¡ vá»‹ trÃ­ khÃ¡c Ä‘Æ°á»£c NgÆ°á»£c láº¡i sá»­ dá»¥ng volume, mount trong khi cháº¡y docker, hoáº·c trong docker-compose cho phÃ©p báº¡n Ã¡nh xáº¡ cÃ¡c file, thÆ° má»¥c Ä‘áº¿n file, thÆ° má»¥c trÃªn mÃ¡y tháº­t mÃ  báº¡n muá»‘n TÃ i liá»‡u Ä‘á»c thÃªm: Medium.com Stack Overflow Viblo","link":"/2020/04/12/Docker-Docker-volume/"},{"title":"[Docker] Networking in Compose","text":"Pháº§n nÃ y Ã¡p dá»¥ng cho cÃ¡c file formats version 2 vÃ  cao hÆ¡n. Chá»©c nÄƒng networking khÃ´ng há»— trá»£ cho Compose file version 1 Before you beginTrÆ°á»›c tiÃªn tÃ´i tá»•ng káº¿t nhá»¯ng hiá»ƒu biáº¿t Ã­t á»i cá»§a mÃ¬nh vá» network trong Docker MÃ´ hÃ¬nhCÃ¡i nÃ y tÃ´i khÃ´ng hiá»ƒu nÃªn táº¡m Ä‘á»ƒ Ä‘á»c sau, báº¡n cÃ³ thá»ƒ xem thÃªm táº¡i Ä‘Ã¢y Máº·c Ä‘á»‹nh, Docker há»— trá»£ 3 loáº¡i card máº¡ng12345C:\\Users\\Nguyen Van Minh&gt;docker network lsNETWORK ID NAME DRIVER SCOPE36b98d0bbbdb bridge bridge localed6e03e4775b host host local5bdac30c1444 none null local None network: CÃ¡c container thiáº¿t láº­p network nÃ y sáº½ khÃ´ng Ä‘Æ°á»£c cáº¥u hÃ¬nh máº¡ng. None driver cung cáº¥p cho má»™t container networking stack vÃ  khÃ´ng gian máº¡ng riÃªng cá»§a nÃ³ nhÆ°ng khÃ´ng config cÃ¡c interface bÃªn trong container. KhÃ´ng cÃ³ config bá»• sung, cÃ¡c container hoÃ n toÃ n cÃ¡ch ly vá»›i networking stack cá»§a host. Bridge: Docker sáº½ táº¡o ra má»™t switch áº£o. Khi container Ä‘Æ°á»£c táº¡o ra, interface cá»§a container sáº½ gáº¯n vÃ o switch áº£o nÃ y vÃ  káº¿t ná»‘i vá»›i interface cá»§a host. Host: Containers sáº½ dÃ¹ng máº¡ng trá»±c tiáº¿p cá»§a mÃ¡y host. Network configuration bÃªn trong container Ä‘á»“ng nháº¥t vá»›i host. Default network cá»§a Docker Máº·c Ä‘á»‹nh cÃ¡c container cá»§a service sáº½ tham gia vÃ o máº¡ng máº·c Ä‘á»‹nh do Docker táº¡o ra. TÃªn máº¡ng sáº½ lÃ  PROJECTNAME_default, cÃ³ card lÃ  bridge. Máº¡ng nÃ y bá»‹ Docker quáº£n lÃ½ (Ä‘Ãºng rá»“i mÃ , táº¡o switch áº£o tá»« Docker ra:D). â€œTrÃªn cÃ¹ng má»™t host, cÃ¡c container chá»‰ cáº§n dÃ¹ng bridge network Ä‘á»ƒ nÃ³i chuyá»‡n Ä‘Æ°á»£c vá»›i nhau. Tuy nhiÃªn, cÃ¡c container Ä‘Æ°á»£c cáº¥p ip Ä‘á»™ng nÃªn nÃ³ cÃ³ thá»ƒ thay Ä‘á»•i, dáº«n Ä‘áº¿n nhiá»u khÃ³ khÄƒn. VÃ¬ váº­y, thay vÃ¬ dÃ¹ng Ä‘á»‹a chá»‰ ip, ta cÃ³ thá»ƒ dÃ¹ng name cá»§a cÃ¡c container Ä‘á»ƒ â€œliÃªn láº¡câ€ giá»¯a cÃ¡c container vá»›i nhau.â€ @docker-ghichepdocker-ghichep.readthedocs.io/en/latest/docker-network/#4-noi-chuyen-giua-cac-container-voi-nhau CÆ¡ báº£n cÃ¡c container Ä‘Ã£ nÃ³i chuyá»‡n Ä‘Æ°á»£c vá»›i nhau rá»“i, nhÆ°ng Ä‘á»ƒ trÃ¡nh bá»‹ IP thay Ä‘á»•i, báº¡n cÃ³ thá»ƒ dÃ¹ng link Ä‘á»ƒ alias láº¡i tÃªn giá»¯a cÃ¡c container vá»›i nhau.VÃ­ dá»¥ container A + B cÃ¹ng tham gia máº¡ng máº·c Ä‘á»‹nh khi up, tuy nhiÃªn má»—i láº§n up A láº¡i Ä‘Æ°á»£c cáº¥p IP khÃ¡c nhau 10.0.2.1 lÃºc láº¡i lÃ  10.0.2.3.=&gt; gÃ¡n cho 1 cÃ¡i tÃªn vÃ  alias (link A:Annie) Ä‘á»ƒ IP thay Ä‘á»•i cÃ¹ng ká»‡, trong máº¡ng default B sáº½ gá»i A lÃ  Annie =))Báº£n thÃ¢n tÃ´i tháº¥y khÃ´ng cáº§n link váº«n Ä‘Æ°á»£c, cÃ³ thá»ƒ sá»­ dá»¥ng luÃ´n tÃªn service. NhÆ° váº­y link trong docker compose chá»‰ cÃ³ Ä‘Ãºng 1 tÃ¡c dá»¥ng nhÆ° váº­y :D. Thay vÃ¬ pháº£i tham gia vÃ o 1 máº¡ng default vÃ  bá»‹ Docker quáº£n lÃ½, cáº¥p phÃ¡t IP nhÆ° váº­y, cÃ¡c container khÃ´ng muá»‘n, muá»‘n tá»± láº­p vÃ¹ng máº¡ng riÃªng, tham gia vÃ o Ä‘Ã³. NÆ¡i nÃ y cÃ¡c container tá»± tÃ¬m (discoverable) Ä‘Æ°á»£c nhau qua tÃªn vÃ  cÃ³ thá»ƒ custom card máº¡ng náº¿u muá»‘n. Äáº·c biá»‡t, táº¡o máº¡ng riÃªng cho 1 vÃ i container káº¿t ná»‘i (vÃ­ dá»¥ máº¡ng front-end vÃ  máº¡ng back-end sáº½ Ä‘Æ°á»£c Ä‘á» cáº­p trong vÃ­ dá»¥ sau).CÃ¡ch nÃ y lÃ  Specify custom networks, báº¡n nÃªn sá»­ dá»¥ng nÃ³ vÃ  nÃ³ Ä‘Æ°á»£c khuyáº¿n khÃ­ch sá»­ dá»¥ng thay links The --link flag is a legacy feature of Docker. It may eventually be removed. Unless you absolutely need to continue using it, we recommend that you use user-defined networks to facilitate communication between two containers instead of using --link. @docsdocs.docker.com/compose/compose-file/#links Letâ€™s startMáº·c Ä‘á»‹nh Compose set up 1 máº¡ng Ä‘Æ¡n cho á»©ng dá»¥ng. Má»—i container cho 1 dá»‹ch vá»¥ tham gia default network vÃ  cáº£ 2 cÃ³ thá»ƒ reachable bá»Ÿi containers khÃ¡c trÃªn máº¡ng Ä‘Ã³ vÃ  cÅ©ng cÃ³ thá»ƒ discoverable trÃªn hostname tá»›i tÃªn container. VÃ­ dá»¥, á»©ng dá»¥ng cá»§a báº¡n cÃ³ Ä‘Æ°á»ng dáº«n myapp, vÃ  file docker-compose.yml cá»§a báº¡n sáº½ nhÆ° sau:12345678910version: &quot;3&quot;services: web: build: . ports: - &quot;8000:8000&quot; db: image: postgres ports: - &quot;8001:5432&quot;Khi báº¡n cháº¡y docker-compose up, nhá»¯ng Ä‘iá»u sau sáº½ xáº£y ra: Má»™t máº¡ng vá»›i tÃªn gá»i myapp_default sáº½ Ä‘Æ°á»£c táº¡o. Má»™t container Ä‘Æ°á»£c táº¡o sá»­ dá»¥ng cáº¥u hÃ¬nh cá»§a web. NÃ³ tham gia vÃ o máº¡ng myapp_default dÆ°á»›i tÃªn web. Má»™t container Ä‘Æ°á»£c táº¡o sá»­ dá»¥ng cáº¥u hÃ¬nh cá»§a db. NÃ³ tham gia vÃ o máº¡ng myapp_default dÆ°á»›i tÃªn db. Má»—i container bÃ¢y giá» cÃ³ thá»ƒ tra cá»©u hostname web hoáº·c db vÃ  láº¥y láº¡i Ä‘á»‹a chá»‰ IP cá»§a container. VÃ­ dá»¥, code cá»§a á»©ng dá»¥ng web cÃ³ thá»ƒ káº¿t ná»‘i tá»›i URL postgres://db:5432 vÃ  báº¯t Ä‘áº§u sá»­ dá»¥ng Postgres database. CÃ³ 1 Ä‘iá»u quan trá»ng cáº§n chÃº Ã½ phÃ¢n biá»‡t giá»¯a HOST_POST vÃ  CONTAINER_PORT. Trong vÃ­ dá»¥ trÃªn, Ä‘á»‘i vá»›i db, HOST_PORT lÃ  8001 vÃ  container port lÃ  5432 (cá»•ng máº·c Ä‘á»‹nh cá»§a postgres). Máº¡ng service-to-service káº¿t ná»‘i sá»­ dá»¥ng CONTAINER_POST. Khi mÃ  HOST_PORT Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a, dá»‹ch vá»¥ cÃ³ thá»ƒ truy cáº­p bÃªn ngoÃ i the swarm Trong web container, káº¿t ná»‘i cá»§a báº¡n tá»›i db sáº½ nhÆ° sau postgres://db:5432 vÃ  tá»« host machine, káº¿t ná»‘i sáº½ nhÆ° sau postgres://{DOCKER_IP}:8001 Update containersNáº¿u báº¡n muá»‘n táº¡o cáº¥u hÃ¬nh thay Ä‘á»•i 1 dá»‹ch vá»¥ vÃ  cháº¡y docker-compose up Ä‘á»ƒ cáº­p nháº­t nÃ³, cÃ¡c container cÅ© sáº½ bá»‹ xÃ³a vÃ  1 cÃ¡i má»›i sáº½ tham gia máº¡ng dÆ°á»›i 1 Ä‘á»‹a chá»‰ IP khÃ¡c nhÆ°ng tÃªn giá»‘ng nhÆ° váº­y. Container Ä‘ang cháº¡y cÃ³ thá»ƒ tra cá»©u tÃªn Ä‘Ã³ vÃ  káº¿t ná»‘i Ä‘áº¿n Ä‘á»‹a chá»‰ má»›i, nhÆ°ng Ä‘á»‹a chá»‰ cÅ© Ä‘Ã£ dá»«ng hoáº¡t Ä‘á»™ng. Náº¿u 1 vÃ i containers cÃ³ má»Ÿ káº¿t ná»‘i Ä‘áº¿n cÃ¡c container cÅ©, chÃºng sáº½ bá»‹ Ä‘Ã³ng láº¡i. TrÃ¡ch nhiá»‡m cá»§a 1 conatainer lÃ  pháº£i phÃ¡t hiá»‡n tÃ¬nh tráº¡ng nÃ y, tra cá»©u láº¡i tÃªn vÃ  káº¿t ná»‘i láº¡i. LinksLinks cho phÃ©p báº¡n Ä‘á»‹nh nghÄ©a thÃªm aliases (bÃ­ danh) cá»§a 1 service cÃ³ thá»ƒ káº¿t ná»‘i Ä‘áº¿n tá»« service khÃ¡c. ChÃºng khÃ´ng yÃªu cáº§u pháº£i kÃ­ch hoáº¡t cÃ¡c services Ä‘á»ƒ káº¿t ná»‘i - máº·c Ä‘á»‹nh, 1 vÃ i service cÃ³ thá»ƒ Ä‘i Ä‘áº¿n 1 vÃ i service khÃ¡c vá»›i tÃªn cá»§a service. NhÆ° vÃ­ dá»¥ dÆ°á»›i Ä‘Ã¢y, db cÃ³ thá»ƒ káº¿t ná»‘i tá»« web vá»›i hostname db vÃ  database:123456789version: &quot;3&quot;services: web: build: . links: - &quot;db:database&quot; db: image: postgres Multi-host networkingPháº§n nÃ y nÃ³i vá» Docker swarm, sáº½ bá»• sung sau â€¦ Specify custom networksThay vÃ¬ sá»­ dá»¥ng cÃ¡c default app network, báº¡n cÃ³ thá»ƒ chá»‰ Ä‘á»‹nh network riÃªng cá»§a mÃ¬nh vá»›i tá»« khÃ³a networks. Äiá»u nÃ y lÃ m cho báº¡n táº¡o nhiá»u hÆ¡n cáº¥u trÃºc phá»©c táº¡p vÃ  chá»‰ Ä‘á»‹nh cÃ¡c options vÃ  drives trong cÃ¡c máº¡ng cá»§a mÃ¬nh. Báº¡n cÅ©ng cÃ³ thá»ƒ sá»­ dá»¥ng nÃ³ Ä‘á»ƒ káº¿t ná»‘i cÃ¡c dá»‹ch vá»¥ tá»›i máº¡ng externally-created (Ä‘Æ°á»£c táº¡o tá»« bÃªn ngoÃ i), cÃ¡i mÃ  khÃ´ng bá»‹ quáº£n lÃ½ bá»Ÿi Compose. Má»—i service cÃ³ thá»ƒ chá»‰ Ä‘á»‹nh máº¡ng Ä‘á»ƒ káº¿t ná»‘i vá»›i service-level networks key, cÃ¡i mÃ  liá»‡t kÃª ra danh sÃ¡ch tÃªn tham chiáº¿u sá»­ dá»¥ng tá»« top-level networks key DÆ°á»›i Ä‘Ã¢y lÃ  vÃ­ dá»¥ Compose file Ä‘á»‹nh nghÄ©a 2 custom máº¡ng. proxy service bá»‹ cÃ´ láº­p tá»« db service vÃ¬ chÃºng khÃ´ng chia sáº» trong 1 máº¡ng chung - chá»‰ app cÃ³ thá»ƒ nÃ³i chuyá»‡n vá»›i cáº£ 2:1234567891011121314151617181920212223242526272829version: &quot;3&quot;services: proxy: build: ./proxy # service-level networks networks: - frontend app: build: ./app networks: - frontend - backend db: image: postgres networks: - backend# top-level networksnetworks: frontend: # Use a custom driver driver: custom-driver-1 backend: # Use a custom driver which takes special options driver: custom-driver-2 driver_opts: foo: &quot;1&quot; bar: &quot;2&quot;Networks cÃ³ thá»ƒ Ä‘Æ°á»£c cáº¥u hÃ¬nh vá»›i Ä‘á»‹a chá»‰ static IP báº±ng cÃ¡ch setting ipv4_address and/or ipv6_address cho má»—i máº¡ng Ä‘Æ°á»£c Ä‘Ã­nh kÃ¨m Networks cÅ©ng cÃ³ thá»ƒ nháº­n 1 custom name:12345version: &quot;3.5&quot;networks: frontend: name: custom_frontend driver: custom-driver-1 Configure the default networkBáº¡n cÅ©ng hoÃ n toÃ n cÃ³ thá»ƒ cáº¥u hÃ¬nh láº¡i networks máº·c Ä‘á»‹nh trong Compose báº±ng cÃ¡ch sá»­ dá»¥ng tÃªn default trong networks:1234567891011121314version: &quot;3&quot;services: web: build: . ports: - &quot;8000:8000&quot; db: image: postgresnetworks: default: # Use a custom driver driver: custom-driver-1 Use a pre-existing networkNáº¿u báº¡n muá»‘n container cá»§a báº¡n tham gia 1 pre-existing networks (network Ä‘Ã£ tá»“n táº¡i trÆ°á»›c Ä‘Ã³), sá»­ dá»¥ng tÃ¹y chá»n external:1234networks: default: external: name: my-pre-existing-networkThay vÃ¬ tham gia vÃ o máº¡ng tÃªn lÃ  projectname]_default, Compose tÃ¬m kiáº¿m máº¡ng tá»›i tÃªn lÃ  my-pre-existing-network vÃ  káº¿t ná»‘i á»©ng container cá»§a báº¡n tá»›i nÃ³ So sÃ¡nh link vá»›i networksNhÆ° Ä‘Ã£ Ä‘á» cáº­p ráº¥t nhiá»u á»Ÿ trÃªn, báº¡n nÃªn dÃ¹ng networks Ä‘á»ƒ thay tháº¿ link. Link chá»‰ lÃ  bÃ­ danh vÃ  cÃ¡c container váº«n tham gia chung 1 máº¡ng default cho Docker quáº£n lÃ½. ÄÃ¢y lÃ  2 cÃ¡ch giÃºp container cÃ³ thá»ƒ káº¿t ná»‘i vá»›i container khÃ¡c thÃ´ng qua tÃªn hoáº·c bÃ­ danh mÃ  khÃ´ng cáº§n Ä‘á»‹a chá»‰ IP (ta hiá»ƒu lÃ  cÃ¡c container tá»± phÃ¢n giáº£i Ä‘Æ°á»£c nhau). Vá» cÆ¡ báº£n, links khÃ´ng cÃ²n cáº§n thiáº¿t vÃ¬ má»¥c Ä‘Ã­ch chÃ­nh cá»§a nÃ³ lÃ  lÃ m cho container cÃ³ thá»ƒ cháº¡m tá»›i nhau báº±ng cÃ¡ch thÃªm biáº¿n mÃ´i trÆ°á»ng. Khi containers Ä‘Æ°á»£c thay tháº¿ bá»Ÿi máº¡ng giá»‘ng nhau, chÃºng cÃ³ thá»ƒ cháº¡m tá»›i cÃ¡c container khÃ¡c qua tÃªn hoáº·c bÃ­ danh nhÆ° host AuthorStackOverflow vÃ Before the Docker network feature, you could use the Docker link feature to allow containers to discover each other. With the introduction of Docker networks, containers can be discovered by its name automatically. AuthorStackOverflow TÃ i liá»‡u tham kháº£o Networking in Compose Medium: BÃ i viáº¿t giáº£i thÃ­ch network, táº¡o, xÃ³a, tham gia vÃ o cÃ¡c máº¡ng Ä‘Æ°á»£c custome, default khÃ¡ hay. Docker ghichep: BÃ i viáº¿t nÃ y giáº£i thÃ­ch cÃ¡c khÃ¡i niá»‡m ngáº¯n gá»n.","link":"/2020/04/21/Docker-Networking-in-Compose/"},{"title":"[Docker] XÃ¢y dá»±ng docker-compose.yml file cho project cá»§a báº¡n .....","text":"Nháº­t kÃ½ cho quÃ¡ trÃ¬nh tá»± xÃ¢y dá»±ng docker-compose.yml cho dá»± Ã¡n â€œHello Worldâ€ Laravel. TrÆ°á»›c khi báº¡n báº¯t Ä‘áº§u Báº¡n cáº§n cÃ³ nhá»¯ng hiá»ƒu biáº¿t cÆ¡ báº£n vá» Docker vÃ  Docker compose. Kiáº¿n thá»©c vá» nginx, cáº¥u hÃ¬nh virtual host cho nginx. BÃ i viáº¿t sáº½ setup virtual vá»›i hÃ m phpinfo() trÆ°á»›c tiÃªn. Sau Ä‘Ã³ sáº½ Ä‘á»•i Ä‘Æ°á»ng dáº«n root sang Laravel project Ä‘á»ƒ cháº¡y á»©ng dá»¥ng cá»§a báº¡n á»Ÿ má»©c cÆ¡ báº£n. HÃ£y báº¯t Ä‘áº§u tá»« viá»‡c cÃ i Ä‘áº·t mÃ  khÃ´ng Docker ..Khoan nÃ³i vá» cÃ¡c á»©ng dá»¥ng Laravel phá»©c táº¡p, á»Ÿ Ä‘Ã¢y, tÃ´i chá»‰ Ä‘á» cáº­p á»Ÿ má»©c Ä‘á»™ cÃ i Ä‘áº·t Laravel project trang chá»§ vÃ  cÃ³ thá»ƒ migrate báº£ng user cÃ³ sáºµn. HÃ£y báº¯t Ä‘áº§u cÃ i Ä‘áº·t á»©ng dá»¥ng tá»« viá»‡c khÃ´ng sá»­ dá»¥ng Docker. LAMP (Linux, Apache2, MySQL, PHP), LEMP (Linux, Nginx, MySQL, PHP) lÃ  2 cá»¥m tá»« â€œtÃ¬m kiáº¿mâ€ kinh Ä‘iá»ƒn. NÃ³ lÃ  bá»™ cÃ¡c cÃ´ng cá»¥ giÃºp báº¡n cÃ i Ä‘áº·t má»™t á»©ng dá»¥ng web thÃ´ng thÆ°á»ng Ä‘á»ƒ hoáº¡t Ä‘á»™ng. Vá» cÆ¡ báº£n, má»i á»©ng dá»¥ng web Ä‘á»ƒ cháº¡y Ä‘Æ°á»£c báº¡n cáº§n tá»‘i thiá»ƒu 3 pháº§n sau: Web server: Nginx hoáº·c Apache2 lÃ  nhá»¯ng sá»± lá»±a chá»n phá»• biáº¿n NgÃ´n ngá»¯ láº­p trÃ¬nh: táº¥t nhiÃªn :D, báº¡n pháº£i cho web server biáº¿t lÃ  mÃ¬nh dÃ¹ng ngÃ´n ngá»¯ láº­p trÃ¬nh nÃ o chá»©. Database: NÆ¡i sáº½ lÆ°u dá»¯ liá»‡u cho á»©ng dá»¥ng LAMP, LEMP Ä‘á»u chÃ­nh lÃ  3 pháº§n trÃªn (Linux thÃ¬ mÃ¬nh sáº½ nÃ³i sau nhÃ©). Trong pháº¡m vi bÃ i viáº¿t, mÃ¬nh sáº½ sá»­ dá»¥ng LEMP. Khi cÃ i Ä‘áº·t LEMP xong, chÃºng ta cáº§n cáº¥u hÃ¬nh 1 virtual host Ä‘á»ƒ cháº¡y á»©ng dá»¥ng vá»›i domain. TrÆ°á»›c háº¿t chÃºng ta cá»© lÃ m hiá»ƒn thá»‹ thÃ´ng tin PHP qua hÃ m phpinfo(), sau rá»“i chuyá»ƒn cáº¥u hÃ¬nh cho Laravel project lÃ  ngon :D BÆ°á»›c 1: Báº¡n cáº§n thay Ä‘á»•i cáº¥u hÃ¬nh nginx Báº¡n cáº§n Ä‘á»ƒ nginx trá» tá»›i host chá»©a file index.php. CÆ¡ báº£n nÃ³ sáº½ nhÆ° sau: conf.d nginx1234567891011121314151617181920212223242526272829server { listen 80; server_name localhost; # CÃ¡i nÃ y quan trá»ng nÃ¨, root cá»§a project root /var/www/html; index index.php index.html index.htm; error_log /var/log/nginx/laravel.error.log; access_log /var/log/nginx/laravel.access.log; location / { try_files $uri $uri/ /index.php?$query_string; } # PHP-FPM Configuration Nginx location ~ \\.php$ { try_files $uri = 404; fastcgi_split_path_info ^(.+\\.php)(/.+)$; fastcgi_pass localhost:9000; fastcgi_index index.php; include fastcgi_params; fastcgi_param REQUEST_URI $request_uri; fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name; fastcgi_param PATH_INFO $fastcgi_path_info; }} BÆ°á»›c 2: ThÃªm file index.php CÅ©ng khÃ´ng cáº§n giáº£i thÃ­ch nhiá»u. Tá»« cáº¥u hÃ¬nh trÃªn, ta cÃ³ thá»ƒ tháº¥y, báº¡n cáº§n cÃ³ 1 file index.php á»Ÿ thÆ° má»¥c /var/www/html lÃ  xong :Dconf.d nginx123&lt;?phpecho phpinfo();?&gt; NhÆ° váº­y lÃ  khi vÃ o http://localhost, thÃ´ng tin PHP Ä‘Ã£ Ä‘Æ°á»£c hiá»ƒn thá»‹. Pháº§n chuyá»ƒn cáº¥u hÃ¬nh cho á»©ng dá»¥ng Laravel, chá»‰ cáº§n Ä‘á»•i Ä‘Æ°á»ng dáº«n root, tÃ´i gá»™p luÃ´n vÃ o pháº§n 2. Suy nghÄ© docker hÃ³a LEMPDocker hÃ³a HelloWorld trÆ°á»›c tiÃªnÄá»ƒ docker hÃ³a cÃ¡c pháº§n nhÆ° á»Ÿ má»¥c 1, chÃºng ta cáº§n 3 images tÆ°Æ¡ng á»©ng 3 pháº§n trong LEMP á»Ÿ trÃªn: nginx, mysql vÃ  php-fpm. Báº¯t Ä‘áº§u tá»« cÃ¡i dá»… trÆ°á»›c Ä‘i. Database tÃ´i sá»­ dá»¥ng MySQl, Ä‘Æ¡n giáº£n chá»‰ lÃ  pull image cá»§a mysql vá» thÃ´i, khÃ´ng cáº§n cÃ i cáº¯m gÃ¬ cáº£. docker-compose.yml123456789101112services: mysql: image: mysql:5.7 environment: MYSQL_DATABASE: 'laravel' MYSQL_USER: 'mingnv' MYSQL_PASSWORD: 'password' MYSQL_ROOT_PASSWORD: 'password' # Volumes nÃ y Ä‘ang sá»­ dá»¥ng theo dáº¡ng biáº¿n Ä‘Ã³ # NÃ³ tÆ°Æ¡ng Ä‘Æ°Æ¡ng khai bÃ¡o VOLUME trong Dockerfile, sinh volume dáº¡ng mÃ£ bÄƒm volumes: - db_data:/var/lib/mysql Dá»… nhá»‰, tháº¿ lÃ  cÃ³ 1 database Ä‘á»ƒ lÆ°u dá»¯ liá»‡u rá»“i, tiáº¿p theo chÃºng ta sáº½ pull image PHP qua php-fpm image docker-compose.yml123services: php-fpm: image: php:7.2-fpm TÆ°Æ¡ng tá»± nhÆ° database nhá»‰. NhÆ°ng khoan. php-fpm khÃ´ng thá»ƒ Ä‘Ãºng 1 mÃ¬nh Ä‘Æ°á»£c. NÃ³ cáº§n nÃ³i chuyá»‡n vá»›i web server, káº¿t há»£p Ä‘á»ƒ xá»­ lÃ½ cÃ¡c request tá»« phÃ­a ngÆ°á»i dÃ¹ngâ€¦. To be continue! Web server: pháº§n nÃ y lÃ  pháº§n quan trá»ng nháº¥t cá»§a á»©ng dá»¥ng web. á» Ä‘Ã¢y tÃ´i sá»­ dá»¥ng nginx nÃªn sáº½ pull image nginx vá». NhÆ°ng nhÆ° tÃ´i Ä‘Ã£ nÃ³i á»Ÿ trÃªn, web server khÃ´ng thá»ƒ hoáº¡t Ä‘á»™ng Ä‘Æ¡n láº». NÃ³ cáº§n cÃ³ file cáº¥u hÃ¬nh, trá» tá»›i host cá»§a báº¡n, láº¥y code vÃ  hoáº¡t Ä‘á»™ng. Do Ä‘Ã³ báº¡n cáº§n pháº£i cÃ³ file Dockerfile Ä‘á»ƒ build. Dockerfile nginx12345FROM nginx:latest# Change Nginx config here...RUN rm /etc/nginx/conf.d/default.confCOPY ./default.conf /etc/nginx/conf.d/ Config máº·c Ä‘á»‹nh sáº½ khÃ´ng trá» tá»›i host Ä‘Æ°á»£c, do Ä‘Ã³ chÃºng ta sáº½ sá»­ dá»¥ng file conf á»Ÿ trÃªn Ä‘á»ƒ thay tháº¿ default.conf cá»§a nginx. Báº¡n nhá»› thay Ä‘Æ°á»ng dáº«n php-fpm báº±ng host Ä‘Ãºng cá»§a contianer nhÃ© LÃºc nÃ y báº¡n báº­t á»©ng dá»¥ng lÃªn vÃ  cháº¡y, docker-compose.yml sáº½ cÃ³ dáº¡ng nhÆ° sau docker-compose.yml1234567891011121314151617181920212223242526272829# Sá»­ dá»¥ng version 3.3 cho nÃ³ má»›iversion: '3.3'services: nginx: build: ./nginx ports: - &quot;8080:80&quot; # ThÃªm depends_on Ä‘á»ƒ nÃ³ start php-fpm trÆ°á»›c khi start nginx, náº¿u khÃ´ng sáº½ bá»‹ bÃ¡o lá»—i host php-fpm khÃ´ng tÃ¬m tháº¥y depends_on: - php-fpm volumes: # Logging - ./nginx/log:/var/log/nginx/ # Volume Ä‘áº¿n code á»©ng dá»¥ng - ./nginx/index.php:/var/www/html/index.php mysql: image: mysql:5.7 environment: MYSQL_DATABASE: 'laravel' MYSQL_USER: 'mingnv' MYSQL_PASSWORD: 'password' MYSQL_ROOT_PASSWORD: 'password' adminer: image: adminer ports: - 8081:8080 php-fpm: image: php:7.2-fpm Thá»±c hiá»‡n docker-compose up Ä‘á»ƒ cháº¡y. Hmm, káº¿t quáº£ xuáº¥t hiá»‡n lá»—i . TÃ´i Ä‘Ã£ thá»±c sá»± lÃºng tÃºng trÆ°á»›c lá»—i ngÃ y vÃ  máº¥t tá»›i 2 ngÃ y Ä‘á»ƒ fix nÃ³. NguyÃªn nhÃ¢n lÃ  nÃ³ khÃ´ng tÃ¬m tháº¥y file index.php trong khi cháº¡y php-fpm. Sau khi tham kháº£o 1 sá»‘ tÃ i liá»‡u, tÃ´i má»›i hiá»ƒu, dÃ¹ nginx vÃ  php-fpm Ä‘Ã£ nÃ³i chuyá»‡n vá»›i nhau nhÆ°ng cÃ¡c thÆ° má»¥c, files cá»§a nÃ³ khÃ´ng Ä‘Æ°á»£c dÃ¹ng chung. VÃ¬ váº­y khi báº¡n chá»‰ volumes file index.php cho nginx, khi thao tÃ¡c cá»§a php-fpm khÃ´ng tÃ¬m tháº¥y file nÃ y. Táº¥t cáº£ cÃ¡c services lÃ m viá»‡c vá»›i source code (nginx, php-fpm vÃ  sau nÃ y xuáº¥t hiá»‡n thÃªm báº¡n workspace vÃ  nhiá»u nhÃ¢n váº­t phá»¥ khÃ¡c) Ä‘á»u cáº§n volumes chung vá»›i nhau vÃ  volumes Ä‘áº¿n source code folder. VÃ  rá»“i káº¿t quáº£ cuá»‘i cÃ¹ng file docker-compose.yml sáº½ nhÆ° sau: https://github.com/minhnv2306/laravel-docker/blob/01cea0eb1af8007e6e32ba4c2803088ac98dd3ce/docker-compose.yml Khi Ä‘Ã£ volume cho php-fpm vÃ  nginx nhÆ° váº­y, á»©ng dá»¥ng Ä‘Ã£ lÃªn. Level up cho á»©ng dá»¥ng Laravel nÃ o!á» bÆ°á»›c 2.1, chÃºng ta Ä‘Ã£ lÃªn trang phpinfo(). BÆ°á»›c tiáº¿p theo, chÃºng ta sáº½ thay trang nÃ y báº±ng á»©ng dá»¥ng Laravel. CÃ´ng viá»‡c Ä‘Æ¡n giáº£n, chá»‰nh Ä‘Æ°á»ng dáº«n root cá»§a á»©ng dá»¥ng lÃ  xong. https://github.com/minhnv2306/laravel-docker/commit/35c4920de3ec51a91c5bcc59b4014e743181b6b3 NhÆ° váº­y Ä‘Ãºng lÃ  xong tháº­t, á»©ng dá»¥ng Laravel Ä‘Ã£ lÃªn. Báº¡n Ä‘Ã£ thá»­ káº¿t ná»‘i chÃºng vá»›i database. 1docker exec php-fpm php artisan migrate Káº¿t quáº£ lÃ  nháº­n Ä‘Æ°á»£c 1 thÃ´ng bÃ¡o thiáº¿u mysql-extension. NhÆ° váº­y chÃºng ta cÃ³ thá»ƒ tháº¥y ráº±ng image php-fpm chá»‰ cÃ³ nhá»¯ng extension cÆ¡ báº£n nháº¥t cá»§a php, chÆ°a há»— trá»£ mysql-extension. CÃ´ng viá»‡c cá»§a chÃºng ta tiáº¿p theo lÃ  cáº­p nháº­t extension nÃ y Äá»ƒ cÃ i thÃªm cÃ¡c extension cho php trong Docker, báº¡n sá»­ dá»¥ng docker-php-ext-install Dockerfile php7.2-fpm1234567FROM php:7.2-fpmRUN apt-get update &amp;&amp; apt-get install -y \\ vim \\ &amp;&amp; docker-php-ext-install mysqli pdo_mysqlEXPOSE 9000 VÃ  láº§n nÃ y Ä‘Ã£ migrate ngon rá»“i nhÃ© :D. ChÃºng ta cáº§n nhiá»u hÆ¡n tháº¿ â€¦á»¨ng dá»¥ng cá»§a chÃºng ta Ä‘Ã£ lÃªn hÃ¬nh, Ä‘áº¹p Ä‘áº½, náº¿u nhÃ¬n lÆ°á»›t qua. Báº¡n cÃ³ nhá»› tÃ´i Ä‘Ã£ nháº¯c Ä‘áº¿n Linux vÃ  cÃ³ nÃ³i pháº§n sau sáº½ Ä‘á» cáº­p. Trong cÃ¡c pháº§n 1,2, á»©ng dá»¥ng cá»§a tÃ´i Ä‘Ã£ Ä‘Æ°á»£c cÃ i composer, npm sáºµn trÃªn mÃ¡y rá»“i, á»©ng dá»¥ng má»›i cÃ³ thá»ƒ hoáº¡t Ä‘á»™ng. NÃ³i má»™t cÃ¡ch khÃ¡c, tÃ´i Ä‘Ã£ cháº¡y cÃ¡c lá»‡nh nÃ y trÆ°á»›c Ä‘Ã³ tá»« mÃ¡y local cá»§a mÃ¬nh: 1234composer installnpm installnpm run dev NhÆ°ng nhÆ° váº­y thÃ¬ chÆ°a Ä‘Ãºng láº¯m vá»›i Docker, Ä‘á»™c láº­p mÃ´i trÆ°á»ng vá»›i mÃ¡y cá»§a báº¡n. ChÃºng ta cáº§n 1 nÆ¡i tÃªn gá»i lÃ  workspaceÄ‘á»ƒ lÃ m viá»‡c vá»›i mÃ£ nguá»“n nhÆ° cÃ i Ä‘áº·t git, xem mÃ£ nguá»“n, cÃ i cáº¯m copmoser, npm, cÃ¡c tool quáº£n lÃ½ mÃ£ nguá»“n tÆ°Æ¡ng tá»±. HÃ¬nh nhÆ° tÃ´i Ä‘ang nháº¯c tá»›i há»‡ Ä‘iá»u hÃ nh nhá»‰? ÄÃºng váº­y, chÃºng ta sáº½ tÃ¡ch biá»‡t chÃºng ra thÃ nh 1 container riÃªng vá»›i tÃªn lÃ  â€œworkspaceâ€, nÆ¡i lÃ m viá»‡c vá»›i mÃ£ nguá»“n, cÃ i Ä‘áº·t á»©ng dá»¥ng. ÄÃ³ chá»‰ lÃ  1 pháº§n báº¡n cáº§n thÃªm. BÃªn cáº¡nh Ä‘Ã³, báº¡n cÃ³ thá»ƒ thÃªm tháº¯t nhÆ° contianer â€œdataâ€ chá»‰ Ä‘á»ƒ lÆ°u trá»¯ dá»¯ liá»‡u cho á»©ng dá»¥ng, container â€œdata_testâ€ Ä‘á»ƒ lÆ°u dá»¯ liá»‡u cho á»©ng dá»¥ng khi cháº¡y test. Báº¡n cÃ³ thá»ƒ tham kháº£o thÃªm cÃ¡c services táº¡i Ä‘Ã¢y nginx application (for storing project source code) php-fpm workspace (for working around with the all project) mysql mysql_test (for running integration test) mongodb redis data (for storing mysql, mongo, redis data) data_test (for storing mysql, mongo, redis data while running test) logs (for storing some system logs) TÃ¡ch biá»‡t cÃ¡c biáº¿n ra cáº¥u hÃ¬nh â€¦Äá»ƒ tÄƒng Ä‘á»™ nguy hiá»ƒm cho báº¡n, hÃ£y thÃªm biáº¿n .env khi cháº¡y docker-compose. Má»™t há»¯u Ã­ch ná»¯a nÃ³ mang láº¡i lÃ  giÃºp báº¡n dá»… maintain, thay Ä‘á»•i cÃ¡c tham sá»‘ mÃ  khÃ´ng cáº§n sá»­a trá»±c tiáº¿p trong docker-composer.yml. docker-compose.ymlLaradock1234567891011121314151617181920212223242526272829version: '3'...services:### NGINX Server ######################################### nginx: build: context: ./nginx args: - CHANGE_SOURCE=${CHANGE_SOURCE} - PHP_UPSTREAM_CONTAINER=${NGINX_PHP_UPSTREAM_CONTAINER} - PHP_UPSTREAM_PORT=${NGINX_PHP_UPSTREAM_PORT} - http_proxy - https_proxy - no_proxy volumes: - ${APP_CODE_PATH_HOST}:${APP_CODE_PATH_CONTAINER}${APP_CODE_CONTAINER_FLAG} - ${NGINX_HOST_LOG_PATH}:/var/log/nginx - ${NGINX_SITES_PATH}:/etc/nginx/sites-available - ${NGINX_SSL_PATH}:/etc/nginx/ssl ports: - &quot;${NGINX_HOST_HTTP_PORT}:80&quot; - &quot;${NGINX_HOST_HTTPS_PORT}:443&quot; - &quot;${VARNISH_BACKEND_PORT}:81&quot; depends_on: - php-fpm networks: - frontend - backend... .envLaradock1234567891011...### NGINX #################################################NGINX_HOST_HTTP_PORT=80NGINX_HOST_HTTPS_PORT=443NGINX_HOST_LOG_PATH=./logs/nginx/NGINX_SITES_PATH=./nginx/sites/NGINX_PHP_UPSTREAM_CONTAINER=php-fpmNGINX_PHP_UPSTREAM_PORT=9000NGINX_SSL_PATH=./nginx/ssl/... Cuá»‘i cÃ¹ng tÃ´i Ä‘Ãºc káº¿t Ä‘Æ°á»£c gÃ¬ Báº¡n nÃªn tÃ¡ch á»©ng dá»¥ng thÃ nh cÃ¡c services Ä‘Æ¡n láº» Ä‘á»ƒ dá»… quáº£n lÃ½, nÃ³ cÅ©ng lÃ  1 pháº§n cá»§a best practice cho docker Táº¥t cáº£ cÃ¡c services lÃ m viá»‡c vá»›i source code (nginx, php-fpm, workspace â€¦) Ä‘á»u cáº§n volumes chung vá»›i nhau vÃ  volumes Ä‘áº¿n source code folder. Báº¡n cáº§n cÃ³ cÃ¡c services cÆ¡ báº£n Ä‘á»ƒ cÃ³ thá»ƒ cháº¡y Ä‘Æ°á»£c á»©ng dá»¥ng (php-fpm, nginx, database). BÃªn cáº¡nh Ä‘Ã³ lÃ  1 service Ä‘á»ƒ lÃ m viá»‡c vá»›i mÃ£ nguá»“n, cÃ i Ä‘áº·t mÃ£ nguá»“n (composer, npm) vá»›i tÃªn workspace.123456789docker-compose exec workspace composer installdocker-compose exec workspace php artisan key:generatedocker-compose exec workspace php artisan migratedocker-compose exec workspace php artisan db:seeddocker-compose exec workspace yarndocker-compose exec workspace yarn watch# For testingdocker-compose exec workspace php artisan db:seed --class=TestDataSeeder TÃ¡ch cÃ¡c tham sá»‘ trong docker-composer.yml ra file cáº¥u hÃ¬nh cho dá»… quáº£n lÃ½ vÃ  thay Ä‘á»•i. TÃ i liá»‡u tham kháº£o Laradock Laravel Microservices - Framgia Docker Team Declare default environment variables in file","link":"/2020/04/30/Docker-Xay-dung-docker-compose-yml-cho-project-cua-ban/"},{"title":"[Docker] General guidelines and recommendations","text":"TÃ i liá»‡u sau mÃ´ táº£ nhá»¯ng gá»£i Ã½ best practices vÃ  cÃ¡c cÃ¡c thá»©c Ä‘á»ƒ xÃ¢y dá»±ng cÃ¡c images cÃ³ hiá»‡u quáº£. Pháº§n nÃ y láº¥y tá»« 1 pháº§n cá»§a https://docs.docker.com/develop/develop-images/dockerfile_best-practices/. CÃ²n 1 pháº§n best practice cho Docker instructions, báº¡n tham kháº£o táº¡i bÃ i Docker instructions nhÃ©.Docker build cÃ¡c image tá»± Ä‘á»™ng báº±ng cÃ¡ch Ä‘á»c cÃ¡c lá»‡nh tá»« Dockerfile - má»™t file text chá»©a táº¥t cáº£ cÃ¡c lá»‡nh, theo thá»© tá»± cáº§n thiáº¿t Ä‘á»ƒ build 1 image. Má»™t Dockerfile tuÃ¢n thá»§ cáº¥u trÃºc riÃªng vÃ  cÃ³ táº­p cÃ¡c instructions nháº¥t Ä‘á»‹nh. Má»™t Docker image bao gá»“m cÃ¡c táº§ng chá»‰ Ä‘á»c (read-only layers), má»—i táº§ng cÃ³ 1 nhiá»‡m vá»¥ riÃªng cá»§a 1 Dockerfile instruction. Nhá»¯ng táº§ng nÃ y Ä‘Æ°á»£c xáº¿p chá»“ng lÃªn nhau vÃ  má»—i táº§ng cÃ³ thay Ä‘á»•i vá»›i cÃ¡c táº§ng trÆ°á»›c.. Xem xÃ©t Dockerfile:1234FROM ubuntu:18.04COPY . /appRUN make /appCMD python /app/app.py Má»—i instruction táº¡o 1 layer: FROM táº¡o 1 layer tá»« ubuntu:18.04 image. COPY thÃªm files tá»« thÆ° má»¥c Docker hiá»‡n táº¡i. RUN build á»©ng dá»¥ng cá»§a báº¡n vá»›i make. CMD chá»‰ ra lá»‡nh nÃ o cáº§n cháº¡y trong container nÃ y. Khi báº¡n cháº¡y 1 image vÃ  sinh ra container, báº¡n thÃªm 1 layer cÃ³ thá»ƒ ghi (writable layer (the â€œcontainer layerâ€)), trÃªn cÃ¹ng cá»§a cÃ¡c layers bÃªn dÆ°á»›i. Táº¥t cáº£ thay Ä‘á»•i khi cháº¡y container nhÆ° lÃ  ghi files má»›i, Ä‘á»‹nh nghÄ©a file Ä‘Ã£ tá»“n táº¡i vÃ  xÃ³a files Ä‘Æ°á»£c ghi láº¡i trong táº§ng container cÃ³ thá»ƒ ghi nÃ y. General guidelines and recommendationsCreate ephemeral containersImage Ä‘á»‹nh nghÄ©a bá»Ÿi Dockerfile nÃªn sinh ra cÃ¡c container â€œcÃ ng phÃ¹ du cÃ ng tá»‘tâ€. PhÃ¹ du á»Ÿ Ä‘Ã¢y chÃºng ta hiá»ƒu lÃ  cÃ¡c contianer cÃ³ thá»ƒÄ‘Æ°á»£c stopped vÃ  destroyed vÃ  rebuild vÃ  replaced vá»›i thiáº¿t láº­p vÃ  cáº¥u hÃ¬nh tá»‘i thiá»ƒu tuyá»‡t Ä‘á»‘i. =&gt; ChÆ°a hiá»ƒu Ã½ láº¯m :v Understand build contextVáº¥n Ä‘á» khi báº¡n cháº¡y docker build command, Ä‘Æ°á»ng dáº«n lÃ m viá»‡c hiá»‡n táº¡i cá»§a báº¡n Ä‘Æ°á»£c gá»i lÃ  build context. Máº·c Ä‘á»‹nh, Dockerfile sáº½ Ä‘Æ°á»£c giáº£ Ä‘á»‹nh lÃ  tá»« Ä‘Ã¢y nhÆ°ng báº¡n cÃ³ thá»ƒ xÃ¡c Ä‘á»‹nh 1 Ä‘Æ°á»ng location khÃ¡c vá»›i flag file (-f). Báº¥t ká»ƒ khi nÃ o Dockerfile Ä‘ang hoáº¡t Ä‘á»™ng, táº¥t cáº£ ná»™i dung file, tá»‡p Ä‘á»‡ quy trong thÆ° má»¥c hiá»‡n táº¡i Ä‘Æ°á»£c gá»­i vÃ o Docker daemon nhÆ° lÃ  build context Pipe Dockerfile through stdinDocker cÃ³ thá»ƒ build cÃ¡c images báº±ng cÃ¡ch Ä‘Æ°á»ng á»‘ng dá»¯ liá»‡u vÃ o Dockerfile qua stdin vá»›i 1 local or remote build context. KÄ© thuáº­t Ä‘Æ°á»ng á»‘ng dá»¯ liá»‡u vÃ o Dockerfile qua stdin cÃ³ thá»ƒ há»¯uÃ­ch hiá»‡u nÄƒng Ä‘á»‘i vá»›i cÃ¡c báº£n build 1 láº§n (one-off builds) mÃ  khÃ´ng cáº§n viáº¿t Dockerfile vÃ o á»• Ä‘Ä©a hoáº·c trong cÃ¡c tÃ¬nh huá»‘ng mÃ  Dockerfile Ä‘Æ°á»£c táº¡o ra mÃ  khÃ´ng nÃªn tá»“n táº¡i sau Ä‘Ã³(TrÆ°á»ng há»£p nÃ y thá»±c táº¿ khÃ´ng sá»­ dá»¥ng nÃªn táº¡m thá»i bá» qua chÆ°a Ä‘á»c) Exclude with .dockerignoreÄá»ƒ loáº¡i trá»« cÃ¡c file khÃ´ng liÃªn quan khi build, sá»­ dá»¥ng file .dockerignore. File nÃ y há»— trá»£ cÃ¡c máº«u loáº¡i bá» tÆ°Æ¡ng tá»± nhÆ° .gitignore Use multi-stage buildsMulti-stage builds cho phÃ©p báº¡n giáº£m nhiá»u kÃ­ch thÆ°á»›c image cuá»‘i cÃ¹ng cá»§a báº¡n mÃ  khÃ´ng Ä‘áº¥u tranh Ä‘á»ƒ giáº£m sá»‘ lÆ°á»£ng cÃ¡c táº§ng vÃ  files trung gian. Bá»Ÿi vÃ¬ 1 image Ä‘Æ°á»£c build trong giai Ä‘oáº¡n cuá»‘i cuá»‘i cá»§a quÃ¡ trÃ¬nh build, báº¡n cÃ³ thá»ƒ giáº£m thiá»ƒu image layer báº±ng leveraging build cache (pháº§n sau). VÃ­ dá»¥, náº¿u build cá»§a báº¡n cÃ³ 1 vÃ i layer, báº¡n cÃ³ thá»ƒ sáº¯p xáº¿p chÃºng tá»« Ã­t thay Ä‘á»•i thÆ°á»ng xuyÃªn (Ä‘á»ƒ cháº¯c cháº¯n ráº±ng cache khi build cÃ³ thá»ƒ há»¯u Ã­ch) Ä‘áº¿n pháº§n thay Ä‘á»•i thÆ°á»ng xuyÃªn Install tools báº¡n cáº§n Ä‘á»ƒ build á»©ng dá»¥ng Install vÃ  cáº­p nháº­t cÃ¡c thÆ° viá»‡n phá»¥ thuá»™c Sinh ra á»©ng dá»¥ng cá»§a báº¡n Má»™t Dockerfile tá»« á»©ng dá»¥ng Go sáº½ nhÆ° sau:123456789101112131415161718192021222324FROM golang:1.11-alpine AS build# Install tools required for project# Run `docker build --no-cache .` to update dependenciesRUN apk add --no-cache gitRUN go get github.com/golang/dep/cmd/dep# List project dependencies with Gopkg.toml and Gopkg.lock# These layers are only re-built when Gopkg files are updatedCOPY Gopkg.lock Gopkg.toml /go/src/project/WORKDIR /go/src/project/# Install library dependenciesRUN dep ensure -vendor-only# Copy the entire project and build it# This layer is rebuilt when a file changes in the project directoryCOPY . /go/src/project/RUN go build -o /bin/project# This results in a single layer imageFROM scratchCOPY --from=build /bin/project /bin/projectENTRYPOINT [&quot;/bin/project&quot;]CMD [&quot;--help&quot;] Donâ€™t install unnecessary packagesTáº¥t nhiÃªn, viá»‡c giáº£m thiá»ƒu cÃ¡c package khÃ´ng cáº§n thiáº¿t Ä‘á»ƒ giáº£m thiá»ƒu Ä‘á»™ phá»©c táº¡o, sá»± phá»¥ thuá»™c, kÃ­ch thÆ°á»›c file vÃ  thá»i gian build rá»“i =)) bá»Ÿi vÃ¬ nÃ³ cÃ³nghÄ©a lÃ  â€œnice to haveâ€. VÃ­ dá»¥, báº¡n khÃ´ng cáº§n cÃ i cÃ¡c text editor trong database image. Decouple applicationsMá»—i container nÃªn chá»‰ cÃ³ 1 quan há»‡. PhÃ¢n tÃ¡ch á»©ng dá»¥ng thÃ nh nhiá»u containers lÃ m nÃ³ dá»… dÃ ng má»Ÿ rá»™ng theo chiá»u ngang vÃ  dá»… dÃ ng sá»­ dá»¥ng láº¡icÃ¡c container. VÃ­ dá»¥, má»™t ngÄƒn xáº¿p cá»§a á»©ng dá»¥ng web cÃ³ thá»ƒ chá»©a 3 container tÃ¡ch biá»‡t, má»—i chÃºng cÃ³ 1 image duy nháº¥t Ä‘á»ƒ quáº£n lÃ½ á»©ng dá»¥ng web, database vÃ im-memory cache. Cá»‘ gáº¯ng giá»¯ cÃ¡c container cá»§a báº¡n sáº¡ch sáº½ vÃ  phÃ¢n hÃ³a tÃ­nh module nháº¥t cÃ³ thá»ƒ. Náº¿u containers cá»§a báº¡n phá»¥ thuá»™c cÃ¡c container khÃ¡c, báº¡n cÃ³ thá»ƒ sá»­ dá»¥ngDocker container network Ä‘á»ƒ cháº¯c cháº¯n ráº±ng chÃºng cÃ³ thá»ƒ nÃ³i chuyá»‡n Ä‘Æ°á»£c vá»›i nhau =)) Minimize the number of layersTrong cÃ¡c phiÃªn báº£n Docker cÅ©, thá»±c sá»± quan trá»ng cho báº¡n giáº£m thiá»ƒu sá»‘ lÆ°á»£ng layers trong image cá»§a báº¡n Ä‘á»ƒ cháº¯c cháº¯n ráº±ng chÃºng cÃ³ hiá»‡u nÄƒng tá»‘t.CÃ¡c tÃ­nh nÄƒng sau Ä‘Ã¢y Ä‘Ã£ Ä‘Æ°á»£c thÃªm vÃ o Ä‘á»ƒ giáº£m thiá»ƒu cÃ¡c giá»›i háº¡n nÃ y: Chá»‰ cÃ¡c instructions RUN, COPY, ADD táº¡o ra layers. CÃ¡c instruction khÃ¡c táº¡o ra cÃ¡c image trung gian táº¡m thá»i, vÃ  khÃ´ng lÃ m tÄƒng kÃ­ch thÆ°á»›c cá»§a quÃ¡ trÃ¬nh build. Báº¥t cá»© khi nÃ o cÃ³ thá»ƒ, sá»­ dá»¥ng multi-stage builds, vÃ  chá»‰ copy cÃ¡c thá»© báº¡n cáº§n vÃ o image cuá»‘i cÃ¹ng. Äiá»u nÃ y cho phÃ©p báº¡n cÃ³ thá»ƒ cÃ³ cÃ¡c tools vÃ  thÃ´ng tin debug trong cÃ¡c stage táº¡m thá»icá»§a báº¡n nhÆ°ng khÃ´ng lÃ m tÄƒng kÃ­ch thÆ°á»›c trong image cuá»‘i cÃ¹ng Ã kiáº¿n cÃ¡ nhÃ¢n: Báº¡n cÃ³ thá»ƒ xem quÃ¡ trÃ¬nh build ra images Ä‘Ã³ sinh ra cÃ¡c layers vÃ  cÃ¡c image trung gian nÃ o thÃ´ng qua docker history1234567FROM ubuntu:latestCOPY Hello.txt /tmpRUN apt-get update &amp;&amp; apt-get install vim -yCMD [ &quot;sh&quot;, &quot;-c&quot;, &quot;echo $HOME&quot; ]12345678910C:\\Users\\Nguyen Van Minh\\Desktop\\Docker&gt;docker history d978393ef1c7IMAGE CREATED CREATED BY SIZE COMMENTd978393ef1c7 33 seconds ago /bin/sh -c #(nop) CMD [&quot;sh&quot; &quot;-c&quot; &quot;echo $HOMâ€¦ 0Bde55aff93a8d 23 minutes ago /bin/sh -c apt-get update &amp;&amp; apt-get installâ€¦ 88.3MBc5a143208697 36 minutes ago /bin/sh -c #(nop) COPY file:6ffa4dcbbe5403e6â€¦ 16B4e5021d210f6 4 weeks ago /bin/sh -c #(nop) CMD [&quot;/bin/bash&quot;] 0B&lt;missing&gt; 4 weeks ago /bin/sh -c mkdir -p /run/systemd &amp;&amp; echo 'doâ€¦ 7B&lt;missing&gt; 4 weeks ago /bin/sh -c set -xe &amp;&amp; echo '#!/bin/sh' &gt; /â€¦ 745B&lt;missing&gt; 4 weeks ago /bin/sh -c [ -z &quot;$(apt-get indextargets)&quot; ] 987kB&lt;missing&gt; 4 weeks ago /bin/sh -c #(nop) ADD file:594fa35cf803361e6â€¦ 63.2MB Báº¡n cÃ³ thá»ƒ tháº¥y ráº¥t rÃµ, má»—i instruction Ä‘á»u táº¡o 1 layer (Ä‘á»ƒ Ä‘Æ¡n giáº£n hÃ³a, hÃ£y xem cÃ¡c image trung gian táº¡m thá»i OB kia cÅ©ng lÃ  cÃ¡c layer) vÃ  tá»•ng kÃ­ch thÆ°á»›c image chÃ­nh lÃ  Ä‘á»‘ng layer nÃ y cá»™ng vÃ o :D. Hiá»ƒu nÃ´m na cÃ¡c image trung gian (0B) chá»‰ lÃ  copy láº¡i image cÅ©, chÆ°a lÃ m gÃ¬ nÃªn chÆ°a tÄƒng kÃ­ch thÆ°á»›c, náº¿u dÃ¹ng RUN, COPY, ADD trÃªn cÃ¡c image trung gian Ä‘Ã³ thÃ¬ sinh 1 layer má»›i lÃ m tÄƒng kÃ­ch thÆ°á»›c images. Sort multi-line argumentsBáº¥t cá»© khi nÃ o cÃ³ thá»ƒ, dá»… dÃ ng thay Ä‘á»•i vá» sau báº±ng cÃ¡ch sáº¯p xáº¿p cÃ¡c Ä‘á»‘i sá»‘ nhiá»u dÃ²ng. Äiá»u nÃ y trÃ¡nh bá»‹ trÃ¹ng láº·p cÃ¡c package vÃ  lÃ m danh sÃ¡ch sáº½ dá»… dÃ ng cáº­p nháº­t hÆ¡n. Äiá»u nÃ y cÅ©ng lÃ m PRs dá»… dÃ ng Ä‘á»c vÃ  review. ThÃªm space vÃ  má»—i backslash(\\) Ä‘á»ƒ lÃ m viá»‡c nÃ y :D. ÄÃ¢y lÃ  má»™t vÃ­ dá»¥:123456RUN apt-get update &amp;&amp; apt-get install -y \\ bzr \\ cvs \\ git \\ mercurial \\ subversion Leverage build cacheHiá»ƒu 1 chÃºt vá» cÃ¡c khÃ¡i niá»‡m trong Docker vÃ  cache: Dockerfile báº¯t Ä‘áº§u vá»›i 1 parent image (tá»« FROM). Sau Ä‘Ã³ trong quÃ¡ trÃ¬nh build sáº½ sinh ra nháº¥t nhiá»u image trung gian, ta gá»i lÃ  childrent image. Base image thÆ°á»ng nÃ³i Ä‘áº¿n cÃ¡c image tá»« cÃ¡c parent image (cÃ¡c image trá»‘ng trÆ¡n, chÆ°a cÃ i Ä‘áº·t gÃ¬), vÃ  thÃªm cÃ¡c cÃ i Ä‘áº·t phá»¥c vá»¥ báº¡n (nhÆ° cÃ i thÃªm npm Ä‘á»ƒ build js, cÃ i thÃªm composerÄ‘á»ƒ build thÃªm PHP) Ä‘Æ°á»£c Ä‘áº©y lÃªn repo Docker hoáº·c trÃªn local cá»§a báº¡n VÃ­ dá»¥ xem xÃ©t Dockerfile sau:123FROM ubuntu:latestCOPY Hello.txt /tmpDockerfile láº¥y tá»« parent image ubuntu:latest, sau lá»‡nh COPY nÃ y, nÃ³ sáº½ sinh ra 1 childrent image. Khi báº¡n build, báº¡n sáº½ nháº­n Ä‘Æ°á»£c danh sÃ¡ch images sau:1234C:\\Users\\Nguyen Van Minh\\Desktop\\Docker&gt;docker imagesREPOSITORY TAG IMAGE ID CREATED SIZE&lt;none&gt; &lt;none&gt; c5a143208697 11 seconds ago 64.2MBubuntu latest 4e5021d210f6 4 weeks ago 64.2MB NhÆ° vÃ­ dá»¥ trÃªn tÃ´i hiá»ƒu ubuntu::lastest: parent image =&gt; image ubuntu khÃ´ng cÃ³ cÃ¡i váº¹o gÃ¬ c5a143208697: lÃ  image con cá»§a ubuntu:lastest c5a143208697 cÅ©ng Ä‘Æ°á»£c gá»i lÃ  base image cá»§a báº¡n. Tuy nhiÃªn nÃ³ chÆ°a cÃ i thÃªm cÃ¡i gÃ¬, base image nÃ y cÃ³ váº» hÆ¡i tÃ¹ vÃ  gá»i lÃ  base image cÃ³ váº» chÆ°a ngon láº¯m. Base image vÃ­ dá»¥ laravel-workspace gá»i base image thÃ¬ sáº½ chuáº©n hÆ¡n, nÃ³ cung cáº¥p khÃ´ng gian lÃ m viá»‡c vá»›i á»©ng dá»¥ng. Ref: https://github.com/FramgiaDockerTeam KhÃ¡i niá»‡m base image vÃ  parent image dá»… gÃ¢y nháº§m láº«n, mÃ  thÃ´i Ä‘á»«ng quan tÃ¢m sÃ¢u quÃ¡ vá» nÃ³. HÃ£y liÃªn há»‡ khi báº¡n code, báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng Controller cÃ³ sáºµn trong Laravel lÃ  cÃ¡c parent image, báº¡n thÃªm cÃ¡c hÃ m (whereLike cháº³ng háº¡n) thÃ¬ xÃ¢y dá»±ng lÃªn BaseController, tá»« BaseController nÃ y sinh ra cÃ¡c image con HomeController, ProductController (mÃ  gá»i lÃ  con cá»§a Controller cÅ©ng khÃ´ng sai nhá»‰ =_=) Rá»“i, táº£n máº¡n vá» Base image, Parent Image vÃ  Childrent Image váº­y thÃ´i, bÃ¢y giá» tÃ´i sáº½ Ä‘á» cáº­p Ä‘áº¿n cache. Khi build Docker, chá»— nÃ o sá»­ dá»¥ng cache Ä‘Æ°á»£c bÃ¡o láº¡i ráº¥t rÃµ. VÃ­ dá»¥ vá»›i Dockerfile trÃªn, build láº¡i láº§n ná»¯a, cache sáº½ Ä‘Æ°á»£c sá»­ dá»¥ng tá»« lá»‡nh COPY, báº¡n cÃ³ thá»ƒ tháº¥y rÃµ tá»« thÃ´ng bÃ¡o:12345678C:\\Users\\Nguyen Van Minh\\Desktop\\Docker&gt;docker build .Sending build context to Docker daemon 3.072kBStep 1/2 : FROM ubuntu:latest ---&gt; 4e5021d210f6Step 2/2 : COPY Hello.txt /tmp ---&gt; Using cache ---&gt; c5a143208697Successfully built c5a143208697Khi build 1 image, cÃ¡c bÆ°á»›c Dokcker qua cÃ¡c instructions trong Dockerfile, thá»±c thi tá»«ng instruction má»™t Ä‘Æ°á»£c chá»‰ Ä‘á»‹nh. Má»—i instruction Ä‘Æ°á»£c kiá»ƒm tra, Docker tÃ¬m 1 image Ä‘Ã£ tá»“n táº¡i trong cache cá»§a nÃ³ Ä‘á»ƒ sá»­ dá»¥ng láº¡i, thay vÃ¬ táº¡o 1 (nhiá»u) image. Náº¿u báº¡n khÃ´ng muá»‘n sá»­ dá»¥ng cache trong táº¥t cáº£ trÆ°á»ng há»£p, báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng tÃ¹y chá»n --no-cache=true khi cháº¡y docker build. Tuy nhiÃªn, náº¿u báº¡n Ä‘á»ƒ Docker sá»­ dá»¥ng cache, thá»±c sá»± quan trá»ng Ä‘á»ƒ hiá»ƒu khi nÃ o nÃ³ cÃ³ thá»ƒ dÃ¹ng, vÃ  khi nÃ o khÃ´ng thá»ƒ, tÃ¬m kiáº¿m image trÃ¹ng. CÃ¡c nguyÃªn táº¯c cÆ¡ báº£n sau Docker sáº½ tuÃ¢n theo: Báº¯t Ä‘áº§u vá»›i parent image, cÃ¡i Ä‘Ã£ cÃ³ trong cache, cÃ¡c instruction tiáº¿p thep sáº½ Ä‘Æ°á»£c so sÃ¡nh vá»›i táº¥t cáº£ cÃ¡c image con cÃ³ nguá»“n gá»‘c tá»« base image Ä‘á»ƒ xem náº¿u 1 trong sá»‘ chÃºng Ä‘Ã£ Ä‘Æ°á»£c build sá»­ dá»¥ng instruction giá»‘ng nhau. Náº¿u khÃ´ng, cache sáº½ bá»‹ vÃ´ hiá»‡u. Trong Ä‘a sá»‘ cÃ¡c trÆ°á»ng há»£p, sá»± so sÃ¡nh Ä‘Æ¡n giáº£n instruction trong Dockerfile vá»›i 1 trong nhá»¯ng child images lÃ  vá»«a Ä‘á»§. Tuy nhiÃªn, 1 sá»‘ instructions sáº½ yÃªu cáº§u nhiá»u sá»± xem xÃ©t vÃ  giáº£i thÃ­ch hÆ¡n. Äá»‘i vá»›i lá»‡nh ADD vÃ  COPY, ná»™i dung cá»§a file(s) trong image Ä‘Æ°á»£c xem xÃ©t vÃ  checksum sáº½ Ä‘Æ°á»£c tÃ­nh toÃ¡n cho má»—i file. Má»—i last-modified and last-accessed time cá»§a file(s) khÃ´ng Ä‘Æ°á»£c xem xÃ©t trong checksum nÃ y. Trong khi cache tÃ¬m kiáº¿m, checksum sáº½ so sÃ¡nh vá»›i cÃ¡c checksum cá»§a image Ä‘Ã£ tá»“n táº¡i. Náº¿u cÃ³ 1 vÃ i sá»± thay Ä‘á»•i trong file(s), nhÆ° lÃ  ná»™i dung vÃ  metadata, cache sáº½ bá»‹ vÃ´ hiá»‡u hÃ³a. Aside from the ADD and COPY commands, cache checking does not look at the files in the container to determine a cache match. For example, when processing a RUN apt-get -y update command the files updated in the container are not examined to determine if a cache hit exists. In that case just the command string itself is used to find a match. Má»™t khi cache bá»‹ vÃ´ hiá»‡u hÃ³a, táº¥t cáº£ cÃ¡c lá»‡nh Dockerfile tiáº¿p theo sáº½ sinh ra 1 image má»›i vÃ  cache sáº½ khÃ´ng Ä‘Æ°á»£c sá»­ dá»¥ng. Tá»•ng káº¿tKhi xÃ¢y dá»±ng Dockerfile, hi vá»ng 1 sá»‘ tips sau giÃºp báº¡n xÃ¢y dá»±ng tá»‘t hÆ¡n: Build context cÃ³ thá»ƒ láº¥y cá»© local hoáº·c remote, khi build 1 láº§n, hÃ£y xem xÃ©t sá»­ dá»¥ng stdin Ä‘á»ƒ khÃ´ng cáº§n lÆ°u Dockerfile trÃªn mÃ¡y cá»§a báº¡n luÃ´n. Exclude with .dockerignore. Use multi-stage builds: giáº£m kÃ­ch thÆ°á»›c image qua viá»‡c Dockerfile chá»‰ sá»­ dá»¥ng image cuá»‘i cÃ¹ng. Donâ€™t install unnecessary packages. Decouple applications. Minimize the number of layers: Má»—i instruction táº¡o ra 1 layer (tÃ­nh cáº£ layer 0B gá»i lÃ  cÃ¡c image trung gian táº¡m thá»i Ä‘i) ADD, COPY, RUN lÃ  cÃ¡c instruction lÃ m tÄƒng kÃ­ch thÆ°á»›c images. NgoÃ i ra, khi copy cáº£ thÆ° má»¥c, hÃ£y xem xÃ©t cÃ¡c file thÆ°á»ng xuyÃªn thay Ä‘á»•i thÃ¬ nÃªn tÃ¡ch ra. Chi tiáº¿t xem thÃªm táº¡i Docker instructions. Xem kÃ­ch thÆ°á»›c cÃ¡c instruction vá»›i docker history. Sort multi-line arguments: sá»­ dá»¥ngbackslash (\\) Ä‘á»ƒ PRs cá»§a báº¡n dá»… review hÆ¡n vÃ  trÃ¡nh láº·p cÃ¡c package. Táº­n dá»¥ng cache khi build. Parent image (Controller), base image =&gt; base image: image báº¡n tá»± custom láº¡i, nÃªn tÃ­ch há»£p thÃªm cÃ¡i gÃ¬ Ä‘Ã³ há»¯u Ã­ch (BaseController with whereLike) vÃ  childrent image: ProductController, HomeController. TÃ i liá»‡u tham kháº£o: Dockerfile best practive FramgiaDockerTeam","link":"/2020/04/19/Docker-General-guidelines-and-recommendations/"},{"title":"[Docker] [Tá»•ng há»£p tÃ i nguyÃªn] - Update 2019-03-15","text":"10d79030e8222445804370796b90fca1757e50b73c71834cd286bd57952b394c3724c01d322b2db77d15950aee95f6e9cd53871c2812e235e5af312dec11287cdec4f7a9b61e136cda0d4c00354f168c15c66a528f5fe1041579f8e532ab1e57f640ef6e67d77d57037bba70455c8643386d4853f62bbd671d1d729ea431e0556e6eb1b0c00f5604f1ff9ed36d82746ce1caa21bb60769450ae74eef770c61b114d443a29fe1c26fb34fff10af9cbbf04f59c7c5e200901e420e76ddda275863c79c0584bee43d91e83adcbc2eb21c231032cfcd3e0b9570c9721e60d93b447812ad2d684f38be25b3cd41a2e34f8b8212b37a06e2b647b93161c8d0c97f83c376fc2cba60abfc2dc20d8c336b7337b7cf605dedad38d326b7618be067441655920d2ef584ef417e7f02ff0aa07c69c25ea243c8dd9c1e92ff11d783b6d72cde00802fa1c8dbce3370d20ceee031493abe407cacc1243475a7a7524bff27c7cc39b121e0665899c581a8d2aa85937e04c6f18d609ec794ad6f40015aee288222c032d8048a65c2c034f86d382a06438e2726fe115659ab27454425ea4ced1a4fa32db6db2d7da48f92e4e3d9a9e58c5a4afa497922c83a47dce4fd0b70b6391046fb6e69d1e8edc14f14c44ac63bc21f91f9c47dc7f194e908ce23ca1a0fa5617db3f77f7e8fa7570741da2dab2751bad949668801c78508ee83c68e288e501f1e233e7c348361a26f2f3e064840eb43cafaa397bceec86e2e1d9be553ef18d2e4d40cbfed985d840a96fe35907618e4dfe21f9234a23682455fb98bdd8d383144c0689bdde98a76e2b4295b38eb4007274d18a5856d7bd5a0ea638d522cc9c14a6f8b0432e61239f256b1fce096faf769e35d7e97410b8072f16d6d8139ba5949a7d0d5f0658c6430956b39aa7512619128de3dc0d57277d826b8a68e0d99d121e8081614a2a88fcd07df9f07f3f4409c359676423f95553cf407188a3beddb5d28a5204992f0825b3588ff12ff5b343f36123d301c23783917a892e69609374c3b697aae4c9fb4f648070584b5b465cfd0f99e6595785147e9d5686004a33cb79ffda9bfca6e210a012f3dcbf0d7ac28ba6b461ce1e739fb422ef0653b1d39d1c32853bf4f4e1e57141b4ae81fb4c0439d0b55163bb948f01acd35e5d1863a75599ec298595d7222f20dcc0ca027e4c8d5ebba982bd76eecc6df4bef736feb8348fe7a2258721e71540ee0d2ce3dc04a60b27a5a7eb08e69304136f80485c1bfd21fc55dca1f9671c9c7f9de13f2f031e45b06b10686ba818a8ed4547358854368aa09c91db7ca0000626c06069ad89c4aec7cf85a6891328dde5ffe05efa7bd80224d4cf8b9860a49c17c56747158b01d5fe564cecc31f559c50cb1173ad74f62c2e29c49ee60e9cefc6d2d54b11c8766d50cbfa205e4c9691ab1de632f60b2e9f449cb54e425b013f3f0b812bd410e6ba7762053771b27a5f5ad2660902b11fcdb00dec2a92ba7d0d6937c73b5360a762ecb2732ec6d3034d902ccab8f80c3c85341dce48fa7cf8a0baad7b8832996501536f94e625457a484f6592e1dc6479f2fbc800c81af4572771ae3bfbc35d37ec3f65f94227a244336535a6ee3cff7a3ff974a740227fdaabe16a204de64c29243d3ca7118ebd6b55c8461529b854de73a771ebf869fd8a03b2491d2c5732d60966bf0db9bfbc902c43b4322daf2a9a876ad22e37d99c318c55953d340dd6ed8a25be25a6bd4f8933c3ce09e7ab65907299488f91e501fa0973b7ebf752972acd2c3838ac7695de6e601d39879a5a8b223d8b622dd6be2885a91819be233e345d7a636073c76d6b2e20a40be862a5e6b1a3fa7b3e8ab2e240b076fe5d669ce65b6ed7dea8f39d4984994a0d0933ea66a1e2d855a59831b9cd83f0d793a4893486cdc500b8c13885e1e56b95de3822d0ddeed44b57ddf81d1a562230fb394ccb3f204b098c3a060f7c88866891f0a187dedc7473bd9299aeb63c68153b83f4bddb716ddf2c4b0b6a3ccd1bbf96fd79a6038e5f652d0ac9a49aa6d984c8159bc7c14b830048bf240615e739e7a34fe3d3d2dd69265bf17cfdc607c31ee9f9bb7651952b69b4bf8ca6232784aa4b8c62ad116428de5df9223e65ea56ba42343ba5f050cc148dee608a84ccf776528c766b53f2beef343fe93123de9cd101e83510869aa8e96bf8e866760343af876e69dbe5097b4814e44bb5bdc2b18d991a9836b9d630faed996d8066b144ecf6c6d38b9bd60d9ad3b36d70985284419a354f193a091b8f45137f6ab59fb3cc965266e9759fef8405f2d48883c2ee2a7b6bd93835f594f7cec770d1527f4c44161e03e46adb779f1790b8b85b2cead5bf36dad148c994cf731b55c10de16259ded7dd422e10804067026fa52a9e589c80937c40321d39a75d81a8c424ab77d5c3700d9eb7fd583057339d1ad3f49e6ea4a5059a71c9ff2cb7cd90f7e9461a639fedb6ca89bebb5a666e74b6fefe8ccec18ed3c4cf0553ec138859eda554c2bf7754265820f3b554345251b9c7f97929b13888311b841b51b4a78b9bf355d79f4ca3e2d6d14d7c91cee6204f0db40b3fc83081488e1c0e796c95e20e1fc19dd66cccb1a033e278e829c878dff5c5977604b420515f381cd34c24595ddf83299ef08467e64a585f3cdbe41265bc7732cb8568aae86b22610d86b1159de86c6a9d866153862a53ed7d06638113768fd679e8d2bd1c970295b00b263a6bd07d214e61c5dc6428d376a07b1a8a50f28378e6c6d1e9cff66a107003c8db59ba45ce34bc817d35725a4091a3f2e3fe276dae28e135f91f85609ae409ba09a95516e5748d2624138aaad61c352f282a534f589f98e6b424591c0e447030e7a6a8245db4eaee37a04cf0d939a354033fa341fce7d024e1877b155bd32ee63ac6457db5ecbbbcfa456f875baabf4b522cfd084b5b3eb69ccd368be82f7000586ca86bdf38aa17a9e69906a87ee192e7134de16304d259c2362fc829b50888795e09b38040cbe236d16590b4fc02da4c03ca4cdc2e9d9d67df55aa44b54a712af9dffeeb5147548659ba9a60850aceb8d8fcb237d2526b641269b1458e1e9feb77263de56de3070a7b6c4cf0e2abb1e9ddc3c9e766cf2f8a8fd1f9be6eba61a407fd600f00becee3431c9216ed4236970356676c4594ecc43d0fd83d29d4575a088c05e5f7c2d63151b91d33ab11285efa0e9a0245b8803c1b21859d38fc193cd2ebe354d62587d56467851e70e1d4d5f9ea6b5fcebb5dd9af00e0d6efc20edac3a68d437a93266d178c7c4f56ee5965d487b3ef7e1adde876442f54b2263e63182db0cdd0aa6a08e2935ac88c1da1253dc918e604631cd2600bf6705e628c9453a43ef97417903fe5b9a0361e4223bd9a722ebe79062788a88dc00bb6a3e2e9790b55bc47286cc03de41aebb363ed555afb57753e07576a2903cd171568be3696c42774cc91c2e834e9e4069060f767bc0578a8376532a431237ecb5cfa208de1c3b66130e84799fdb9877f3001aa8edbce54844d1be7b3d5d180b30df1867e249209460e153b3ccb897e9f4d83d51e7f64cba8ce20e15c454110dcbe7554f6065cad0079cbb0931e55661ae38ac41e426069fd87b22299fe624ddfb1ae17aa2e89fd0888838b6378b9a3ebdaf1173599b2b72809081e9bf4e9647de928a0cff2509c866c5a1256706dbfe14e321a4dfe38619dfc09a08bc2b9294a19a207532f4a464f886df89335db5a251c0de28443a6b81e96bdd434c8a31d5077b80011096b894d24b621187c44c15e4dd8eca715fc6cdb320eb8c7fb80e326b7b33ecbed9e3d8d93a75106c5a722c7151186be87c8e355e6a46c31c732bc013eac3ac4152ff8f10c5088f4d0c8c1b55514ecbcc6fd394a440d8134a3eed5fa6ad96ba52b3d151f9ec19dedd0c8c5697e85acab08e49eb140e64f8fb13830f8f7f9fcb5dc5dc201e665e82e70cdc2ad695c4ed1667beed6b3d4550f584955c3a844d726adc30712621293dfcdb4b722e24b752a05629d34cd7e5ff76453a95ea7a657c318b46491327e1f539e0a39fe1f124c63a741e6139841db4232a9db5ab6feebffc0f2230bfc5acf712b5b8ebca67622519022a3adf08c5694fbff3e42ea9dbdfdf6026ec938b93a5a3dd80f08c4e063fdd6d7379c4e2cca1060a0cfa69c12af855ce5202f6036ba2373d25da2ec3bd15a98e5b3999992beca81bf048b2f3b9f6667074694e889cfabadf5ce1d0e44a2c16999c478995469983459637236844ed684b19bf194db669882c066d9ccbf2e18746ad0c9ef4558f238b7504f7770dac311384ad157fdd83fd8e9e37f6898f442e9b7eba446dc031dc046420a879ea739684c99cce7c06db33c57575a93b6fa23e45636fd1864a79913a08fb31541f01bca1b643adcc72f3435928c5cf1754ebab129646ef4872f08085c8e65636422d3f5ee1addb9c98a1f92f1d3b0bd65f92d5e5ffddc1fb6a88a8fc54e0ebda0e3a52530d7f8bb1274eae8770ca67e28bfbdf202bc05c0b9e5915e757b249f3e927a33a2a78b0dc9ff0157e8e9008fb089ff544d62a3b3b1a3f0aeb74721c228b714864081b1b3f93b9905c3f0f948839c3c892f9dd2a6a3e287a77fcc4f6fe4c5b972635d24b636f2813c4a67f21174ce9efb6dd39a2a5d92db96ad3016880f0cad5b1258cb944c2ab3a5b709c22b5dfaebfb368fbaf9d8b4c236294627acaf7bcf82300102ee9bc6faf90d8c1f090d69403f38961930619e17506ce602a9a81db44c4877bad23edaaf7750c17eaefbe46cc44b004d295db5dd42905571a850011be7b9e0559a9b944f792a7449a7ed127ab132973fefd36357a8c9cbb89bd26557274e77d31b6a163b1e856a25c0a906b4afe048ccac682918b448ddbca206c5a090b6476990cfcc5cde6f366d478dc62cb9485b78b14b66f7b3dd71e40c90aee275742eb60e6630f29597885f9c2ff3c6bc0d5d2497be4563b6c5142188a5e1a68e853db512979e8ff16a611a1da027dbade2f79b59e04636369327d69b32e558b4743c0b0be7d69864c882e2dac20d03788763f581c520ec53cddc60c63dfc34b0a1a4893149cba4d7cdfe9eac6a08183f700d7b0101388a789ebe6f90b4b07ea9a8e102ebd76a4099de9f9f7fdddc19adbed8a3a31349100c42ce7f54e76efb0204661febeb84747399dd81a0538cc1b6b1e39898694363a74aeb503cf96bb34d1ab30546a0f6c07ce4cd432761d37afeec101ed50d6d653a5164f6efa040ee1ddfd7b61412a118e547ff223d96fc7e77ae395e7c76c5569215c76ae873a91809363e9d852d80f90e9d4fb5dfe10dff3131e8c6970043469478c165cfea8e735c8bce10ec9bf21ee4378971778951871ffc8586cd180b2017ffb2af3355848bb2233a28f9dedb3a25d5fba27e298f125fb192159e841db5b5786da55861d691ec4d14caca51bce91e20b9cac49d7b0b7010712b34d5a9a8e9381d26586b5426f6991279fc9a5f41d60a41e5c3af9372a1605c1720cf67e3dfbec5433a1eb963c28fc5933227ab8e1421211d58b8b6de416b103aca52b1d19bf7a54c83feacf141376b51130a675ec7e78de001d1743c666ee95d4a147fd7c40235839c446a70f584e0f9bea798b00f910d1a7585796e403b7bd9cc7c4c42e1a92e44af24d5b91bb0b4b4e57526a7e80c6b0cb3763d67c0989534c626ce6a14739e3e25fb8d27e1ba0d20eda34b0ce917b5313a52941a890ee3f63327f9503a2d9c46894f1ffa261e0896a9cd8cc262ac0ba482e8ce2d78cde948606bda9 Hey, password is required here.","link":"/2020/05/31/Docker-Tong-hop-tai-nguyen-Update-2019-03-15/"},{"title":"Docker commands","text":"BÃ i viáº¿t tá»•ng há»£p má»™t sá»‘ lá»‡nh vá»›i Docker NhÃ³m lá»‡nh xem cÃ¡c thÃ´ng tin vá» dockerDisplay system-wide information1docker info [OPTIONS] Xem trá»±c tiáº¿p phÃ¢n tÃ­ch dockerÄá»ƒ xem live stream phÃ¢n tÃ­ch tÃ i nguyÃªn Ä‘ang sá»­ dá»¥ng cá»§a 1 hoáº·c nhiá»u containers1docker stats [OPTIONS] [CONTAINER...]1234567$ docker statsCONTAINER ID NAME CPU % MEM USAGE / LIMIT MEM % NET I/O BLOCK I/O PIDSb95a83497c91 awesome_brattain 0.28% 5.629MiB / 1.952GiB 0.28% 916B / 0B 147kB / 0B 967b2525d8ad1 foobar 0.00% 1.727MiB / 1.952GiB 0.09% 2.48kB / 0B 4.11MB / 0B 2e5c383697914 test-1951.1.kay7x1lh1twk9c0oig50sd5tr 0.00% 196KiB / 1.952GiB 0.01% 71.2kB / 0B 770kB / 0B 14bda148efbc0 random.1.vnc8on831idyr42slu578u3cr 0.00% 1.672MiB / 1.952GiB 0.08% 110kB / 0B 578kB / 0B 2 NhÃ³m lá»‡nh xem thÃ´ng tin images vÃ  containersXem danh sÃ¡ch images1docker images [OPTIONS] [REPOSITORY[:TAG]] NgoÃ i ra cÃ²n 1 sá»‘ tÃ¹y chá»n há»¯u Ã­ch cho báº¡nList images by name and tag12345678910111213$ docker images java$ docker images java:8$ docker images --no-trunc$ docker images --digests# Filter$ docker images --filter &quot;before=image1&quot;# Format$ docker images --format &quot;{{.ID}}: {{.Repository}}&quot; TÃ¬m kiáº¿m images trÃªn Docker Hub1docker search [OPTIONS] TERM Danh sÃ¡ch containers1docker ps [OPTIONS] NhÃ³m lá»‡nh thao tÃ¡c vá»›i images, containersBuild image1docker build [OPTIONS] PATH | URL | - VÃ­ dá»¥1234567891011$ docker build .# Build with URL$ docker build github.com/creack/docker-firefox# Use a .dockerignore file$ echo &quot;.git&quot; &gt; .dockerignore$ docker build .# Tag an image (-t)$ docker build -t vieux/apache:2.0 .... XÃ³a containers1docker rm [OPTIONS] CONTAINER [CONTAINER...] XÃ³a images1docker rmi [OPTIONS] IMAGE [IMAGE...] NhÃ³m lá»‡nh quáº£n lÃ½ images vá»›i repositoryPull imagePull 1 image hoáº·c 1 repository tá»« nÆ¡i Ä‘Äƒng kÃ½123docker pull [OPTIONS] NAME[:TAG|@DIGEST]docker pull node:8.17.0-jessieSau khi pull vá», cÃ³ thá»ƒ sá»­ dá»¥ng docker images Ä‘á»ƒ kiá»ƒm tra image Ä‘Ã³12345docker pull minhnv2306/docker-npm:v2docker imagesREPOSITORY TAG IMAGE ID CREATED SIZEminhnv2306/docker-npm v2 6a1446855f51 19 hours ago 404MB CommitLá»‡nh nÃ y táº¡o 1 image má»›i tá»« sá»± thay Ä‘á»•i nÃ o Ä‘Ã³ cá»§a container1docker commit [OPTIONS] CONTAINER [REPOSITORY[:TAG]]Lá»‡nh nÃ y dÃ¹ng khi 1 container Ä‘ang cháº¡y, báº¡n thay Ä‘á»•i gÃ¬ Ä‘Ã³ trong container vÃ  muá»‘n táº¡o 1 image má»›i. NÃ³ khÃ¡c vá»›i lá»‡nh tags máº·c dÃ¹ cáº£ 2 cÃ¹ng táº¡o phiÃªn báº£n image má»›i. Tags lÃ  táº¡o tag tá»« image cÅ©, khÃ´ng pháº£i tá»« container nhÆ° commit1234567891011121314151617181920212223242526272829# VÃ­ dá»¥ 1:$ docker psCONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMESc3f279d17e0a ubuntu:12.04 /bin/bash 7 days ago Up 25 hours desperate_dubinsky197387f1b436 ubuntu:12.04 /bin/bash 7 days ago Up 25 hours focused_hamilton$ docker commit c3f279d17e0a svendowideit/testimage:version3# VÃ­ dá»¥ 2:$ docker psCONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMESc3f279d17e0a ubuntu:12.04 /bin/bash 7 days ago Up 25 hours desperate_dubinsky197387f1b436 ubuntu:12.04 /bin/bash 7 days ago Up 25 hours focused_hamilton$ docker commit --change='CMD [&quot;apachectl&quot;, &quot;-DFOREGROUND&quot;]' -c &quot;EXPOSE 80&quot; c3f279d17e0a svendowideit/testimage:version4f5283438590d$ docker run -d svendowideit/testimage:version489373736e2e7f00bc149bd783073ac43d0507da250e999f3f1036e0db60817c0$ docker psCONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES89373736e2e7 testimage:version4 &quot;apachectl -DFOREGROU&quot; 3 seconds ago Up 2 seconds 80/tcp distracted_fermatc3f279d17e0a ubuntu:12.04 /bin/bash 7 days ago Up 25 hours desperate_dubinsky197387f1b436 ubuntu:12.04 /bin/bash 7 days ago Up 25 hours TagTáº¡o má»™t TARGET_IMAGE cÃ¡i mÃ  tham chiáº¿u Ä‘áº¿n SOURCE_IMAGE1docker tag 6a1446855f51 minhnv2306/docker-npm:v2 NhÃ³m lá»‡nh thao tÃ¡c lá»‡nh trong containerCháº¡y lá»‡nh trong 1 container má»›iCÃ¢u lá»‡nh nÃ y cháº¡y 1 lá»‡nh trong container má»›i12docker run [OPTIONS] IMAGE [COMMAND] [ARG...]docker run -it minhnv2306/docker-npm:v2 /bin/bashNÃ³ tÆ°Æ¡ng Ä‘Æ°Æ¡ng docker-compose up, thá»±c hiá»‡n build vá»›i 1 image Ä‘Æ¡n vÃ  cháº¡y12docker run -p 80:80 -d --name php-container php-imagedocker run --name mysql-container -e MYSQL_ROOT_PASSWORD=secret -d mysql:latestVÃ­ dá»¥ trÃªn lÃ  nÃ³ Ä‘ang báº­t 2 container php-container vÃ  mysql-container. Báº¡n cÃ³ thá»ƒ kiá»ƒm tra thÃ´ng qua docker ps Cháº¡y 1 lá»‡nh trong 1 container Ä‘ang cháº¡yNáº¿u nhÆ° docker run lÃ  cháº¡y 1 lá»‡nh trong container mÃ  chÆ°a báº­t (Ä‘ang á»Ÿ dáº¡ng image) thÃ¬ docker exec láº¡i lÃ  thá»±c thi 1 lá»‡nh trong container Ä‘ang cháº¡y1docker exec [OPTIONS] CONTAINER COMMAND [ARG...]CONTAINER á»Ÿ Ä‘Ã¢y cÃ³ thá»ƒ lÃ  id cá»§a container hoáº·c tÃªn. Náº¿u lÃ  tÃªn container, báº¡n cáº§n Ä‘áº·t tÃªn cho nÃ³, nhÆ° qua container_name trong docker-compose.yml1234567version: '2'services: ubuntu: container_name: my_ubuntu image: minhnv2306/docker-npm:lastest tty: true # keeping docker runing12docker-compose updocker exec -it my_ubuntu /bin/bash NhÃ³m lá»‡nh quáº£n lÃ½ tiáº¿n trÃ¬nh containersStart má»™t hoáº·c nhiá»u containers Ä‘Ã£ dá»«ng1docker start [OPTIONS] CONTAINER [CONTAINER...] Restart Má»™t hay nhiá»u containers1docker restart [OPTIONS] CONTAINER [CONTAINER...] Dá»«ng 1 hoáº·c nhiá»u containers1docker stop [OPTIONS] CONTAINER [CONTAINER...] Kill 1 hay nhiá»u containeres1docker kill [OPTIONS] CONTAINER [CONTAINER...] Váº­y kill vÃ  stop khÃ¡c gÃ¬ nhau? NÃ³ cÅ©ng tÆ°Æ¡ng nhÆ° kill tiáº¿n trÃ¬nh trong ubuntu. Vá»›i docker stopThe main process inside the container will receive SIGTERM, and after a grace period, SIGKILL. VÃ  docker killThe docker kill subcommand kills one or more containers. The main process inside the container is sent SIGKILL signal (default), or the signal that is specified with the â€“signal option NhÆ° váº­y lá»‡nh stop cÃ³ váº» há»¯u Ã­ch hÆ¡n khi dá»«ng má»™t container. NÃ³ gá»­i 1 tÃ­n hiá»‡u SIGTERM tá»›i trÆ°á»›c. TÃ­n hiá»‡u nÃ y Ä‘Æ°á»£c gá»­i tá»›i 1 tiáº¿n trÃ¬nh Ä‘á»ƒ yÃªu cáº§u cháº¥m dá»©t nÃ³. KhÃ´ng giá»‘ng nhÆ° tÃ­n hiá»‡u SIGKILL, cÃ³ cÃ³ thá»ƒ bá»‹ bá» qua bá»Ÿi tiáº¿n trÃ¬nhRef: https://superuser.com/questions/756999/whats-the-difference-between-docker-stop-and-docker-kill Tá»•ng káº¿t:1234567891011121314151617docker info [OPTIONS]docker stats [OPTIONS] [CONTAINER...]docker images [OPTIONS] [REPOSITORY[:TAG]]docker search [OPTIONS] TERMdocker ps [OPTIONS]docker build [OPTIONS] PATH | URL | -docker rm [OPTIONS] CONTAINER [CONTAINER...]docker rmi [OPTIONS] IMAGE [IMAGE...]docker pull [OPTIONS] NAME[:TAG|@DIGEST]docker commit [OPTIONS] CONTAINER [REPOSITORY[:TAG]]docker tag 6a1446855f51 minhnv2306/docker-npm:v2docker run [OPTIONS] IMAGE [COMMAND] [ARG...]docker exec [OPTIONS] CONTAINER COMMAND [ARG...]docker start [OPTIONS] CONTAINER [CONTAINER...]docker restart [OPTIONS] CONTAINER [CONTAINER...]docker stop [OPTIONS] CONTAINER [CONTAINER...]docker kill [OPTIONS] CONTAINER [CONTAINER...] TÃ i liá»‡u tham kháº£oDocker CLI","link":"/2020/01/17/Docker-commands/"},{"title":"[Docker] Use multi-stage builds","text":"83091c2cfa1f0c3be410cd7dd7d2979dbb9f6753ade6317559292d74cf418a27d0d30e1b8d68391a05c6cff9321ab27874c71b993f0c959c761c97f9638bdcd9c48f2e30b47b4eca44a24e2fdad2f272508786f6c95c53f9042d6748e23521a38548a7ae5a6c470fd14852d72c04fbce33997f06ff96d21abea2e0fcd1eaa38deff4fca77ccc8c2035e73ffab385a17963c3780bec982e85b5ad88b9bbe782b7bf3ca651bc84ee01ce091c11f068793279f659362b9588af41afab60cd8e1a183bc7799a784475a7bec1db8dacb751cfb9d55a66516e0f1b72d7607d77640a8667d52d7b3ed11d3aaf07a4e7dc52c438cea03d85b8c01216d5a0f4af40a6dd39b0cb5b95cc88aed48c55f6ad65ff62ab285fe5e684c76597ff61fd1d3840511f7e252c91b92daa9f828c63ed8d72fe5592cf4cd0bdb47d679161d74eff39e7574a7f169ac27133716df21e86bc190495cd326cce7e983383f89e1c48c0d25872d205b32e8cdc1f60a9aa0446acaf6d003c85c7e22ad3feebe6c6bce6b1688d3edaac48f7d14a242c3cf59fe96ecc687b200c487e8fc38c92dcccd295626190ca41438fd4bcf47ed7bfb3b3f3deeffd78fc5f0a2115b1a8de83a3c471fb81d6515cda941bfc5171c86326e3356b0eea546d91ba53624174b94fe967b77a47c4a9e25fb4e2ae79838f49a2a35df53a42dc362c0d4f1066d1fe041b0ec06424c21b30e03220764bc7118df01c7179da95e4dea8e828c1c1607cccb1776e0eb4c06ad78200e48d84c7f7378a7b3c012988d308b2a36b6e6cabc96e749db747bf9257e556c7462dfc9fae43ad7302e71c4ef4f14997b03b04501e1e847426d01769a45f80f82917c223b1a235d8d5c8f1fb533add455d22c5c96becb51e2bc365af251ce9b19ee8d0f6c4c4c91349de0e4072869c0bc459dab8d54a5b360452b271b5d59a3ce496d924b568e56592a4b1f07fea56edc69a6129793aa50a7620e0bee8aec5ac7beb62003111eea343ed581c5afb426976abbea38e8c343edfcd3859347ba2e02ef6c5fd781baaba39db36be456e9c759c7193713357c1e37a2d3aaae859072eaa1009b73fa87e59ffbeb9d6b81cfded73c0da2f738c9f113b045de6c13b89eb922eb6d75de6ae997c14b8668bad9dc4e6ec11c874a6dd80e83e86d369fe56572c78c679d4f64518775e0cd24c3e5a4f7ef90632969cbe16035edf48aa838c670eb85a4c52341d23eadbb7b670c6bda0b60cbf60bf7504ed02a1fa6f1a1e4b0101de59dc376b228854b3c6e7979fb830e07c6bb8ae5256ebd6cd0a99102e57e3b3f9d2ac45cf8dc1b0144075ad8006d9c2541fe6d1b5a14a821160fda00bea752be83c12535b2bbb8148eebfc1f546db411a4fec4837283040986805741a5627cf47aa33b68e28f42b4b324a660c7fe08818c50bef6ee1042e1cbc8886f937c2824f96968d654fa56a8f5ccf3164b6392b79745fcbd2c5a3e76a5dce3cb05b8651659319979ae36dd7c62b0049781252aae5b1d71bcb6c362a85e1866701a0182f6bd9f1b32f471c7a5b16eb8445ceef875388b47254f6e1fc8a9c6602ef1cab69e58fe10e036547886310f50cb1d459de005451dddf8dcf3dfbdf38f1a636e3b2e0e13f97a99426972b2c948bd3dc010a1766fe6dbb76d8a6c7cf9c83fd0048638b0a0e6e1e2ab9a3489f96236a130efd7075bd7b03c0b6c196d0b5adb9d327a9f6c4e213524a03da92437796dd4b3ba3362513b1b6a6522571f9ef02828e3bbbad7734962bd5a67488947d616dc015ed7626a326c5a7a94fd8c51e4b1edbe1a76441a0c01fed2b33de7efbae2ceb2ebb9c2e2a0dd1104e17d036c4cbde515e1df7992865b0a5781c17dca81197f1ba44bcefa5c186581db8f8d73040f901980c75964f72b987323d379a9d1e5f41b5e75ba4818ec10f61a40ee76df8f40b88ad451e2b8ee6997cdd35ae4517a32efdb01dd90da61026be779434a4a5d5a2c92172791d111a4faf3744e80d527850d2f0ed3db0c72dfb5a70825cf4b65bc5cbbd4c533209595de566ca454c7f9490b9f3a6c0103e64931ce9584d1e9253e7a3de0cf8c2d1b05bd7bad1e23107bb27bdc247ab42766a93e1a9c5bbc2da5b26aed3baddd459792282e5c0bc4fd959f85525f02cfc6fe9c65ed4fdac7743a5aac233aece6a7ea53350e02b89ae1f48177cdf4eb6156538d09e8d2a9b5a1581261d1b247190719a081568348b4ea0d3425216fdfebcd2b49e8428314f3bbdf02426a201e20fd0cbc4acad44ccdd88c102b6de8af7b1e955a18a1f148176dac96fd0fbbfc645543c37d211b6c7ae0b51e5f9da46b09f2dd8b4adf5c4d5c1dca282795b782fee726643a4954f303b51452e53a0a19448ed249c1ab996df6cd765e453ffd1c3c09a4829638cb9f441e741de220b238a1dacd8f2da1cbf087b02848e271171d46b37eb3cace8602dfe4a52e451662b123ec5677a427082053bc5e0a7f0578238777d8f1a0bd1823b92d39353a8d41d9703ad232343524c0a4f171bb3fa1199f7adc2e20b23ac53c5edec1ed87902f960dca19bd4c897ab3633689d86c2b8f456d2bc99ff9d1932ce607e1ac4a2440b575f94a7548d943486dd96aa6612ba061246ecd7041602d5cab0148bc6cf6b1bf6872af9c1db5077c6eb33c2eba1a98ed2780875229d32c6a5e3b479ef9e031fed96df5b231d7121cb41bd8e82cd26d4f19db2d4ab92beb138e5738948384466c4c6ebf07fd68482d01a2dae26edcb2d164b3e17670a718751d9cc5ad434671aafb1e0d5b0d997cdd012499e443b70913a8293b44831277896d72733c04482fd410e33b7962b39611626873801d7a5138d77de0e56c5c4904eccc7301fbcad8b969ca0fdb6d9f6b6189d78f5a631f49cee3f49d6cca62dd83f31bacbb45918ee38196f27e7969e0a9c097c2f8d11d47c7b79b544c40392763b06d9c104bb9639155e64053d686fe3950de380264f24efb652d13c28bbe03439f9db53b071db254c3c6ab649ecd84345a6d63485f232715b1efd56f8a350ddd7b2a76a047eece5845cc1d656507b167c9e40145646421b48c50a547d8086cbd65e2a7e0cef74d673667fdc7db694c84ac69202dfbcf322d0d0f177126bf495d46bb1971262efbbb5c2e727cec783f7d3a3146043fc65b9a5f5201d23687fb0580fe52bd640a634226c1ed0dcd999b9a602f04f5948d74f716d501496555c69be56b3f170a6eb758776b97a02fe99f3139752fc5fd12eedf1028467739a02d7eefaf51e8df68f94e3c870896148528cc9fd9ef31b58c0de670f355f0596b347c51bd81758cf8174b3ebab22b56b340f3614abf08e932ccbec1e63d67bf00ef9009075a32c34b87827c1487ba0f3d3cd2f0932af7bdeb805f123e205c4df984b54c200ae20d7ce285934e456e8b0d16d6375ec65c202a8bce031984e5b7d334c458d649baec4632eaee018df6673bf7bdeb29d7ef65194aa538ae4fc93798d389c0afedc01ef04ae2c277181b3b0223aaf687fa363ed6bcf89fd82843ab1576f720fbca3ad0c3c95b32f56c220ff320096326f041ef8ec18e15723010ae5d688a47ad2facca4dd97cd8da2001ccb5beab4da0caf2cc64ad02f67e2faf779a7b4e13de441d57d41a5bbaedbd17ad53ce54f3577e85a9813cd3c4cc47dd40c396f263c34c670be3884a51dbbe79d74e96ab83154b88a7a6c0dcdc44fb0010772370da2f4b2fd9b8fc42b11c21e3d8df4b5910c0adb20e5aa3472a0cc15e5c45f2800767d432ce15ce1156f01e2595336e35276d31f956165ed4b6ae9089bfa1129b8ec1f452bf1520a600939fcd2fcfbae908affb3e01889f1c40aaceac005b423502cab2c7ecf4d77ca2544fb703c10c18577ec3fbbd0ac5faff00428aba413526cc5569168b42529b40dc2bfdf8e81d2c3bc9162bf1e6b6c27bb44a6fb106ce9748739c7fd0f2a1e9048d7af945c3f89ba1c3d2f6770382e63cd208be4ec8f2f76c163416668417e453c971414f95ce608dfde6e9db91a7b798ece360356bd90477e9c147729964afa4cdac1415ebcba83ed9d12a46271f31ff50e819c15224773f2f065f24a47ae41e37a0ce3b5ae9a3a00078fea8b44fe19f0f6feba0df4db322a53cc96bb3aed6d1e265717284781421df753593ccb04d67f30cb8c2b7436150bd72ed2216a8e6321b2c12579ecc3963d9c9de2cbf501b4b87760cd9e4728b3053d80ff2f0e80627c886a9ddd3d6db648ef6f1fcb3c78e608c6bc2aef4b3ba7cb6b07d36b17252b522029c79a6e5ff754a69ed9377d14b12b35b5e48ae1229388c8070929f25a317ec10f3659bad3a08ed9c37b522f22307157c319b34d7761bed99d9012d3bc9f4089d64e00ba3c72c0bf4782b938535775192aa23a6eacc2e272f7939fefa32a14aa714c8675e0d9cb7abe9e3b8d28c542bc9a28e8d05e24c3287919903fd531de9f8bd223337533f0be1853cf7029895e2f8fa050c3208f72cec07708746c6b0e735d471709c227af3840a2c8afa1bf6e03c508f45f41e0edaf24ce5c267843a5437cbd56729323829d5c927b646e864bd1d958e0be9ab068daed473a04d91a244dcba02a56e04e31568c9788d49bec6ac1e939dee4f85a45ce40d895d04159eec8dc939b2c098fb193bc8e90d393f07a96b88195d27151a82737a5ed79f6ab0f7394908ed4600788d568a1b869c2364be2ab0e84ce1f526b0c81e0cfc778a2bad4d41d65a33d62df352376c6e4caf6e89337eadb114e49097917b9b8080b2efd7a003379aa3f42e369c1cd50e33980cff6e1bf89489c4aab8c1187921d1b7449a0a4596e95ea89e8f1e9f176c0caec6d01b9cb25c4d19c02bfe4700f5880852c3d23ada3aff3a01dc2a0924b85cf5ddc28dc81d743904b96fd7ad2ac048624a33bbc5a706f5ff9ab148f9829e8f93705c228862c347a8953f93443ac88b44dbcb2c773914ac2df1808999fb3ac12c78798659b563cec04d1be47185f2ef387c15c0c0ea9b0d966521e454a03c723e9a714238a506f0f72adbc6b7fb4791d839b334402222d16523f59312defc282a80dc9ed23e0154318de453b9803649de920b8f6c6534963ed67697fd8bd65f27debccdd2df6bd2d88e8206cde9018c55b8b0375d6afa5b71f4cd9c1af8b0ef4b98f30e6276220a592276d61e23d356a3f914aaf3edf5cef95c712ac83d2a4401d8a26d782a526be3144f850eed4bc0fedb452e8382bfacd2bab988ad266a1282b698c126165dba99471b7e6638ed3159a67f20332294214a2e243da7066ddb243063e4028c696ebd9317dbe8c1b7a2a2314d3e729fa1c4c92a52464406161686c2f61123b0be2ad8145fe1d0ef78a4f96b93bff8a5cb5d3f15a584e55c7257ced9a0881140bbb3e35e38e85019f8a368e2ca7d7f4b503ea51dd3b8383f683345780933051dfcb1ec8916f832f05ac383be626821d16230c71b224d7880a4cc20012474437e2cf7dc9e10094ce12169592c374301d31eff98857232c75f5e8a4f69c730f017e5d4fde38706ba7b2546206d0fcfac0077c2c0b4e115e3adc5cf041e499d3963bde8629b86a08978755f460f080d3eeb35ea8d58b8f7954a71dd9c7c7610bbb76c445f66d054e09199db2072449a8f31007ae6136db4191a9c22a384e80410cab24c83fe4fee4fc43efeacf1637bdb57227082675838d58a6f4a660ccc322d202713bb57502aa52b4db972bfd20978e81442683477c9449fa247adbbf8f58eb56b41103c76e4b3e8e1794637ff0557fe77d697f79b90398735dde940ad2b3953ebb653068dd02a6d15a71fdb97bc0667fd6d2165cbbbd8bf1947298cb1e3640c5ae6fe8c19c337f5bc86d8ebc4f051684fd3977dc2ed30c410ed94244a8c5d3fc16a505ef59f3e1eda7356a0dba573f2791ffb9f97a9d7f76c924833b7f96b1264f2d1a585b0b939bc8958259b1c3a07199255dcb6d4cf4692ef5a17e575038bfb89c23ffbdd61d89bba298a23093ad6cb93b852f730e56d68ce01642271aa7bec0b3863145f6006d65af6d0ce2e4ded368f8c3144ac1a42619fb63bb073ce47a35428a0094d966c3135088c037efdd95301c5f662cc9bfda2250ff15a1beec984932c3fd14f1f4505b00061fcb29836f45205b04be941ca10f50197ebc9aecbd32e1aae72439499ab6301865c490ef20e208c7a421e964dc4a9a0059f47c6e81bc958a448c5368912d00a791164cbf51e19acc39193fb869ec22c3e43478758c95173cc0c6d01fbf98f623dd0c01c463ee24a4d155d7dc79d9f8d29170966f56e924e62c0a802de23e2fd0b5ba59f9ca8a769447a280d08f3cdfab56ad40eef4e5472ccc5dbd3589654b66306302f5f92a84b80bc71bb037dbfc503eec79cd7dd4bfdd2f84ccdb25c9c8e1d0498ae15a000a8089a906d6fac4709075b144883397d9ce37d71367ec7efbbd02b2fda10b8a6f05abe1ba39598c56e5ef0ef86772882e974af26a5271b5d658b627e1a39281c1b49f0a6ebce50b74a825246e677673719ff7a1d1e333895fe419cf79e9e56eb02b2147931df91d5cbf1f7c06d09629358a353b973fc6a35c50b88be9ce4afccb3c53390aeba6598044d87d08f65a756eb5c554435ce80f042f1689b5f5f364323d61554f657d73b4b3941bddfd0d43c76624fbe5da535d97da797b3291c8832da0defaec224ce79bd40ea87116ebb348213613c1291e8ab60f2e48cadfa734ba8ef075326989765e887c44099da9627ebe71cc3be96f8a92680310d296ca84675dc0f1c00d6cf6d292fe3cb6f0ecb49e9097a106569c37a980bb920c724a8fcc8c64f968738d1fac152bb282cbdbacdea9a1fcfaa9a81450fd0136d78e8f6c4b369ae2859c80ec33b9ec618795471289be4135bde832e91aeb1c0f529a0ea762a82089f2397c84913669c9d071ef5774e78071ad85471aa0c1d178abbde737c098881116a965805bc533d946ad3857c923ba6d7eb254f01de79802f428f7717682ce296ff4aa135c9e1a4af02d1b1752b80248a4105b33af99f18c8c526a2701ad524ede1201be4b91871f346dbd96b8ccf9a86222242bfed69b5090ba81b95fe698fe0e015ba1b6223dd3e833adad43cef9406edb542fc9ab6dcf3bb01d827430064b3ae3cf351576b24173321743fa49b594a82a5e4a522c374b741de45396afff9a5ea1442039e882851d414fb78fc9afe0b9d4719d57e22f0a39adc9974e730f639996b8eb6da5db1432db4c1895ef3102ea02a3c7ef063124a73dbd00723b4a7d5daf9cf39999f8b3a0c7d7e907a5174b78fc17f6af88fe58cf04c6414b1adf90785e64f91cb8bc35fa96321e33f773b8190f9561c4406ced3cbe0d1d81d28048e5b63c566d2bd314f661224bf24f205af7dc6b76920a84ee599002d2784057122baf5eed6edbe71a1e0d1d4acd9dc6b6504ed4b4ee8802a5f6e272772ef2d2762be5f9cf1942ed6cf0e955b8a001c718ca2e46fd112327ed0cdf7cab8fe51121c86178846b0c22e92fe7443009bd1c32d564c5609071a2bbe6bb4cff12ffc8dedb7a7fcecf5b896c74cea5334526414bc891ff4a2d28c42dc6cd950c1271ce0e3cb72d8dfcd3eb2a6d2ead27ea9ae6982d61de8cb087b6292e19528900f230b8b7adbac0725709f7d1fb0a451dba8600d68ec27c7e843cb681b0419d72a402a16ca2348af421851bab97f15f3a70ebad751941b634f268b634c407eaf941902a6c17146c06b72c267e765ddc4286f1770bf87595e91140019c79083d5c08bf7507acdedbbea5fa62165acd0ab7d281e384724ce6074c97204c51d6f3d7d147e99d3b85e87e325007681c4896f3c1acf670dbafc0a9d0c5d5f7bea8671592db3113982ff224186a0fd22dd07384666c419902810f146f69effac68622f994c449945ac4c2acc3faae4e19f0dbe61a1af24bc5dcbdb28714baa96b75fce7f410c26b921ab1d3454c0d0ec527e43a33d0fdd2bac4d0ba19bf8f0a3adad0dec8a3e4e4e417b2f1892d53ab9d33cc225922a4b0349719b490dff7af854f2bd4497fdbfa45f1201219dce9ba5f633ad8284613aaa6250b6fa340236f2d652783942aec91f368271b11a9180e2dd0a4635f07a2c5313d1a5d939bf66e583959384cda3239374032f42c978bcc17d1dd38311ca3ad4174c14282d0937229a7c8a7243cbd045f1d04ffe1971df92c80aa15184ebf9d00c2482978059c7ad36e0492c336efa5ccfaf02c8d21e0c68fb02626e21dbc5be1bd5cee35c2d95662ab2f7f381efa5ba3602c9daa83830c54b887a1868e5975fe2960182e023218088b70ca56c634e30f3bcd855bbf0127d792acf85859aae7346babbecebba3f316848e60b25cd5219b51f41db80811e7090c5a2969b723bfb462ea37ef820119213fd0e68c76ae87c5e19ca7839926c4c0228e1e383ca3232bb684a87aba9ea8b1696d5574f9532ff2c7ca40758d3d00bcc6d9d8451e381c42d906a16880cb2b93b7c02e5a1a92ace5ece4af398d15e63f02d8628a88f35f95b2a2a7e7db79cdb569a47d80beb12319f6b6e3d3c9ed90161795d9f343db6d8775f1776e8a274b3625ff1c6e9f25891326afa513fe9a0b7c64f4f8ceb14682a47eb169f064ef166c63ea5434c0b15bdd05c04cad7124aeda64d57ecbbed0abd1a3101703f9ae5f4d265c7632ef518d7de9148b041211e1c99a99d0c9c246be75b19780b0c9196f6d44d5eb014f63cf07d916b47369ec52465307af4bdf770969904283922d1a8b9f81140971e373c41c5a238b1bf392190450ffa2a12f2d13aa991ee6430ac66520c65703c807e6c5f72db7edfa5c404be50ac9fe9130bdf14617a4cdad0b553c9c6fd7ddfa93b37a53f97b041519d845b3eed341f31725293a20f49ebb0d1a1db0433a749d9aea95f94b2e0a8bdead1228276364d9e2db074e0d77579c0787757da454821b0ea27b0f3d7f67f131d37fac8b9829fd2464289b5d2af337cb1c1521418f75bd133f64dcd4714075bca5401803c1a96fd062573ddbc6caeda7ad060387d5d47bc5283b1dd02e4155d6356c3a2c04c54c8054b03abbaf5e8b37e51fdd89c2b085cd6ef7a40a787c23ff4215d49bcfb12c2bc9f31e9c1da3f0a0a5550f044e77155b1a664797c86be9c3abea6fc765fefc5cc34b5dbb7734679475c0cbe306c1e475f62957092bb96a45011b0ffa41087ed974c0419154aa266219b559d892b649b366d206614c8f010f077c2f0c85d8d7a912690e2441d93a682ef3b08cddf71b2bb84a2227ddc722da7d76bedf0ea19df439d4b525b1f59781944e5ea6e8265bafbeafb60b90db13f3f8c851edeab8b080989442f6ac9870f7d8333d82af90ef7fbbbaf613804d37f04d3fee9081a3e11f1376600b2ec5aeb1688eca67628b184d0add0cc079ca5f98e3fe4769061d8ff0480608722d78af4c1705eb8b0b688e71f514cef17ba19f85e6ce0840dbb27340e8c6e42e4f6fdf6b3b90662f20126ec344338ebd9223268cf0dc01990aaaa2337bd60160cd96a8ef47072c552002dd911cadb3253d7ea375778a78a6ed197868aab9b7b4fdafe517ad620014e077108e3084666297d516b17bfb7d3129d7ab89ba5d745978b974da85a5891af97fa43234e015e9a599920524f55b2a5b2913b082ca74c6a469f530d9979d295882a39cd4f11b6808916624d24a5b4a811e139a26fa6d9eb07ee05a7eff74e908281f5fa3f9739ce1d8e079430add69302a71056b3ce36f4abfcfb0050b468fa76af96dc2a14eda00f2137f5aba8f19c988e6a5b4a344533f47654eaeb00008a5f289fe67c9521537dc2a7c1fff00a948f8fc5e1133ea9c1a2a3a9fa019275e4bd7d30d60c3e0d7d6c64503e956a3cde26f631810b03b74c9942fe05428fc38b1670d23ad499fbbd4cdd27cbb6024ad284b1ec06467671046f1af4c073fec8f49982631d7cc73a195c74210e67a2664864d7b844a41c159fd72d03e01c668f5d32cac44c0c9fb8533226ab85bdd70a8692d85b300760419d400db29e40417965dbb22164376360e2cbb2bc17d4257c3a5bf5043c3cef6a0448ea1b16ffb5869f545a33f060e272409b7bfd9977f485ac038e248f974d1137209b8516a010083af4441a51629641f01231636e09ee091996fcdc6bfb907104de1a694e550e3c5001e09d99b480b7fd99356f57b25ae0da8a13a572119cb0610ba97a54e55a1a325dfd187e49a463f858407c116a561264026dcc761d477cd96cb649491220498ef422fabd6b454cd13afcecc5ebeaa26d9425cd4cba923b286ea04fff47a3b353baa9fc9e3ada631c20e800992198cd66cdf857286dcc5645d58e7d83a5e0dd158c80b036d499585ebf6ac21c2a392f0f4d04bccf944a810ebc8c21ca7744a0d33a25e048ea2487f3210ed1e524376d0da061f36007472c018672176a2eda49e5c4a4836ced5814c2571f78767f907628f30c0e43c531f030fa742771473eefc2994b9f0fee8074c6b4333ca97c9cac0f24b7eb703ac028b8c688fe8728ac09ebc29fefeb7d017648ef051ca243a5f3d009ea697feb7331ddba4eb609316367e6e8ba1dcf4516fb228384e9a8f77cc0e2f1e54fceb065ed05d9280e2a4add9e5ba37b1a639b815bf9547ee8128db5020de6fe4753f9c6fd6c2d154042beff77c283ef4bf4100f181457044e4114495995f8c145253ab1dbdd33d31ba5f4a4ac3a763c620fa2b45e1e2b103a8a133ef941e9d36e6afd1eda17895633a72eb04b765af2c0d74103c4c8ee1584cb425bd69a171f2f076b37ef77cd843c87076a6a960995a1461feedaa17ea9879d4f55dbcf88ac6c8b6725e2bbb910ed877d346c00b42306a24e9ea3b16bebb90754a8f90caaf85a61e75fc3eac443e75116f0e6249924522a79012db2b2623a3db7ab47580661c5dc3d8353b481751384207817be5dccd7166426d42baf466dc551e5ed431da0559029de2266c45dd3d84a013b39b153a30bc3fd0e85d61bea742bcd594450ed29b4ba89d4d15dcf256a7aa43c1c502d92c47f192c408fecbc68710f99a062765d244390ffdf0e81da1f26a0f03518d5f83f918474868828887f9dd82d97294f424bb30d790c9899e556350507204dae32c798769e7fde7ab1f15357c0f24d91616db15a85fcdc6ae44c4b356f0a6741c0858c0be2ee61a93b557e1e78213097759d8be0ddcef844e912b430e5db20011d3d9e80059d87e8da488c72bb94527604d04d26c7ed59e059bfc7925e540632919783bc97d50ac45c67829405c7fb079ed18464543366d6e90b916140406fb5ebd23fd5bddef69e00444be879c26d01e25425d1c977573b3f34e45d96b7082d38c1934ab3f122b45b91b0a12bdb4d3aed730a637e590423f3444e70c96052fbe8dd82e29c1a3eb1fa2f86951cc1e4d52a02c4bb83923e6a66fbfb80b32baf0cc5e0711c53e062b17524c8115d0bf1dea005d1d57e6fa082a39b555e6e37d0fc28a029b62d87e4b1de13a339429c31b68ac694f0e09f288e309771cff5819cda34b6425c8dbc09e244d7a24129f0c289daa811b2f088e4349edf5051c3ac89f2a34b71adae0adc2deff9d9b536cdc65bb586aaa1239a9006b3079856f13d1c39d2c93de5108818858079aaa49246c405b188b9e241a58157938281338a29160bd8f25711edc230faea6c10a2e9906da46bde4bb8e8d9831494bcb0331a690574213bf3eea3d01e8f6e825d9eda64981cacc92e7acbe931776538625d74c8fe225ec389d6ff0b9c96082f3ed65baeb34b884ebf0e9ccdd5c9e17193797e4f809a8d74c1a6e44c078779ff906b39c758f6edded299ecf85c62fb44a622a02b611db142b6a3fc1e302a2f4891c1a98a3fa1d37b359b45102536fcf66f7366da176e6905f6ca732f1068f6bbb294b87e9b9a4b8436465bc4be462c8dd9cc24b3f055126f4e974b6757a3f7b732ee1340e29eb16fac9a6d4f7f0bda5871ac567137ebd0b352f5c09979470c7d132d1be59adfd75480a40ef39ef4753d1a01f24632f55015b1f30527e4191d3daff7df1dfac455e284d5a43f649eb64127f804d3394204fc8bccfa2a0e238a15e983f2b43f7c41033858c1b74e0ea271f0aa0f4c82306779f1512ffae4ac35aebf990d7f9666c890d6d5d85041bfeb6bdd60dafce57037d071b2591ff25c862c65a34b23eac9d53279661f39251807e0c686a53033bac70f4df0484be02ed2a18c48138ee64208c6776f480eb5235197aab5a988a82ab8ac06b9129ec452a614a6ad67a514175280d0a92f0a7eb7e7b03d551b9b561afbe005da4dfbce0646be019aaed094d719654c39f6696c0b9a962014cc40ea3255bc261c10abd211dbc49e133a92b69bb69cee5c53a1d385a76d3eb012fef0feb958d203a4cfddc21419c79406bbb1b1abb9098403cf1786f1c63f566cdaa6ba85695dda8a96057ebb91872a124c355268a197c92bbac58ef2bf9d3184ed0797fe82b5c1b510913400241f5dc4a2ef0778eacecb58709bb261da8a497911b80c22a2c4d32460390457dda6b78de50361be8943bc74d8d36f7fe720ae7dcdb68988a0ebf72130950ed66d3495a9cd875fb67fd81b833634bf0f8797a6faabf655142e86670877e9fefbb9c5829f4783719ff2e1c5fc123ae09eccab8cb1fefb0f5e275013fd0623f66d5d9fa7b5d57f7721c8c27177820d6ccf18899554838b02701e4a9f5bfa7d8478ff7d67dc97cc905e8549b0556c489dff8c704c935fb4460f86c4a3d7e2bd95dca7b2d7bbfdbfbdea82c6d97d2fd2e974b13e61ba27002bcdb4e1919a00dba4502b5ad1064f75a56d372829808287b756844331565b3d5762b8f75711e69721f709991dca5e756f39941727053dbf92a252d7e26093a2251f11c9bdc351a4ca2e7f566eebb558a34fab371764425e1572426d2fd46a878bc13dfe5a92f476342e3c73a0f73a460d5db5fe765295cfd4b2962fc3487d8aa921d882e42e0f5c9434ea40bd17f2d4f6ac0e0fc3d4d5cf763f9718353059561ae220f1a0b6fa42bcc25c9c1ab1f9e62bb7f144031f39e43d79a07faf3a5fe0388f73c70991483da8ce076be2062c62d7e3dd5bc9e720d4057ff7edb837cd1ada04e78182a661dfa8c73410bd794a368bebfdb60db6d8c17570684cf686472c4509011f6353b2b6286e38765bd1d7b58c1e9a61afe9a35ccb0520663daab53bd4997a8f70958aaceeea0af90926f2867c3aaff8a28f14f068a6a9790fad44c252851c6360c4460cffb3e7d753147523e663efe917bcf5ecca8f6f375fd395e6fae8bc9648ba65e5c257f556255026312c2f8f97d15dfb760c5ca5057c29cb3fb63fbd75d29e66f0cd8039631746a20ba48df98f37b50a216ca2c8bad2fc278f30e3f7e791fcfecb1f233ab500f5389ce9c2250fcabfe03f8a34cb0fae8f00daaebf1d093bf3f91925424768dd0074bce340830b4e0a5ccf5a39871c185ace13fef86ce2ebe3e087e4d623c4a578d980ae8da238a03b9204d0e54d944863daec9c26d080f3a30ab663ac34c2f6b16388c9cc3c3440ade0f72c3525e11048648d72f81d540514e0a53de7bc3947d7e0f9e801dc97025580957cd5a75d398dd2b7f8decbe07f1527c6c33ec6b46db2fd478cc78cd7fb339a682ae6bf76f0a63c4668bb1c2dac79dbdcb3b28b6dd4cf43d4082fcb2eb65e7b7ca4d9f8bbb5e04ddeecdcde5771b92c8152ebd35143f8d9e0b814ca11112941fd2f4491783bed6762c443de63a382ee663edecee688405ef7b4ce2979c570dbe273cf5533c1873dc9061b7cdd25ec8754c06d47f15f1b3a8b8a8d400dfc6dc880e1e3ceb2592aa63e5c707cb30d772755a82382d41d49c930061c7bf59b0602ca521a5f2f486caacd32ee9377f4b75f4996f7e4fdbb10f7e26c8e89c90a808f4d26f7bcbfd2975ee4cbd7476b5b117abe83a4d3c389e891bd8db73190cbd80212a26891d7e8eae471669f9260f132b42d460e4d60be115c4bd809dca3b1b66609fda4855e9500275d6cf7a75e028bfb3971e6b5df55b11df96ec0c01bbf654c20427230718d76e16fa2e755ef5e9d6e58b3953867e34c826cce321c48bd87146cc11f00dea0a0b7a2164fb853b51cd56672802142448e15b7fdcf7a9a9f3760c6057f427b0a8650ca402bfd051cb8a5d22545ed37dc14c2890c327473675d3619bd6bb0e13403dfe603fa03292abd4dd7c53a80f8c199db623d652ea62601868b63adebe46a7b13160184140762d7afe1010210ed27f36a724ee23cbed7fb796c9bc05a082bf5825d69c2bfdf03faef0495983983beb6e192b42b464677e674e3b5fa0a070fa572c2091206f0d7596586ec78c080e93ec110086a36ba14c105213922fe70598970e103dcd02054fb370f6ab0c0dadac2c26769a43bde2d6b73df8fe81c1fc19b89440663d766bb0f964de13055e46c77d7131db8d2d0dec942a9d4ad50db9ca40df85b4c054f9d2b5b6cbbafe6e8f868f2f302f27742ad97d6f24befcc777ac49a9a848aa4ff358cd07a0a97d33e6f23bb2d3431f911c454a5ff87953dc23f3c5f921300375725ba835d15186032ce2e3cf199386c687978493ca2c3377596b5d7a006457a8d17df83372f91fb9170068b81ba8fedbdaee68ed75c0aa8b7bb0d6a446378036990a56d2bb7c71cb4558e2b44888f26d37db061463105808a0640d356b08e2e76d76f2e32dfeff8b02bead768af68cb90a43471cffe19a9cb6b52878523800bd8e078abd88c248d8364b62e52dea20683e718000057c9934b47a1bf7fdbf012e784e8e35ab0a22bbc13b8a8bc24b883abc7897e98580dc6f3dca3d1708d1960bf999f808d43cc26a8c94b08e7b8669f71bc0d06a74a46672b4b680de4e783a8caf617e2af34744be13f484c22632887928ea60f7c07495664b4ae5ea15af5e75e6000ec436cddfe0706e1c131f176fa017a606e959e0e82df71ec51bdab295b3ca125a2fc5d85ea557e21b4b31efe79d0a2e88d250da094fc654b0ec60bea2356e7b1294947b5eabe4bae59ceae09b7e08b95477592096fa518f379dcde6549ee585757f933091f165155ad76ed124d7c785894c5b1fc3044655dacccf9803f66117c88b3cb4a77ae982762ea651b04c16214b5e6a25fec41fa35edbec1962cde4f44218a78f98a872514491e516734bd0321dff2e17c9c03eb2073b149ee603c4281d520c75d2122d4a643486e0ecc2b7104d4fd17412da93d953c55afc7f5b59b7fba174d6a27a056e4c55c20c951c290731c3010665731860614e449b17c67434844408f9991a2d33c52ade5c602369837f64563148192d9d59421214f5155c0fbdd783b0d13daa6999da2ca70ea9296574590b60cfc0b055eb6a1a673e39d19f1f02d799b4a7ed0b3f637a9380ec90d648838d254e92ab2000fb342a96cd069b6e427a402fee9db30be2b2ff3dbffd1dd7b56585a4c0867550823b232e0768bc469ab50ca4b64b632f5df9169ae59f1cc38c4d626577321908718af4231bc23fab64f22e80b3fabc5a80d552df4f832a63f969064090a70065e87560b5c4ba9be11d5056570383a67d06f507d84695e520381f9bcaba9b304bef5aa631912b62158f19f90fb7dc44e7a66dda2e230f6b2d94e7f5913ade2badae6b831e63db86550416b052554ff6d514aa602c0129e84a6c0594dcc1e1922b8eaba7e02440cc7774b46c4afeb5c06b7b60ff67297b402df78b7d8a388f7d851492524c8d98023dc9455697f59183d8301a270e1ad53db4a2f2d0ef2f6af7458501b4b071b496daad85b993e21a7b77fe254387a3f045bd0495d204cfe9aa5f01e704273fab582222fd3d970fd567e70912a7990e506a90db71488d407cb5489b33cdc7b44b6a5b5351a390fc84a26365add847438cab0633aaab6e548b74fbd645e522c069f1836f0fe6ef3a4c7579a885902a5fc7696cb98a79e62c20d716460aceaca38cf768e8e2ac63168559a1fb03e1c496f9bf370c0e3d5a067ac587cfb8fb0b3f0e0f0308c2b0fe84447b92a52a3fa150c4d522fbee3471f4a232dd3925080145aac26fc092275a2d904eb8cdb43f0b70accb721e5df6c4175ebab64db43d6a4f9739b6e6a80a8d04fadbcd3607a76c76391d36af8f266003cd7bb54dd36050c07600f39bc079305758fc2d03190716dad836d27223e9201a0ba0ab3eb723cfee1e9255989f47c183300af6a89e99c0ca98cf78f7f7dcd6a49ad2f3c592e60236f94d3a8ac5e70e32aef4c3f85b7776aad788a4d8b40473164c72efcd10b3c7f931e2f74b82652ad9abbd2564f702c3fa4684543bb58edd5c6dc629633d291a1b4d804cb63a10ebdf39e2164696c192d4cda10437e938bf720539101e696f30bd6ec43d3d03acbbb8c0f8e67277876ba158670876a5313ebab38cfb65f0d787838514a5594de528e8720af9ffada9271fe2b973249fbc4071a89dcdc561c268871de564efc10c9f403e5d99ed4cfb351a267f1119d354f4259dfe3e56c9744e051af82e9b8488a59808101257e59f12c7e878890d2643e3ea17b9e059b39e71e6555fc24b132e14b63219d69f2e784b49f7650c04b74dcb9b93f4e69c4637fc1015775003f446b50cd39f4fb0f2797ce0e89cde1fbddcaf82c9a716a6731b628b250f39d3b43eab3a606b5225e6b71cb66186bdf4e39d086e329ad13300b748a91df7524b085ec1e3ee7be87afbdd33eab3ed7e8edc2b45c32f9759a1479077550066676bdfc7a7ee68a67b0ae1aba3b51a5d5365fc410ec2c6fd54092885f640be371ed552d47680f823fe03460f88f1f7a2410025fefeaf6d63acf21b882920311df7480d6e5edaf75e48ba2a21cd865410dd7a58b433e24fb3de7232f5d59d2ad56c80705c4ca2d513f39898ed13904f11bdfe607ad064c21bb5032f2373a919621abf8824ded4452cdca86c1e0f05deac4b4f8da6a85687955e692ce5b80ccd4051e4d84880c1ce104fa740ae2c6677110b41c486ace0c5e6fbd3cfb2fcb64c99e665e751e4bd4d8f7e76e3c6240338d4487d39565a81367d784262a760864c42c4ee2bf8a93c76b749e484c1d1eee5f4534547a2892d8bc81374620920f4b1037359f626600c9ffc4080bd1caed22709b43cfe5742d453a6514da7247404e9859c07913a27fa2f3522139afa01979f57f3400651699ba1a9a74b9d9850301923debb2cb687f938750632e469fcf66772c4938c7505f4a5efeb9f4ec71e54c473e8f11e75c48a19166cd5e23b2b1070d1fc1ddbf8034972bd8c2b045d847a3d800cc515bc6630eb92dfd92bfb1ac4d8d4c949b816430d70bd66bd097e656120b2d575581827ac277bb776c8b8bfcc987ed869be2d540fb25a3f6e254e682eeb65fb8371fda2395d7736aa37ab0d510bd27135700e262bb7a20ac6b384a8e5dc6e5c129f5454ab541e6684c1829845bde22af7f9e2676fbca463f7e61eddd012ee03a1a97ad28580bc7ecd3734a4f24d042ec41e94c8b66cafc0aa987ed7871ee188f818ad11d9460a021888f1745d27aa895ff0a50db6beea6df63e5e69caddd4145f2d3caf8a65ec403b13d46cbc783329bc93119471207913a3516ae11f3569111c8658eef883602fc8656cc27b059a6fc7e625228b0593057beb655ebbac4b313b86d63065b92fddff60d060d3444861c6f653884c8225f4e46f4296e3149084b80eee63243699ac022d57ec3cb435e99e7d096542aa13a4a069fa798aab00130ad2a8d5c2aa43fc3de8ee6158906d49a34179dec54ff36b4550fc5561f3b26f8b08e9b8f6c4712c981e8b9ecf19fdccd614adbf65cdcdbf0d27ab0902a4368842861eb970835915829602c60f2fdd2a0a6c69076c4590574f03c57e76197aeaf3058d38ee5ad1d48fbcfbdbcd0fdd4fe8aee36c058404fe8e23ab554c25efc2c6aa040c43e9fff6b8311afa8c182824f7b860be9f81c2cdcb275d840d7c829c6673221fe366655a1ea6d012e25d24cdb76fdf2df07f227b463ccf8e072ca5e0c23f40369a18cee342d5f23d86614e88ad09ea2b78ff81fbfbd9689436e9f8d5eb20dc7ee5cf6cfd16a2ac6ae90dc97763e8c73a1a8228a0ea7286004ad0fdf8b2c93b44aeb419b25d58d0bae88df3012b094949468cb7bfd29f21fb27ba4e53fb2d7999122e6e759ee45ef075cba8581443bd7a6f31a91e7ab91721fbbe7119de6be403444f6461c5b742b47c5756cdb1d5e75227a8600584052592f0237107ff397a674e4a437ef0684464f8a0bb2b06567fec22e9e6d9d2cd13e7dbe56980e23357d753424c9dccc986166f6860baf572992da3721a60e12ab0d194c3fa8dc994f783570df5466f8115d2214a3491b3ea0c82b47980617d16f397088c8ba8b8d8eaa06d6cfde122434219ad18ca5c8fa386842a2d506a506b06d1390818812d7c8c704665e9331e207b8e7b6cf6f197fc687b0306980493cd904a2e95b7337edbe934e7fc7ef77342c737cbb252657eff94a214ffae6d42bc61eb219f53442c8b4432825583b0b4e62abffe8045c5988abeb33837a58089e26c9577b953ebb3d47efb6aa4cc5974dd3b959e7106a76097d712aa81bd8d6dc616dbcc60da7aaa6dd7260518365ccad0481f030a72a4832d3e4f65963a0095dc2809d229e9b0e727afbeccc0e47a8c92d259d0b5af28602479ef870ea419d25f4f0f66102e59d15a7b416057236cdd47813ab3db1389018218aff07bbf4d8130d8c397358de3bfd6621200cdd3f4fa39c7d6f3fcc6cd2218b5915a8d697679b13c90f655c1773037978a37ed7ad6a78138995e0630be4c72fd47a3acfbc605fd595edeec3fde50961332d1af771e6b51aab18b5907f78b4539054dffbbaaa49963ab78a45204e6f5d09c7caf14060c79ed7fd325114d564351a4d2f48625b0fea5fd167bdb1cb17bbda0211fa2159a5d33f551bf2ea50faf80e26f4b50da78b5c29df95c31f05b4fc6b3ffc0691f64b650041af113980242166759da191bcfd985c8abb89958135035f992abc2047318d74264e0f6a48c5c9761a49345a1ee0b3b977536be36dc9959b446e2a666b52314354984cd3f65236d03865edca718823151b6ae4c55d1b80451a0f316763f2b813a8202585209cd7b84b4923d846aaf1c7661d178234c18681db07865582e0cfa607f149bca4c8b9c13968b1fb588d4e638f679741a6f1aa0f606cca0caa6583fe56d25995ce3d2241b50aaa1886c4bfec767cc839c84768473fa34f60927c4920d4b725015a1b4bf7e5081a6fbba1f26444ef9aa13264cb470d3d5b825ee8a3ee501082ad5bfeef56d65eead78ed0231e8f29440ae1151b4224f2dc9fbc4efb80f39cc3b5c43e913861611c3c9eeb2c42a2b65f2661a26756ce0b6c2f29fcb164f338162527604c61f1f3fd878986c99d06c24a0fdc779d60c19e5aabaabdcaaaf1be6b9cd048c10008f19e68910185d0ca79154ab7c754b9ea46a2828d3a071df27b061c234a4b5a47cfa6897ef7b4779182f93ef91908c1bc98886afac16254e6b5e862a6abf7489b6457156dbfedffeeda12302ba0ef5f260a4faed5bbb1dd378b67ecec39426938ec7a3f8dab9258fe0418fe1c96f4558e184d6454426066d9be836156ab92a88d10052dd6da92f283cf510cdda1ee94b5c7f07f714865c9cff0dcbc93d791cffdc2cbbed8e4bd25c75a00da40eb4d63512a1d8699bc1439a1c37a51364f2d23cacc34dde4b4ad4f3e94e5b4d54b566268244c10811863f9e06324e28ae7ff6ab3e9bde9652a943bd5b5a2113d7a333687d161dbfd4bb6f14f770f9f2a6038ee6c610b74c9b9ad76a2d6a78e1e6b99415410a326b1df4599dd6ef038f2fe039ee3dc7c811ce1450d827f0e3ff3e4c7cc601fa76bcb0735abdfa4dc79046337f76cfea7059656480124f62b85754dfd3a07eee95e9ff2d72c09095951d91fea337859805759457e3cdd5813cb1b97c803ed6e1ae7624f09fe3b42d982a16562f7c8a058afef531ae4532a50dc78f1588d1a7ec882720198b84f7a83f32c9f456b05198f7ec9ed712f621d195d0f38e0c57607af971d885742ecb8bcb56896e68fb0378c020eda9c6ceec727b899964f249fe84d59e294e36e217e8b5a0107c64c04880e32dc2834d5b8de056933f069cf59c05e4db0e71dfaa930819c868c34a3b6168576ff200ab127bdc592232fde31c124648fdd29a6b43ee3e848de02bbb55b7a9ac28e545809f9a97de76e10d2e25d120cca7643660139ae79d7472c6843fb307e799bd4b69d2b717c1d3757c6b971fe8a43e3e2fc4802405f8cef91d0e54fd069db57b832587d5ce612499aeece30da0b42ee3ef6be652f83be5e7dffd471d75cdfbcc415d67b238917a4ca220e4f7aebe66500107db51bbc1afd8cb891b93229ac086eba89372ddc635d0b3e4d0e5f4e336edb2fee4fe645be90aabe119f4ed1199222fcfd185f8214c43ffad5af54def05d9ea27526b0616ae03b7c9fcc09a5ca42efb89f04e2565e19c08632759417909d2dbbbf011f6c211b3c2bfd4491524744775a41e78bfa4eba2614b6927f0460c84ba0bf4127c75dea419841ff6669679cfbe9448ddc4f2508bc6697bdfbdc9177838a285069a73c993d0a3807083393c6aa3e43dd0b482da3e790b9815065a6002c10246859a994158bd4e7be10b3b8f2246e7f68d1d25489846e754cf256534dc9e2756b4fc8d9de3949e6ebfa0ce28addb2132dba0640d1d82d76345b310c9970838400310a35e1951b2ae487f046ead95554ccd4b8b8eb79733bd6bc48a53ea0e2b5702c62f11a51cbb309ae401abffb553d597a258a04b105d95883fe95c9b96e3774ec91cc582fbad5f47ec9b168a9174c55b296db98a2b0217797444101fcf9ddf8b98bcea555b8580f67d4c965e8ee2f49f67a067a809fc5f613a3028d83d5f3575957f52e529282a572b33d1d1b3c776c3c149314e18188ed2b6eb5132d14bca27d6cfc43ab1f45032117c4f7ccd1bcdbd72019d1b18dd5d16e326de98cb43e6297fae32e78b3a78ef24989ed954cfbbb74bdf124a93f9a63303b0d91dc74d10c601404e2bea3ffcce734e11f7578bd1610d4a190393f3a7b83b9410b6879b2d575abf530209f2b73166bf498df7c59d85c6d645313af01983b028eaf1bdacd35bca7bfe0474f0031d42b6686154830d437db82ef4a43de5c487a6ee513c2134cf678ba6354f18d6726de0d55c881dd15388c3145808876ce46064f5732e5ea8a52ee5d98dc29fbab94eb31f09e5e714a2e174eee3b4ad9bf20c5ad247ec3b1da0399787307db4e423620bdc4f65f799394a54922898c3b54cb48d0a632fa3db0773ffb3a1fa3b253b46ab66942e0372ca7606fc195062fc34cbbe4a8bd610d0e0775c7f053116894542aa6ce5380e5a28e8ee068e90d7560b6540f0cafc777a02085642d3ec1c6f13d2644bcbd912e6f466b628fb8c6eaab84f17522f4001dd0856449895d9635e08d8064ecf80047a5dc2c75e5cd80061bc8e4852208a99252917bad623a16e31f1d8aec1887f3912a6a60dbd19a35864792eb5e15f251871998b5905ae4c89e2379a9a1b4057509866bad690337573486003db0d003742bd213d1a470d2890e7b040f7cbf4bd9d518c0926a448a45573411e78fb41c02ca513c07a5d22334a7540ee43b9722a5c09dc7f8f0d5891187b510b0bbb2e7a730fb3f272ed6851d3730c720e9c915bbbc3e6a7689d447c62caa99b6fe2aad9dd89cdf437694c4d5859272eeb025c2faaa035c9852e6a2319916f8ef50483f80267e3e57386491dc07cc4c87dd69d540331cb43629d70d6b64e0e50df69cc462142b8b9b2591bba39c65dad865a33f49ec20e79a2bbf2b06c3e66f30b44108c06061f0fdc5a4c594e68b9a3c669be16ecf23f61c7c13ac7df4064ac7600327e69fa35bcff0ead84db2876a973cd22121eecc3f74888ec8b334d2c0bf45ce0484ac171756830ca3f2869221177004219d0a15f1b58c288c4edd679e3e060a9eae3d2c6b498a694106134ff6ec4fb5ce24ca033c2d319c66b61551cf94db7d0163caca17fa7d96e7be99c105da5a84b33c8f913c7e610d3cfd10a0b41da73c4b24b7d1d6091f8adcc50796f32a4cb2c5a02a13206e4945f608b70ad83333fc09758b3f939823087710f3e37b4eb4c9c29b84a5f8ee08b7574cf409a78674b04b17fd9b37383a3a841a638a236c7123e2f4255953207b36ae9800ace966cb467f6f9eed9cf669331e1bafe0a4bee7347dfd31289e95239218ef399231641a76882736a5fc57f951eeadada77889f482ecf214c6d71a898edda0dfc411ab5b2476f9d99b1d307659223f6b683a4e31aae52b44528e81d07308978bf3c8e0a7b813aab6bda82899162e63900c5a9ec4a2a9c9fa4d95e518a3288be11e99348e30b9d6a134930f6287a7bb2e71b1d3e7f2815f7c78716781cdfca8771b3b7084776e877fc97db831e7051ba882e604274942d275d20caaadb569701a79bf8c637827a1904f4f7c4943760c13649fbd3ed5ceebefa8447587115c6cf485e3f965e152c128b941576814f56efd7d1f4db753000cd3500ac1455953857fa118c1b783a98cd332295b6732d2ae8063a0f17d17ee19e8f467bec89f160225611aea84e86cb5ee5ec4bec63819ae52d85c48517acdfb90f33c294ca8de6a49b402b110e1a87eb67e21f72a8980b787265293dada06ca94a4084b55b36033bfea353eb3cc440c357eff5d363a5eccc0f266d1b1a11aadc1e3971ab80a4d144983383748d335e0e4b5104695a23d904eaf710a2b8c1a5a8c126a89d9146ee577eac4d3bbe0d853f2108d16fc53780ed945ae910a8e47fe093a1f51ff17da340507a6bfb7fc492e3f0a32c0a4f0383350b936d6fa0fd1ffff1338f4af0e452987791df2434dd05a8b2252cc7db46effe5318805f10bd9b8b2b302e330bad92abb33f1dd09a1901f45e6fa8320eda5f51e8dc42bc68294a067ed2fc4fd914573b2019c63d4e31a6d1d91bd90e4fcc50a940041f69e5e0e210b2422e0a06de1c1e69a9a84801eb4c8acf9a48fc1476d3ca686502b1ed93506354bda718ff2fbd6c0f441cd931a9131049da8af9751a96d7a056ed5f699b7a518ff5184264ceebcfaebd03917a2697279adab4a1315f402d24fdc80290e089f642f86b05571cd04306620ae6ef9740cfbbf4336c22e5f0509738314012b2ee5a3c81ed2a59397663515ef05e2741e5a86b05f70086941af3fc47938f4d886deae5cfe0a316e1aeaa1a1309ad7e2a977d8070db94a2c3e82373a22b776aa09d843c9f67da65626011b1b58a54fb8c30346b43023290d22b73c5a5bcf9c3d130f48e8fcabd97a3e613eb965173d41847cd8da598d3496b61397cd96a526200cbb6b1b7dd155c9fc37cbc1e7449edac6d9283c5077b47c402923b1880c0960d23637689293bc684d3d9d23d1573bc5b21dde5c0082efec71a33539fc6c1874e5137393caac8be7cf86265d624987bf4332cc4f2ca3919443c4ed8468c7724e379e5daa0283cec3780b5eeab05499af5ed2bb7b423c1bf6e0ddcc79fcc28dc1aded8e19820aa49d5fbbee8d98240d343162d8f93f54369b36d1d601163b57770a0a2e26b481af0e56e57ee82100d26ca375a3227a5ad263f13b9a3520490fe089e1111b54b9e5bad5a77f5ccff6f7876f08b58b16d0200c527a3f7237630d43b3822dc0f2ac5ecd65286fe7c6539333469cdf4328cbd1ce516ee9c10dfa3f932e8535f845c266c7672bab816b848bd937226af02990a3657d6ee9fed8ee3e4a3991d09ac5155cac09e414b8c605108592bb93355f616b1d859a02be0d75cc4099643f7af905fc09f5bd657f85843f8e33e78c4555366118b83c08392d3d0f0e2e58bd2445b28d9fb68dc7f26eeb2a2622ba6a5a24b53027d33d0642d10b5061b3166e2cee21ec3091853fbf725d481524d80b4b5193e08046a94b6051540573d2be30098f4f147baeac8cdcb98eceed55642cd6468971d6c1f190cd74a2bed4e6be6ed7c3df9e11a505fa5ddf1b2a252bb5d951d5f190d4e79835a7f017ad4d9ac619618b325659853d71c022e2f832a741d507861d96500245689de8828917d675f09ddf3a13ecc23985519dd110fa446fa1886ca1021d0e5092a1b9f327b0195adbb3f454d8513e461d48d486ced8c5ba7da9556146b09077f9865fc54fa6e319c4ef8b7b052371fe212f0ad4b0e4b7bca88d0c55a2ef8d95211d89607e9bc8f4d7934b8ebfc745ebe3e5d1ef2945951c5efeb7dc90fa33565a15a8805449d8f7a1711beb69a8f0d68ccc6a965e4e75d70f6e22362e48b73d02f3df89357148b204818cfbe958cbe8cbf867d1759027b98cb31f7b6c0024c2c8495c4cfed2b86d12fecc71b35b00401544dde4460652f6e1bb33097efb87e735d8a68243345c04e989bf98615caa7eeb041ae23a0cbba5e003223803bb181daa8da06cc104de6bde67686c0b445fdb0900f3aaf8108112f7bf2c27364e7a2d15384ee7622feb0397bf166d5048195e2360b30ab1c271c58611db85f1be61c36618f16d36172ef6283583f3fe2e8d94838928cda9bcc96daa81fe215f46028475bd52b467d2ced93fec1e6c74efac387b0e1bf3297a24a9aebeafbedfec63acf077dd601ef4e76f2ab30136818296a3f57f4ec050b4ad43ec038db5a4e56705cc16c734d82c4f2f1a1969a44c5a6af6b7ea007660577c4bdd10bdd1cee0420ad5f75025c81cf3ca5ba06ca09d1c12ace10e6401f774d87638f2a2620e472617d1697e8f06343f1c517628b360636c03e019984ba293b259b9267e07eac329380403d4b0882d34753afc9ad533350f321f81098f7258b9c369b0defb90bca258372d1680958ab87bfc88fc78ac1733f9c448ae79e59660ff26350952ef81b50ca960ee1ca1082dda9091cebe226bf1e02c6f56263db9bcf73f810118efc79f08df64eae9f4e0f85908925c909f31ad1192944b48aed822e56960acc1e97b312483e6ad5786ec3d7965a553505d686007451502345f47741252ef57c0d10e793908807938042ca3bb700aed51124945d49fb04d05a0a5dedf05c5562223428d075cd05ebe819813e3c08030db9a1b1e4f99168750eeaeb58a0038f3e800a59cab99eefcb909f56fedc87df716e10a3616e5943ac2c7bc4149a5d66e3aac89d63ec4ee888dbbc12ac0d14d773265a490346bceb244907819abee07a019cfc12276e0de962241e67ed2bf555a2c6c6453b69c293cabec908dafa10c5dfe8e55f7b19bdb2b6c335e3c7cc4f9c5f590a585ceea3d19b3d4086142b2448f32fb6b59cc50729addf6d5d5c7eda9830c3f62b4fcb61d7120c34b5d56c12a8dca5e9d3697c0e0bc1f48dc5f1e951fa606dbecffc0fa1cf00259dd984ed47f80545701d2f7ad5f89a16c69a81d99aee2addcc6b615909a66f1a03cb67babe221118ccc0ce06c5d228fbc0291048965e32d4d4e8377e43995a75fda3bfa50df4f522c58d76165630b687675ca4d159364e81913fc056a336b3d9fe6baf0ea419439a441f7414297c12b92a49412723c2fc5fb3a23dd4065bed77af20f5c4bbf8e277a00cbf7fb3131fc2f2446c4c1b507373c64b36225e3bc464beb5f3550813752067be79d22da84d428fcad34373d0a9e41fa792b37712d319d3d2d599afc63cfa6b6168de4c9e6afe8473d3fb3f2eb165fc1bcb34157b0a0b5176c8016ec02b72bbc71ba8f25b3f64c92c7471f586846329396960aefa10f098ce8ea05d1707bb58defda8d88728327c7b126c64bc8283b491a80993dd5f5a6cfb33566080e4bd23e15af1d362fdf437d3a609778b2922d00333183d843898ce640b7b42e1fcc24d95663ea7a0d2b6a2d97432db65461e1af562a36905de24de844ad961541d0f17ebe5be6a9cfde34d7c4cd3c23853b95d9a2c306c26185e91c856d2cb44c0e42c55e601dee7468b407b044a243a6fdb7066d206e17e780747e8be303da794cda641db51026906ff8aa779348e54e9853a37a89faf520b6f1fce654ab7c303159395b2d2eb62767758f6b4a8c0d26f1c5da827e5e457e98d4ff415c573933f0a5107bec1b3069281e524c5af819766bfdfd69819584f5935031afd4f54b3e94a65019d6f4a66144cf02ff3222c354b36e640cd08fefe954303225e8d017db2f320faa1bb38d874909ca8967ab8ee589d6d3d4f47a3f37981b272cf367b9ec7d564b48da4c7b793f34e3c46684195ce9f80ec865983e35061a4b3a82633a3151e75a77dc4cee0ce803749e51cc15ae68f6ce494fd39777b9f8888dc3977a2b9e303bdd87f6281452bd834065de487bea44405f3274820dacbb520ac0925cd93d7efc9d30dbfcef842673658dec571dfba552281a0780f4d1a65e0ea8ad18e4fc3b62928c7ee7334926fbc722354986ce90d69fd443329752f35d4c2389f5e4e7ba2417e452c87f57a3fceedb64a7c51a7aaffb7024f1c790ab49528cba4cc4e3a2e1945c84c7d72d1114c91214221a4c542ca4c6e00e66638b2fcffef67d5dc170150d0e9fca5a9fd0f5fd5798b72729aad8a5ee432a77aad7aa017aed0b4d14557f02726f8e4f9e85086b2590616dfe4a35c90cc8518cd0b996885ae2ccd578a1a3a358cb4f5504753afb19c98e5e4900b7ed50904a45e0dc44756882e9cb137978b9f337147e160f3c619c75fd5ad70055a64fe569bc1fd0b3f0f66a16e5ddbd9e99b371b8d58815f615b852cc09a23ed1abe477e6bf79cf9d0d5b3790708c39ce8fe195ac5ce1ab2b78e58407fba5d25a17bcb3fc8b6e80a00c9579023efcf9d4037ad6e17bed406ccb41a67fc7e7259fe848850051481a7463e84863507af786c8b958a919df9eb091ec37e1abd1d025f24807cc7b6597b889c396088afb59611b675fc24042e45982720663742ec70fb7089ed9dd74370c371a059ceca696d5ac0c506b6cc81600c18958dcd2164b4de8ca4faa65c6bd613aee19ebba8c62cd057495a428c16ab9a1dd3390565566e3c32a16e4719acc1ec06c4ccdd04cb5f405b6e2dcf308b02f6048ce1c9b484076ec5ad2575a30fd17842b5d5a2319e5433e6b42bdfef9bbd92b9fa796dc6ea44b217a419640295d984b0931211a1bd9d4f175f8bed5c4606e7871d7cef0a6658a6aa15d82f9ca1c79e473420671ea608bb51dd03f05b56f712dde4a82eeb70650ec035cd6d5026313a5af965537ed87a7b936248600b7946e134bdc53804d0f0ee47351fde2aeaf8d4c09403ae99d367120f2fb561ce6adab55b50789c74e69722fadecc85d96ee9a152e6e620e1d5293342c8215f41a681a12f29cff292b6e3e5f2fb1b25bc39915205b6337ac5cf17bb15a1e7ec2c53da0495cc726e8ae2d2eb1fe4ea5a150928f566c19f23986321ddd7f8c93125c15cd5d6f8bc3a2d998f204adebddc96487a4e48ad1ca19dfecf86b46b4bf4c16320e0cca11f3468a04cfdb2a3a28bbc9fbe973e8fc42a697e0bcd8d538062737a318bd8f56698bd35d87d47e23f46b5e5b80ffd8ddd24b7c302804f12ebff89759827a3b136f4c6faa0a5385b3adfb09e0fa2ba0a47e6b668ba376f495c124ec60d8e5cd1b08a9853bdde97a73aeb7d5bc3fb9be5642a92dcf0375a357f311f8493dd202ce43a7bbe90730a943500a58317e934dc90ef305c48ebe49e7a81ceb4bda919bb4e61ced8441bb7cbd60ada743eb1b2d88ae799ee466a0c7731cf368efff3739a9bac242dbdf479c6451e52af8dcf69fdf5ff33e40111aa3afa7658c4af89b4b4cc1b1346d41646e951e4df589480af357cf12cf19c43be3c90770244ffc45009a5563653d8948e200d67715101259a4a2795b301e2c2c918ecde974d3183901b832874e222e322b9e176ab25e3ec86141c68b5f13ccdf747d0578a17328c1d2baff245b9ae4da5d53e15fcf41fcf546aa43dc596b4f03a4048daed8bec96bd93ec57b93cb129fb6672d31798ca3dc161845c96a06afdaebd3564db10abe08656adb985c32cfcf5231636518c0e2ce8c336d6111e5a57109b861279df105fbd01a65bf9b2b0051e2dc226845ae71edc8f1e346927b5ade01c1be8f4b93cb5c19b8213b2c0f5927667fb656583becd714edc4cd06dffabcf199bd966daff4db71ae951a00197aa08b86c518b9dd84f75276a870656328be81cba4b4ebc9de8bdb8e3cfd93ac5842123038525dd041d07d1e5c6367b058d82082bfd0f79559624120fbb0b52c6c3bf45d9bab577fc3e116af12a65a448948d3411a173459465846cdf82a8a6dd39a5f82d74e2da01e2e1a2d30427180c590d628d2a6db87784534b3424f7a3a984507d93aab6b3375c29daa06d820bfc1edbfcf8ad7cc44c994fb85984a6cffc3a89fd7afe261e6bdd9de0e4416b46cf24065de7f1ed92ea55dd3789040ab35d17ee5e73ded3fb3539bc6de047ab9cc9fbd8c1dab9f5a59fcac82c06f325d6248922b233e563ca251cbc84567bda68d9c84228b89236b308018ca02de55ed20f4be66db16d40da0623fea675eef7e0efbd3b5454d35a518532c5742b413c2bd5af08674c772aa60df90a82407154bd3efac4feb154e002fd9b6101e325d4f6d9ed774d0ad6e78c16c352b7ff667efa48e377dfcd77e084216f1d8d6bb25931f1ec0558b2f4221df0248f5489f2be2e8aea56ebc4d89b56b5548b1cf2b045fd25cd5e90ef56ab141d9455f98ba9ad6044ef61a253690e37a0020b3be0e0496703730e6d7c79893aa5e5ef59e2c75ffdc689459cf3d4419c2894ee4508006dbd376ec800e816c0b155bad7a627a695e78a882e518ce28301efd24ddb4d1440e743219ed1217d1e143a09bb4285d4aee7f31dca8a1f7730e8de98e4884221ee845958248daba0567ccbcb5d92c6b1b90670b609608e1154a1cc333a9f8b3251f5638b6528a50919a84febbc7f7fb45d8653d0c5dd1ed4076277d3ceb9e0f2576a88cafbc81476a668294d1c9eb17b51f03bb1a545bb6045e52fa0795070706d00bdba6ed8cd4cb5ff793a496b5220167724b7928587971a8bb2a6cd9c32686ed325166d04387f923c965e0973dd129a0c9e32b2666b25b10e92c99121a381f437fe87bb53a27c30d88d6bc2b5618ede8ac46d2ad52c1188d85cc158daecd99f88d68430856bda509d2f9eb81ba63a5fbe63ca02cd49fcf36481d098a8b2881b94b2797e4fea835ed73c7e49b351420091d953ea5c97322a06c2ec5e383e3c2bac788ff67cbd2bb9a5022242707a6b3de5978ac6db14d0072201311364931347691a9c044bab0eaebafac6cc0322cbaa8cf0936c13051d104b3758dee4ba6f3b1f044e0f929f86848ef6e523050d01153b1e9c0ee606d84b7916f8699fd2b30a3ca9299b04ee64d40391808f3363e0c9e849fb7ae0491fa2ce0dd4cdf73686e3169b8b335fbb28a542225344f689b60745f8cf7858c55fd9e9019bce83de75141c12d43cbcddd6a34c8a56f4c3399b7934b23b7954d929b9deee962fdd4bd4fe5c2727ed34cc714c2f986bad5689199f3e3a1f60c39587951dcb6d8f7bee6f2ed1f04a71b5d5e357f620500b19fbbd9f229fd9d738651a57cadb0703ad4a128905a50c59fd64d813b9c6340852d157d6054161ba650c657f7604d125c9e3c536cbec7c381beef392650f83db30e86a42d0266b1c610b55c536d2960bdf1b92c2e8d42afb3ac169495f37451f833e150ba6c9d70fa500b3342a4f8222f5db1fd543e6ab0e2ab32233f30532f51457493198c77c795b31b67b5f95f065f5d1ce574d7ef2abed5e262b1c364b91662af4ae23d6d1aee7f1a56e3f4aed66c9a66d69a3e10741f4e6b01eb87badb4f51187fca4a83093218615cf087b2ea239dad6cb9bf752eace17eaef206988a95e7b4a06da56f03377bfd32add362c201f636981994b0e74f2cb9783c2db64e366d0113454941dcdf68e0a8699bd277e66fad3398a77014e7c3ccd15c062cc0e2a21dcd2c5c29f107cbc4fcf83c0cbe1bbc704fbb0a098d885655c67cd9c9249d03b6567ccc8cf6629d7236e9f2e79805e90c0f717268c51c2fd1ade550359167d52190345be751863f21b4782f5d47e69b1a5e240afd0331475da3481c5eb98fc6b7be78b6257a7eccd890717fcee9c03a5dcafb943bd3ceffba4a9e70ff43bf19f241b6bd57766b36ddfa5bda45486a52158eaf13a089a40264e8ff006ad8bd1910b71409e7f89647dacf3f15f73c9e7608866fdc79017961956ce010bc07556168b0e86cead8fe7df7570109b2d2809c057419c90ddee9b89a6e8b83e71c066cedf1e95ec378c001e38a6a998b29b4f0c72a7ca90bd6e381da9a62ed173b3ca73a9213735c6b1fe06ee856bd034b9ca24520f19fc1b338b3b488429774751455dc62279e158ecd5301f4f9fe9de5ea9bdf9070d645eb82e4139267dbbeb8ce1e75b671c085cfaa624ab61b0d8f34d7105deaf890b25a5fd30a1677478d5e68539ab2112e2c681b3b008f0f56de627b8920b2f5cbc66d21b3b501ccc5b908b626a718967f78dafdfbca9feaa616cea9b481c9375553d76440e1ec2c373f47b4687be7f12d49f8a0538caba1a6d66cc7f006f3c3d59fdbf37a99ad1bce0676838c5f52fd574bffa49e8259bd35669b8a264177be1dfe0e0efa3cc7a312afd62ecaf4e4ff48f2dd14364c057d3f3b5af72c3e79d93b4c037c0d52cf6326565acd7b530d1fa1e98555dddcc2f026977f5490877d106f6674b01c48f3ad2ef2e37672ee62eaf54b14368a01a4032eae78085964b0dd4c468568bfccd5903dc73bdb5bf8a76b9d7f6e19b7d82200835f175312c8ca6406714c7ceae5771b2961880691ca1b2697a16c5524f59c60b6846967ce4bb7faad8aa37ecb97b2ba91bb3572ab2f9b3abe2f4bd28bf8529f04d094e88470fe93ef594fad8b74b9076a38fb2c0d85f4375eb12db04ee1c98e55b5d692078b744e4cd5bd1d4515fbe79d78bc3ecb325bf542243679546ed6b629b6ae81620a3065893de4224cb4cf94d31fe00cee5e8696849fc41c700253f97c20cf338f8c6df5ab7a450707191c81cd21bafacb054bfa729974bd071a9cb303bc548a3137fd74862a4550057451cca290e81f8fa6bd013f9870d9db44e4866a52c8b6795d9df2ec7dcd63c13ca7ef1466bb5b842584bd3efb4eb18c781d2382b87e265e38c84bfe0449d750e2ed805389a04b326e1a669c920abbab4f26bef7c1096745b481d7d7e4182e36d3c1b9c285a029b1622ed0ea4db3b0ec4a9c46e3bae6ad14df13734e8473eb78b5736646ecb38b09bce2aa7d1e896921a1caffa834262252469f96989356d98287bcad7611619402424b67593b4503674e76fae17c05559ae915de1ce297ee34983e5e0b598a36d5bb59e9e1a4d13e06863d5b50bca6f00b4529f00043c7da24a0503d482b7aae5c4a95d980becf995741cba8eefb418bf4585f67c4383e2b17e15f6bbc22994f20ef5f4e45453c26c0eeb2cf6f0495ed6a90bd8774b12b66645cb7fd4f4dbffa8242205db2e440afcfc6702f14f1f151d6460019f49b97ac8ed173d47bc1ed17d630e183142f0315af89d7c6ad942a48dfef3295c38f9bf235e1300a4bc000dc54de4918934e4c139e5f01b21c7b667d54bbcaa1a944f1d9e44770d293069a108367e998455fca87581e99a30f8471117c57072712d8bbdbd03f9bc4874f2416f5a9593644fecc8984aca24677500f62f7e595959337b512866461049a0d05bed6988f805bc1b0603908d3dcdf2d985ca2c505d1610976e5cf3e948a4cdb199c6d4e7abaa6328a62c2898eae22dd34f094dda8a8c2444c2c7f23c7de949adf1fb0207079c7b81f8b57c65706e3f81d84cda04e0d9d9f4f55869ec2efdb7b7647a89f5fb7f65c8a219dc63097fdd5c10e7dc05a9663be25a849fcdba3c41b8d063906d1511d72b446ce1763915d1b10d0375f3ed1807f6b356d3dbec997030dac84995ac52d5544e8709309a32f4f7702b6ac351fb10d17999ed2ce44d0a55b0d898d0023f4e1656428442e5364fc29fc6a8fec420b3d87d2a00fb45936fca33c7f23d3fba0efd1cb6c39b825845ded8f347ad81cc115d849ea5c6f7f9188204e588170d88f6050e72b7e2498f169c0e45f0ffb0e5c8a82bd43585fbfe74c0a9dc4f7cbe70630aaf823f2a71055ac43833835de0ec4c42dae610bc03fe39b47e742b4ff0ea8f499339b60873a43842c30ce39c46c8810c2f4fe4d316dd23411bf8e86400be59c06a02cd4f405fbb46b6c56d999695449d88cc59b7a1b6b32a7c5bec248134a6afe96cde80f331d99709a93e338cfb425929e064484e62a537d9a7618e2e9f5e917c754e4e3d6b40628f8fbfe2042f3e99d0e11bcc730593826d475199b20c8ae27219008987444ecd513e5235136e20af6fc956039a91d9870ce7d93fb1ae9cd9f506d3715b1d717b0056e301c2513030dc48421912aea00329bee78a Hey, password is required here.","link":"/2020/04/19/Docker-Use-multi-stage-builds/"},{"title":"Happy New Year 2021","text":"Má»™t bÃ i viáº¿t khai code vá»›i hi vá»ng nÄƒm má»›i Ã­t bug hÆ¡n! æ˜ã‘ã¾ã—ã¦ãŠã‚ã§ã¨ã†ã”ã–ã„ã¾ã™ã€‚_Go Fast_","link":"/2021/02/12/Happy-new-year-2021/"},{"title":"[Feathers JS] TÃ¬m hiá»ƒu cÆ¡ báº£n vá» Feathers JS","text":"Feathers lÃ  1 mÃ£ nguá»“n má»Ÿ phá»¥c vá»¥ viá»‡c táº¡o REST vÃ  realtime API Ä‘á»‘i vá»›i cÃ¡c á»©ng dá»¥ng JS hiá»‡n Ä‘áº¡i Feathers há»— trá»£ cáº£ á»Ÿ client vÃ  server, khÃ¡ tiá»‡n dá»¥ng cho cÃ¡c á»©ng dá»¥ng JS Feather khÃ´ng pháº£i lÃ  1 framework, nÃ³ chá»‰ lÃ  cÃ´ng cá»¥ há»— trá»£ (giá»‘ng nhÆ° npm hay yarn) xÃ¢y dá»±ng kiáº¿n trÃºc code. Vá» cá»‘t lÃµi, Feathers lÃ  má»™t táº­p há»£p cÃ¡c cÃ´ng cá»¥ vÃ  má»™t máº«u kiáº¿n trÃºc code giÃºp dá»… dÃ ng táº¡o cÃ¡c API REST, cÃ³ thá»ƒ má»Ÿ rá»™ng vÃ  cÃ¡c á»©ng dá»¥ng thá»i gian thá»±c. Vá»›i Feathers, báº¡n cÃ³ thá»ƒ xÃ¢y dá»±ng cÃ¡c code service máº«u trong vÃ i phÃºt vÃ  cÃ¡c á»©ng dá»¥ng sáºµn sÃ ng Ä‘Æ°á»£c lÃ m ra trong vÃ i ngÃ y Feather há»— trá»£ cÃ¡c á»©ng dá»¥ng lÃ m viá»‡c vá»›i API. CÃ¡c á»©ng dá»¥ng web JS khÃ´ng sá»­ dá»¥ng API cÃ³ láº½ khÃ´ng nÃªn sá»­ dá»¥ng Feathers 1. CÃ i Ä‘áº·tFeathers vÃ  Ä‘a sá»‘ package lÃ m viá»‡c vá»›i NodeJS v6.0.0 trá»Ÿ lÃªn, báº¡n cáº§n cÃ i NodeJS version lá»›n hÆ¡n 6.0.0 Ä‘á»ƒ sá»­ dá»¥ng 12$ node --versionv8.5.0 12$ npm --version5.5.1 2. CÃ¡c khÃ¡i niá»‡m cÆ¡ báº£n trong FeathersChÃºng ta xÃ©t vÃ­ dá»¥ khi táº¡o má»™t á»©ng dá»¥ng chat vá»›i Feathers Js vÃ  React sá»­ dá»¥ng mongoose. Äá»ƒ lÃ m viá»‡c nÃ y náº¿u báº¡n khÃ´ng dÃ¹ng Feathers báº¡n hoÃ n toÃ n cÃ³ thá»ƒ lÃ m Ä‘Æ°á»£c. Báº¡n cÃ i Ä‘áº·t cÃ¡c package vÃ  cáº¥u hÃ¬nh chÃºng express mongoose socket-io jwt â€¦vÃ  cÃ¡c package khÃ¡c há»— trá»£ khÃ¡c â€¦. vÃ  bÃªn client báº¡n cáº§n cÃ i socket.io-client. Náº¿u sá»­ dá»¥ng Feathers, nÃ³ Ä‘Ã£ cÃ i Ä‘áº·t vÃ  cáº¥u hÃ¬nh Ä‘áº§y Ä‘á»§ cÃ¡c package Ä‘Ã³ vÃ  báº¡n chá»‰ cáº§n gá»i nÃ³ Ä‘á»ƒ sinh code, cÃ i Ä‘áº·t nÃ³ vá»›i 1 lá»‡nh duy nháº¥t =)) 1$ feathers generate app 2.1. Táº¡o á»©ng dá»¥ngBáº¡n nÃªn cÃ i Feathers á»Ÿ cháº¿ Ä‘á»™ dÃ²ng lá»‡nh Ä‘á»ƒ sá»­ dá»¥ng cÃ¡c lá»‡nh há»— trá»£ 1 cÃ¡ch dá»… dÃ ng 1npm install @feathersjs/cli -g Táº¡o thÆ° má»¥c á»©ng dá»¥ng 12mkdir feathers-basicscd feathers-basics Sau Ä‘Ã³ nÃ³ sáº½ hiá»ƒn thá»‹ cÃ¡c cÃ´ng nghá»‡ báº¡n cáº§n trong á»©ng dá»¥ng cá»§a mÃ¬nh, báº¡n chá»‰ viá»‡c tÃ­ch chá»n trÃªn giao diá»‡n, khÃ¡ Ä‘Æ¡n giáº£n 1$ feathers generate app 2.2. ServiceService lÃ  trÃ¡i tim cá»§a má»i á»©ng dá»¥ng Feathers vÃ  cÃ¡c Ä‘á»‘i tÆ°á»£ng hoáº·c thá»±c thá»ƒ cá»§a cÃ¡c class Ä‘á»ƒ thá»±c hiá»‡n cÃ¡c phÆ°Æ¡ng thá»©c nháº¥t Ä‘á»‹nh. CÃ¡c service Ä‘á»™c láº­p vá»›i nhau vÃ  cÃ³ thá»ƒ tÆ°Æ¡ng tÃ¡c vá»›i cÃ¡c loáº¡i dá»¯ liá»‡u nhÆ°: Äá»c vÃ  ghi dá»¯ liá»‡u vÃ o database TÃ­ch há»£p vÃ o cÃ¡c file system Gá»i cÃ¡c API khÃ¡c Gá»i cÃ¡c dá»‹ch vá»¥ khÃ¡c nhÆ°: Gá»­i email, xá»­ lÃ½ thÃ´ng tin thanh toÃ¡n, tráº£ vá» thÃ´ng tin thá»i thiáº¿t â€¦ =)) Hiá»ƒu Ä‘Æ¡n giáº£n, service cÃ³ chá»©c nÄƒng chÃ­nh lÃ  nÆ¡i cung cáº¥p cÃ¡c REST API cho á»©ng dá»¥ng, báº¡n hoÃ n toÃ n cÃ³ thá»ƒ custom Ä‘á»ƒ thÃªm cÃ¡c dá»‹ch vá»¥ khÃ¡c Ä‘Ã£ ká»ƒ á»Ÿ trÃªn. CÃ¡c phÆ°Æ¡ng thá»©c CRUD mÃ  1 Ä‘á»‘i tÆ°á»£ng service cÃ³ thá»ƒ thá»±c thi. find - Láº¥y táº¥t cáº£ dá»¯ liá»‡u (cÃ³ thá»ƒ thÃªm cÃ¡c query Ä‘á»ƒ lá»c dá»¯ liá»‡u) get - Láº¥y 1 thá»±c thá»ƒ dá»¯ liá»‡u dá»±a vÃ o Ä‘iá»u kiá»‡n duy nháº¥t cá»§a nÃ³ create - Táº¡o 1 báº£n ghi má»›i update - Cáº­p nháº­t 1 báº£n ghi dá»¯ liá»‡u Ä‘Ã£ tá»“n táº¡i báº±ng cÃ¡ch thay tháº¿ hoÃ n toÃ n nÃ³ patch - Cáº­p nháº­t má»™t hoáº·c nhiá»u báº£n ghi dá»¯ liá»‡u báº±ng cÃ¡ch há»£p nháº¥t vá»›i dá»¯ liá»‡u má»›i remove - XÃ³a má»™t hoáº·c nhiá»u báº£n ghi dá»¯ liá»‡u Ä‘Ã£ tá»“n táº¡i Táº¡o service Äá»ƒ táº¡o service, báº¡n chá»‰ cáº§n sá»­ dá»¥ng 1 lá»‡nh duy nháº¥t vÃ  chá»n tÃªn cÅ©ng nhÆ° DB sá»­ dá»¥ng trong service 1feathers generate service Sá»­ dá»¥ng service: 123await app.service(&quot;messages&quot;).create({ text: &quot;First message&quot;}); 2.2. HookHook lÃ  1 middleware cÃ³ thá»ƒ thÃªm cÃ¡c xá»­ lÃ½ trÆ°á»›c khi hoáº·c sau khi thá»±c hiá»‡n cÃ¡c thao tÃ¡c, cÃ¡c phÆ°Æ¡ng thá»©c cá»§a service. NÃ³ cÃ³ thá»ƒ lÃ  thÃªm cÃ¡c thÃ´ng tin vÃ o model trÆ°á»›c khi thá»±c hiá»‡n hÃ nh Ä‘á»™ng tiáº¿p theo, xá»­ lÃ½ láº¡i dá»¯ liá»‡u trÆ°á»›c khi tráº£ vá» API, báº¯n ra cÃ¡c sá»± kiá»‡n â€¦Chi tiáº¿t báº¡n cÃ³ thá»ƒ tham kháº£o Ä‘Ã¢y Táº¡o hook: Äá»ƒ táº¡o 1 hook, báº¡n cÅ©ng chá»‰ cáº§n thao tÃ¡c 1 dÃ²ng lá»‡nh vÃ  lá»±a chá»n cÃ¡ch thá»©c sá»­ dá»¥ng dá»… dÃ ng nhÆ° vá»›i service 1feathers generate hook 2.3. Realtime APIMáº·c Ä‘á»‹nh Feathers services sáº½ tá»± Ä‘á»™ng sinh cÃ¡c sá»± kiá»‡n created, updated, patched vÃ  removed khi thá»±c hiá»‡n cÃ¡c phÆ°Æ¡ng thá»©c create, update, patch hoáº·c remove. Real-time cÃ³ nghÄ©a lÃ  nhá»¯ng sá»± kiá»‡n nÃ y cáº§n Ä‘Æ°á»£c truyá»n tá»›i cÃ¡c client Ä‘ang káº¿t ná»‘i vÃ  chÃºng cÃ³ thá»ƒ pháº£n á»©ng láº¡i phÃ¹ há»£p (nhÆ° lÃ  cáº­p nháº­t láº¡i giao diá»‡n). Äá»ƒ cho phÃ©p giao tiáº¿p thá»i gian thá»±c vá»›i client, báº¡n cáº§n má»™t phÆ°Æ¡ng tiá»‡n váº­n chuyá»ƒn dá»¯ liá»‡u há»— trá»£ giao tiáº¿p hai chiá»u. Ká»¹ thuáº­t nÃ y trong Feathers lÃ  Socket.io vÃ  Primus vÃ  cáº£ 2 Ä‘á»u sá»­ dá»¥ng websocket Ä‘á»ƒ nháº­n sá»± kiá»‡n real-time vÃ  cÅ©ng nhÆ° gá»i cÃ¡c phÆ°Æ¡ng thá»©c tá»« service 2.3.2. Sá»­ dá»¥ng transpotCÃ i Ä‘áº·t 1npm install @feathersjs/socketio --save Cáº¥u hÃ¬nh trong Feathers 1234567891011121314151617181920const feathers = require(&quot;@feathersjs/feathers&quot;);const express = require(&quot;@feathersjs/express&quot;);const socketio = require(&quot;@feathersjs/socketio&quot;);// This creates an app that is both, an Express and Feathers appconst app = express(feathers());// Turn on JSON body parsing for REST servicesapp.use(express.json());// Turn on URL-encoded body parsing for REST servicesapp.use(express.urlencoded({ extended: true }));// Set up REST transport using Expressapp.configure(express.rest());// Configure the Socket.io transportapp.configure(socketio());// Set up an error handler that gives us nicer errorsapp.use(express.errorHandler());// Start the server on port 3030app.listen(3030); 2.3.3. ChannelKÃªnh Ä‘á»ƒ xÃ¡c Ä‘á»‹nh sá»± kiá»‡n real-time sáº½ Ä‘Æ°á»£c gá»­i tá»›i nhá»¯ng client nÃ o. Feathers cÃ³ há»— trá»£ 1 sá»‘ kÃªnh máº·c Ä‘á»‹nhBáº¡n cáº§n Ä‘Äƒng kÃ­ kÃªnh Ä‘á»ƒ á»©ng dá»¥ng biáº¿t gá»­i cÃ¡c sá»± kiá»‡n nÃ y Ä‘áº¿n Ä‘Ã¢u 12345// On any real-time connection, add it to the `everybody` channelapp.on(&quot;connection&quot;, connection =&gt; app.channel(&quot;everybody&quot;).join(connection));// Publish all events to the `everybody` channelapp.publish(() =&gt; app.channel(&quot;everybody&quot;)); 2.3.4. Láº¯ng nghe sá»± kiá»‡n phÃ­a clientKhi server Ä‘Ã£ publish sá»± kiá»‡n Ä‘áº¿n client, cÃ´ng viá»‡c tiáº¿p theo cá»§a client lÃ  báº¯t sá»± kiá»‡n nÃ y Ä‘á»ƒ xá»­ lÃ½ pháº£n á»©ng láº¡i sá»± kiá»‡n cho phÃ¹ há»£p (thÆ°á»ng lÃ  thay Ä‘á»•i giao diá»‡n). CÃ³ 2 cÃ¡ch Ä‘á»ƒ client Ä‘Ã³n nháº­n sá»± kiá»‡n nÃ y CÃ¡ch 1: Sá»­ dá»¥ng socket.io-client Tuy nhiÃªn hÃ£y chÃº Ã½ sá»± kiá»‡n báº¡n láº¯ng nghe vÃ  báº¯t pháº£i báº¯t Ä‘áº§u vá»›i tÃªn service, nÃ³ cÃ³ dáº¡ng nhÆ° messages created 123456789/* global io */// Create a websocket connecting to our Feathers serverconst socket = io(&quot;http://localhost:3030&quot;);// Listen to new messages being createdsocket.on(&quot;messages created&quot;, message =&gt; console.log(&quot;Someone created a message&quot;, message)); Náº¿u báº¡n custom láº¡i 1 sá»± kiá»‡n, báº¡n cÃ ng pháº£i nhá»› tÃªn Ä‘Ãºng cá»§a sá»± kiá»‡n Ä‘á»ƒ trÃ¡nh báº¯t nháº§m (mÃ¬nh sáº½ vÃ­ dá»¥ á»Ÿ pháº§n sau) CÃ¡ch 2: Sá»­ dá»¥ng feathers-clientTáº¡o file chung feather.js Ä‘á»ƒ sá»­ dá»¥ng chung cho á»©ng dá»¥ng 1234567891011121314import io from &quot;socket.io-client&quot;;import feathers from &quot;@feathersjs/client&quot;;// Socket.io is exposed as the `io` global.const socket = io(&quot;http://localhost:3030&quot;);// @feathersjs/client is exposed as the `feathers` global.const client = feathers() .configure(feathers.socketio(socket)) //incase we later have to do authentication .configure( feathers.authentication({ storage: window.localStorage }) );export default client; LÃºc nÃ y chÃºng ta sáº½ dá»… dÃ ng láº¯ng nghe sá»± kiá»‡n tá»« server 123456789101112...import client from &quot;./../../feathers.js&quot;;....// Method 2: Get firstEvent from messages serviceclient.service(&quot;messages&quot;).on(&quot;firstEvent&quot;, data =&gt; { console.log(&quot;First event&quot;, data);});client.service(&quot;messages&quot;).on(&quot;created&quot;, data =&gt; { console.log(&quot;Got myevent&quot;, data); this.props.dispatch({ type: &quot;GET_NEW_MSG_SAGA&quot;, data });}); 2.3.5. Custom láº¡i 1 eventÄá»ƒ táº¡o 1 sá»± kiá»‡n khÃ´ng náº±m trong cÃ¡c event máº·c Ä‘á»‹nh cá»§a Feathers báº¡n cáº§n lÃ m nhÆ° sau ÄÄƒng kÃ½ sá»± kiá»‡n má»›i trong service ÄÄƒng kÃ½ trong class service 1234567891011121314class PaymentService { constructor() { this.events = ['status']; }, create(data, params) { createStripeCustomer(params.user).then(customer =&gt; { this.emit('status', { status: 'created' }); return createPayment(data).then(result =&gt; { this.emit('status', { status: 'completed' }); }); }); }} Hoáº·c Ä‘Äƒng kÃ½ trong Object service 12345678// Initialize our service with any options it requiresapp.use(&quot;/messages&quot;, { events: [&quot;firstEvent&quot;], async create(data, params) { ..... },} PhÃ¡t sá»± kiá»‡n Báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng service Ä‘á»ƒ phÃ¡t sá»± kiá»‡n á»Ÿ báº¥t cá»© Ä‘Ã¢u nhÆ°ng báº¡n nÃªn phÃ¡t sá»± kiá»‡n á»Ÿ hook 1234567app.service(&quot;messages&quot;).hooks({ after: { create(context) { context.service.emit(&quot;firstEvent&quot;, { status: &quot;completed&quot; }); } }}); Publish sá»± kiá»‡n Ä‘áº¿n client Khi server Ä‘Ã£ báº¯n ra 1 sá»± kiá»‡n nhiá»‡m vá»¥ tiáº¿p theo lÃ  cáº§n chuyá»ƒn event nÃ y Ä‘áº¿n 1 kÃªnh nÃ o Ä‘Ã³ Ä‘á»ƒ xÃ¡c Ä‘á»‹nh client nÃ o sáº½ nháº­n sá»± kiá»‡n nÃ y thÃ´ng qua phÆ°Æ¡ng thá»©c publish ÄÃ³n nháº­n sá»± kiá»‡n phÃ­a client NhÆ° Ä‘Ã£ Ä‘á» cáº­p á»Ÿ trÃªn, tÃªn sá»± kiá»‡n Ä‘Ã³n nháº­n cáº§n cÃ³ tiá»n tá»‘ lÃ  tÃªn service (náº¿u khÃ´ng sá»­ dá»¥ng feathers client) 12345678// Method 1: Get firstEvent from messages servicesocket.on(&quot;messages firstEvent&quot;, function() { console.log(&quot;first event 1&quot;);});// Method 2: Get firstEvent from messages serviceclient.service(&quot;messages&quot;).on(&quot;firstEvent&quot;, data =&gt; { console.log(&quot;First event 3&quot;, data);}); 3. Má»™t vÃ i thá»© hay ho khÃ¡c Há»— trá»£ authenticaion vá»›i JWT Viá»‡c sinh vÃ  kiá»ƒm tra token vá»›i JWT Ä‘Ã£ Ä‘Æ°á»£c há»— trá»£ sáºµn trong Feathers, cÃ´ng viá»‡c cá»§a báº¡n chá»‰ lÃ  gá»i vÃ  sá»­ dá»¥ng nÃ³https://docs.feathersjs.com/guides/auth/readme.html Feathres há»— trá»£ database Ä‘a dáº¡ng. Feathers há»— trá»£ á»©ng dá»¥ng cá»§a báº¡n lÃ m viá»‡c vá»›i ráº¥t nhiá»u database https://docs.feathersjs.com/api/databases/adapters.html Feathers client KhÃ´ng chá»‰ há»— trá»£ máº¡nh phÃ­a server, feathers cÅ©ng há»— trá»£ client vá»›i cÃ¡c thao tÃ¡c cho trÃ¬nh duyá»‡thttps://docs.feathersjs.com/guides/basics/clients.html TÃ i liá»‡u tham kháº£o Home page of Feathers Create a Chat Application My project with FeathersJS","link":"/2019/07/05/Feathers-JS-Tim-hieu-co-ban-ve-Feathers-JS/"},{"title":"How to Optimize Images for Web and Performance","text":"Tin tÃ´i Ä‘i, báº¡n khÃ´ng muá»‘n Google ghÃ©t trang web cá»§a báº¡n Ä‘Ãºng khÃ´ng? May máº¯n thay, báº¡n cÃ³ thá»ƒ giáº£m size áº£nh cá»§a báº¡n Ä‘á»ƒ giÃºp cáº£i thiá»‡n hiá»‡u nÄƒng cá»§a website. Má»™t váº¥n Ä‘á» vá»›i viá»‡c Ä‘á»‹nh dáº¡ng chÃºng lÃ  khi sá»­a Ä‘á»•i thÆ°á»ng lÃ m giáº£m cháº¥t lÆ°á»£ng cá»§a áº£nh (Ä‘iá»u nÃ y cÃ³ thá»ƒ lÃ m ngÆ°á»i dÃ¹ng ghÃ©t trang web cá»§a báº¡n). NhÆ°ng Ä‘Ã³ khÃ´ng pháº£i lÃ  thá»© tá»“i tá»‡, miá»…n lÃ  báº¡n khÃ´ng lÃ m nÃ³ nhÃ¬n quÃ¡ xáº¥u. Má»™t vÃ i tips sau giÃºp báº¡n cáº£i thiá»‡n viá»‡c nÃ y. Images make up on average 21% of a web pageâ€™s overall weight. ğŸ˜® Optimize them! Lá»£i Ã­ch cá»§a viá»‡c tá»‘i Æ°u hÃ³a áº£nh Cáº£i thiá»‡n tá»‘c Ä‘á»™ táº£i trang. Do cáº£i thiá»‡n Ä‘Æ°á»£c tá»‘c Ä‘á»™ táº£i trang, SEO cÅ©ng Ä‘Æ°á»£c cáº£i thiá»‡n. Tiáº¿t kiá»‡m bÄƒng thÃ´ng. =&gt; NÃ³i chung lÃ  lÃ m cho viá»‡c tráº£i nghiá»‡m ngÆ°á»i dÃ¹ng Ä‘Æ°á»£c trá»Ÿ nÃªn tá»‘t hÆ¡n :D. CÃ¡c tips tá»‘i Æ°u hÃ³a hÃ¬nh áº£nhTip #1 â€“ (IMG) Compress ImagesÄá»«ng Ä‘á»ƒ áº£nh quÃ¡ lá»›n lÃªn trang web cá»§a báº¡n (trá»« khi web cá»§a báº¡n lÃ  trang lÆ°u áº£nh hoáº·c viá»‡c gÃ¬ Ä‘Ã³ quÃ¡ chÃº trá»ng vÃ o áº£nh), hÃ£y dÃ¹ng cÃ¡c pháº§n má»m, chá»‰nh sá»­a vÃ  nÃ©n áº£nh láº¡i sau Ä‘Ã³ hÃ£y Ä‘Æ°a lÃªn web. CÃ¡c áº£nh á»Ÿ Ä‘Ã¢y vÃ­ dá»¥ nhÆ° lÃ  cÃ¡c áº£nh báº¡n chá»§ Ä‘á»™ng Ä‘Æ°a lÃªn websites, vÃ­ dá»¥ nhÆ° banner quáº£ng cÃ¡o hoáº·c cÃ¡c áº£nh tá»« cÃ¡c bÃ i bÃ¡o cháº³ng háº¡n. HÃ£y nÃ©n chÃºng láº¡i. NÃ©n thÃ¬ láº¡i cÃ³ 2 loáº¡i: Lossy: NÃ©n cÃ³ máº¥y mÃ¡t dá»¯ liá»‡u. Äiá»u nÃ y cÃ³ thá»ƒ áº£nh hÆ°á»Ÿng máº¡nh Ä‘áº¿n cháº¥t lÆ°á»£ng áº£nh cá»§a báº¡n, nhÆ°ng bÃ¹ láº¡i, nÃ©n Ä‘Æ°á»£c áº£nh vá»›i kÃ­ch thÆ°á»›c nhá» hÆ¡n Lossless: NÃ©n khÃ´ng máº¥t mÃ¡t dá»¯ liá»‡u. NgÆ°á»£c láº¡i vá»›i cÃ¡ch trÃªn, cÃ¡ch nÃ y khÃ´ng lÃ m thay Ä‘á»•i cháº¥t lÆ°á»£ng cá»§a anh nhiá»u, nhÆ°ng nÃ³ yÃªu cáº§u áº£nh cáº§n Ä‘Æ°á»£c giáº£i nÃ©n trÆ°á»›c khi render TÃ¹y vÃ o má»¥c Ä‘Ã­ch mÃ  báº¡n dÃ¹ng loáº¡i nÃ©n nÃ o nhÃ©. Tip #3 â€“ (IMG) Optimize GIF, JPG, PNG filesTá»‘i Æ°u PNG: http://www.websiteoptimization.com/speed/tweak/png-optimization/Tá»‘i Æ°u JPEG vÃ  nÃ©n: http://www.ampsoft.net/webdesign-l/jpeg-compression.html Tip #5 â€“ (IMG) Link Thumbnails to Larger Images Pháº§n nÃ y khÃ¡ hay. VÃ¬ cÃ¡c áº£nh kÃ­ch thÆ°á»›c nhá» hÆ¡n sáº½ cÃ³ size nhá» hÆ¡n cÃ¡c áº£nh cÃ¹ng ná»™i dung nhÆ°ng kÃ­ch thÆ°á»›c lá»›n hÆ¡n, do Ä‘Ã³ báº¡n cÃ³ thá»ƒ táº¡o cÃ¡c áº£nh thumbnails Ä‘á»ƒ hiá»ƒn thá»‹ lÃªn web, vÃ  khi báº¡n áº¥n vÃ o thumbnail Ä‘Ã³ má»›i link Ä‘áº¿n áº£nh gá»‘c. NhÆ° váº­y website chá»‰ load cÃ¡c áº£nh thumbnails, giáº£m Ä‘Æ°á»£c size cá»§a áº£nh. Demo: http://fancybox.net/ If you want to place large images on a website, the best option is to use â€œthumbnailsâ€ that link to them. This allows a user to decide whether they want to wait for the large image to load or if the thumbnail picture is sufficient enough to use. The biggest advantages in linking thumbnails to larger images is that websites load faster because most thumbnail images are a lot smaller in size. Tip#5www.monitis.com/blog/30-tips-to-optimize-htmlcssimages-for-smooth-web-experience Tip #6 â€“ (IMG) Use Proper Image Formats: Sá»­ dá»¥ng Ä‘á»‹nh dáº¡ng phÃ¹ há»£pVá» cÆ¡ báº£n, cÃ³ má»™t sá»‘ Ä‘á»‹nh dáº¡ng phá»• biáº¿n nÃªn Ä‘Æ°á»£c sá»­ dá»¥ng: JPEG, PNG vÃ  GIF, SVG. JPEG JPEG lÃ  viáº¿t táº¯t cá»§a Joint Photographic Experts Group vÃ  nÃ³ lÃ  má»™t trong nhá»¯ng Ä‘á»‹nh dáº¡ng phá»• biáº¿n nháº¥t Ä‘Æ°á»£c sá»­ dá»¥ng cho web. JPEG files lÃ  â€˜lossyâ€™ (máº¥t mÃ¡t dá»¯ liá»‡u) cÃ³ nghÄ©a lÃ  ráº¥t nhiá»u thÃ´ng tin quan trá»ng bá»‹ máº¥t tá»« áº£nh nguá»“n khi báº¡n lÆ°u nÃ³ trong JPEG file. Tuy nhiÃªn, khi nÃ©n báº¡n cÅ©ng cÃ³ thá»ƒ tÃ¹y chá»‰nh nÃ©n nhiá»u hay Ã­t Ä‘á»ƒ cÃ¢n báº±ng giá»¯a cháº¥t lÆ°á»£ng áº£nh vÃ  kÃ­ch thÆ°á»›c Má»™t vÃ i mÃ¡y áº£nh ká»¹ thuáº­t sá»‘ cÃ³ thá»ƒ chá»¥p vÃ  lÆ°u áº£nh dÆ°á»›i Ä‘á»‹nh dáº¡ng JPEG. JPEG ráº¥t thÃ¢n thiá»‡n vá»›i web bá»Ÿi vÃ¬ nÃ³ nhá». NÃ³ Ã­t Ä‘iá»ƒm áº£nh hÆ¡n GIF vÃ  Ä‘Ã£ tá»«ng lÃ  â€œold king - nhÃ  vua cÅ©â€ cá»§a internet.Tá»« nÄƒm 1994, JPEG Ä‘Ã£ Ä‘Æ°á»£c coi lÃ  tiÃªu chuáº©n Æ¯u Ä‘iá»ƒm: 24-bit color, vá»›i 16 triá»‡u colors MÃ u sáº¯c phong phÃº, thÃ­ch há»£p cho nhá»¯ng bá»©c áº£nh cáº§n chÃº Ã½ Ä‘áº¿n chi tiáº¿t cá»§a mÃ u sáº¯c Äá»‹nh dáº¡ng hÃ¬nh áº£nh Ä‘Æ°á»£c sá»­ dá»¥ng nhiá»u nháº¥t vÃ  Ä‘Æ°á»£c cháº¥p nháº­n rá»™ng rÃ£i nháº¥t TÆ°Æ¡ng thÃ­ch vá»›i nhiá»u há»‡ Ä‘iá»u hÃ nh (Mac, PC, Linux) NhÆ°á»£c Ä‘iá»ƒm: Máº¥t mÃ¡t dá»¯ liá»‡u: khi lÆ°u áº£nh dÆ°á»›i dáº¡ng nÃ y nÃ³ cÃ³ xu hÆ°á»›ng loáº¡i bá» ráº¥t nhiá»u dá»¯ liá»‡u. Sau khi nÃ©n, JPEG cÃ³ xu hÆ°á»›ng táº¡o cÃ¡c artifacts (hiá»ƒu lÃ  cÃ¡c thÃ nh pháº§n riÃªng) (nÃ³ sáº½ chá»‰nh sá»­a cÃ¡c lines vÃ  shape cá»§a áº£nh) KhÃ´ng cÃ³ animation KhÃ´ng há»— trá»£ tÃ­nh trong suá»‘t. As shown above, image compression is not that evident at first glance. But if you take a closer look, the JPEG image is not as sharp as the original image. The colors are paler and the lines are less defined and the picture is noisier. If you zoom in there are JPEG artifacts like any other JPEG files. Äá»c thÃªm táº¡i: http://www.ampsoft.net/webdesign-l/jpeg-compression.html. GIF GIF lÃ  viáº¿t táº¯t cá»§a Graphics Interchange Format bá»‹ giá»›i háº¡n vá»›i 8 bit cho báº£ng mÃ u vá»›i chá»‰ 256 colors. GIF váº«n lÃ  image phá»• biáº¿n trÃªn internet vÃ¬ size nhá» tÆ°Æ¡ng Ä‘á»‘i so vá»›i cÃ¡c kiá»ƒu nÃ©n áº£nh khÃ¡c. ÄÃ¢y lÃ  lá»±a chá»n tá»‘t nháº¥t khi mÃ  ta muá»‘n cÃ³ 1 táº¥m áº£nh Ä‘á»™ng. Æ¯u Ä‘iá»ƒm: Can support transparency: Há»— trá»£ tÃ­nh trong suá»‘t, minh báº¡ch, rÃµ rÃ ng CÃ³ thá»ƒ táº¡o cÃ¡c áº£nh Ä‘á»™ng nhá» Cháº¥t lÆ°á»£ng â€œlosslessâ€ - cháº¥t lÆ°á»£ng cÃ³ thá»ƒ tÆ°Æ¡ng Ä‘Æ°Æ¡ng áº£nh Ä‘áº§u náº¿u áº£nh gá»‘c chá»‰ cÃ³ tá»‘i Ä‘a 256 colors Sá»­ dá»¥ng tuyá»‡t vá»i Ä‘á»‘i vá»›i cÃ¡c áº£nh cÃ³ giá»›i háº¡n mÃ u hoáº·c cÃ³ cÃ¡c khu vá»±c mÃ u pháº³ng (1 mÃ u xanh thÃ´i chá»© khÃ´ng chia chi tiáº¿t thÃ nh 7 mÃ u xanh Ä‘Ã³) NhÆ°á»£c Ä‘iá»ƒm: Chá»‰ há»— trá»£ 256 mÃ u NÃ³ cÃ³ Ä‘á»‹nh dáº¡ng cÅ© nháº¥t trÃªn web, tá»“n táº¡i tá»« nÄƒm 1989. NÃ³ Ä‘Ã£ Ä‘Æ°á»£c cáº­p nháº­t ká»ƒ tá»« Ä‘Ã³ vÃ  Ä‘Ã´i khi, kÃ­ch thÆ°á»›c tá»‡p lá»›n hÆ¡n PNG. PNG PNG or (Portable Network Graphics) lÃ  kiá»ƒu Ä‘á»‹nh dáº¡ng Ä‘Æ°á»£c giá»›i thiá»‡u gáº§n Ä‘Ã¢y nháº¥t, do Ä‘Ã³ khÃ´ng pháº£i ai cÅ©ng quen thuá»™c vá»›i nÃ³. NhÆ°ng PNG Ä‘Ã£ Ä‘Æ°á»£c cháº¥p thuáº­n nhÆ° lÃ  1 tiÃªu chuáº©n tá»« nÄƒm 1996. NÃ³ lÃ  1 Ä‘á»‹nh dáº¡ng áº£nh Ä‘Æ°á»£c thiáº¿t káº¿ Ä‘áº·c biá»‡t cho web. PNG, vá» má»i máº·t, lÃ  phiÃªn báº£n Æ°u viá»‡t cá»§a GIF Náº¿u nhÆ° GIF chá»‰ há»— trá»£ tá»‘i Ä‘a 256 mÃ u, thÃ¬ PNG cÃ³ thá»ƒ lÆ°u nhiá»u thÃ´ng tin mÃ u sáº¯c hÆ¡n. NÃ³ cÅ©ng cÃ³ 8 bit transparency PNG thá»±c sá»± Ä‘Æ°á»£c táº¡o ra vá»›i má»¥c Ä‘Ã­ch thay tháº¿ GIF mÃ  khÃ´ng cáº§n giáº¥y phÃ©p (kiá»ƒu tá»± hiá»ƒu vá»›i nhau Ã½). PNG cÃ³ thá»ƒ há»— trá»£ 24 bit RGB color image, hÃ¬nh áº£nh thang Ä‘á»™ xÃ¡m, cáº£ cÃ³ vÃ  khÃ´ng cÃ³ kÃªnh alpha. Æ¯u Ä‘iá»ƒm: Lossless, do Ä‘Ã³ nÃ³ khÃ´ng áº£nh hÆ°á»Ÿng nhiá»u Ä‘áº¿n cháº¥t lÆ°á»£ng áº£nh sau khi nÃ©n CÃ³ nhiá»u Ä‘iá»ƒm hÆ¡n GIF. Äá»ƒ báº¯t Ä‘áº§u, PNG thÆ°á»ng cÃ³ kÃ­ch thÆ°á»›c nhá» hÆ¡n GIF Há»— trá»£ transparency tá»‘t hÆ¡n GIF NhÆ°á»£c Ä‘iá»ƒm: KhÃ´ng tá»‘t cho cÃ¡c áº£nh lá»›n KhÃ´ng giá»‘ng nhÆ° GIF, nÃ³ khÃ´ng cÃ³ hÃ¬nh Ä‘á»™ng KhÃ´ng pháº£i táº¥t cáº£ cÃ¡c trÃ¬nh duyá»‡t Ä‘á»u há»™ trá»£ PNG. SVG SVG lÃ  Ä‘á»‹nh dáº¡ng vectÆ¡ cÃ³ thá»ƒ má»Ÿ rá»™ng (scalable vector format) hoáº¡t Ä‘á»™ng tá»‘t cho logos, icons, text vÃ  hÃ¬nh áº£nh Ä‘Æ¡n giáº£n. SVG tá»± Ä‘á»™ng má»Ÿ rá»™ng trong cáº£ trÃ¬nh duyá»‡t vÃ  cÃ´ng cá»¥ chá»‰nh sá»­a áº£nh. Google láº­p chá»‰ má»¥c SVG, giá»‘ng nhÆ° cÃ¡ch thá»±c hiá»‡n PNG vÃ  JPG, do Ä‘Ã³ khÃ´ng pháº£i lo láº¯ng vá» SEO. SVG theo truyá»n thá»‘ng (táº¥t nhiÃªn lÃ  khÃ´ng pháº£i luÃ´n luÃ´n) cÃ³ kÃ­ch thÆ°á»›c file nhá» hÆ¡n so vá»›i PNG hoáº·c JPG. Sá»­ dá»¥ng hÃ¬nh áº£nh vector SVG báº¥t cá»© khi nÃ o cÃ³ thá»ƒ cÃ¹ng vá»›i PNG vÃ  JPG. In a Nutshell PNG, JPEG vÃ  GIF lÃ  nhá»¯ng Ä‘inh dáº¡ng thÃ¢n thiá»‡n nháº¥t vá»›i web. JPEG vÃ  áº£nh tá»‘t nháº¥t khi báº¡n cáº§n giá»¯ size nhá» nhÆ°ng khi báº¡n cáº§n upload nÃ³ lÃªn máº¡ng. Náº¿u cháº¥t lÆ°á»£ng áº£nh cÃ³ thá»ƒ máº¥t 1 chÃºt, sá»­ dá»¥ng JPEG. Náº¿u báº¡n muá»‘n giá»¯ size nhá» nhÆ°ng váº«n giá»¯ Ä‘Æ°á»£c cháº¥t lÆ°á»£ng, sá»­ dá»¥ng PNG. GIF lÃ  1 sá»± lá»±a chá»n tá»“i, máº·c dÃ¹ sá»‰z nhá» vÃ  load ráº¥t nhanh. NhÆ°ng náº¿u báº¡n muá»‘n cÃ¡c hÃ¬nh Ä‘á»™ng, hÃ£y sá»­ dá»¥ng GIF. Sá»­ dá»¥ng GIF náº¿u cáº§n áº£nh Ä‘á»™ng (nhÆ°ng cÅ©ng nÃªn nÃ©n láº¡i) Sá»­ dá»¥ng PNG náº¿u cáº§n chi tiáº¿t cao vÃ  Ä‘á»™ phÃ¢n giáº£i cao Sá»­ dá»¥ng JPG cho áº£nh chá»¥p thÆ°á»ng (photo) vÃ  áº£nh chá»¥p mÃ n hÃ¬nh (screenshot) Tip #4 â€“ (IMG) Strip meta data from JPEGs Má»™t trong nhá»¯ng cÃ¡ch Ä‘á»ƒ giáº£m kÃ­ch thÆ°á»›c cá»§a áº£nh lÃ  xÃ³a metadata khá»i cÃ¡c file hÃ¬nh áº£nh trÆ°á»›c khi táº£i chÃºng lÃªn trang web. Dá»¯ liá»‡u meta hÃ¬nh áº£nh (hÃ¬nh nhÆ° cÃ²n Ä‘Æ°á»£c gá»i lÃ  exif) Ä‘Æ°á»£c lÆ°u trá»¯ trÃªn báº¥t ká»³ áº£nh nÃ o vÃ  bao gá»“m: ngÃ y chá»¥p, máº«u mÃ¡y áº£nh, flash Ä‘Æ°á»£c sá»­ dá»¥ng, Vá»‹ trÃ­ GPS, iso, kÃ­ch thÆ°á»›c á»‘ng kÃ­nh, tá»‘c Ä‘á»™ mÃ n cháº­p v.vâ€¦ Tip #7 â€“ (IMG) Save HTTP Requests by Combining ImagesTip #8 â€“ (IMG) Use Styled Text Instead of Graphic Text Graphic text (tÃ´i táº¡m dá»‹ch lÃ  Ä‘á»“ há»a thiáº¿t káº¿ máº¥y chá»¯ text), cÃ³ thá»ƒ chuyá»ƒn thÃ nh áº£nh Ä‘á»ƒ hiá»ƒn thá»‹. KhÃ´ng may mÃ¡y, nÃ³ lÃ m cháº­m thá»i gian táº£i web cá»§a báº¡n. Sá»­ dá»¥ng graphic text sáº½ cÅ©ng lÃ m thÃªm yÃªu cáº§u HTTP request vÃ  tÄƒng page weight. Thay vÃ o Ä‘Ã³ sá»­ dá»¥ng style text (CSS cháº³ng háº¡n), loáº¡i bá» Ä‘Æ°á»£c cÃ¡c váº¥n Ä‘á» á»Ÿ trÃªn vÃ  bá»• sung cÃ¡c Æ°u Ä‘iá»‡m, nhÆ° SEO tá»‘t hÆ¡n, chi phÃ­ load web tháº¥p, tá»‘c Ä‘á»™ cáº£i thiá»‡n :D Khi báº¡n Ä‘á»‹nh thiáº¿t káº¿ dÄƒm ba chá»¯ ná» báº±ng Ä‘á»“ há»a rá»“i chuyá»ƒn thÃ nh áº£nh, rá»“i hiá»ƒn thá»‹ lÃªn web, hÃ£y thá»­ dÃ¹ng CSS xem cÃ³ á»•n khÃ´ng nhÃ©. CÆ¡ mÃ  CSS pháº£i lÃºc nÃ o cÅ©ng ngon Ä‘Ã¢u =)) cÃ³ quÃ¡ bá» qua, xem cÃ¡c Tips khÃ¡c @@ Tip #9â€“ (IMG) Donâ€™t Scale Images Náº¿u báº¡n ngá»¡ lÃ  khi báº¡n sá»­ dá»¥ng thuá»™c tÃ­nh width vÃ  height Ä‘á»ƒ chá»‰nh kÃ­ch thÆ°á»›c vá» áº£nh nhá» hÆ¡n thÃ¬ báº¡n Ä‘ang thu Ä‘Æ°á»£c áº£nh nhá» hÆ¡n vÃ  tiáº¿t kiá»‡m size áº£nh. Náº¿u nhÆ° váº­y thÃ¬ báº¡n Ä‘Ã£ nháº§m, vÃ¬ báº£n cháº¥t nÃ³ váº«n cáº§n load áº£nh gá»‘c vÃ  chá»‰nh kÃ­ch thÆ°á»›c nhá» láº¡i =&gt; No nooo Thay vÃ o Ä‘Ã³, xem láº¡i Tip#5 nhÃ© :D. Tip #10â€“ (IMG) The Fewer Graphics the Better CÃ¡i nÃ y cháº¯c Ã½ muá»‘n nÃ³i vá»›i bÃªn thiáº¿t káº¿ Ä‘áº¥y mÃ . Thiáº¿t káº¿ trang web Ã­t áº£nh thÃ´i náº¿u nÃ³ khÃ´ng quÃ¡ chuyÃªn vá» xá»­ lÃ½ áº£nh. Má»™t website khÃ´ng nÃªn cÃ³ quÃ¡ nhiá»u hoáº·c 5 áº£nh vÃ  má»—i áº£nh cÅ©ng cáº§n Ä‘Æ°á»£c tá»‘i Æ°u rá»“i. Lazy loadingLoad áº£nh theo viewport. Thá»i gian load áº£nh sáº½ khÃ´ng Ä‘á»•i, nhÆ°ng cÃ¡ch thá»©c hiá»ƒn thá»‹ áº£nh á»Ÿ láº§n Ä‘áº§u sáº½ cho tráº£i nghiá»‡m ngÆ°á»i dÃ¹ng tá»‘t hÆ¡n. Ã tÆ°á»Ÿng cá»§a cÃ¡ch nÃ y lÃ  â€œload lÆ°á»iâ€, nÃ³ sáº½ khÃ´ng load áº£nh gá»‘c luÃ´n, thay vÃ o Ä‘Ã³ sáº½ load áº£nh khÃ¡c nhÆ° áº£nh gá»‘c, kÃ­ch thÆ°á»›c láº¡i nhá» hÆ¡n lÃ m ngÆ°á»i dÃ¹ng cÃ³ cáº£m giÃ¡c áº£nh gá»‘c Ä‘Ã£ Ä‘Æ°á»£c load. Sau Ä‘Ã³ má»›i load áº£nh gá»‘c lÃªn tháº­t.Báº¡n hÃ£y xem xÃ©t vÃ­ dá»¥ sau khi load 1 áº£nh background 4.8MB tá»‘n máº¥t 27.32s Ä‘á»ƒ cÃ³ thá»ƒ nhÃ¬n rÃµ nÃ³, load xong DOM trong láº§n Ä‘áº§u tiÃªn ngÆ°á»i dÃ¹ng vÃ o Äáº§u tiÃªn chÃºng ta tháº¥y, sáº½ khÃ´ng Ä‘á»ƒ áº£nh quÃ¡ lá»›n nhÆ° váº­y. ChÃºng ta sá»­ dá»¥ng cÃ¡c tool nÃ©n áº£nh láº¡i, kÃ­ch thÆ°á»›c ta thu Ä‘Æ°á»£c má»›i lÃ  2MB mÃ  váº«n Ä‘áº£m báº£o cháº¥t lÆ°á»£ng.Tuy nhiÃªn 2MB váº«n lÃ  kÃ­ch thÆ°á»›c lá»›n, do Ä‘Ã³ thá»i gian load áº£nh váº«n khÃ¡ lÃ¢u, lÃºc nÃ y chÃºng ta cáº§n Ã¡p dá»¥ng Lazy loading. NÃ³ sáº½ lÃ  load lÆ°á»i trong láº§n Ä‘áº§u tiÃªn vÃ o web. ChÃºng ta sáº½ táº¡o 1 áº£nh má»›i giáº£m Ä‘á»™ phÃ¢n giáº£i cá»§a áº£nh tá»« 7372x4392 pixels cÃ²n 20x11 pixels vÃ  káº¿t quáº£ size áº£nh Ä‘Æ°á»£c giáº£m tá»« 4.8MB xuá»‘ng 900 bytes. áº¢nh nÃ y chá»‰ máº¥t 550 miliseconds Ä‘á»ƒ load, do Ä‘Ã³ chÃºng ta sáº½ sá»­ dá»¥ng nÃ³ trong láº§n Ä‘áº§u ngÆ°á»i dÃ¹ng vÃ o web Ä‘á»ƒ cÃ³ cáº£m giÃ¡c nhÆ° áº£nh Ä‘Ã£ Ä‘Æ°á»£c load. Sau Ä‘Ã³ chÃºng ta má»›i thá»±c sá»± load áº£nh gá»‘c lÃªn. 1234567891011121314151617(() =&gt; { 'use strict'; // Page is loaded const objects = document.getElementsByClassName('asyncImage'); Array.from(objects).map((item) =&gt; { // Start loading image const img = new Image(); img.src = item.dataset.src; // Once image is loaded replace the src of the HTML element img.onload = () =&gt; { item.classList.remove('asyncImage'); return item.nodeName === 'IMG' ? item.src = item.dataset.src : item.style.backgroundImage = `url(${item.dataset.src})`; }; });})(); VÃ  Ä‘Ã¢y lÃ  tháº» nÆ¡i cáº§n load backgroud image cá»§a chÃºng ta:123&lt;div class=&quot;asyncImage&quot; data-src=&quot;/images/background.jpg&quot;&gt;...&lt;/div&gt;Hoáº·c1&lt;img class=&quot;asyncImage&quot; src=&quot;/images/background-min.jpg&quot; data-src=&quot;/images/background.jpg&quot; alt=&quot;Beautiful landscape sunrise&quot;&gt; NgoÃ i ra báº¡n cÃ³ thá»ƒ thÃªm cÃ¡c CSS Ä‘á»ƒ hiá»‡u á»©ng chuyá»ƒn áº£nh cÃ³ thá»ƒ Ä‘áº¹p hÆ¡n.Báº¡n cÃ³ thá»ƒ xem vÃ­ dá»¥ táº¡i Ä‘Ã¢y. Káº¿t quáº£ ta thu Ä‘Æ°á»£c The benefit of this is fewer bytes to load on initial page load. Often not all images are necessary to be displayed in the viewport of the user. Once the user starts scrolling we need more and more content that can be loaded in. A good approach to implement this behavior is to take a look at the Intersection Observer. TÃ i liá»‡u tham kháº£oTÃ i liá»‡u chÃ­nh Viblo - Tá»‘i Æ°u hÃ³a hÃ¬nh áº£nh cho trang web Viblo - Lazy loading Five Ways to Lazy Load Images for Better Website Performance How to optimize image loading on your website Má»™t vÃ i thÆ° viá»‡n liÃªn quan Ä‘áº¿n imagesJavascript Viblo - Giá»›i thiá»‡u cÃ¡c thÆ° viá»‡n Javascript hay liÃªn quan Ä‘áº¿n áº£nh Croppjs Laravel Intervention Image","link":"/2020/04/23/How-to-Optimize-Images-for-Web-and-Performance/"},{"title":"JP - KN302","text":"8d229d8e47333d3f189c47d25637efeb5cb93a79968515e30e77e9ea060cd38b369142d174715c10e854b175b846cd04fb7976f5a1d2272f790cc55ec0278e483a2c39a40e5b7fe7d9b83a74cc3725bd9bd77937b0638698b3a751576ccc52e503f51360a94fbafd172445ccec499935f075b1a7a224844befe5ac245eae6315d7945428dcca7205555296b1b2c55d61b2259cbcb250c7aaf0b7746990105f92cabbf0471783e778f1883d55ac4250885e29fe0a243b0313a65d1c182ad68d69806fbb7ff6d1c69e67771f29c414e6fc538d8c593607531c74c6fe33c80ef9e70898dec09aff563290f91a9bd54593c611a3344f570e565fa2314ed585dded70038d54e52d32b584e84f9a5a1e17362508e02328bf899d3557dbf95176476e0b2e2b6bce65dac699d47ae6429659e35c5700c0e37fa7ec0b77a2f7e68d643394da3e1b590ce51ec7ee63a626ca071461889bb1e4f4e0fe006f230d3687c52f65cf99f289029c1f585d493d2bff40c5bcb4af156e2ecaead600f85ce121645cee13bbaf0eb35dd74b2375c65f04bf6e1c0d42386b5e7dec4809b509c0fc76333579dd84f517f03d62e10d15afc54963aeba126b4528aab090a5a0fe2f2d05e3842e6d94c83dd99398d7337bffff3a825d9b4cffa25b1e080a1bab4c550e911133d46d5a1df34a82ee1b827de042afefcfa35dc8d8586faaa131efd89ec8038689b94ad80971316ebd76b8770b25257fc9b30459d12a3f05597ebc7416dbc9bd8a4b4039000e2e6eb879ccab0873853609c4b98137c5797804a359b5c17c5851fefc7133ce9d6b8d725a1ba0a9772b788df62eda78ba8a738cfb948ff376d354332a46faa08fd7fb952dc084a2125439478defad018207dcbed3881d4fa79b4e9cee4aeda6467e472e91ce529a315ea0052d2b7c3e0077105eed84257ccf96cc4640389b39c380038fc5548928d545c4ba136d55583ba64d1b39acfc5ca556b7bbf384a35b9e285b4199137c732901bbb40a5c39e3e3dbd9e1ba164015bf2dee550874ceaf514dcccda8d0f7017e1714621bb8bda2cfcdbb8825c4e289a142a4792605c2926a039fe4e24b8bd472f1ab03f46fbd6f0164f397b69d9185560fdf4b02ba221efb2ba0cf663935ff954df0102461913093c1e059ead5ee04ce4785596188214b1428c1405562501ecce47129f658fecf8643965d1ee2e2e128f7dbf2e6f8a7fdc0e0fb481bb8454f49761bef979eebeece4b2f0b61fa27ee2ec119a02901f57246878cb0022509f541c13a087bc1326b75237448ab02f8d12eafe818ba5b500aa797caf0aefe80a6ffe2c0f7fc7b08c7da963f2b0d7609eebf30fb3c2591770cb6a13d17305b45ce6625a3dd8a02b16eb050915221bfa31cbf7f5d1be938febd2dd110b7f18a4c99f0e322cc88392d6aacb29008682ce9b1fddcc72572134c59554c7674482e37b81c87bc91bb31754e18f47f82b0dfebd9629044598c8f9f33483d7b0471f9605e6a1d48a0df750d35ef5c09685b01a25f1eb68699d08bad14b08f508fe7c83ebf396b7851776caf898590884c9e063f6b8aee5116c7e23b86ab5e59d80f217b8c3e30105312b068abd1b6773ae6caacf40a8f491919a4868b2a21e9cf46c0ff7b022e6d2d57a9f5a57aa3ec0e0fae53db14008b95e3ddd6a454103061d11da6b5cf20cde8da2ebdcecb0951eb6aedd9a71e71742f6429eb63efe02cc063a2000e380197b2429340b019dd40be8a3af4254bd6934706c591a96f2ffcfec798324900d60de9e2f5620da41c607dcf5176fb451b6c6a84ee30a84616b1e1b5859478b18366b0fa073aa7ad911472d131fe495eab7c20d47a24ad1ac9489bb2b659ab5e4713cf6c388bd46e2d0973610116a9c6450797a9ab529e61b7025942ca475fa836d17409828d3240d09ed41bbbeb5284c16732111520f0517564a6840c250586ad7883ebad914f7e7211ccc6c556891190659ad91ba820b8aa411ddc984fc805b070ee4e307136829de9b8cb981ba008ca7fa11dd564f6d1cec6e91768073ba817f06f5440e8827d091c65a9139276b8a0208538ab339466c1b7c44aa3857f654904e86a69b63b6b641aaf8e9471015ab5bced063cdd4c094d5a567564d21352658a0ed53466fe56a3be78a4ad12ea911729fdc639a7079714390a48cf2b6b69150b6fba029d3618eb5b28de525a5843217bb74d640ea056d5e0479376344c3f46735c4a3991160ac73eddff5cd631a27e9882142fcbfceb5c2c65ae80c2d2fe07e1601b3f75703e9b9bd3e01c3bf76ee0c0672db0c46f0dac4d091861ee2a2a6c571a39f483c143da142667e4c78d0db90f242be3b4a4860893723d72c1806c513f8fae547f5140f766db4d3787a9abfe8a90edff0de7b0ddb2f68c95d667c5cc30d1203c0b8ce0d9abd45d279a5b515e5acf0b5118d97a32cc46d917b86733582cbf0654c8bf23fe134a7d9c95260aa6cd5cd7466e392af5b6bdfa5206c3387f8556f00e94bcc1d858e1f2d6306fcf18657cab5d803fd7eed97cb25a9fe9c9b00607616511994ed6c9437013936c7a9a06d60edae9ccbdbfb4c2d2e8f26d5ea94efe6e78934181f8e78a80249670d3e39b87b8911caa238ce2bee37233522d6f701b82b9aacf65e8dd2b85e6d93dff3ee43f6e13844f57b7eee2638f27e47d3a77a330509454b5dd2f8575340dd3fbfe348635498c50d88ab99675602bc0fa1ec12f23e0fe695e49e27a5a3ed9481742e5f84ee8867ec4ae6c6c4b7ec70c9d057f5fb0c8fd7b1acf39510234c370ecd5f873023cc027ec55209cf201ca94e80ceade90c83e85ad18d048cfa3dd45efa890b825d34c04b944a63d0625b43dcfe16fe7a453958fe8e24639a1215190ecdf0ad49ed7cb228fc59af7ef1596bd0e4b2ff33d962935b823d1a81c9ff6cbf83ec167366a5de7d264ec6891962a85c7f7337b8aa42fba666aa2da64b2be9091fb7725d3a8204abb48fb7eb3b6e1fecf721a8647b897761995b473691fd8ce7ec9171853825e7fd9d960ba86c997736c96e2cdffcf23c3f7ceb7e26d4576529c59f013198a6b1942f2418e80465347870a65bde03ce0c4859df2e80797f56649297a2502853f7bf273a068e742bbde3fd0fbb7ca269d99ad4ff5bb90ef4669cb5b05ad7f943001e2b6480638afb0331c8af4d710d2bbd826849800d2bba6d97feab8922193de35400fca393ee357ca0831b0d53b010315abdd476d7fc976d3f94f6c8b86b8f8bdaf3dbeb2a81d629a152629515c4bb5aebb95d835ec5840c2d1dac28d1b0d6454ba193254fd9d32ff00eb80059d46acb88d2fd3e5b6d9a446002ce2ad38eaa4107ea6347d004ddcc6517be39e20e4a755b2ba3ecf6fc6c22ea2a5f59bd9fc1346a932e4cbf7f05b5ee36af3878ccc1895b3043e2093914a52d9f0b73cdc3ad4e4ed15f653d1a521f6837e1dc72af15880cf78955db14be3767a51ab79caf8cdba5fbe7487014403815c0a3344990c3f06ab59e1d8a1848d0f438714e25b904dea2498c37e2136e7b1c622ee9db5510486d51079a367a755e4ff1229ebad820d253476c39040e9cc1e2de71d2af5fc2f70e1dc4fad911955e411913f658c803aefa95e6fbc55366eb1880411e77531b3aad3696e73cbdbf2e1f4c76be5d7a86f4ad96d67686ef3ede2bc15ddf61c283067b45e02b2e7ffb64153631e5581e14bea1a5ce0facaa83fefb8fa33d04fd08b58a7386e6f15e3e0fbf2b426b1938899e1f809367f1a2a552fd8a1fe4b4153f206e1c41d93719f7aacc8af7bfa2b3225dcb460207f17c7a10468c59df4ee6e8583e2e72df96f84405bb1e4bb6235e931b061c5190d3554be54be5e539601692d35037f213e2d8c07322b469d47efaff52241bb0c632eb9285256e2e5f18d0fc287dff51fff4280a4429fd48aa8a0b88699e36089bcdcc06c4baa7d50294144bb55eb9e13c24b82821e0e9fdea782a507da2daeae63a99e8e4333a2aa2394ece3b0c80695944df7ae109b21cd7bea7eb8c5e88a5db75fe6d4d875a2e1d9148dfc407e2ffe979b64af1bb34275c3a5d153f997989fdeca4c8bfd5d8989b9414a4f9b60fe36585c6c252dfa88749a93b7558f70d41af497015081ca1d7a88d012e2795613f4ed665d0bb038c4c7e67cb9a69ddf074fb2f11271bb0543fc7bb8d11ec326d80673286a2d8f450ddea1b41146f6e10cab7391b8b44cfe86ba8219392dfe68e4e43fad1d5e8f603997683cfd04eb379afb44775c7b5ee0c03b1fed85ff70b15c8aa1ac7d2dab53cea758aed3bf840654c75b0272265cb3a23729f7e42fcc794e0893e08c701fc924db12e6d2587709f97a25feefd56d3280dd5160adae1774c30257b6d2e3f65e1d9b3b0c2bf3902c6f1ec2f563f2858885cdcc558628f8f2217e6d5dea89da1e9d407d4847b728d1085561937ef5ae5f6c134a490c59c1c0a0efb0b14116022a77c53c53669f00b3ba4d9b0f344dd75ba785b792fac42e2f78678c6beb795e581e48cb070debf0e89f22a9ab13106ec759b566a6193c4e32bec09cb851a8046afc77f78e01d9f7dd41656eb4b0356771d09aea5f32fa1577635e5d866d9033398cc46c45ae9d6662a234d4cb85b3ce680ac7e43d4a35c6f124de62a274a6f1be3994f86dd8da3dc7348bbe73daf8f358b3bcc63faf1b96f6933474cc58f55563fddad94371a38ee875d18cfc83ba2d9ece85f4a1b3c4c2c260084df40ad2fc2c1b5db772fb45fed922bc5b382fc4636a2c2b28249c0bf4f4eced2ebdaa124b1b6bb12f8bf5c5622481f549fab5ad8e871dddf21bc28d2053c7192ed9b28eba0a76f6039e9a999b55c000ba6a4c2c584829db44278fd95f205f8fc8803e25e60f4ae27011338d562caa37db52cf4e8b49ffdf9665a11288f36c0d5fb43d77ad75367d4033c15c3b005b733878806e51e81dfce295413075d3573a985ff068dec84c8d34cc078501d6c7c8511203e656b3976527df985c8f652e8b01d401cd54bc5be32e65543563273ac0dfbb4e9d3a89931fd94e6709351222bfff4416cbf2c17cb89450f5ec6fe9f1f359cbdfcbfcf674b6ccf1beab528002a4e2818b1cd078fcbe2bdcf7dd92f9b82b9619e17a926da86d3d724d0af71fdd094dad07d0c001b932328460cb5fbc78456407b3aaf0156c7e1cf5b0290470743b6cae89a834a4b1e09afaa40ada2359496e11c73ab718c588d7c323e59c719b8a64b51a8ea66927d1785f2ecaa225a3970c7c58152b776e5c829f0bb1a6651cf202a809a03a61e4ff2b600a114944cefa1f3ca9146ee6cb858e738b455985ced989211d5b30ce4198a422bb7fbd7ff8b08adbbda6a9b13e44953e7571dc0418d5f1355e8de57a4460ff001a20fee32dd0440f56bbd4753074c2ddf8ea3ffafd9429606010cccb2ced267e396e878684a7ec366a15666bba57cc9474bd44701356605fd35df2857b49d8430b58c94471d51406618e83a432aed5565540365bf7ab34c097251fceee411b08b5a7d5dbda04d65efb6861d6a130df4347d8b9c77bf5e46ed63806c89c0f673221a96f524fdd9b08f5dc5917a141ec030e4cc1675ec87df5a2273f7426cbab7cd607617279706d55dd8896d30cb69a87679401ac9e6ba49ff767b4800ceeb98f9c918e6003abb483998bd1772eed353b0641c044181c70cfd33a49ef152887420306ef894126a056e97cd6782a3afedf10d6f3f399a4da1d451e61f5b29c502840e372d7d862cd7bec039fe85899cd40592bb81f3deed28c26946718919484472b1a5b0e06d1adaf7d8b6390fb91efd03350bf51a1193ba366453f2813350155fd9f5b16f6cacac661721fea48ff551dd26e2b152c1dd389d2ed5412cf46dd0c2667ce63f2fe24f0750b5f16ff5a4758ac7497e8fd2a6ae77543d4131eb628fd4e661e0447f67715a2c504e91eb84ff2d12c66f9a1d645118f17038bf214ced16c2bf782befd4e334d2a24466826c1277a42ea0fa4bcc6c9d5480ddafb954533ab5c7b372cf4c573c10d1587830b8bcf670740951316006ceb7b4dbe84336046fa2c9bf877ea5d2ede1c41625a57a49f7a9a1ad40e079e3a7f51d632e0b29697367ce6c7a3675cf52be03bef507d615f74dc153fe641e4e4da8b79b2fe4d9ef4f3a76a9a165f9364a98147e9d423c506404db1a63b2c94f7cd865ff3861fd0c5ca5c20d4625377a9171197b5558fa5f03b14bffef2e36e4aaff29405337a7cb636892433b7e4a7e8a713e96ab9eb4c1a90497bcefe57c0b43268512bf33f7063ae63a564ebd84a3923e07a5d6e6fa823edc49ade859400e534efdd5aad503f6566db3e3c61047dd982506b07bfd39a467c2d010907f7d9e1f6df127b0e79fbe7539515d8df7a70af6f8d6f688057a9f9b3ac62621ea97af5308c5344f40d00f1f785ac8d0cbffee92b2e6f1f4bf0a51e6d235fcc2bda8f37af661ad6cfaf5f3c3982d80e8e1f998ad3b6d97ca54d649ce44aa385d7f39e18799372348d235e3ffff346b2b5d12da6911fc5a2f173c30678a662670b72bb8dae2659f46dbe8eebe8e150c6eed4f9ed8ae86b8c57932d949b085bb1119c3e78ab380a6c18501684ffca1212a238b85eb4396b405a78940e4d4843c4b77eb2b07f9fc3e38390b5a1b3d8788fed1478ab409e843e756bc42bbc1d1c9477142db6004742e74741fbe5200e427f327709fda33dca264141e62e4aa2c1f8c99504fd0778d1d0065110842e16e6795c7f332a1b17dad6869fa09e812b545f6ca171c9d2da1ae3b7638b5666311f486fe8337bf21b2b268179088405c9d55969f37fbbb2ec7eea84686e10d6ee4158759de3b4cc95667e6a69cc2d1ec8266612554184e2098bd45fc7314577f649095bfc3b99e76ce33798c711caa1d0ad36b771429af6300089ac17d13c4415257853862837ca8191aac2bd29bf1ec0c0448587c0b132f14666b3470a7a7eeeb6369045dfa1f87d7de69639ebe73285ec7711773c02532b4727ed179bddf3e6ea7d4fd4a50bf7e2736b70defb3568d9d5acb1d0eacd236515a9db9f475f777a409cf9369db9d7bc3c6e583e9ffcefe754898a94724fc4788c8898195d89c40645f20a37955749003b72376936d4e830c1d9199ba1c3f586c424044cf4c89c73bde110b514220065ee482240c1ee8f465ea486dc9dd4e87a6f2908250d19ad9075b38774b174c6ee30aaacacd17bb8640e961a9dbe92f0df8d3f6fedeb1aa2f853603e5cb663bef5130db7443e498a61325d0120cd340d2c70d52ed2b7063fe76344d837b1f7f3cbe46fbe591568a7bc183d30e4f4fe5ae330dcfd350297f2c3bbb9c14aae2be6097260410436c4b8e4d8b5ff29f330c623ad7288cb61349350fccb97e310378a8efb127485240b04ee594404bb3d7ff819cfb4c8be254fb30fab192a43b9d6ec36b5d8b8ce73b5374cffab7c67064326e5a81180ddafd48e53600f1212d95b724582d87fefcac571d16900a33dcfd4c53cbac73f29fdab0db70d7b9e28dfcdb0666cfb7896b41f9eb8f8d657beea082e550e754e7fd634af9458898cf3d2417cb40f82535707d26060b5b8318788e2518dadad5d482e5c6282f93f02ad8ccea25c0022000f744c81c07d373cfedda4f046c0cb2fa7bb36d08e3e665c29357980ae7b144e6ae7ae3915551a85c498b5d60acee0a96285cb88ef329d57715c8b81fea30a71cda2a18c2fc820ff5153e765e5aadbae5f97ea3d611446918c8b16b67fab9cf186a83a1e4daf7b71c6b43c3bad71d97d242d15027ce24c549db80d3e002220896bf1a3acf14048351b25c4cbdca6f0769c02afbee49bc967fa3b2eb5dc212e4afe1b1c58787fad079bfee12dc827ee55794cbe0045c22cd6ca66b1e73234e18f802e7e55462d98ad95524231e29f5146252e9635b63a42d4f2f36622cf4d665d70d9cadf75839903eb862dc0146a96e2934b5f119065c12c06fb7f09104041542c668078b2b3128b0733b59f78bfb4a2371d55ed8eb2fc8391067fc94872f135b294ac09d22c2c06fff25a45b5fb85dc44af8c2c4b8baa8fca8c628f4dede7ae3cb98f6ce76cb79cad4c07703b38c61cb8d461f05e08149a617786e9a61fa98e8bc98b69a9e06583f5b45f2f101f52972f33db2dd2d60e9eecf1e06dafd59dd00bfb576a146fb3a75e18cf6ea4711f8357336ee0ae557ddedbafde862c991284a95957991cf2faf0fe71fcea07c5ccfc5045eff517aed952267aa2480f9e02c3aa8a6b668e6fba29dfede1ec0fe6a4b1bfd2666ae29f3dc43ac903a4a0afde2b71d2c5a23e4d7e3ce092fdcbee71520d9251822288f7cf9b8be592f273289f82f0faa6f602382f31311340edea23bf7911c460535ea15ce6a5aedd1981d16f6e5e9b2a844f3ae427e08c817d8eb2826fdb7e7391de145aeefb1ad53a8a57e59426aae026c52f1a8b2f4e06fa8c6d3bfc94fbf318ec8b23236d298a24f035806626f89dc9b964e560fe4c5ddbc5976723c13cdabfb433b626891a77f51424bead8bef89c8b973d0ab0c552b2bf8ef528e8dc6a176e72b1554642a370e47348dd4ffbce1d6081d75696c95a1987dd50414c17f6a4ce8126878d7507584c1294e15b2f9c54d3a9ad2fcccd152ed8ae95a525ff49ef82603d4138a5e63676acd65d3c6205b9a04abbe1f399cdfd080cb582c4c2984fe239108a75980ae8b3a5bf9d59350453232d93a0db2d2c177a4aae62033077b2766692abf07415b5bd879d08f715d3e63c3c1e645eea1ee56554954573c432326ab79cbcce9250c288fab4173457b3c8eef3b2d42864d8ed8f94a4547cbc69692081b986f10a3e7e6c68a639a4a726a9c27c46214a367af91e1ffcd252b825dd760d2a537464bc029698eb3022a3710ce7e555ba255a4d3311e6bd96cb68a02d502112410e4728dbe28d8633803cc7115440c532845f107cc80a42b508e42ec6943df4ac665126f1ab58b2333670c5b7a8dfe631baec10f58ecdd9c53e1b8f40336215f2ab71d59f43f2d3580c9dff37da6c7a6fe17b9d0569479b946c417bfb491bca86f516883e26bfab7e0a0f45e848d896260b445b66ec7c01062ef3d3fb663bff48973872e1f134be25dcd6e1c44fa25bf1fdf746b031c8827bffb5bae388a00f38740ec542db39fe5bee9712a87f36da80f081071b5b209adff46a87c19ef9428ffcbeb7bfffe8c809853f0a7fb779c1141c17a892589e0cc343623bff5d03085bd885c7291e82a48b955a44e6c720e5376479ea7ece26571dc51ac54773ad22d3e2e982b0adba36100e6bb20993c76facdb824b4e8a1d06cddc39b90d73beb6d5941105dd9eaa5321e31edc2e2e8834f500b01b2ff8e56e2bad0ecd8ae7289a1390e48e0b1fd5d6a0938f28176a9456467778443a6af5f8350a00773abd2f95ead7512374861578efc49e185cc01c38727c8f2e1ec904241f0f34ad81b0fa3acf9f05c167abb4eb63359f503c36dbfee1a07b7ddcc2dd665d519c54e47630375bca8356be2fbd07e7e25fd6f52821980711ab59443292252ccc7dc2bed529cff0a0232a828caed5bc0f9c0be8ff7634942451561c15d68da1dcc891124c96466dfbe0ef479806a7271d006b323fa20814e0885e0c05bc8cde3a2659a4ec46d886ef24bbcdf7cf47bd758860e797c0d0d81131352045d1ab4e0e0f6d3044a635d1238ad3c87f5f06cd1a3987167981ab4e22f768514f7722b7d35149cb92c036102235db35f85865e924c108abe8735bbb3925652ff30c7d384707667394c673117b98e8b795eca97d9066e1cf04d797482bf75ac6dbfe6cba98992f54dac3ebb5c62deb1d28153cbc804249d6110dd94f4e7a462164150883cf998eb89cfb6e370056cc5f54105d6061eeaebd1d3c3fa822e00921a4ad253175b546076cb68f5725926c23afd986d0515cdde2282bff9b1d0e640f15e1ef7ae87700796e24426d58c3ac3f5d7552ac71b403ff25638d33ecb11843da817b5ade9cb92397a0ba36a0f1d3ccff5ff3bfe32f93f9f20652462f6be80754a2e2c73d9742b563bd5f6b2a1895200d28deaf38812d220970069f7aee9869c9539335df8ebacdc315a3e212cdc12a6b7a1df8887cf242e484f6e0c4be28f894e22c569bf0604128b5eae9f0291e0ea41186efc2057734ca1199c6b742ba39f1b8f85a8a5bc8090f713ab6938c3c22faf120a60a9c949216c4fbf5c75f22b947a7d72710043fc08848a7a3bb4fc6c70a20af0ce64bc2d7d6dc4f6d4948555f54a0fa5574f10c85b3555b39c81db3fd46737cfa683eff066de30ef126fecfb39671080d415b71ba85c8181d189299e46504baf484764fd8fa396b9cea645645415b71f6ab54ccfda1ba44a9c0a68766f62e8658f8fc5cfb6142513c0564c5596079bd4eeca15f902e4418af33c9af56b1f8ed87af37f37927797051d200ad901720e55ecc129cb8e6815c595f244ced5c5b81ee5042664317f11af2bb4319de5a9f7ac9e51a657538958b03d32145915ab3d6155b9b21aecae576f212d7d5cf60144c80af7513b882645b95a32fd419632a363f6a6ccaa6a0f31a8133d102f28dd82eda959b56850d65a4b6b9ba68172afab2a011bd030705f0b54e9b2e597caf1e918366802ec32b362b57c8cceb17a24acddb722dfdfd410b4e0b2e80a2b17276c9208f9d72f3ae779b282e356faa280e75e0b495943bb869ff38646aee0605deca2a6ce333c9b6d801d4c990be165b14ba625521550aa00632c1c915df01b564e85b417efec2200257573d0e8eeabd8f9bf01413d445104c1b36f3b247cbc9d2386a2a35bdd4d6ed2e8a469eed74ebc45a015724d7baf32990eeb6736749fbdae15dc2eae Hey, password is required here.","link":"/2021/02/19/JP-KN302/"},{"title":"JP - KN400","text":"8d229d8e47333d3f189c47d25637efeb68979f642698e19acf948344191b8ee182e253d69ce6fbfe5058c5bb5f3f2d533a08bc904db5620138d186b79f855baf69dc299558f683f2594c5cc097248138d178dfa07ddda28c47698386d5cc05698ab2aa799457b05a082bfbcaa8a1f9cc5d26f572d6f1b9d3341fae8c91b6106ef6f74d9fffd8b199b1bfe02d923284ecae54c9e86f59aa0e70a500f770bc6b552a0a423724dc6b59eadb79b3d570a219c96d4b9f0b225f5ea4e6f72cfeb04c6325499839cc4a70d44621edbe95fd71ca1c94dd010618f25efd5c89fb2491dec8167d57f34aae07f811a1652b5d22ebc6d516a7c717759c675a6901d2f46905a0d37b520a5b09abeab8745897bc9335230804c16c712c411279ee5748a86297d40085104d1d9d27f7950c062f77698f788804e88dbd883c3c6cbe9018fb1c511b8e617a8e589c98f9c376c093905408845087716fa69e63da2ab5d4c51a12b68894765f2a1b44fab4c4ce64b5f348e6b9c822e4644ce2361206b190e1a9b96bac95587d418558c878032d5591c7e1ef74f6fc15012c3063214cfcb3e4f3de95a96e352d6a21bd19d6ab6b223878e590f642e496f779e37c2c5232ee6e4decab5872257df0f125f879fe519fa65dc23922f772c75f5b01058b0d6873c8a1bb0e0b02749c7d4409dac1f5a076261e12a79963cce1021b254e5db081f2ae715fe47eef6c64d2bb2a53776c8f35884adce91e3dafa629d859ed8782067f48777c850bd68d4d1400c0f2cebdc809ceb90725211d4e010d0f4e6928a388fc0ef0a9a09abf5ec2f46c98aa86c7e4935c83355497390d56229cb34c83f5895eb6a4ce1f3c14303c7f69768a1b6c5f49aa324d6cedd180a8d79db8ef0a76cc07939f5ddabf3abb90cf8a2b178aae45ff19da2888d5300a77fd944e44b1cf06bc793e61bbd808a6f8a46dc42e563cc707c70f64b6e7c09d996bbcfe85368bcd583ff5b5b584cc02185a32a246ecaaf21da37cda7f149be5207f0b2797719bf6c5c10c3773a3bb9109af7c0846ff83285e22f3dba01359bfc76bed2dc390434d35a862b88531591a3f4bb911d98eaa813681a7c7b3674313ab94ea6d0dd6de82860833b03c1d9f749f3f531099b4abfb687371850ec3c6f2917198007d33a22cc0b56f51cbefe274c75d6417993602fdfd2a00ea3476f1baa763fc4387992e59d6ae502a5fed28a455048759aef4d3dfb34818aa64685955fa599320584738771e856ee75b06a40ceabd808e7760f4b79c6f233af16bdbb4b07861650e0fb83641faed4066e6f93d001c51ad79b3921fca2cc5aa48496f73088ce8383d22984d954c889f7aa21860a2796d1640bc293d445c59e3568825a87a58a2fec4ecdbf57f9bdc52eb1c9790c912f3b6e8bdda62c8779f7be23a9e718fa2e9bbd12e5a232c1a6419e9720c4989d52604860b3f01c0e3bdfa9b76d4d6dcd467fdb42ef1c21997b36cee7fb3b88794cca6e5fb1a9b5d7a7be8f849e8dd8c429d00121a65c243f7749994a4b991edfafa3eee21d2c55f696ccdf2a9fdb5d98897b54b9e6dc22f2f4fa379860fb6daa2f3c1d72ffad563e96f31c37502da09bbb5abb66c43321ea1954a159e2f42039d27dd4aa773acfc78115a8d02aeb31110cc4be9bc5b5309f94d3bce485c6e64fa82b624a0ca1776379b1f11e13c659df86f9fd3a42eb07a6e2e2a8cb05233750fbc973308576f9c06ab3f1dc434de218cc12c5529bddd2b5fe6d16b03ddca8ea68d739393b02120c37efbcacb2114770f3cf0b783edb03da037439015ee87da3fc9ef707a7b2bcb05e60ad33410afd8724744d61e5afad25415edfe89a735ea8ed9c75cd963692666ed5a2904615e4cb687ef1c1b354a5499d7eadb77d8f0613c6fe5ba63def61d93c09971073c44d8d399b42ce7455eac70f1eca0626b880d24c54fd71ee9ae4c33c373f72a10d2cfc701bd172dbafc2f79d7581050dc1a43ea9d847d607c96d9025ec5a16c800c180060adffffcbd31b7ce46b4c99e843046e2eb11a2fc79b56e608550a207bd2aceefac5acc94079c1f7743238edc1841681c4c2f9ab7e2a5f7380d54d5bd383ea94e8bf1a52f27088379b7c4620ca1d8de84366b1cdccfdefbfb0d7fa23074f94a4fc27010e95b2d48edd12a63341afd95fe70655348942c03b41c0aa8b7af422639cd82728c1a890a671f0015afb0c68ebb02c27ff679b30b16be13fc1366c87a4660bb0ff53b0e6e981b4239df8ae01b51eab60449b8a02787e42502888e7513e321523a7a3ca8f18feba2d29976cc726162abe93015c494767f25a7035c537ab52e6fd4b1f1cf24bfed14f4dbd2dc708c8ca399bea9c8ace7e603a61af3e8239804de5a8eaaa1f4d1ce511b5f744e7dda12ff7105683c4df1dfc20a400ec16ecb01707c6d433efdcb3ecba2591976b0e78b03efacda291af45cb09e20c6c49a36016480369312402ac0144ee19aa7cf3e35f0a1d66f3676f91057514fb645ece4791803ff31753c7caf414df13faf88e5e246f8dbedbb8141c349e5637680ca5a543101f9f4d000c6edce2fc7f2b4b73231d0f9d7d1d285d8be1c4d9ac1868e231e6ba497b7809fd943efcb8e43e03c791277c5a9604bb31179405a97f0b7cb1668ca6681529afb946b7d5a70497dd1e20d77baba3706f01f8fc3968b7a906feaa382fb6a8152d7ebccee59bd5294007509bcf480ded945acfdfd63d62bd7a3f14e4e83d69becf57c570b6f5bfb2c4625de541407a1c8985e646bf56f43236ba2fc0bcfcc97815b94d4e998d58e2aebcc6cd3f7a994e93af4660980bd7ecb6b537f21e20b2017134f1d709d4050ca91dc20ee0a03c9239500dac744c0d68067af8c4a78723b711262341066fd035ea3666672f24653180fbd32bbe85cc92744f7abc3696460f1da44dbca08051ab0d35283d14ece80ce15364792d56742fd7e8f7fda90da4b1ab8ac176e61e5ab13ea5c528fc6c50418b5d5dbc5a7e0b2e4c9d3ed61f52f87ec378825e4b7a703d8ff0ee97953cee4ae9af9581cb96587bc248daa20cadbc42e5c40fe11d93ed43bfded0b1ac354e20c80e47f91b3dddf039d833aae4f86fdb293c01813fe5d39a42217bb94c0b1363cd27eadf84d2caab0187a5acf9655f0bba4b9b958762a6f7aa8a56d0f3ad09622c0b1433ced0116cebf5fff1e3c4659dd54339f8bbde2790cef21792ae77447c7968d6bd8c3ef952dc7a0b1be40507501cb91e64fe71ccde191d3ffc185819065f79384b6b49e4479ba7ca46ca85f156e6b63013a9183ed05c1c2244f9ec929ccdefde8d612109a4be0f9633d918a1e2c3ffead3902f5c19a42b73c9c427cc44730ed89c0f4b848cb63e79256827bd1f5a6e6acefd3a45808db04a62a14a075f44b0cae46252343b8ed6ea3a18927fb23479c295135ce8d6386a2abae8e98951bc2b17cd1a70397eb2d7e41d1656f1f7af03f9b3f349570bb75366bc3569d225f115c8652c6a0e352d63bdd4dc8664772e712d5a28f50dd5c08b23c95706004c1496a47db16d2dc9a0d13df94a2deda15210911ab8102c99cba78598529aace0872afb76fb46ad52435fcc90118eb7571630b3f24bac382dbf41a13d7e6378f7dcbadf12e4f6b17e82f52a3fcbd92041b9f91f1e1ea430f6ca683b768aa1d2d63bfa1e1717dd4f6e173192a3a389b982b914e23a9f57582d760b4bd681b284a3373a3e1b819ee11faba4fa4c45f07b8408bd54b0777603720ec69300aad8b0c50e1b8c1863ee5ef32ad99735500bf921a54a70d911e244375c23f5920f11a49e5a4b3cf005dff561304a397a4e53090df91f29252027f8deef1ca3bc5555c3152797a2a9d65954b1228eba4aa058fb05e14139b17b35a7d2374e61b956fc8a49f449e6adfc4a850826ea56606fcaac375e0891ee1e819c5d34cf174212194a9663190007dacee9de5863bba076eb7a27a6c123d33db7f8faeaf2d66e5d3a07b9eef52c59dc93e94c9546172a488553119333214d7e6a65b0b724063440687f015233eb6e8ea876bd443fd246d500a5422c7d2840b0d667fe1316a78b750810152690db422a766f1bffd9efcca3f6965e8cee821c8959f0fdd6250566f2068f83ccfedc1adde3c5f6cc4eab781d5d3192cb6a8bd274b6ec93f7b382698e28a27403567422828e0c7cf2892bf165616b1e71be7617348cff7f51cdbae84f87a6269d91d27abb66be0e358b152b2c38747db1fad7727dc509e476aae53b9577bb636bebdd816dc0984c271345f5677b561a01d075d8173f19d407bb56585d920fe70cfccef2cd6e39381af44838e548c577e7f9dcbe9a2744dfa86508324f651a98db0e74a9b3f6810d962aeec86e3790c9b2818e15b85b85cb0cf5a161de8a2866adac847306b5b0a283529f9a833deff7bdfea7e328093f488bab7d5f0331edfe2e7cca8b096345fd9d4409d016282c10b1b530a1005d9152fc90186cb46cf3636c5bb4d052f53ceb1de321fa8332d732ecf8fc49372da776b8558992a2b088a4cef3e059513f8aef3783d24165a12ff08998528e63d42f7eebd1eb86116ceb8f393d524e578f582479cc626e747151574a0f2abcabcf0e738bc6487a9af1d2c8caff41808dbac5d0f185aa53286d9c3fff25ec3a7f78721a30fc87eab4ed8b3f40c80455ca76092c1cc053436aee44ae1bc91c2765ac764dc11ace65c146044369ee81f9da7f3367dff66842bc69c0b6a03a61d5359752a77e33c4e159dfce7928adf47a6b991ea37da4d6a7b5267be1af9fab4b86dd15eb38ca00ec7f10dc19876adfc1068ae7110c4d10a4c42b2ac4dcf40862bb711eeea1144d55681d4cb7d9a2e0b285355fe0c9c9cc1db8bfcaf8b0346fb62233ca645d1b134803a2cafb67f9afb55ed5bfedd3a0637911961e315fabe295f0ad5beb7598dc9efdbfb30422d66cf2d60ff273998e614cbcad36e3e85205d0a450452bfec76e3e4b699d214c2a39e156398bbf7d514a071094a9cbd995dfac05cb3e92a9117890ba09bc7131d84e7c190c10cbd8bcae498b6aa834deec43e3ad3da90a132b8d21624b4dc42fd37ded16b0bd2634221a60f07b0d3a2392d8313860a5e68e22623beea1f822239525fac03e9a1c3a2a26e95c66bbcfe8d5215c7c3000b686dfe6550a912c2903221963a32aca2f7edf1ab0a52125e635fc649a9155efe0fe0e37d33a519e9cc6ef2b429c8b8f6e481e3a6a616843734dd0a5441c9bdbf020e433bb240d1f4f8a67aded4bcf898416d059b134dd32d225ecc2d2977cd6ccffc1075ea25c8e8e8bc7e2e0d5ab9479d122bb41fd75e23934f557ffd4c64b9decdcf8f83286d679b551015f2b218e06702496d0534e7e7cc7c5b43264fab25f96a7b8c20adc4fc7308dfac2835e5f7b26582a7f853757617ea478e37fa330c2275c558d1bba798534cae37613a3dccd4af77b4a28d05ec70c25ec83d4f07f1d4fa13dedf8e905deb22da974500f3552d56f613c7eb2ec1b5eff01d00b0f831d43d27fc67ddb3f05748af3456e8784c38a4fca0d1cf442fefb1e9a33fbd4f6f63c19d69baef3f289d0743b6965dd0fb77cba86a76a1bf9f5228cb90d0d80da18331e7c6faf6629fdc339f06627711731310eb8a8e1c7023e48c2b61ac536fefd324b494d3ed380fef511fefa28c073c92046369a80e19779d94611b2d1c83e2cbab17efb29c6a270d1a4309b236970a74242660eb8aeace8720cc062d172e921fa5c3929717a55aa8f5835a97034298c3dbefe926708f7f3fb075bfc2b885056dfcf5a580acdb0dc05e39db408956e143d2b8bc7cf1db2b105d1c66a59c372d1aa899b75828ef958a4cfa5fca94a8a83ee028adbab57559481163a1c4abcc31d65e67a77e17bc1db448d153e42b6d67fcf59f3f4b3ff96f625dbd8f60275584239d67f3f7465daedecbfd8d7e0d1d99270c180f2f0ea28cd399cc64da5891474286daf8231bb3fda2458bb3ec5d2caa6fa52efda203197f15603c70216940615b8ece727ccd8563f608c80b0539cb9215a7da74c85a157d701cf9691d6ca46745b7bffd25ed74cf4305903c66ffc382d71c3b8b308c7c8edccef53b3ad127907b4ef023ef434d84255c8ea6cfd5eb5c7a3db2480360efdd60516ae7fac1c4e806a1a18744cb48091c9b1a4e6ae4b366be360d3bc76d05e48c173859b6a6da7b7ff4cfa3a53059cf68266eafe07eaa53d56a3a9426d7659f414936fbbcb8ab92e58d8f5e94c96046e9212a85f993ce4832b1a3b741ea0bad937eea3f5a54834df76b803f05637c530c0238394ae5ad015dee0e5efd4a26169897e153010b1538ded1b011fcbf334193820b199caaee4fac1cf8a10c60ba8a82d6575429bcdda9145b27e8d67490dda1c13eef5e4f09acccb65da0de7c815426bb6265e4b0b27ed24295ee04436bc0f77f9e99d2f73bc0b7b251c86409ea6934402686d6d091ff6c50236d94da2a4b453c7f8fd5750b305d16f58c93443c799562077f86611cc7dbe15f5f7cf6952f2b76fc68aa2ae22ee2d566e9cc36ced96310e623b83bac8de2a316b0a380f86cedeea06b1e51b23155d2fa06c45a0d945d7de9a618374be0ee71109aee1f4b35e2dd01ba9f25f92d4f7308770e720e6cb719b6482ae1cee46f97de025dbfdec0be461189b7d4666c64d357cfd5c9225cc84da957f08ddc4282c3fc4094fd262b76ff76bfcd59a1c631911b58a1b44283cdb2204a480a164d1875ea3bfe4bf3cc32821597befa104ad3a20a1fb71d78dc9332ce4c5cd6e2a7779552151e37d23319acda36851a934b824c33ac0b6113588d3a1da149c9d8ed5c44b5a4c503c57244c845e217c9ecaf7405e40ecfe9a855b88c3c7ece32843b5516cb1ffefd4107fdc067564653ad360995e7b9fdc66fdfa87ea19ed8093a5e2a57ab31a80ad49b8a3084132e8a8d6e18dfb497f7e7727091ad503d512f20e01af94bb3121a0b01c1579f58cb1a423b46a510a2779a380d3200a89c09ffab6bd14e0a4177890a9d88840511ffeda393c66d858cbbff15ab74cfdbeeed6c2643ac30baa3806308cef307d369884a25f740038459555c7eb76a3802887cbb2dcc8b52834f94fc52722d4bde469a63d0cdf222d353b498cb0737032c17c9f913c3d3cf86adc784ada00291ef00c38724b25b41480f1879ca5a27d761d18bc19b86e107c45501bfe10a192175ff307265bb7fa05239828ebd94f99847f53a403296d008706d5aec94745056642e3e7905744c47bf38e0de87d25b41387c9930bd54627488d603a10db6c3a887ee8a31c359cb0629e7a974ff91fb2247a35adcd2aa518c4c4d5c895d46d875ff2be1d807c5a1c9dc6e3f62a945a68b45605067bf51dc1aa8906af1fb0a30edc4b6a4342f7d7e17d540a6babc1b4ced9704bc7e1c8df3a87f1a283e07ae4afa582c3b85455f522f5e372cea418903ff06dd8517cab8536b9beb4b754fdbe6b20b1fd014776951c11f29234b221b90b465dec7c538ca931ede557f8e5aec76ee380a914109161479f6c0f9157e94cc3c9cee26b043ce8447d80bdb7c968f2635753973659d7ce6a4fe29d29ea1515c351e4a0047a0d3e2ee0119ffbdbf6ff31bc4313396360ec43b4c486a2aec953229ccdc8229a9cb5e4aca55778eb9901c39f6b9ec97148de6799f7788e511eec29856b7c68fa2bc869f6b80a4bba7407889d8283aa5001b84116bbe1fa151c2c583a19872297690a9442ff9ef72c7af339c5365ff16aa823a536bb5eb76c16f15d4c53888ec4d02ace15b726990714cfaf0d5bdd161507ca86ec05cf7fc0c4a95a348085edd8999ac3c9c842237e14704808b0fbffc3f9deb6125f600d21efb9138b4dd270b3e93b2dd6e675d9613e89b018281f27ca8d56cedf5e5cfe6b248e86b7a63690aae07a677ff4426b60f80b0b77862524117f0830983da1d01907a542aa0070259862b6d34c6de399e34382496d42c8b9546e31ec3c1a684914e6208f17416eae07c7bb2cb48acc31c5c64291afbc9d3ede93e994db39c87083cd8febfc28166173b6cad957f6d44c00e409aa19a3966b5801106229e8071ea2f3ebb792fce3cfbec6ab058be3ad4aed7548627ed6e31a78a738e8d6eaf2e17458acad31e538ddab9eec18cb0cdbd251f05f1ea86b7001514bce1619d047316f004622984fb1764fe4ec918b95d05f83fb0369d62ae0d86c66645b80528280aad4884fa0ad479ca1e84e4591f165ab841fe07a00e60855f10197028e0e8500c61a2d4edfe417d4d7456cb860c65ef1fc865f7f9b6238b1ba09555e491499a614e5158232bc481dbd150ff260a7273c721ea816885e6afc704b360b38543db4b25bed061000b3087a4562617cd8b0625c929be0a64854e657f37f6276ddb1b348a3d77c08054a489f024117e849b0e50eca49fc0efdb764d4b47e5f5a19d75ace99175462e9ae43134cc42821de7bb9ce7b04d350663e7c0852479a5a89ddfc3ff597ed8856dc7625cfc9f3977cc7103c92e90822f9efb16eaf252f367f806fab4863f6961f1c40cbe4853c56e60cec2b81b19f6016d105b677ba8c072a4e28f2a64e02412f64879f4f5a47c675688af54a45a46c037ccc18a963127226a3b887edd67370ce2cdb516860238c346464bbc073a6f2bd669eb9b2c41b880845bda2dbde6edc7fa2431ac185c90f59d0c76e895f4cc10b27eb3896781b1b01f35bb75893c6a6f222652c4805b32c5033232cabd033e7f21b56e5bb1aa0533276ca30943b2adebb00922e98ed906f4986ca9bdb876e4b332ecb94fce9b14198d38973bda433e48c6f8487ff85157987d984ac7d4c916b12bc11b138c6be0c31a89538f4c31e9ed6d59fa5176ea2ddde355f64b6753b5c4ae38a7ae9be42f9c683436834c05a61612b84436217dc21b6e0c99763cd47ed0dfd590e5b1e8f96bfc4842581031c4f1341cb0e9c5e7da67cd4ad57c812459c3a58f5acdee2f4a7445ed95f374e6b13543f751f363560269147a482e7d64c56af9e30fe61920c92c7d4c2350ca34b3b559555fc06ec0ec3a0405e854ce2174b252bedc2306af85a0271d44f9659b01abc6fc181ce946f66d44f45d3b669100f62435402e3c5146649811b37a2c74ccd7e3b9f7c8f99c77ddb6acac8c6ad0444a9a031961f96480648642fac38a73c30cfa6756a4be19d9d6cadec4c4fdf4ec97f1f291073e8845ee256192b69b936e39592e2ebf72cd9afa73a4e7bee7c60b1bee541a4c8e13f7bd534e092c7cbc9f7ad80beeb05aba0361a49c0be052f94e6c58bd2a7011cd1dbcf6634100ce34ca9558e3f844fa6b6f1df7189b46e038db7a42d224f928af8843cc08cfa54619095f5871124336400e70f13032e40f8588a731e3e6a65722ec9e8e1cad11dbfaa3e19737e6caef8af51bd3ba3fc36cd0c76de1a8a9aeae01fafbc788b20447f815fc10a010d144c7745cd962bc5ec0eb737426f842dbbb56c9e758547646e0bc060914f96ca7f9199bd3c022985977e9404ef33872987c19d6c9eaa5bbf142a06f1679b42544de967341aebf2074543aafdd0fbc78ad89729f50be943a20c8c6b924aae3db2c0ab0bcecf9bd57572568471cc5dbcad25998d2ae15beb90ac9817c88b568c1482e5edd6e1e26a46c538178c56fe6b959ea3b38c48ecbf7aa28d2e80575f940fabba97a28b66eacf3ae711132ca62650fce5908279cbbd1b9af35a34c132fab4f53b64be3c7f8e6ab36cd1f8c1a9a17f372d11a3223b90719a5f25e905239fcd1b67b101ea1b6c721f02d27d6660d3dd8a1a0760812e3e82bd9f580ae442de74206f3963616f69f3b65dbd17f51ad72bf9ec774b0b0e24c1fbf8d8e1c5ece62b5a6145eb9e91ef801d579b444d525c4a1860dd3b02f6ea8efcf0751d64d3fdcddc00974d482d7ebf85024015101143e0bcf8cfeb1537a6cdf494f5f1f7f9764fc888b19444bb6ef7b11b2e344df599df18bff9828884d8f1bccf8affec1a1ac0ea1fcdbe73985989a6b2f7ee25841260a81c9247f94c371fb5a2382bc2c52112328f26293205c01e0e251494ebd84058bc048d583599fdefe5a07240ff751301388a9c3383335dc2d7dfc51cbfbe74071c084b3cd854e30d91879c94a90b6b631394c1ef93865f057525e02661602f57234cd2e4271937f0abb00c9b769bbf63069be276052b7da5c3f1ec77fe44c0092d0c08ff30e8b1eae143958fef943196d32a401fe8ccaa149cc0f64a4e15c1787ae08afdd4eb9bcff1b76b0b8b925669f72358c60544a491a04336dcd5919b2406a18849e72526d1cc950b9c61b6cb60aac2a948fe1b7e0ff6e97c2eb4c8fe32189a6c6900c7bbb44c01f6ebf48893df818ea51b6d0707eeb7029b83835015037d0beec3e61fcaf00f0e0d18465401f5e05bb5498fcaa8f10ff5ae7778e93bd8edff85c98c7cb8ab84693ae9c1a29594c5d5206c69734639755bc9a1bf915d894d530ddae53351f9f5c6deb4aa5b8acc02c861435ccad575a422516e277fb2e1de8d91e8da18e52e1336dc659add591a58560ddd6eb4574ff53aaf48e04228545a8f0fe609d9acc07564886f4e0a1ef5dae4ce0c08117d74778efa38e5be509f7d0afcfb56fb540638dd8944d61a382495779628b895e826ac0026047e0cccfbeb9efa7f56b1311ccb1d4fc89438e2f609efe8457cd7463891b80018757079262f65b2165b099e74a7ec77e63b8a19becf6777be4dd538cb080e7e81449591527baf43f68aa1c9be811d91bcd46b05cde1e0f2c1b55bf7ab4e7c0b7dd3d535fb9597aac6632cd1152c1590aedda6899794f856ed5359f2ee26db4e430ff65bf22d20e35f07a403730fc0209d0211d0a25623bd2d10071cdbc852946bfdc0a81b52d19f64a3936660f68146da194ed43f81933b030c3c1b13cc2f132c98c126ef4ea187e1fe0f22fd2ce4478eb39f0e4fb93e99aa5f23f9dd70590ee8a09ad8e2af3c6b45402fef92212f97b09bc57ba09af044e20b23c957e7d740ef454decac7820421339fa44b3bf2d77de85576804c526863703ab66ccf39bdad6ca3a19ec90556188485870fc60badc2a68a44190ddc61487956b4fef3b956cefb70f26625de8d8e2fd7f555cad4e70c1847f5a8d523b656112faaec305d16f9d8e2aef5bcea09377f30bede1ccf55b507ccdbbf16b2e7c412579ad493bf5be8eae8b9cc03c7ce35349cd57ed9b4210c9fcc47c0cfb1157d51a939fec8cc2d2a63c25e2172a41ff0fa3717e87db10054e51fd08db079af14f6ca20dac73df1c4ea88136115c278a87c84c1c53de46a5e5d49daf2da299eaa3ca78a6358f562fdee230e51a3d6520efe6013c4de3b9a11ac7cc5859da7c315bf4d432b870607ac86393f4141846c47d0f62e290c2039bbed8aa404a10b434319c716ef7d27cbcf4d87b0cfc53b0653c29a76a26bf30dc895bf0b73be9c0cb11af4b22ff8221a9df773d9af3891f243cb51c9f40b3d04db8a69831c27bcd8e78287fe85432d4a04c9fb9125b7a7712563530765ef93575837080432668cffed2273515128eb53b94b1d61d196aefe4a31486c6e1b3af8457e3ec5dbd29f06befe92ab0a9b623ae691ea25e74d38aff94ffb4dc589118ccb41df33367b4bb08179fad3fa59315ed8dde271e97fc8d75359219850e0b9ddbe6bcf4b915b9c91f03ccc5bee8758fd7733ce9d34bf50602b62e4842c08ffc91b14a5cb1c8228a4125bac10f8e6799764f89d49dd6369890494d41e1713b0cd05c4e528782ae5ce33493596c259ff49940c0615c1d835a1abeedf886919cf5bde4feef17ef525e26744f5eaae74b8885c8b05b5b9bd736e5573f9c614178d6207b1372094ee0764d9f61aa85c8770f547974c2b53d5ed7567b38a8a677bc0493a9e8462219e337a812797887c0287e9e5a23ac15e1752a225c2e4313770d904f4eead8da383c633ed1dab0a3aa1635f8a76723cdd5a457716323380c689fc77a8b1ad17b8840df35c8db97623c6ffccb12ca7e5d051c972dde7947f4c08ebe5d553c4a2649f59190080946cf223fde66956254039b7cbf1772b29382c0cb10dec8aa0ba3ceb21a165feac2d5e4589c8842729495c14b4e02c9caa734cbf12ce7421bcac89ee4485f5d091a9c88e2feb16429d51b7ee5a8e338d45bbfd2b62fb0eebd7cd51b555383d20e1b053ac1e682cd8973f30416c048c612c47d0abe65d43b5bb040b83972fdedd078056314999e678eb74f7fc57c1b8fc2a2830e814491f679dce022952d6498cc3be3682031e6dd189e928ffb55934da6e0edf5ef4f0c5eaee5a2e3da53daf662a2584f04ed44ef722c3702a46bee43fa8ead0db6548d78e6d479da0e968e00186565d8b893da9d5e581090b45e87da002da279f039f78ed91d9f3b3b241e63192a190fc71bdbb5fade96a968aa0a6c95426686b725feb2dad241bbe0e828ff1702d9399d21aaf191dbdf3d49a0dab8c4ddd8911428db587d073db0dd21db0285dfcaeab716bf4004a9c4e581dbc69dd6c47134cbf5ba1b6418785fe1242fba73a75506592d4887af5140c14daf276a1775889c16636af47b302bc0705ebf6ff3a6349551675a8a3ed38b93da738a52098bb2718073e8b28fa0a5a6fd80ea59be2763642c7d06f1680d8f51232f73c678c5febaa0063c737192477222d5fdcc1135e0a8938b01c3b9c0258a2e33729fd075cf7007ae5064ae714f4891d221cea9b564b7aafe520a8ac5d244b3e4de89a9b3133c728b91db0ccb279091e5dc9b4118bdbc61cb077bdda18de8ae4af583c28786cc692f484b6a3d70cb6f89cc7d6d5f35ebe98410be1fd9b5f5563911b62aaafda97a52196855bd67b68172653e3396d65a1882a82205a19187471edd9c3ddfdae64c1a98f56c6300127c7a2156d3c33f1a224e184c89c0f10a02a6eb9f380412d3afe774dad9f999c49fecb3ffac97a8de8ae23a1c1fd01db4e2741421434686064e8f5563a321f392531986574771fbdc68b46a5a0ced0fb8171275bccb4459a0191a6c1551984041799edc1c380ea44a55827b91f27964a36bed4efa9a5d765370662062a043257284ec30136629734ab5a13282a963ef3439c21b5f0f371eeaf29d12c70e994ad851e4a5269fe8d4c905b4fb04a78b818dfcad932b2fc4d5d3578cb9e40ffa2e1d9d2957d5430d5bdc85149ac09bb596434757d14d9ecec4fa32491ca1a2254608f3c2c59652533846fff9fa897f3a8756347a14421a5cdc23c55398e4c059c67e9bde4b395f59f0468c90dfff6e1c819df7ebb0721632835514e6d05da99ff73a3206792a0f9175919ed849095927545076dc99b5a721915b59b65c1ceac98aeb768240ca01cc94c78a3412f8f6d606329b74fbaa3af17c67ef0e069e4964c286f71ad0375efe8359a28b21037077ee2e2f4235456b9dc2448d79f18e91510e7a25da04f277e18a65f23512c5d6dc0d8391b1341c54d812eafdc18a1685477d3c71bf49655cf52886662af267688731412c56b6b748e0a3374ba4834e2b6f1769bfbe89d15123077cc529179e55f5a12e5920a880ef9e54ea5cb9a5817b36f2793d7dd2b346f29aaad001ee1977e10d7fe55ce337852237819c1884a8ce7a0a4ac0298c6b1c155906821229ceeb3e94d9e96f2a1120f9e2497fc0cfe3daf5c10429be3beb0a614893242a51082fde09abe335fa881ecddedf25b4036ade0d3e643efc7c03efd2ba77dfcef73bcb451c9e5f0917c775ab7661c0ad63e8e369cb5ee83e35cdfa1cc4f337e1decdf5231506d017d2d634bc845aa3786022b1f5992d98a2d556cb74a8ce6abada84798c10f136a9f20a70c140692ed31a87eb58f66a850a4e92319c66890e48bfbf36a56fb43322db3ac63731cfb6cac1c23598a0e4ed52256df4e11a49f4cdb658bdfc8efec57df018b8cb79aabd82941369ff6b42935b179fcf0f1ec410e27abcda358a482bccd64853698ae277dca15c4d705fa77a30c1ad5952732c7bf0e5d2c2b4adfa5a67f6f603685edf3867e3e35d1e2580edbd8528eb3b59393aa8d0d0ba0ef26a5670b7f23d8c43e20b49e46b2d1a2e82d48edcd720180b7f63eb67d32fd139d11e6fa7b76e9f9db7c266d844dff02f40216a510ce4d5e3064a5402b64a3df7560bf6029e0f058f8790efae6dfe66818661050d08e059b9bdba96b5238174947ddb70a2281a6d6ab5fe3121a3b4dec26ab4d622f3bca615964750fe6d675be4ca6502846544d36d9b012424a400263cff58b83523b24d7606926b73aa3eef91fe9bf0c128b4ed83f5243c7a63c70f573858706a7cb5402f0520e7c436c53b32e5aba70a21473cf798966424747ce2d1080b3e425534f8576e25554293119fe019810688260a243a848e8aa21f947c51541241797a6013c3998c217f6a76d2294ef5c5ed0d5e36b3a57fa0e4064bafce6402cda371fe401f2d4f4f9ee87365481accc39c33377ac66eb07ac3c7005d9c88b20b20d94d4ac8bfd83997ffe5f34fed7a5bc7fd060c9989c5f3fb72e166fe9b5a675c318ac11e00d3dbca379f4f33c1680e735a2e54b7d3391e6954caf701e729d559138c9d41cef63847ad32447e16f4aa3b0315079a4e7807ad04214b6dc05fc9b929cf479dea7a47cfcfecbce8831c04b0169cd8532132f0d5aaa6a46ffe3ae772889edefaf8ed1d2f832d4d5351cbd84b4f26aba0ff1f79fc95fb3332afa00b2712da5753cf6c42c5628a1b477155ce8e052833ac033e81eafb37977c76369afcdc2ab2efb55a008e5fed94bdcbc755958c8284ecfba038172f41e9298b7ca0a41ccd3969506f9b31ac4a7fbec0d75c854817a0e94a92963f2f3da5296f4c5cad24ca0f743af4c1acb446dce5ea4fe815091e577b674d56874e01c4a0fe14ebe901102a24ca3caff82ea4d5b124103715665f79f4abd2e975487d197755cd3bc5f2002d73a287365e534d2b92cd3b27da5ed4b727d4c1262e15c32df7da6217d0043a0d8c63bdb9bd7a20e9bbbef39507f3b4522efa2d1fe5cbe9a71a844a7bb5b4fe6622209d79da4ff5799cd6bcd878a67556196bed6678dd45143cf4fba7b37724064ef0b329100fefeeacdacbcfbf1c30e08703f2b24d51f8be45e3e4bff748730388b937580fdef2bcd611a418f2a0a4cab508b2f87f6d2ec3639d756eb53884aac60728009c2335a1980c5ab25fe24425e3c3e87e03e12ac9ca2ac92c597f3faccd5f05763217a7a3d345b8369c61aab4adc50353eaaa85215444e8670ce49d71a32889a05eda47b25c50870f903328b832db8f20d84d0eb8494226367449a1b3ece1b44f324d1af8775ec1a8bc58ac06c32981623255b369ae3f901067a426eecd7b9dcf04cd1f8b3599d29bd2c69ab43eb47af5563e447d7bae5c389d43fe56c0cc1b9e8aa4ed77f221195ec174ec562b5ed27dc1aa84eaeda688b00d800ec807b360bd2569fbfa8f23eee319a20b553262cd33d3b0f1d1bf2b78398d7892a69f58b11329e31afc8ed616ae1263544917df58294fdc63e54e22258f01557c7859a8989d15ca8cefef78f77e2961da8407f7a9b20711fa056f6402fe0bfbdd2cf0529cad7423d17a1fd5720a6916bb4b17e7643f1b0732bae612c4f3935e10fa86d3b3859a9a322cf640c3c71b8a5775ea7f6e5601d03bf5ac4e17a2a2b7e984283995c20a3aa78c33dbcdfa48a0188a78a3434ef8612062caadf20a702d812183fff299235b70c198839cce7e174fbe93714925998108475711184c5cb0614c27572bb521a23af3c4e3b3795c3db8a0fc178e49ca8b09150326ce95fe5dfc86ee794a33f6b4a0f4ece39f0c30cd1c93ee1293c3ed974b15925ac7667a93cc3be094e712f7b8b19bd6dd7ab51ae2ab88fc97ddec1470322eeeb4055ef31c6aef2d2d0d33ed9510d025b34c132849b893ffe2bef94850ddebbc7debd4c9630d2ddf6d9ed5c38bc81b9d26aa91b3657b074273c5238e3bb259df2c74ad3a1201266be018dd0c7ca839b0a159c4fedfb8237fd3cf6a1001b98103d0f6c28f89db179561277b0f359746f0f285cd29cddcd34f15be523d5951923892c809276daf26a11742cfb72c3deca23c3d944c333f5910199194bee30fd3f593f6f184629b86a324c115e286a7b371587c133460f39253c94168b04403ef14e5d8bfbe2d7179b94c9f6c86bb4513986b91f74caae4c801000688c9c885c91274508ffd4fbfc1974ccf5d23bd21d310e6e01524bab04cf4ce8f3faeddd6ab56c859f58a36ec03d4e85507a9b16423c743b0ae07ea294543c7cd00c5f2b2bf3713aa7ed6d550f606b00dbb127f194d0f9741a0e58f6a3c8246cca87aeab4ad7e409d9b018da64c5af869501fe418b8ed3df78be0f772679a1931f0f8d0996fac55554b981d04c519dc6e9938c763c96d84ea05ebfbdab815ea08ed33b93a7bac2cf7b0d0a88e05afda8ddf182707b5060a5f48c7eea94d43829f88e3f6db64d994b3756be5e2a103b26605930e49e6eea477def96fd9493646a93342122f0b85f82c0ed471243bf7247d049c705bfcd5f47e59c37a50bb39d0a553e960cc30b3ca83a6ece6d1cb73860996d560be0e54374414e47f6f948c94644f2cb5f471f054e59f3a3999f0f31b5e3521751de0d06d83db8c3185ea6f6881211839b77f7a4657711eb4f08e64fac74d55fad055a29454e0bd134c14230cbde9a9ba0cf017d6d4334ca4f1b734c8c3615d9f2b4eedc271ee13a3aed3984e2cc56a2526048a3bfaff5d6285dfb355bd3fdfc96b2875931b3bc892847ff13d56bba9aa0cd83c6d7322417134e5b3c68c54cdf707d83774f3a4cec6bad1afb9111572954e7662f3e5ced1cd2ba792b0c0d4899362790984191f20f8853a5c7f72a793fb7f524366f561e5c615498b8e6d6d70d98309a0c3bbdbe1acf62b9c66f09450520bf91dbdc8951adc4ac07f546d2c3a595d663c5207706bc0289e2ed23d481f90a4b85a8d520fd85231f47e1a79282785db18c349fa85ab03ce42f1e4c84c7052df3752fbe98c174219bf97aadf0d9f1657842e78f2c796d77706a434575b807259f29baa98b4334d7a3034cebde881de864eeda1cea8f79fc68c4b481a23c4d4db07bd02a2ffff1c7b5ee1def75dc56e72ff0a60fc723285cdf2d0984b4e1208fa5e1ba80ca45d9a92f3dab5778eff4122a6df5be1b41c164b9bd75c3281863d8ad8d86daeaa05c73bbe71857a5112dea76ef1ccf1fc18f75bdee83bdaf687d2b8d27c2acfcb34ba97a7d467280aee4a852e69d3115c88b7f782d0eaa0d2149a8f6b1a454cb4dc14e9d8aed34fb27335594473d3404cf2a6344df98e758bb3027ab93fbadf346d6e465cf7fda916b3147700944eaeace0580963f3ae372e42b689412333bcf2b704a1dfff9b424721b8ca3fd5cfda3909f059eb799ac4510203b8eb3b880af5c1e69c779651a1f655d4ba70986aa3e8b5de9c999bc3e98cb15cc7c8a388041ebb123c1563c2342653f4c87e39868b5a5ef4cec75be7d0daaedd40b9bdb51bced3dba4210ba4974b0803ee4304e18c4960e2df277dac08ce4ab966e9f70c878c1e46edb82b9ddd2048476ac2253fe39020b572f773eed4681ad077521ff6639e88dd829f2737e19faf08a3737dbf616286aea80dfc97df83052ba1f81acc922cb63dedd00be932bcf2226a6d659644925d28e619dfe1be2a95e1adbd6b05d7caeef8cf74d922280cb6d591c0d4dc3852ae24aa0d53f2c740274d1cc1183d9db0ca22b92df35864962930fde6fb1e07979efc4cb67e96e4b89bf247e89aa5378d9944dfc92a85f422c1348a49e23ada44f5bc75122a227c7de9a132d8b839bf6a165e0c4033677364ead98a93d48ba21cc74084ae9bef384adcecb4715c11188e01b7cb91737c690a3515d25c87e05017e6540c8e89a9ebf12ed370798d5a771449bbe85af106a3695193c8230c0633aff76df3c00a77d5625a192f20de9594dff8d8618377b56c5dd67ed5cc8d550fba1efd6b57258b27bc1f519ba11a14f5e99a8953c2d2d836ba764ff4b9645336e8c91eca1019fc3e4afedcf9d0db38593afdd0460ca411ab8c6b5454769a1aaed63fe6474fe1712aaa0b30a39ab0e826a01fdf9507ad7d4ca67f0bbe2db842f509c0816eb36848838bff78eaa7716ef6de8e19e097b8fc1cbe47fa42c7816831e7b50954b6111b1f9b2776dd3a1b5d3922aa715ab5a6d60bb44ef7cca5efbff8959bec278db8cb0fd0da4d491734e35a6e7e9b243aa23fb9cec489dbdb65f4ff43735af82cd33f0b5ce67eee537cc49f1a503d4d802e7d786bf153b7628ef295bab0b36e15c8823b7dbf4dda58588b1fa2387d4f5fc4b44bae3c173b40a07d8cb6f180779abf6f9e0225859e66896d3601fd8d75caf25f5de9b75199493920f9469b6b2988de3f0015b1147e7841b5bd46f19b273869526739775d65f0bb9d8d6fa62279b12368cb7a22cd3771b1f757d902c7833209214157d1b60b8f56954a10f20515907bb016fe8e927a258ada67effc468594388bd2dc2978f8ca16b33c338e7b4e23c1c8a45bafbec20fbba143c3598d1b2084214661c1c8e8790bd023633afba55fdeb69c9f1f202953f33a9e14bca6a58c758606fe983cb9abb0ea0d66d5791d5f6510c28d2d1a5eed2c48060eca9bc98bf9d5ff0982b97b4e446d49ee054da386388c1cda0b109f0b02341f5860c34d4b9daf6f6698619f52d18ad8c18e2818a28fa33965ac76e307dd0edc02ce0f4e32945b86948ea5bacd22a31d2370c8132c7bb45c451e7536f7038a52f4509fef0f838c1bcb72441e3211b5071f17cf7b6e08eaab513103a8576d56fd5aaa102707ac2a0b7c5a336ee6e5681332096de61c5f11171a2111ffe9d5eee5bf7fa4cc89f06cd51519d52e18211a6508ad0eb2240090ce164effd2640960b343036b1a464e3c0e3c53bd63a620844f052a94bc48e6b6bf0f1d894fede0e983fb67bfd1c713377942f03d79cc01e1bd46ea8f2584a54a58629b28eea51e84d469446ae888e46c1bd2b755bb6e86bc58b20aff863d5e27e345014233cd89ed7f78e4070e846a2e762b3c87828d3f59bc708512690c31f550b73384e0549fca01e977d3d1fc7d2fbdc1ccf3907909865d38f3c50c10f0d60e3c9518589955383d779ff8e978bb3f1d3092593fe6b8493c144e79c3d3b3bf0c4ef6a5520282423263593dde6d5970e5f03fa0fd967f3482566ffe4d30f1c7d61a3e6512bca107e5efbe833cb7cf49e92d8a2a3aa52954415c89b18f3242744e71755be9964caff822382599c45d52a51a3552b0898e3e3a4a14a2c19e7cb18e089809395e004f566ad8db44009d0a946f84ccdf64c18b4b583aab1c1ce6c16e5593fdf6b700581dc3845dac71ba5ebf23411f86d1e0813d7066abbac4424e0d874559de374f65ce1cef0f180cc43bb58c438a7bb3b9b811475a256d062cb1a6426932f3724590095129d9fb9d309d2677273fe294b8dd217ebc0c7e5b073774919f99ef8d0454fe9b486479d7beafa62087e8c9877513aa5c77e65b565caf0e44a0580a4d7e4f1db81aca111261368b52b8ce535cfb1aad5ba22b668a2521b86bdae2fb9b8a73e7510ada4507238b75e7dfbb4ad6e6951439fc1fd54d0f38d276cb9fab9ae8e6b30364a51d1065ed22b92c52b0092cc39a8f848145ff5e661c9c3e15d54458dddf111cbeb7f768a3931eebd5a554f5c108c204632c8652c251c476f89d86324d8d8ea41811ba38b787bb024a746a2f232f3725b8ca2ae3deaf4cf2c21c38a16c85ebbdb9d3d4b6d09b79a89b1311eba78783752a4455df0dc9b3ef338382dcf18afda8f486e7a1692308e1be651b4b759fdb679786a5f9fabf6a206d53d10d2e142d1c94d270d07994c13e830a29a5687638816532e9a05e8bba8fa52faeb66f1549da9a4effeb6c69297358babb373ed30a264f4208c712fe05ba8d8493a36af1c30096d64260eb3910d136afcc28a70610d304e12f33cd4ed12512da27f4fe55b98d01b5888faea72339b3596743675c81a076001b8769826e5785b9ead842720099cea48099302be68ddf1c6e8c462a8719bd3c2333b94dfa63a7f25b1048126635fca861f6d77a551d622c128228 Hey, password is required here.","link":"/2021/02/05/JP-KN400/"},{"title":"JP - KN401","text":"8d229d8e47333d3f189c47d25637efeb68979f642698e19acf948344191b8ee173de7e98889e32170987808e06ebfa7fa5f8fc468a3509f16abc2ede0fdd669cd50bd759601624b9ded5077f0a88a897684d587d011129f533050f3dfd76bb5e29eda4f039949f2551b7f377f131c3c0433177a5f0910e78d3b82098ffa72f989b6bd544ac3d56231916cc2adb6f8d2e2ae8c7129b8772b9a57177289c67e1c70d6b2743e5a13904a2785bba60a3f3b0ed07ad1e1f16b52beb65b25b89f915f52236a11f81673caf63a13f095e2319612ec7cea96b4f90dc59405d290c17b2ba0857c30f0e47d2142ddea444bfcf3b6f8ca9a60be8b800227b7bdfd69fbf2f56bc6f7554a8b4b8a49fe44cc1ba01ec52ae77f5c6f569b6b3df4b8d9b52d3dccd66f34072640d8df26554db1b79c2996cf102137666dd75a01d3a1b7705407a4d137e700762f848aed995be57faaa96fe8ae7ccedcc3444c119b3a6bf796c48cd3b63e20a6df91e3cf00bc18abe2d51c4b5467bdf39b8565a8ef88e9d369cfc2fa80c1e7ad14704b645159aa15c96cf4510a5dce2f4db0f73939a4fd9facec16be8700c9e2a843968a8880a12b7b24099a9d8101f95b5a3dd2b1135608a2b4626906fd72b12597f0ad7f4b734d12f1bbdf2a9b6c51affa038cfed5a1d11b9fe1ef101d851e2254a7d3b9d5882092d03476b152747b8072266cec618315581f2bdc7c8964b3605507d042ee18bb713cdbe578c70aece9bbdfea9fb8206f68d54fcdac31b69f809a97a8fc8969c4f9e35fbbab5db3a8c403a91e8e2c2678b37801080d5753bb6edd74e61ed4eaa2740152aa50a1e260dac5faf0b73e6dd0db10f8bd47fe4ac452ab84d942ad60b6b197a1172194b400ddbd7cb67c5b2bc7326576cdeb104447cef888c61650647d7e944d250e72897e40c168eb8e5f836df5567f239acae5ab7ee2a265abfc85096121101ecbe3f8ab86ffc6e0752d25e82821c98fa3da417d489edbefec04160136d1c613d47c7f05c1bb728e97f8cd2d87b0b7252704f4135127fb1a88d5ba2a986a59c796d9c867d05a0dad2f19abffd9b8d109a3ef42d582c84ac3332b3283c82de788726424b5e275aeba17be383b70ea68c2e8bedf161d4cdbb596e3b0ed16082c8658a48cdfb8db9998418f44c62c0e1674102a8f4ab8ac7891602fa0275392130d64fc82849ffe0565576455781f948a3684f2aa645f65ab50a0782b8b1271666db3f7f29df4afe17a139adcb1d36c3eb0641b2d529732f0c6d730a29ebcf52e0ca331eedbde6dfdd70166dd9c527842e3e735696251a98c383ce4f785e860c430467fa0d09ef7f6a9aa24ab34f397b246ecd5db79f0f54b4954cefa66e51b861a86e637605b5ad5a8679da2951c044da4dce1374fa38dfe111e30c1c54006034bf74b09b532e8dad26c653fc1715121ccb73ac7b6dc4880680873e52c8f37f08b4f1b10b8d0806e4c2ab314413f8f08d6b921fa2c32b3357ea828881f4d78d91a5522ad7b48b393a4f233e4fb08136bc13c2129becaa1b575eea5d6937483265dc3b6fb887431e6224f8fe48daf61fedb1cbde7d7bdc39c5a6da48b3c47acde9b9e856c214f4717480e6a9bccb4c5427c198c8bc9814aa33bb503e9521f98a9e9fc5c7a3b3974981381e735d56524ededa5173610952b5ac71c4eddee5c2d2c8de0a2cb4930c09d54c8b042ac5d22f4ae72b38ce7307f78c19c0e4dbf24882baa7d3df34b1aadbb80e15ac73f4770134e2fd6ace41ece2c8610f848219bbc0e36d624f3174defed0dee2e90b7db67a7d6e243eff4567e668f3effa8ac727e3150c48437f36f74cf2464c2f75d05fed752868f630d4e1f2b550826b24646ef8e681ca24c5e6165c0fc6ef0c81f4734fd3454d285ad3d880f7c0000743b8f62e960cb896536afb2cf7ea98d52a9d836e9d6188b48c8b2a1cfee7ff50d7013d7f8010862720c7ff3c865f41029c919548be6b07c97aa7a56abb5520a724856ede00cb0f5bf651d76456de606436435b9f7f72c2432e5cfebd8baab43512acc331753bf46de6cb651fe0439eb6d1ab36a555f67a4195be8a8f16cde125f0f65bccd6b285aa221886ea23be6adcd9709bda836b995c84dc619ff9d0af0bf00d2dbb6b710057fee707d9a8ffab3d9237480576ba2b3286d98152f44edb1683f749ef2be4b67afbe360afe47dccae309fe70121d342938e33200c7d996ec13c6f7b0262b9222d71a4e0d70fbccc428e00363d756b7081d0b01e1ce0b98833898a219aaa3989df1ce260b9139f608ccc6a6d65ae9e467596ee0267d3ed46de4bda9fea1bb4614590ac761901f73485582ec2ef146bcb17cc5ef02b83414a00f5b0462a733eb81c3c84d00e7581f16eac07cce29ed6fc6347cd43af2aa816041df561a5d9846c053ca342cd79c6072fe4c06d11b3de4ed3737d03cf39a30043faab25656951205ad426d7ca4d3b66c5e1c5217e80eb3aaa57b64cd8bcafec56abff377a3eb60348fd17bc4362d5daf0b8aeb5ffe1ac5683a7c3a16a980a9ff3e131efe20dadf94a7fe773ce3191e96b5ad10219640daf53dc610eecd4d9d176edf467b31f2eb9a8084ac32f41944c085f9ef688607fcb08deca5917ac0c2592c00bbe7fb52cd3c8df8a22f955b24850a43eeeff9e1f480ec435fe46f87336beb16bc1cdf7ad6f3a0c92b4d6ef81706c4c6139973e604d59754bca1eaa0bde023a6e0f06a246fc2013fd6afe010351d0929caead24d876081adc42b1f719f3967ed394e5d5d64fdffd8d6297ae114b9e7a8100f8ee05a0bdc803d96c65ba54ff3ec4295384792912a69bd5b4f245527f642406bd32c406b7624215c88882d4f9130c5b532823f7443da2947241b0b9a1abba11d7d3a490ced4d3b0e8ec05182dc5fc14fe46b970882cd9909044750e82c983a4e8fabfa9f7270e65bd35044e2b87585df0d717673b269999a109f104abd53824903772cb2c8464cc5dad8373cda5fea7f97236a36fa9f365b32bccdbd72e79b3b0c3ca35c40122805fcf55227a3533724625fd2f5e456a727efa2e4bd4956c82aa81b24995d67a7703f0ea9d31283fc4a56230b15c90e9c84fba01093b8e933068f213e37504219a46033be3fbc4a3dd558d1421ed6f545d8b7e04b287b1e34e9578edbb7ad19a1cf33f1018e278da4bc2ca4209df9d9fba2bb11d1d831f0ec11317b6a9c4351a3bab11fdbfbbb33ea038c666a43c3c3efdd0ccc04aaf47334e85e65ce8c6f4b96e487b999c9ade9bb8ed006143eb9d170d19c88c6fde5b27c5554184d5e6c203de763cde7f854a1812242044472893732e82d9df4df575b12355da74544106425efb56a5edfca36d650b929fb1e95c0be2478f07eaa1feae0376cb91765684f0a45aba5d4f69d1145208787ae52aa31f01a514f41935743b74f5b40e1d95bc88a9c8c16b3cd9fee7ae26e2b54fdd472d0cdf9be83c39936c291c139089e80a63a67ff9f01497f75f10bb1777d2ed2cfa163799dece23f9eba2e3bd78c898551d6968fd9be7f314a8f6aab4ae738f8125c5aeddb030ad0e9ce1346763928c7ace593f7591cf0856ed1654a236fab3ef73004b89350cf30b1d2c0a38dedbb863c7ee55a7ea447fa66aeb0c73715d2fd3121c8d7420c4ff1e55b5425aca727765f7853823ac7d332ea183724813d93c564b39fdb6ac2be11aca2303bc4a7e8057bfd5913cfa04d0065696a6aac81b44fbc675ab62dfc888a5478feec66db91bad1287fda3ffff325a28f7f1227d4a7ef398d289c4104a91d1fc15c643d56c939c2869a8f50c0ca2a4afe7a86f9456fe304588a33864a41e4230089323c467ce501aab2391684da9023bf48251fe295b84de67c82e8ccc60a0eef2376132e0334ea645a14e5c80d4f543d73b1accecb7fc241c97ae2cac7b0b095b11193176550e41b58399dc053cad790f93bd6d6891599f614e4e4d24d319b6e2bf0809a3808d60148d45773fde798716a525f13535beb5a8ae2145e70f19104349474e6cefec91f266890577603c38d76a9647f48dc29f47773a514916cd7096d7746167f91223a90fc263b785c78852e91935855a1aa91fb88fe8f63821b2087d04eab05937d0c140863e9ea429d8fabd1b352414730f6d81ee5598f540af8517ebd1b1f8e1dbdf4595a4aed3bf35e9aa3b58b6107e058e0ba5f368769fa5f4ddc8e982b363ad0b524524c4d12841c229891164338f67655974ff8b6661d3de596136f2671435e565dce2da91db5330c457e1a5daf7259a66e8ee01a51231cc83321ff2208572c025c1db5d44697f249c7c3db2f554e4e7b21a077f1902e861080bc39f40e6642f17210fcb3de10416c76cee6ab5a847d94c008dca12bf9a79f38c73e4f95ef3736f201360f4015cd54f7222817ccdda8dcc12ccbdfdf8f44cf55caa7531cfac1b85b9669247aa6387cd4c89d98dc8fe6a17cd0888d1d59f148dba2b1d1d954a4f8b5b498f0fec7c38a5a20f0e55dd1e8b77b1da2b4a48f547fd828379df332225df6b107ca3afccff316ed6063ad87dfe16fd8ba77ddbfa977cdfabeee9b99c3ce832b4799a413810e17274cdd302f7fbe41ddcd83b9e0c7c6593fc4907fd2bcca2a320e39a8738aff481b5349acaf0a11516b80173c2f365202d33c72914f6a5cc92d08480cc9fc9758f9dfa93591267a5ab455f4256905a9bd5cc0b968d15294651e2bb908277c688a7c438358f55ac47438ab03c7d07b9b77162659c326480da42938d417543eee2aa7232de9058f87470037bceee781cf8c2634447e4d446c22174aa464d35722a5c4b9de6cf3e9b531afa6297d47c8f84f9cdb9cf4db07915b40a27eb14c08e3f008aca7da183e0bd8286cd2fe62e3cfe79a3e3d66834753a8d8fae6a764605f98a31d0bd1670fb01d28cc37cb3c81d0a108478916b7d56c5fdad4c8e08f89b5fcd9c8d78d4b9ec41ec9ab92dc1d1a0214971237833c49214c6c391dcfa4ee432a9c9578e6adb6636674e914967eedec83029046f9def9e824d88b3634107eeb9b991beac8281387b117d8880bc6e7de22f33a29ff2a9c4e045b15abad00f6036018b78eb076c5fd75679afa56ebeab5273543a327425607554abbbb566baf1d695111a1b9ed9938dbf1cc061dcab8ef36f3d625767e387e74a44d7da4009c56ab147902aa45e79e2e99ffcd6764832a346d59c4a25833fb19efb7e9e5a7208fbee1a85e983c53826d66c06906f021ff1f8cfa3af1a634d5610ae4b6b3683fb1ff2d3b98e0a7fdf1c75ec639d08a80759c7b9af93dde8d3df09407c6ad8d7cd629b7a2060d83c2f19f3f61a5ab4289058f16272222ecfc2e8aadb8beb80717d6962bcbb854de31fe2795d359cc505b7be4fbce6a01ca148a1b2478fcbb0113eef7c7ff0f2665afce8e599859b9bb6ea92e13c9b549d70e44a426f491444d658c7c768daf3ca3632851f96e8c3dc4edc75764ec57330bdd2da7ac7a7a452979b1b38667d985219ec1c16b4eba70685b1c4db06f19eda20a5d01b971b97a138affc6aaf411f43057270d8abddb37c0566049453bc7fbe4a3a4e4fe5c7d1e203f22b34eade8f18749c8dc4f262db425797405ead946a5cc221980c3d3616c3ee5794db6db2ddbd6801fe1574511d6b1a9368514f42047ec9b0de52956589b412cd50b326ac1e978b8c2b2c66d20997cd5c7ac4e49da9bd5549c4857dc47f315cb435b209d89f9762678098e3900a6e694b83b16beae44b7eb67a7f3fb5eaca2815c351a12d7d00a300cd1fa132a1c7b736dc6d2833156a25764ec5ccf4691a6921b44437401d072a04b8f4b5da135a9eab92b6547c0dbb9523b580a1cc2d962ad6ed060b338a5de2db0553aa797403a0415f073f6a5d1958da06d4a14525a197b6aa00a4325b5fbbea29044570dbf82cc5a312ac8414d534a62d23e591e86b031e41198b738922fd61e39cb2ce4edfef267f2141f45c2db783b532d0898ef476842fef49b031552e6ce58ea0a374c11927437c7e35b6199c7c2ba9ad7062c9ea955fa7d367672aa0e400764400cef9183f3dba81275f4e310ca8bc1b7a94689aafe3c4cce1fb33c9140b317cafb433cbeb0b511894fd69156c6fd346606a092cbb77fc636585cbec83d5d9a869a26765b25e6cceaa97855c6f2b734f2cf8d47ace35085fe8e4b2ad23279733049d8ad757b096b8a8ae1809bd32a4269637ad55e70713871af7c0b2da39a2ee9855c010d9e5fc4ea208abb0e9a0ced415597211da1a09fd8532c5b6ecc82a3aa2574760ee82a085677c2a957fd366814781c443b561e4ea944beb19aa3897488e65b1ae99383cbb78e84f5a2726c0ff6f08a0e3aac549c006cbc80985e98fefcfebc35aa323ce617bf1ab32db94678b5a62375087ac9767bb2819f5630031d61b9f798050b368fb05336fce2063574d0b5294b226ec3cf098d84ddcf72274d47a79b91c37d7b182cf7adbbaedda4c103aef0e0dbc13cb53202dcc5ea644c957b9649fbf677a4b00b85988bc444b3f17096c06db2c2039b8ffc050d198773be66f64497a5dda96e1fe2c5b7d07ce22fd18f998ba6ab259eb553aab889ca67aa48f05e841b148ecd740b93ca30dc7a4713fe26c5a3284dc9fd146fb322e7ef671f0609b5337d7aa0a64bd2e52f51fd64a11b9f043831074f20aedeaa29deb628d9871fd6f5ea6151c3e64727913297d622464abfd13cdc3b1683f5c4874e41b1a674fd21b25df188442903e748d374887bc0e9821d7ec750f3e6bafb67f974ecb8087471484d21d9bb380764490cf83965ea541dfcbe47020e8e87d5a043d7b6b4991dccbe46e2bdc8c6e6840749029da1b4ba899076694cab36860bb2610d2ac91576163314105347831cdaa2cdba288d736d22ad81c3b63a5f69053183de19fa568a5c50c95581d959308a0da5a249fe725794880f96587b94d6834597cbe4978a3bf004b6a3e3d619353620f29d1ae9b73aadceafdf4b7595188cdc510a8b923f219791b8edb9308ab06928c11630bbec50dd968dee9b7cd7883685695783b7ca1078d7153ecc470d9075e116db120287534402a7743a2107d5a84bed2cea90c456733c178c19e815cd7ced8281ceba7ea33e8eb54fd5eaaac040335eeda43b1ad84d933c1eb0e1f67ca515f8c5a6a8fc41a8a761e5b56adb11d96120196a4ac6ca0201cdacd4fe3a02e5ed2411d1f67130402ed68dbedbed155c944c4e69835c63e413fe6ffc7c03f0c676a7e81891cab9f5f5b8054ea5abd5b39ab8b0f0c88f2cbcab811e3fc2871443f88e2750655c2c9e0b15d878d93deb338dcfcb4f3a133ed8d443c30dafe58aca1d39ef814eeba9bebb149beff64b59259142e529094cba3a0a14a5bfef98f93788ae0269c4a1545597d339cb430f62baa69ceb0dd18c1306759117cf2bbcb5f7accf7c3ada5e2d3c9f7ff56451f37828183f856fa0fea91362ffba93b624b422c260041d9335f79b360a75f84d21b54051ab8153aa17ba0eaec98d36a3bc16c0f715e1d791d4c77e871b408864d15c08aa7228453163f2520ac8658c38704d97e1e61a616ae76bcd5caef16dfb30483190e0c6f661e10c6d8329ecdfda370ca19d216f02f95a0bd3d6834f3d6e9326d4bdca7725724328866ef1e6134de462c14ae84b00a2f9008bae40d804ed3a30373703044e373a1f861d77aeee6a9c1ca74494f45d79c0bb80edb9511dcb85c421108d67414ef5e24e0b4e40b80c6d8776e60913a2dded7eb9e95fcd5d8bf2a9652d9cc57ab46cab959059982650d170c01bdc95e5e66fbfa5ce4bcb1538b00dca3b3f1a2a24a1a74902e657d1eed3e18014eff6f9108793d6aa1a8d8974b736d16d7a6604bc9a1473d991533b4e275e3428e605b0a2be41a149fa71b5a3114794ddb9ecc1738fbe5d1a936cdbf4de09ec396ba1e322a31909793279428d2b85554c6deb555292af53d5a8e84fc85709e827d096d7264e294417ada3819800deaa501362e1105523b41968adb1a2163d630a10bfd736ca092f7075047ce6ea3c8506508a82007425b8eec1333d05033c488ff745b5bb7da680ae0eda9619b8b636a8ec25355b8673a8f104b60c502520331199a4811b2f5e57d930ad5fb43b43d0084d101809bd310abd613d6c4d5c475c50f96590cd3ecb155ee226f7ec1f401e6dfd03d2a87511cc35fe7dc20f2bd6a50c351964b7e7700b48cab2a212a563e10a519b33379a2ca70773470efe418b4bb83cdbce611d647be5015b59aae47d22b11e985a9c7a2eaf3c3364bc38cc85b38b68f51855c52e2180b3843c8da666bbdcac0c7bb930b141dbf55416749bbf1adac8a383b1b01a0a41767618e08a5f8aa6d341f341730056800758be027c71ffc1019949a029a7821973498ce7bb8fee0530fb5d6d72317ecd0cc687ba6f77532ced5d221d27c77e1658f17460a49f0016d512512a63e3720e59161aeeb54ec49e3f4532f287741a81c9e729941582f928cf1415af14850281df7fdbdb030fb4c718f48414b8a67b68ec3f26ddf652b5186f76f5164efbda439927b7c61dd552e32bc93c488b45b0d75f9dacd1f924e43a0ef07b14ea019770f815f3dbf184a3e5918318380a0e8f44ec4e553986a5cbe36b789fd8fc0807e49145c3fdb004b42ab78a94ff59eee4c680d173c2f2eb813e9ad7b70b8357e3ebff5bc7863429fe36c87f97a5294654676cd9d82c91655c4734e6523af14dd01cf811a6a718de1b6598b494c11ea6c7c6ea79db1a6e6a66bdb974575cf8b9289fb592e6ef69f3440388980597aac9b753009d96af0e38beee0e17e682b9956ef3894baa7a8a0219408a4c66189896ce5a33848b612c312e6c31c16822239871e7f97ed46c9f11180f249864388f28688029ad9a16164067b39a273430fff64b19e8647c66d4d8ea0f07a87d970e8ef7cac044bffc62f85ef5269d1bf3cc22623da7ac6ef75c69d410ddec9ecb850734b2dc4dddee8838ab6b7a5047b30654095c87eae63177aa70711f4e0085cdd4149a0764a8a208b8700011b9eb1c6d3ac9adf8d95fdde35f445fa624d8cf1cc8a784b234af1e83aeea07b72e0f456d41fda0f77aa459d6c03f789594e36fbb10a78104bd440d5c6f4518a9897d3925009d205d024adce7000f5b35ff68d62ed02110947aa097eee1b7fcc51b73f13db03b227a9c8f62b4f0b94a57464df144a5e552fcc720d5a711e4b6b0ba07b5a47aec42e37771b60b8b590ba4262559b162dcc733e09f53db8e92a1597f6e835ccab7ba8208b159522b8934022898ae0a6d357a358f2c7266d5fcf52f28bd023570157bfe1b8c969e3f20753d0e3d340c53b5b5e37afc3fb15a1f81243d1a45ea97534e6c7bfbd926f17e9cde4842a7d587247be4bff6b7ba245f203e7d24b212e1c4133ac5c113b2717af288dc3755f54928f4a661c3e31989f6c45ef73b72994d12233e85feba224af74c7ce820cc92d93c6e4ee2a5bd7f403d8f3b798fc08933e56b23785c7e4d0f3b44c03b487cee474926553a8075255dfc2017dd4f95816ac1e213fd7dc4e304f7990273179e81086ab59b1bbacd4e9d488ec2806ffef747a9bcebdef5746d5f46c47688080796f2729559d88f9bc4917f1ea5afedd15aca2cde7dd3c24037cad3771f0daebb24aa022617871f27bb73f49314fba489069a1f43cca1bd2dfa37e68f07e00285560d4908063a6de921ad1e2a3396c06dc608c6e7201b7fee88be7ee19684b62ef9e3e7b88c642950b798c26086ef2880eba0e035536e1b6d46aedc2744f91d90ef74ec8c6f5acd390b8da8f45676597d055846d3b03146076638419ddc658f252c6503e1892821248b4bb5f11fa8ddfb42f7834e60ab930a32389978082463bfbaa75e232dbc21f9643a0dc20724aa3bfc09329d49ffc93bd2c71455f308cf6ceeb2f3957e00f082b38f7d0158b3860b3c0b1d80bc2b536bad69fcab9454e82737e8360252355035102e0b3e7fe1d53e64d0b63c6cffeac81c5afd6af363a4720a6566b20ff9fb87c0acedba00823589b829e12d326c4a5fff809ac6f26332a9301196785f653bd3f9a678102940dd5faadcff3b1872791331686276f0d63b8ca6d53a6d49fcba34d598abe94542ef10333ee148415e9e2c62032d7c90fafcd2ffa7ecc80ccc8cb1d2c07df2903bb498635d1bd9d1c460ae980be7ae6e4f265c459a946da4069904cfaf4d49ba5bfdf6b9914cd15ef736bd7c34fbb2ccd75f95bc7ae69381a8c21914cbd5c3c13f66748aba3f7ab342095ae6bf60881a3cd5b96cf076852d421f9fdff6b7951e39b3a5639d4c941f2c0c054a837c3c04732dc084c55e10f2084218c1eb030120a746f439962dd201c8864252ee513d2c65b2a41616b7c956eaec0704d97213c38320b4146ba012a6fdcbe5fe6567bf86d4188e74d5d28c6239a2a190486533475c739e912e3d363021b3b0a6900eba73d1f13922a2244876a029de2e2922f8a44b1c9ba60cbfce40ab685d24a788da2fe804704e3e26a1821b5156fa633f4e8e659e3183640da5b39faf8c58550df151173afa56dbb496b4e1453c25bb410b08d75464e6b64f81d21778bfdb80831d6d46b85f76031bad5fef8e5c89f8870e55e5047f1d1ce626df2abfbf72492ee825b43a078cbde1da68019d4ddc4f46fe1c8a2a4783280bf3eef0734675b3bf059847cca5e32fe67ab63f2277ea30ce5aebe1e50c75d81ad8de4acd58d14e0cd7d4a240bf88272d97e7b2e9c25c7707e0e67492b3389839e508e0ba70664e531c0e2116552183d289646ed1eff804fdbc4240628eafbefc256636e5317a6dffcea2bad29496730d15dd86b61f402a1531ef7bddd7256dd5565a3375153852fd4a1d8e4179ba2c6a088a66aac5bd043ff0eb2508b122b7240206213fab40c54f6feb22c776b59da36dbf91494cd9f0f2448447d1c624b9f079e921749b5a78ea3b0f086b2c8bd8731cdd97b8c861dbda52118225ddc72f450befab0fed724e83870105707633d252cd32639f15c0535e99a5e5ca5794f140c37157de1fce18fcf44e032bc06ddd70707bef1250d24e7c0cddd8a3f2a0ecea8f91a20c071a626b92dc64dfa1929ffe4e0dbda50423204b1e7bc6a34b35368147e9418e8d9866955655a1c6674d46f2e00713289f3c293af60571c3a7a249226b38f6c724dff1812b1c53561eabe68345bf5c488028935f055dcba459cc88db65e3b5e0bcca17cf4137df5c651a1333966114c479d9917aeacb809a8695c59ca78f07d86a66a3247dbcb9d303a28d4df60b4cdcf618363280107dfb13175329309b6e19c9acf47a153e09b5ae71da2f9a9878dc57c92cb80507841ab2dfe24ee640905effbab7c81c17d0741d2c018f6babe7ea01eead17b5dedb3f5290ec3382e85be47d67ecec8870b38bc2b90c5c33df7a74b730260000d6cd004655afbca97f1763fc070f58ae59e377ef2c92e24c8bde8ae4b99f478b329577e06150c8f80417c1935083eace2dbcb34996dbc78c9c51ba63bfe1e5f5b778f78ea4c67e04b76d322ad08dcc2071d0cea69e9669d0bb9b9fbecc38235c9b83ae881415f603d302c9a6ed347ec63d5bec2a6820e49a728791c824500e74b4a74382f92b6f19e4effc970117d3a3d210a4504b6a779a0ce40b50b2538250568d80f78ee3c19e11ddeacc0f2c356841f90e579100bc2a27ef688408b8482527a360007e181c37f0c5a1b421a97be65e64a44bc23b863e83cc2c3f9eac73cfa73c07cc2066a74de1f63b60255a97fa6362ce179e0cae8d84bd320b420711d1136ce849f6e3c28f8869ea7a281d707e43be6a5cc92683f34e3c8f9b96acf98d5a5f208186e5d465d008053ee09d51da0b346bd91fa5d96a86211f37e46926d739fe4e7702caa3873b356234029e9d85a8c0aabd9bb298865e1b5a0d4dec5d368557144525ec4a303f3a4d45206d86c2677adcbba3d59633877ba98326207ef1dea9d3ff138045753407bee0dca3ec565c90885b07b326b7239b9f60e535fe94a9c4c67548ae456d1a9f54bef0650be31a172724718130e8e3eef6def57347747a06d53130ffa9a29b697b52a91853e95059f975aa8f99970c27afc9c1a09e669ef4e989a8d75e3c456de6f643b856ab2e4456f6e4d6c68bd7aeb66b831b7dc976e1ca2d09fdcdc8cfccf23d6da25e8a7b9e951b64c3e2b22244a5029c95aa9b363bc24e30a341085ef506b2974d10886f1cef8bdf6f3575d9583969b7a3730570fe8e785df723a22aed799ca03705e36619e7cb443b59ae58a2f392f55d63dfabcdac988aefbdf17475903a3cb5c50672dd2b238d3ac04cd2937bc988ae3bf52ad218504d6dae7efd984ec7b89e7e1a9fc03a26a8f1d9e2a5fca444befa088e23c9c9f17142248cf2f3e841c93cd80407eb5a75850d571897d144d65ad75f25c813e027364aa19f179a1181f0ae8ad9828e9b5c6715028de422f1e0944ac1b2f8ff8d4cd2ec431a86daf04704e728b602650bfd4b6dbe83004744d48ba587cacdae2aa9c6b4f194e8f05e731e0d7271e2f74759cbc5f6c74bb2a0c33305fffb6361b9ce7bf99e6cd2f2b6e852b98e0074dbfd765032b974bb12a492b20059ae38f2608d7db641409e058adf85054f58fd96be0b8c60adde22b317d6c77ff2c2b575fd3a5a4aa56169d41c2f8f7b1b2c1420e1b1430b12a14025d75563ef656286b8b798765d41256ad4f05ea7207be0303b0e2ac89827e1f4d57b7bc9e71bb5d2fb0a973ab900c3e2278e60d966fbd66d9e7d0a79dd668322bcc9ae14ff7c135b61a7785fa5fe96ee2e1ff6de258e9d0f4ae952835b52ab3ad641a04d5d3c27ac75ac0ded4d071580cae6069b9db3d88e3fa6493f5072c50684e5855fd24c27d01f732fcc797b977b26c0fbc6cbeed2466a05a210160625f78523f1c072fbfd1f16b5a988b17c697fbae1483f5a6b96993db291cff75ad66e7be77f838f4fc45792abaed641ef585065389baf1288184ea2d4705c0ac76ec5def6bb6505ac30c3c2634ea3bfd81c66be91d0aea9ce5ae42553a0652ffbad5e5ad6c8c0581d8fbdf38ec130380c1a6b7ea4f96cca660ae44730a1c692cf011789db66c764b90b7009c1e767e4e7c2e1f21728f1a7b4921429719049ccf26d7d50aa9855428315c82f5ee5a72df64b9ee54bd00092e89cb1cd16161c879278d1e69ad514f36b458498e468801e799f1832988b921e290466a5154bd68dcaeb52b7dce6f9b4a0d02d161b54f716b032cfb94f8b3150bbc8e929e13fbb68c25d338b65ce2e9f7d44e1aa1fe7422af2cb96509b47e43a3a180cc2b947df15dc4c80f5333de4854f8674b2430ddbc3ef3a93190040697cc18c242edd004a82195253870ca968e33fe2ee037a3f9d387873e6d9dafc724f446c3b71ef1d8d9b3501fabec014ad7e091bfa31ad3120561b8d8af000d584f7dea5dcacd9059eb17cf4c3398e8d255565c3b5c841e10283056153e02ae1254245cb5d21ef862599c97bbe0b32f477fed6d94cb4127b71f1f9d644bdb653f235fceb1b6aef330e1ef694d408a2e60ffcb3acf3751e4beafafaf6adf206ef6d702c9e6610cdb3bc864f7236323a379609331917b6e6fc842f09e92784e92b437b1a483cf9adf249569c8b7c0a35ce57ca71355cf9e99b88998b7bccda50a4e86065baace7e1057e2ae6fb76523a43e02a6e9a6435dc34b5f7cead667db2c7896e8d4e97985b3e3fc59c031d3a59658d75c490060a738b81cc7e737d3190ed42a86e5775c85fcb33912c2c594de2f228814ab2668e3a53a6326e7083bdcabdd4d1eed2bbf6cfaa400019be5f442a152f1b99ffd080916a2e6ebae823241bd6bf0c898d89a3971f903e8914c0d5928fdde92a4191225c949a714c0e0bd22443af381dbd4874d2c7a3bed6266cd33798212ba64461b2a7b6e08e06630ed7fd5c24f80304e3dc856b914e762f3fb73333e0c5ae3990bc065bd6c9a7e985aeecb37fc5d0accbed9bfd2dece39c7ed0e403f2e9de4afd83ee355227714e3b09c492bc53a8cfb3afff5ec64d39123237c9e7586ea4ae30fe775f2de15ee2c3fcf9c06b534371c917b34979425a3df9f06ecd4fc0c889d0768239b9377870b0166a7cc883b9cb8d293a00481c7ba89bdaec90f9bed77411384ac068715f74a16844b5f25fd561b4c04472596e7da3394db6b62afdf4f2f707ca07cfd65650955cb5b372c31535626dc3730f766a68e4caab4fc7477522b1cc6fcf4ec0c94d816de14b0839dbadf82165eab9bc6ba49db437f2e03dec00edda30d0db7288945d3049a227c6e40165cfabcd2ca549c68b8459a3b6b5c62f46126ab54e22b79de74c5d8064bb3e56b490c9b8f3db72bcfdccc391f09541aa5825b46f50d99f530284cbb6c24c0b99e6d763950551cdf43f564c5af4afd089b6ce3733e256e3ad8682550189648590553293be1e534cc18bdc6950e12f7e7bcd4c6f34eabcf56a17df4d6dda264a1146f55a645af758dcaf83e7efda514ace63e7fac19544b8504b8306833cc1356e2ae99f363c4cc9e31d1dc28946d8e047bafae0f42c9834c5cc7b9af9245df0406930e78788fb62fa4bacd55f57cfe4305350d7af14231fc797810087c422e12d3658c8b349a46beeb00ed9a1c167f7125d1a88914b852affbfae2b2d00720e6219a9bb36bf2c1dda4993231c6d98a6387f4e95d0a793ed7e80c9daa938c00b17dbf1c85cc13e25f862da369e14ee1e04b42a8c0d00237ca88f1077d873773f43ebb47f4ed411c88b22adf7ea5e107297340f930d2804298c613b441d60a5559ae78e66119a6b0e76b81eee6dd953bafc2e8f06093b331dd13aef8640b964b3171e0ce1c09c8d95d97e8dca340e10f69cea1f6436b12a8e14eaeacc06f7f697785b45c672583f284515ad450ac540b3152c7de4378b7f2c09c72220e364c5d31f8d951c480afcbdc6005dba8694742fd0e1db1083191ff4574a4b40c52fcef85741096ec1d600fe50343c5ff36068f4009d7ddae374043fabff53783da9a02090317a16670c790aa91d4218e09201be80737cba665bf1c869abcdab7db098263e2997658c45b66392fc6233ce42b53ad3aa372a35c010be14b36fb6bbc9f6eb5474eafba65469322fe0762f69f33e9caf9f07d45fe119b946c0b7a2f6f5a724dbc6e2d0cd53ba23fb257e673f48d4661d6d822057d5549b456191c911b77c94643aac6be35e0a9221bf633f4f4c99befee927ba4b63afaf42e7599e23e64b6495fc3cb5fb45c3161360d2446a93890f389b20619949211c5c8d9e3566629efad94133294fbddf4d2362c4a16812da0b0b27f560983626409c8fe80660563233a50a3a647c7c73ea0ff7bfd486bf502e1be1f5c4fc237b5037bc9d2 Hey, password is required here.","link":"/2021/02/05/JP-KN401/"},{"title":"JP - KN301","text":"8d229d8e47333d3f189c47d25637efeb5cb93a79968515e30e77e9ea060cd38b369142d174715c10e854b175b846cd04fb7976f5a1d2272f790cc55ec0278e48a390b57891132049dd0c9dd4573eedcae22b8f878a6528ea3d4d05fb7e0e071a6a52c7cf631fa72e1131fe691b414d06a38460c0f310cddd0511f677a19bc5ddd3e6c056e274c5a56aad5c1d87c210fc1acd672e6a5a9cac673c50d962245ab7ff5e35be15ee7488acb232e0dc07a84fc190140b738b8af113c150f67d0e37729bf44ff3bc2e6be3375d03a9081bbe249383b982f6743f922e409719fa3b1237fd8f52fcf80ac1c6c2070a415a530744973ada4fa127c80c25c419e237b4c6f915995241f51224774bc774ffbc11d4e71c2eb8294497024fe918d7dab92892aa75e838edaae2a7928e38f9941bca2ec663472032e7a5e6fb310f4661cf5ffb6e4e223bd1b8c33c2716d46712f21095591260726e47d3f1f900d511983d7618e7b9c2d98cf83c864439bea55bd79931f1f74b172e3b29071faa6ae0cd4e3fc6fe95b942b9070a2e24df3734b7a6c5e0848da5f69503b76622b249b662e82939b80018c89f338ce6c189ad9f4c3a9714da9e43d77a73d0ec8467779150e55cd8d195fd3b76050f84dcd7c2bf4062091bf606e046e0a41148946ecd88a2c9ea57b4f8ee476a9eca41e90dc2919946c97786a456eda03807208b5336b319a11e2b96a32b3519bd4cae287f5b74704ac9cc7529a2491540e5435d97a4111a1f97f76995225cf0b297924a27e0bf681f25d5d6349a2e16fbed69b7f9dec95e8d2f27adb75169331ced09bf8b8c5565734f198b9b26c0a555faf5dcedc919a71bd9e35fd5bb219f42e7c8c70a5e223ca102133ec25e8934b30d3d87104e97fca791c172e328671c0e7311aaa8eafacc03f437a79ea1448ec3d4993283655ae7b91e2cf846acc975a45e5be355e8921b0ca7bf37a14684bdac609cbaba9c2b48f0783807f7d06998b2884425366386f1602b6237721e6226c3044cb7f85380be43628b82c2b3bfb992f62576910e5288003f64d838127362926d426442a783cd886e1a80aeed7eec72faa2697df7e7f311a602c4c30373a430bd73a22b3f9ce0ccb422cb4b4b6a74169ea4bdb6bda339602671feb6a8cefa237f855c63bee5ef69a5083ff295707d4c6022bc4ee37165c3b1146a8527f2595eb4378f6be781a62c0a46b8bceb0ae4cff04c171ef9dab92c80b87dc119ff04fd7563b69885f330e5d6c4cb48f7d43f108a31a3c7a9fd581bcb4c54257a5f581f69e1d4246f11493831a048463d7344e014b6fcf896ecfcfdc88289e8ae7d210ee92f3128ebb22c0ff593acfe53fe559942e3f7a157a2b00c028f1b50cc3adeca54b8909f213f67110dac9d36a2605e14101c8e5638f93e769b18580049c529ec5766f17de87d13e656023fe3f90211d21858477b9a2b7432c00a8bc5247230d8a9e626e6403dce1e983013ab1d3bffeb1146d82db5e303b796d00955ff756ce76e9f32203b7b47a11648d1fdbe3e003523d688ad8b88e6051cb589518281d184e8860f9ffbaa554118cdbab6f0e1c17d42c91dca0655cd8c50d466eece505ce0331751db49f6f2b422943a158f935dbd5c7c2055e36564f4667a01403ebb7efe252e9d797f53531510c2d6d60e3b3c05fa898e62300ba238c375c3e0cc92c336336019a7269d8ab95f7f03ac6ed947b8b6757a2ec189acf6912e79ce05f09fac6a98fc9def3620245f9ff92338e0947b4531dda05a5ca4e612ca56f367aa98e893e506393ae96e5ee4a3155021b328b2108d143d44cf0bed12c58630b643fbdbd9c31a20b4770fdfc953d07a07235944519aea3944f7290b239f6ad14cfd5c5560bb0faa3e8f1e1496b98598122d08d750e45d221085655cbd5065aabdaa69e0d6305dde284dc2bd14f5803b721b2e2d71cd54a7e4612a5610a68be6adff7ffd6725183bd7919ecffc83449d9dc9fcd23be67832a7cbdd384df9b92ea4768e0851973e635ca877b2d366c586786ed34b6a6757605261574044da695a63f019b43ce08fcbaf98d85864a9c54c70ba392a54587580707045146436e5fd26d171c82c23d782cb808d4580c9d16f89331eb2096fbdd6a44ab160293793e464acbdb984584286bf8a7d9713c95430baf8ed09c4746be7a88a3edfb78411213fee7430bd7e0d9c3d5aeb1e3deeb814cb3a47e3b7f881260b66976c08259f424934660d332609d7ad22fbe8b6865406ce4a1ba50957288a0a7a0553aab4bca09611a792b2f4c50cd9b40f53ea0b417d6e5da5492ee40a230ef74339442185e7158970b6fd5804d503ada4c91982fedeb24e0f729f37d461283cea2b35e4d23b058d961df6867aab22b17e682ceb2586874730a6302ee38bad62ce9e88de4faf5837637d8c66c7027cd09430c56dabdb1fdfd48287efff859ba2983420f9991f0009c50d5522db8c0318f5bd187f949808b7974e975d832efed1dec36fac78cc343a9105db953644449cef158a852a6556dd9406078effd8bda3d43b2da410742db6622e4888d5e48f714559209e203074b5cd60d6027a14ab1d066301a57856d3b12ae06a1616246275eba63470b361cf6b5df19e1e283be1ac0d9e80c130d20f197e133f98043adac2b3c02762cbd4e1d5c7495256bf3f881a6c2089d5928f1d0cf08c1dda217cdec7001c334fa77f489aa2aed94ff5d41d84349f1a1ef9c9f09795a3a10ea83148aa64b3bc6577bf5e83ce707b8313ec8096d9f3f2e2dad639c74293c31c834efbe1306cc6437fb7793ae891febabcb7b4ea00ce57de7fe9ee0dcfc8ea8fb49d7a4e6773b3fb66aa4b8ac176798235f9c3b111016b4d6e4c9c7572c68d5a3ba899f56cf0851bfd60980f4d226ee69758bd266bc547b58eff0a39a0a1d89ece6071180b0b7300f8ad10f78c5dc7b0b1940753851a2a2a8b6a93efed7e4cf57962e845bae925cacfde9d6acdef72575b8b15a899c2c956728df7e40d25322bc1f20df932a0dd801de5e213fc289a44711e21ce21cfafddc4387e4684c2c6b6cff6b90a8cb2ffb7f0b712f7742cd94564708596810e3dce77f50084ae0603b58e4ca81bf6034e0811dd46514f01c1e215d975cab79a5ebd26b82defb89993e99156231b874a896b6681387ac4fe4ac59b4e157b95769dae4671deccc3b19a062e1ef8e049e820f3988fdfa6d9105bf8e2efd067afa01701d4d68d601a904629bc7330fa7e20f2788c722a95ce1268b00d0c2261eca9022feb13ce74bc7db2ecfd4337583dfce0574bd0eceaf233dd8feca913ab61733a09d95b8d5cf659a743e1d1839a98961e533d7cf6e7990f2e52be795b01be2fcabdbce234a3d28a011f85a4a925ff3afd3166576d12ad32ea6f7fa37dd6526e4df8c03175b4c148f5c75a2d3275c83c42da57950f6d2399fb71ae18b473df831026c13dd78c2be117a7fc9a6d78c08ec7003c9eb00207c99e6bfb9a6b517af1092db23ab6142b3254c48f4fff91d53a9053050e17cdd4caf2f4675946ee11f858d5e2af5b8a6d7e2ef872ab9c4f36c8ecc163d48c506d773790c61f03a562717ff3fe192371d8d066b002ef0949effd4fae0cc03d4c2d4795b34771e3a19c88335f66e6eb7b1b1d961dbda2d7bba7c80f79286bbfee1d5a173f15b411e3031f02dacf0da01fef72cdbfcb953949dd5b6640d34b00fc0d04bd62d12cd26d325bf7236cba4b0c0c2d3aab238836ecc41f6a5426c6377d7da0e66f2ac6b6737493149558d6a92c02dc7a328fd476927b0705b39e19094735cd28a380bb9057f81de7193878685713c09a482115e5c82eee08bb994206fc5a902fba04f6a781acca8bf9e93e52d14a453c85dce557e4d7b3a3146ed7bc8df39bcee3ba93f6b950c18b4a5e581ff66671cfd5ec8782c75a01b32e5b9e21ca2912df46d2f33b47f1a6a9501ec5eef00e3e97a1d4e3787d84e579390f20a32ec5f947a01265b832024494c3a0ee6d0d64fbc759570581e2082095858a86c6d646f7dbf1fb251f9463587b8c77777445362aa6701257d4a9696dfec864feb1a4ba01ae8830ac8d483ecd8f396a5532ba929e846797851dbddf375fc23c2257a5a0fb4cd41d46c7b1ca5814d25df4bdf438983f27fbe85fcebe1db72c06c220dc39907e498bce0f86e68c2d590ca8b722c06cf4cd7e02f7cebd5ac8777791c89a132d04e445688227bef636c8821b7cd5550a1940d02b0b43b4e455484547b16694c8a21c97bf1160abfa01efecbcd380e3fbfe289143fac40cf39114749ef1b0caf54ddc07c87042ba1db997586b07f24ade5024e974e85cf926342c2426c96b1c412de045b27d9c4cc7282eda404055c17225d5c019b7145a6455cb14571c9abf52e51b9622cb0ead5fb5b0bfcd260b95fc267cdba83fce96d6565b5dd7611ed39964527501559298e33cb47c8cd189597c13c4b7f0d20525fec348ccf2e4944dbec2830a89b8964612359190978ab916514e9bb8aa9808bd6420e667be1a7fb3e80ea470cb4e8b1f240cd2d234391597c902bd1bb06d7f2b93c9556a9da672b49e3d0f0193afd2c3312d5527dd05d87deceacb945dfc6c5243b16635dfc8073b5f26e954a3b90b7759d0a4500da96b274261742db535b5c8010c72945b87d584832a841f274824950919fa2b0e4fb7cf4a4488bd2321daa6d163256cf2599039d30e9447c9876a5a1670596de9c8c3a9410ce5f5101a35877ec665bac96cb502ab9e9bbd0999d95acad889ffb2327b4473cd630a014672dcfd97984a49b2220cc833d759037c24520052e24fe43cda35c3662aaed58f4c4a0a24177d6b960b4796450bf49ba254c4c00bef6f8570b62e391cbcb40bf8274cc8e3a2c7cc8095d6256686bdbf566495e446e20c1a20bd72e4febdc2d9deb7c15b01de8afec85fb6a3843ef49d3f21be0cdef10de102fb315f991ad3f7c2732caec0f5a9c4f06480d8c145aaeed4d96a890a62af20111aebb658d604464d2170aac249ff811a28581212f3d6a9caae652cf85ab59a03dd18b48621d55d4bd67cd4967119b38c61e49386919996ea48238f525b28b4a6294cf182c7ccb261d75e58e58b3c60c65afbc6e72ab5a24d533b42889dea3b5eaef80ed0457ac87844d92de786e331bbc0bdeff7d041b0c94697c37e01dc8d4c110d52d47a0ad8ae39d388609a9b496cd2166684637e1b9b892564f2df050c36aecf9f22fd81a1cc016945c03f8e5a7dc188805073056f386fc94caa2ea8f5956a780d63b678e273a5908238aa7b8fbd89fd110d3d38e4ad4bb2b89a6df0de79934634119fc96da614371611a2a867a31e49c1583520bb79664f0123b01c6705ffed2bc22255d9576c26f83c69b4943bf85e97fe1d3dd6c400452c3ae30bb576159b46e25b110d185ad86e6412edab455fec0b85a2921b61a0d4a1fcb758db48db406fc3fc8bbc1ace6dad6f0f85e774edf1d535ae48be0ae70fa6002072ba17e027b19d518e65bee21776b38fcbe82ef306fc132d4a383dbb6728ca488a0ba286c570171c914059853a9a4d5143f413bc65df067eed4a4dd00736eddb55709e82585857454409e657e8384a8086c1984e3b016d6ee774b53c3fa6d52fd921be6630b4eeacb7260d797e5204f34c01d9108729bff8de693467212a3f10f5c3f2c94a3099b4bb7558e86bebf7598bf80d9bb2218168a03c421844fbdfd1a40a1fdda02205670e8e9b3ea5f455623344b8ea47ae948e1a02187144594974a0991b908910b2f92b8b00bb734bd444bfeb6f5ac2f26560eefd49a6a2ab3fd351f852de3238a11002c35eefc752acfd37c30b8b290858748564ded45486465bd07ef1b6393994035e1b324fcf54e9c8df8619ca93b1da13f809a7fd45460529ab48a523bdc2cdf6dd830fb78ff41027bc23bc59479bc01548076c260799977fac892dedad85f4cef98e0e367731cb629ae3e532693c28575ed0faf7aecf130ded324f7d874f35c0c88dbf204321040d758f3bbc021f2408c4480a295cd86189d18f35ddb98c6b23a035f20c8eada09d59b501a037797e3ee5ab95478ac3417cd5e44d93ed86000305908f7ed6bfc44e704a77cdd3883f7901321684323b9cf1a517b0bae34569ac524cdeb4eb61013f5a0652e0680b5bc01c0a6c041f7d110c434e2858c576d249e86e6e2bdd4a0202a3a23f33c0dd089eabf8e2cd3c4b3a1c16274f651caa13b91771c9682010b585069c3bc606f23e603772269cbea2b171afd93a5e9e2203960e74ea707433dd7abe9bb485c89db7ee3892eaf45c74d2164aaa2f0cac470acac193817d2e9312fdd4899034ad4e1a417bd645b4b73d433871f524f78f96276a8c18df5e8f17ca8f3906765071015de40069cc1f1917bea1151d1302f8eabbc71733ebfbc1ede394756b9d12817786bf88e78eaed968f3896db399da510e2d7d0e618ca2d7a43bf3c78c9df7a161007ab7dc2256eb49cde6d44ab1dd30b2b4a756987066e62dab0f185ea5c851519eaf75242fadec45119d4593212b1a7bf643683f1e7d78c35d40e57f350f7d850dd9032d8e66de239ac1eb387789771d309170c2edd53d929529c5b4386b7b9e59f6676702802c068ca36d3d3aae4df626646ce1d88aeef8c2c17df2b5df5bb5f01c4d6884abac784911a86c8ab7ee7e8339233e1343fcd2e8027d116be3a9b79bb4fd2d56321acf11cb9fa620ed880366157df9f04d843cacf79bdce867f885769c08e801721c6fbb965686f9f1f8bd11c49df4dfff299436606e3202f01ab405b40e830fba8012a470acabeefaf715347be6e24c947687d1c74bc216c2825a85def1b77cf50ddb081ece40a9005b76653ab754caabcd9de2345781513ae067f8270118142126429672451503f8a41632b1a9e2a73b94e4e507a22b4323da605b5e07969543ca053860f2342f8535691688ba1341c65b8aeaf1c37d94e03554161a2d1cd500d2e2082cf8b387bb8552733778a96f5ad9a2ad50caef997d65f0a40c329e9bfae1db66568a6da69db375bfda1f633d325aae479132e83ab4a3f9b04304e41b8dcd37d2ae5bd44b89ecd93c9ccf1b88085fa0561948a81a266813a44c62e1b1fd7dbcf16abbd5b6323434551a8988ceb6954b32cad1099d5c99ae338a1e5c4094d80f9e8d4a8040fa26325bdd5fd796159915d3fb4dfb3b28eb0a16a1d7523c7731ee8e9a5a81f6f374ac4aa5eb3ac5b17aa23724dc056104cd8ab8d71363c20596a1a36243f4ab94099f0503820d7d588d4b743568bc335e8d834a6e57173870f5e859dad624962dc0feb929bc176a5ae2ae0fb80baf75c2baa86ff3f49b13b7b8ef7873827af7860ef6bfa29d6fb25bfc146587c4a5886a0c4c1c0898aeb7094a0d7225ffe4d8cb6e8e9709bc3c8cbea21a7a258a7012e1c914c9ee324da79942d00e0b189844a67a894826be835603052cc055ffe1a4e1f47d54eac1b000858622907599ed34db68fd4aadab8d3e095880b266a7bd3261e12b950db8f146dd497251bfab1bab2fac372042e10a1b29897118fd0842f75e568fb4bd185185bc867b123b2d53bfedd91768caa2f0cf89efe07a16d56aa0bd0e29a5bbec314f9eee97466b001d45eacedea9c9fecc664fc1ca6437b383c9a3f14d429ed041e44a36f1ca18f2ee9eebe7b7b2fad4470b886e5a35eaabec9db80fd59118f2c3e367a03eb8581a21adb398bcf911fdfd46bb6ac821bd5b665cbce87f887eb4baaff0d25bb3af403f94e72d544573b54d73b69beaed57291070644e8601de17fc37bcf20976155c102e19ae39bc64cb37d3be8613d603d3916fad13845c1e7a1d3f8940d013ded98881fb7bfde2ff1688877807a1ba035598a8a75c823f036fa88fefd91ac3d9f5800f2f6b014406dbbe848343d5b3102299abd336b8d5d550ab2187541ad17e3a8f0a5c4baa0943b2e97f90b62be788fb9942681ab07503606053298f6f14ccd52ab6f2819d16b670020c2bef74d2da21c884700673455543eb8bbfb9a572caf1197719c5b24f8ffb56162fe4d7f62f652d4c1c8898a83c7242e578a8774915f04b973d8dcc089a0925b2abf002076d1f19b33230e01524ae4e4637fa181f4302ca324454f0db32c6cf79bf4ac4d06a2bca2c122fd78284b4286317a2e925f6b072e8858356605013d838a6b53b2704ff41d3cd556e0ed3c94558a5f735f57e32d94f3489d2df5be9bb574637e858fc7e25b593cb65819d493e5299d19957632b12cf188e426e9941976505c83ca77c8aa4c6e376a7cc45c85de5c4520131025dadd41ca848ec5b5ce8e6d7a8c85c92f771ba1e25e1900936de859a193f6046275c8a07421578ad4cf1ad1f0017f1c314daba88ae05893d849b883dfd46831d9d951f4a285251005c180fe3e9e7af09ba92058ff46fd64a00a914c54ce12eaaefc9988d34b5e6e2e2efe64f8313d04cfc30d05b8639a7606e446a72337a7741a0ba72b7bfbf70cb1fb67915e858e78b896fa4cd17d8aa3b0d0c9a7fc863c02205c5846f9d6360ad22a42b81cca66916afdffb75c8f521964bd070f18d93c45b9fc01c7ee1cb84ad51fd4ab4cecb94f177749e26cb41b28245f65b58f41e930faed97f8327a52b15e4d92635e84c359e2e2e8de85a086e0b26a64e76017e72f909ee78462de7511ad01c4aa1ed0a0e33eaaf1f949a93fbe4c9000f4a964f95066c5087491a69afa640978adc9eff747d87c03316c46b4a2a1a0cd1c3a5a079dbc59ec33646c3925b7c1a225fcbc61d4a13c9b48e57582fbcf2e67d882f65df4197410daf52b1afbcd7352bdc121516fe461656b3d761811971cb6baa06d2c5d95c4d6124b3b9b56b510a9c921d356f079c262850071629503fcc335ae406beb5524dec92075ba99cbd1a880b98694a098f2f5b6598e01609b43247b339af3e247ab47c456626c63cfcf0b002beb6fc78759d4a0775405ebd5de19c4bed7de6d7439c315acbbe3d1dd2cc85740a05f7dbd084c6c86e009d2b1d24596c0c01cada668b5df4d780f865b5bd020908db6dd0aef084194911a16f593bdb420a0029f94c4c8dd4142fc5b7ae0948b5b6c3e2624a366276ee0bd159291c3fe3e6b28ae58faaa2ff3f47557032e2de4583cfb9881d9e6d19510b269a43e12773c1669a399d2cd9dcf68a6f7c959bccfe9b0d86098a9490b9e3cd49c5bd3b84a076af506e54acb680d191461522931081689e15bcacbc2bf5942e14f3cfd341244e781aedbc32401457afcd26c575ca4006eb15863e14e3a2e24ecd8c5c1350260b1ac9b7603d9f0604f12ca3b72d5e0bb35e4d723a2d0c222ec17ca84ef65af11eb4fdf5dd886c04bda2f29b5d89d7f16b2d7d3baeacde0811ac503214fc6fb74944828bd9a3cfe1a3ec5cb72b85cc39418eaacad4e6946f12907b6d7c2fc5b9bb1c49ac9d53e8db5f085b4cf410111cf440299ca350bb530cf14dc983d957cd5beaec849158a145537d497509fd620e06541b27f2d3906c19525e43786ddc9688097b089365f69f2045e2edc26070637f297eb994398085fdead9308f151630130019b6a1e2b33399ac676cff6ca58ec5332c2ce0ace330d8a34ee62e00d900ae46ccd1833d373072ce870e4cc08966bf329c0678ee0680bc56229554aaab3960b4a3830f7804e5b7425533b78c180f28bee4144946c381cd60a0501672c280d95a04c315716825a4d06c5097282b23961baed24d4d17097fafe8fa9d9d4f626c679c5b5f184daa7bb014fd464eda7899d88775940c903c3b7887ec95046c6885bb47eeaaff73ed9592f5b5ff38238f0d83de8b0438a02f865a3997434ce82eb277383218491c5698bc5503fd7a8551b11ab3c1ef30ab42464314ddeaf5521186d28fb14bcfcd1d89ae3563b1c160b8a80739774b35b10b3aac5dd138e6ac1d61c0572793cd0e8b762b0218c7f7b60ce4cb7e4c906b2ae093737d9a75a0774c601b9acdb568844d21a80d0ddd6376e5b9be62a3988f180de118b3b9e6082caf180f9ded9d36a34a62594fdd0c7b08026e0177f1cc8706fa232c177588664694166cb9bd48c04c87ba22e4c963061e0d8682cfdbf77abaad54c04a596b4230da3be1eded2182728753b620fd407288c6731df80685e7be0b2c07d98eb8ee0578d7f7b8ff2730e3a2cf8e49ff81582f4b456709c10e1dc36a33030743e87e9cde20636a80f742524ba01309454bbb757fb3fc68600c2f1fe03aa39b9051975e911ecee9b9a45e1a37a551a4020dd247397bc6bc9ef698b40658f61f2f9e6cc65b7a1a57bef8a4b19f36ebdddc9d18c21bac202db787e642dc890230b8d17cbe879876bebe46989154fad8ae6673d5dd32fa824da2bf8104dd36e26548ba845cc9352f456a8e7db2d77bf6f3d4d565ac30def56cf1329107f63923d6805c0dfc441c1fed5eb849c69a4213e97f94b989a7b77caf1e97f79af3a4e0720f88ad663b7ff98888c89958b3b7e55a7ae02ba2801ee92f3c506a46ba0989acae9021551a789911b6031d15868f811441b41f44040a72490185b996ce005dbe48a523e728963d3d05c68383ab7892fc864d6dd79b2c86e5da998abb8a43efbc9b983b9ea1120ec187b967b34c78ac11643c739662a9e8a282019eaa54f92ae419de84aab73951b815b2573a2401b1411cb4f3d05a609c42b6338fb02b99bca20570045ff80972484cc49778c48374616d64713559a85c8f80269e4c3e64169e1c82d47f1242de7cd365b73196727cba0c10f0792cd3c7091a0907d9697c8217df7e4495fe7e5e579c20ac1cb2046564a7df41d92d3012081e37a8ed4a9332e5f8481a11fd32edf817c340d35e11acf5a4681be73591b35a16f80dafbc4b678f3da4eac2c858bd9d781f8b48841955db01a15e1910b26ba68efe499aec037f7629ed35b3cab1a5b945ed38782a9682f00612383daaaad95b123f79739d056a4905b7abdf1415b9558e0b96ab7326a0e641120ccbe0bfa65271145128060ce4dfca4ec32d284afb5b03d4b99763d7475a9579090f9c7db4340ec66b93f406d04c268a383042bc5fb57c2ac83fe7fd1367f6c8b2c0d05a9a42b8da45c313ba3afa711a1eeb139547b06f8cb006a7ef2dfeed4bb535599d67567d919a544f012cc4f494217a1e2c8dfa10dc5ac2cf227efebaeee3105227c3207a1290b81ad95e964762b8050393501b91538cfd023ef29e5a298ae4ba164fa6879f598b15e1356679321fad9df79fb16ced5570a490325c76a4ad2b64c9a207812bd2dec75746a2e780cf62091a67ad7cd14ad6e8d6a142bf88010ea0c76eca1b358163da9546fb664a095ff26b292efd21f1b065d60f257f9d4a316d47af816821d66b5b81126b27852d2dc1d6a70c8ad675ca5ded46d6dd83f89b19d0874d9c7a491607c9f131b0d750955ba2546582573cbfc46466b8824e881174ce60cafdee18c7c6b47ae98d997841b6042709770859e21848d360bc2371d125751d831ea75dd84c9fb903513aeb76416431a79db352976988398e26eddf8f0eb9d0d0f0405dcb1ccd08d15499391ca3678b369ef7668883b3e31a8f666fe96fda7e3a3d207229222583fe6d21d04fb7e3d5342d62a94422d6c2c8983d54f21e339d17ada11bfc27238b16cd23f8d4ccc1ebdd26eca0753d022dad2c0242c2fa3ecded1ef50eeda8758ba0008d91275c16a8838f0e4eb1a6c35316f1d2e06b578e6c051ded72042daf1ddda88ed3f1477e5dc013a33a2c0d39dfb8dfd14fd4d3f8f17a410fd0c215648418f92bce63aca7e2fe16c07b5fcdd0f56778c39c0b8fc3ae8902c88101302bb0bcf44ccceeedac7fbb3af2a3c21cf8bd04668a832a107f095a4b95db5906aad8b46c8c472ac667f17766469d4349c1014ab56c4e3530357721054e3c0fb2f441abd615d1dad78a4fdeac3a822c146bc2777fa668b9a06263bd916fb1f06b73d1f21fc2893cc7831f482311ff07a738ef3a49216f08b66f35dac5d5fecdaa16417b4451deb4d1d483b9047e58a3bc61d997cae6e5996b32d0209fbf1755e058ddd30e881810a676adb2c2947071b4058d9303e66d953bfed4b4aec2d251336e030e2a292782ba48f00cf530bcc999b646be81542dee17fec72d67fa6c6c6c005392fd85f7ee0a76213f473e6174111a63b381b7daa0355bc559e984fd90a526ead8e9ac774a3049626c15b32b68ad001efb5a106118cf9e91519f2a9a3553102e4ace0a05c1ab94d420e02e95907703b9f551596b6aec14479c5edf635a602a8d533d5f15977d2b53013678b6149f1484ea3d121d6226bca2e633da12607e6d4feee27438eb956d24f72c8371a811ec3ae5eb509534fe3836ebe263b0666c4f95d987d8ad26c63e65458401fc9f67497dc41510e49c8ae93a4ab936a38e8b76c89f27245ba7d6f17694ddd076bb5b1bb55cad0c5f06750e1daf927831b7355787207666311fd87d815a81e3b889336fac1be935004b1b6ae7c13a64f30b1d51ff64289c7807263cb4674544ce6e20fe2054368435edaa16e04924b53bff5297e9b028a957a60ce7948f2365abf4cbcb347f6fca119dfa88b40681c3481e1d7cd9bc8a744fa8bf37bb69dd8e86f16efa907910eb3a032393de0c01aa05e39ccbd48dbe3946b0e7c4dc004dda723ab8213f11a862c78bdce3368c3ee5033e263c08f970723b7d6fc50e82fac3355f8d10d12ca9acae9c271296622e7144f53b19c3341052c3b1a9ccd0d5e5d26c5e412e6c1fb7e74fbf9c382278a05cbee0131c91f1cf653a82a5e4d5ca062db10c872d6e48dc03289dc7fbda4b86c28a597fd9fe8a19c658cd25d1809a5e87a94afcb293dca16aacf27a883f23719f1e52b5b7c12d2f26d32a40f8e7cbfeab96a9e32c70a9172e0f4b47dc653119ed0c25c93bc930f30cafa69bd994a0d5f459abb300e4f241b60cbfa7318cda3336adec35354e09008c8dbedb72c23765f7d497b3ccabc05f372eeaec52678667414ba02f7599f76659982a5b439247a8f4fd62e32c1c21ae6b0f8c22fd17a3be952f5c549b0cdd2f1e4e0507cea2a4555c9c7fdedefa348e327153ac511fa584667218174f128d14e3770ffc862ef3c50c1d5c39e181ab293bf94ec8041b2ebd3b79bbe30a057b32cdcdc3dd6651ae6790d78115ad2820c598668cb011bbc8681a01effe4b9bc7fa6f94a143be9a0d5b51a0e23767ed933ed0c4880e6a3e2f0691b12b0f2297c3bd1cff6a981a31aea82f36badf07d966d8f48853e09be9426438db88ea08e6e9f99b8d9ee8e76fb0a3bade8b6d8f1c4bffdc701af4f963997887f1499f74b36e3669858a9e7af4b0fe30e4d80f3e331323d633dd553cbdd9298d616c3491e766ac2787a1c073e5331f414e48c334bbc4dc61a05b362440676cfba433a0923109912010c1965f7db495b3c286b1a6fa71498c31203f8a4b205096401c9f6cb81f4ab5e4be2809e71b92ac228fe7f69b705becd97b4c4b0c92732e83c4e55d0a2e3e7e776984411d5900580cffbd30334b5abe12ff213927961b2f7e64b78a2e683b98a85175b97dab3cc523f7bd7e7bfe0ff5fdb99282e3a0fd5b4c2e61e94b4d3d8069ec3808ba1c3c2ba3eb597642ee7ee4c6ea5a22bd595ca21358b659f7b6ba352b5356fdd5ff0077766654d3e2c0ec2962af8cd9661c781a35802eebda09462c4956c6072edeeb427a35ec536a59d9db946e068f8086d396f53d590ffbda832935b982eef33ec878b3449b5c81c1b158f65f6d7c4da8ddd9b8a0778cbd99a96f19fb505f365aa23849a6e82c66bf9bf19bed1d3f80898c54bd338955637d03c516284934b8a1add4f51fed74af2e9ed749002fe39ac6b228fc90c70f0b8e3d54dcf4eb23ea08c8241893e6b8e8e5fdfe3101c57c002e2ddb779b11b47ea86762620370dc7a4c10e1ef3dfb37b328bb15c01c87146efe27a943a987456c7d5f3efc372fecb6aacfcd6bf94ba09f0b6ca501f3b49b651f270e696644aff443879ccac6958538c56c456228c781ded504c245207c743cf29698c7c7117e49486f346bbab86c94e4d9d4d1698908ef5242a969bc5c883cf26f810b67995e2703152296b6ffbc12b55e88f24eb1304abf3c191a9d3e591a83a8f882e5c541f85175686712e2c9db7db130f3283be606291b820968fb8f76f09d86c9dcb915d7885c7dcd6369399ac2bde01c585441e0f3e313aea0f2ebab4846e982bad325134b02bc7a5a77bbc00396b912e9f2427d1c643f22decf29c50f8bd319a566693e749d50fb6c439310e673b1e103c87dbcd43d5526c67a3c4c7a2cc0c93df7b950d917ed48507f975652c977f912facac4b68e53577fa065531f3dc6d5b3b72db966133c4349c90a7fdd2cbdd3baf6021f2089cdfe45c7b51a6fe70fff79ca5599ff138eb284856021e25c5d9f49fdf3cc1a61f8592c2b92754db599416d3b4272a07badd8fb405664f56f46046f062a7ca3e16ee393cf4ec1ad387b95920495c1be13b175f5d25d1f45b62a1b04dd77eb6ba9bfbb1d7f98ea04ab48f0e47caea22945178ed0da03b48137e44f811cd421227a1fc1169d3d0585d16a98ca59c66c489b54aaa82366ba7c4226d7f14b3d23cc4a4d326a9275179ebe7d8397f366d22aaefc9f72777576d5ba9a770675f4c25ef3457a79935cda6c78bd6c9c3af4d72aae153f0f3f59f5ab11a2 Hey, password is required here.","link":"/2021/02/17/JP-KN301/"},{"title":"JP - KN402","text":"8d229d8e47333d3f189c47d25637efeb68979f642698e19acf948344191b8ee173de7e98889e32170987808e06ebfa7f3c46275e104fcd095efd6a5d3a935e8b8dd6d34dd03c9a097344dc68d35ba7544813799218b0c70978a4f2e999bedf6ce5c2cc57699fd7b8c9102c303088452d104fbcc92bac331693923354814375a262e823b8f214fa749d8e22c4cabd944c18d56f0f6ed6e544b9b5bf55ecaf1163162ce4a0e92add388c597b9a06ae9cd7f7952ab72b6fcc8ec2357a83e37f0cc49cbd3000703809268391fba15412948e816e1dc13d3f21d7fa4c113ed36d7512ede5afb6621663b39f22bafa47edecb5ef08071d6fdc3f682a351a364d3fbdbd393c96547e83004615a12525f9836fd8e6b1d950c3d1023eda7d94f0b09f3d1dd07dcc01b9022159a097c4a2ce3656d5babc7db5e68c8c65f8a9e0205d268d0c0bba34ea9e14ff600980f39587e196c42b393f9a13cbfb60f92753bafbedd5d6f39f77972ccb08e668e1add76dcc52277948283c11ef5e64abc9c93b93a545edbfecf5bf9ccbe4599949114f8fb151acbcb89faf5346f05ae16b7b71910bda02fce80a2dac28ab87c4dd83257dafa39fd7ae635d4e0c9974083a37939920066bcb6fa793193904efdd3558c6f80271a7befe5387c3dff910bf40d09097ad038763c86ce65da7195205da5191a2b67faa3aa0054641d32a0220338539094b3b0dbb72c82d02e8a0dd3458cdb08372f6ac3914efe522b87181a1625367239501529d1675570b680f1bdb3451bd81e94288686f93ff95a190b6a69a4b887806acfcb779a3ce94e65c9e49f86f91de7281e05c9873d07c48a0f7ee9e9b0c1ed59ffa85aa06621c0b35759836760202d2846c55745400e543dc27688c2873455579039aef6439ccbd57c469231166c183d8e2aaa6fc99a6ad6b6b1dd20a8dd73b6bc521cf5c87de92687a3d1645d837394007df9e3a4929e6a989a8dbf283b8d84ffab443c3c8706b9c7e3081e20f538f772d36c8b1647f44dcd2634b609e0c383e82a85e1fab24baa0132a9d877bce0363008110edc255f9f812eaf1a10bb2e84345292a03140d202e59ab99bf07f8a75607b41a909bd862f7fbd8642d985b16c86586fd8b42db7833793e63cf19fded112860aa098f9e8d2c604f81e3082cfa6594582fa2c67f825b3dd02d92d38fbd55ce90e26a8b0b1ad320ff34a4fe53190056f192692968be8fd3b3efc2b889f06a3a248a61c0e8ab2737339907983b114ce94cbe4715594b60f2847c049ff7b3636d2cc20c8b007f96cb201686b06a3c10a3c410ee21852424fdcd68c391e60def1091fa9c2a65954b1c59b22591744d8da133a89958e31a736bd08d0bec4f26c509ea8c120ef8b96bff5e168b0e862eaa898ada9f118a53f53db40b2c09ea4b0c2ed3e355ac87fc8ec401b9544cfe75cf6e7473fc6c9523dd9c1d72ab238a2f93cd66314e97c582bfc4cc0f75ef6fc2f554255b6bfc832ce3b1c03d824acbebcc516110ccc24e530034f1588b0ea55b22fce1536cf7ad39a4d058f6bbd1486408aa5de3d09fc97f649c5617d4992c4d3cb036de361ec14fcb4d6188a695c04984da7d3fae5e3d15fb85b06799186e8994cd6c0739db2029e45444fb1d2b443820b1e1573598add8eb8db9ae3951d646e457b6a24cf134b6c46deb53010e3d5707a995facfc61439ce5c8bd65eff992b202292771354709308335a2157d2e193cc4f277806c8803f79a466645ea15abcb473c8905ed7129f8b12053121db7228d7290bcc6b8df70730be3672b34b8ba1bc9b5e6c3173f6f27dc01cfcfbb98097ed602dc380a02f1b96ffcafc2c49fe0efceae58e85b42b8ae9a77f9286ab8c224bbc8d2bd00bc1c7eb61bf828fca996d7bbed993a730ae8b6aa44679ea6df94fceac37ebea1ef5c4ad40040ed8c54b94c8e5c6362d9b995bb8ae69ea8743e52f4e50bd4c3af6696dffa983a56a928da61ab25747ce0b6e09e604768345c9e4c22f996c7b3720d03ea1731fa9426fcb8c4d2b2932d9d1f73357d72b229dc7f62405bc132a2888a0581bf6163bc732c291a847a0e6bd0f44181f29c14ccf2dfd5db6c621cbabed3ece470bf547f8561f8508e40c0a683e085f3eb78ff675c8985a44e4eb5703f19302e1aa64b0448e6f01309c32f2eb5b8feb2b6692d338765b7b00744f46b1b11bf3507827bc2f9cbe4851b948523790e05b496956119d3097ce89115a3a8dd4b773b57373968be8964b800c858ebf40423efd702daa377195ec24eefe14c841139e5e8bc6778b33ce283679152db873c1db3188275e43d88b9fc110a11d0c988d855b149a62257e7c2f7f58424e7c373035d42ae140df3572062384d0198060fd5c8f1f8532349d0c59715ced9ff2b0f55e711bd5c330ec4d07794d55774d005f6f5372c00f0b808659328625d04ed0297f43bd54221c5634fbd088be534d88ee7c518d200ef2bbfc856af47facae38b10bfaf99bb8d4f3d2a3528abc393133b4dc7d2424b360abef402ce68c1ca49349f56005c766e5b3ee98d1818107d5e9bab75e5540db4435050e9bbcf5f07ce7fcf3f8cd4cd9a491a4a0ee4c9ea03e566492b69a9d72d367efe74786d38a691016b3d7c89c6c83f23ff508f815c22a56531cdb6f5bbc037a03332680bb5db71576beef0986681046307bf5eddaddea5fbcd1c081ac8649a62331a33be5d1860512102764eacebe405c9b5b3686fdc0977002f516606bce0ca73b760bb1291e3eca9d86fe9783c7d0e5b181fafebb15012f04fc1d777985f5942aef16cfe3738b3a9047b6e6d1d5b3315ea56c7b263fcec2fe0a94372f004ee5483922e49ba877cfbe9c861b995ca6505d9830bff9c48092ca377334fad3324c3ff12d568639fe5eef24ec0412520c03c950c2d87d5af52f2918a5df5aa2570e1745f0bff60c10c66aa87234a551049994f12350fc8e0781799266f0a1a5e3a724f435a2116ad47e98ee1315d3224867dd175211f19c1f6777f89b792b7243ee2c5ab6df3b79af06a19653488f4ec44f6d1f356744bbb2d999b4fae58b90a9e1c20749e316abf6cea39567ce6849d1f7c13526ae67353cb3f34d5ce7ae86e6872f5d2fcd5265aeac1652c632d972226a75c66327ca3c1b5b16b18f01354eba312b0db40b9ef74e26c9fcee4f4df6390175ec0c3959b0f11fe288d81c7858fbec6c089af09e42a98f14bfbcca90bd57d42f13ed481bd610611c10a564459bac180205ef84b49a751541f6ff7fd7bb29c8c352c394ae72245612f052f8ba701bff8cbdc2cf4f558631d16fb3584fdef85de96a39bcf8fe8da4c1a66abb978eb23812bf85b9ac6d9c34cff909a95f9333f8adf0725485477b5093a4fba40bfa37a0b7c08822fd8632ce87c77338569ed8c9f15fde586d8bb1391c9c7a9ccd19a76c112806d1786bbc3c4ff9269860808e5f8bf3cdee8e77350b9ffac3f6f6d50a2b81a539ba4df4d6e8a863e9ea61834b532f7bef95c06a6dcdb14416790823e58e989eab714f093f4dde0b035fb3b0684fcbbee8fabef4375d87269825db82b7fe8855a26b92e960fcd6c6b117b143d8a7c3119c26bcfc5d9ccf5a1f1302cd5bb8a1067acf95ad4a59423b1f62a7ebafb6fa4ef6c1bdc941ab84a637fbd7a93014c3c49fc631c6522e8c5f747a5acd85da7cc37c4b99cdf40532a0aea3280afb52d0c660e83fc2e7251261f90d9166cf1f2bb0fa050fa99c8561e513c82c801b8737e0424b67f5e08ee27ba86b005186894dfba0574b198436a7bbb8799c27345391c6dba595388733fa9921a82e4d990a2f6f22ddf75aed34f4056df86c219f26a6467a20fb393e0ef06e88a65e82dea607e69158946d053815eb28357f13336549611aeaa5f53cfd4b11e809c18abb03edffa5fb4c4cedaaf5782c4c102fb53a1d35114623e07972a567ffe9c5f81d7f0f023a67bf13ad8d4d3af2b8de61cce21e00d643b5b0819af49ff23f3a15186c15a5667881fb498da770537b162d4bb9b7bad1bb688f1edfdf244af9dfeaf920ea827985fca299d9afdf8b492b27bf8389359acb23af9b1587c71d593e580a4dba88a9622b5157242e65e958462803cb1663c2e7c762dbdd80b168b2b54de71ec22a4a7eea91c9e0a7d3e97d0d147159a3df0f09d8d6f062c624c3f99262a2cf25ed38fcb4382056c89fcc97d1e3cd906832c34bd02f368dbb594059d127faa37b4d72edd16377d1888dae385ace0e7078488d1b42fe3ce646a6045b48e595366995d8c849f81a065c76e3465c37a8c55ae053cf5b1d9072d8e91be480bf5a5efe93b7be36c42a2c978eb414ccc02b7a3cc55488c16aeae83c3538e567fd038ccc1f010bfdf4ddf86e632c9767e2a9712d71446ce03ac0bd333f1774d6a3648deec2e09d0436f23b879b25e886d7a861cfb4a22718605aca5054efb4d2a5062d7e5c394b6ad6161dceb00bf3a41e611292738da4a24480f7601115ddb91665f7b2b954f638e083676fa2aaa16d80cf0a97f4ab3b2ec07c200a33af781e9f3b6541d00b63693e8dc771e85e0e2fb94149c335b2341031be974f65661cc80128e829f8a96ff4674e3aa0ced7a09306270c3d8124c6c7d200784ae4ee645fbdd54d9cbec60f2f26980d326e573a20a282ec07bd7f54c198eaa09c4196a80d0f6a45eb7b47253875c95ed46817b5e1f8632b73719c44ac336a8f6bee08539d089fc5fa88dd2b77c422c4268069c8226f5028355df2b8e56394c584dcad30e09ba6f109824b7eed80aab19a5698b66a1fd78c4be9d6dff1704055afe51c8e0c23e6c96ee3cd5f998c66f36f8b06b338f11a1a765889775d5fe1f620414b1114c32f0729d2de692ebdb54a731ad7e861860f2160c4098cffde46a694dc0d5394da6a491b885a6835536a2fb5cd2d4312a7a9620054e1564466804f789829295ce48a4ef913b9cd5a9213e34c3a7fcbfe1da2a8a6b4ce9b5affb4353ae1ef5c864132670e54ada193db2557667d4fa8304b7b172e7887e3005509d0a7dac155ac0df44dc34f47adebda43f9957c4d0f58a0cc57cc2b72297a7cdb42039448e3dfd8f56274c52bf7caf192784004a5bc66d3ba164b00416958ded37d0e6ed281592a278af38ae192d6f5b63170fda169f1150f36acc637fbfe42acecec24c5871c97f8a8ae3b6946bc7d253aa775060a0d5b5677ebddb02126b845a60ffec715c40635f9d4a645b01979661c9be3846d906f8080011129282b56f503da04c1e3f46f6a5a2a0e781163cd270115e1cb0ae44e809f7036683aa1fb01874ab07428baf93882824c64976c88e5a874fbdbfb25f329e974b01ae80d1f17d1b030efc65b429b1127cebbbfff8583b5b564dfec8f18f93f1ef72b68ac6f4d33960781e37e79449bc8a78c7d5b0ea98970a954f4be1f4db30faf3d3824b55958976a545467bfc709d2136bd9abf20b8598b023b50b18b3a0c1270914fe472cf26abf6dc885443ae1f23d7eef089a7854503f7e2bcbb62cd5a207176ea9b907f1fe47781893387559f0a8f70460c0e76d630ba6a3a953fef5657054f0bef3301d87a1878453962ea0b5aefe09f4fc1c1fbf6168f35fe0d9d5f5a3bb18e34d2f3e6ef04a42d431576bb2033b4eb87890fa55bf5d2dbb7e06ca5c98fb8567377edd96ad0041af77cb9a361373bbb1ce1eda6922fdd3378812e6245932e36cfb2219aee2bcb9a9689cc4c29c1c09b15a09de64d1a78ada5e29f31eb624cea000c5c120ed52ab0c6a8d7c35faa9d8474e5d1b259f6c784ce22ccf1e81d8062649afe019e5e0581d553d8dc896dcff0cf44b23ef2a73e0add2bbc7c21a554d45a8963785d0f5464576c7eb1500c2087ccb7e1d4d5c7707503369ceeead0d2a16c5c6cda606f1a65d655e70bfd97698d60be02879ece19e430cd41040b45788a2106e484f8accfa41e700e17b2a48472b103b6a9a94fa80c12ee7812397005bb4cdc83edadc4d79e150e4ee07104d12e45347c211cdfe1c0cf2fe6fc52fbe25200d2d787d698659c44c64fc80e83719f7811d97b4829b1d8b3a598c029c6268133a08ee81a656f31c93b3c4b02317f15a90217b623c16725a084a38e8a8792064b93eb0adc110cbfae9548826372cb7c47eb8ff2ff867f3aa05e63859ccb5c80d232830f3c2b643bbd022a4ce985f89ebd140172562fea23e10c78f6cebd0dbd267271c53d90339b6af1d2f5f9eb5ebe8c01b23b92e3994641f4a1c08787245192f53753062532c6713faa51972658a3c02bfd868421109aca1b13e3079ca7c7e17ccd2c24e866edf7cd4d642d4011a78e1497eecea597adec51a420d14ec68d94644a5862879006da642b0a5fb31c49d089f0ef75392670305f5a920fd3bcd629fa6ca0332802eecd90210f8bf20223d403ba9f73cac3add1a1f3268de4369827309dac58fd6761c1789de410d424e4a6c9964981a18b6190fe86b58ff54fb33fe66eb2e19100cffecdea67c3baaf771d6a1b939f3f5083222a1feefbdee820cbb3d59d944d6d57eb61f7bd259bf27f8aa289d40248a30e37e9206c71e63fdc621cac59092899fbe3e2abb7512d18ab3168eb854d6e555f1e6aace4a4faa73667ef657a8664be594917701dc5784129e25e2ec3ba11753575a0a1e082099bffc46c4a8d4da655a271312c436c7d7a19e453c44080cf621aed121960149b8ff219ae1d6779f2f6e977f96ff212a13c247c92010998389ae272ead275f9cdd16c5056b64288d8907933fc63ac8b1255518906c88ac43f29421d109e0680d0d1a166c064362c78584c5d3bbae38f0ba8432243f35104d74127474e4fe2c9ab001d7bfa743a4ad11e29571ecb08274c8232eff1cf67aaa02b9165c555ad3bf0c4ae9448eab45d4148e2cd1810f672a9357131f5cb0946929b43c151cd2d4639f91473e75e2ffa9e1b3b8500643c2473337821cf5cf9cefd4cd55eaa4c49c3cecc4411d943e0a83db89efd6afb3d406d3873fc732a4599e2c76a68fc00a8f848576eccead91e32e700930d20332cc8c990eb27bac57ecd9a66daaf4f14e6d7b8860873e47c5b16a6d9f9193ae3359bccef947b853a39a93b2a73e91daa9be321dc814b58d202abcb576981976ce5eab6f93703cfa953d474617cc95a7fdebd5a3cb9c4f8cc0632ad594b59f63c2ff142716929d0d0e2ccc5a193409dc95a7ed41ba6d150f8396b749d57e22c9ad0741ddab9db2d3ef5df42669499b3951e33f39ddc2d3963c18cb689fd05928ddeaa3dc1461606d1fe2ddef25dd7242e6ec0a16ef19e68289dac762f0ed5edefc7c59802087e020fbbf17b1a0e753e27cc3805625994a451800f8abf2336dca28d9f4016421ac4608565c0cf7dd6e222e02786b0e918cdd9a0b1350069dee85e13a7f02341cb133b4366807f49e2c830083df9b99ca4300357ccf2b90fdce833616ae16a43cb1339e29d4e27638f79f29a255785e479d724df66ff4ec4a37875e0f591bbb9c2aa1f070f442dc4f7941f4384d2cd450efd017310c1659e2abba4e5f4af68fa0536e659837fcd2486dc6991f00abe06232dba004e0c59ce6e433d882fbcc11aa38c15a8444194d3fef201febc1b74f5a36851aa99ee3001d6f030f4cbb46ad5b9e5f6e21cbd829b5c9f33853667b2742c22845aae1c1d8e28bc72dd36c69f007cae5bc784bd7b6c66bdadbde274cd537498e736378dcf4ea45f1704ebf0fd0a43ad8a3d9877543305d1b39c9a63433976e9a7c2bf9ba29eb644b7f351d1c08f5c3a08a19db1bdb9f0191e7b7c827de30929900af01ec1c781ae33fc0f06b6438d5928edd1de566b0aa410e8406e76d4cc3f0acad53cf88103f990c6777ed1e18a17d09d896be53f672470f5a8ed53406566364d054f34a18042555c845138dca94478d3a319f802ae4649a66ba0dff674e3c81a92813b711ba2f09733c0077b859ad5910757a9b0110da3165e4cd716a64890aa6c28f12d4e1731ad45e963d999e268fac85240b590665140b7a0ee49658fbfeaeacc9d479e7c573fd511593befeeef5d3ff0d4137bcaadaf66aeca0927e6829d774883023130fc3a69207c65132b6f950d2823e3157f37d5b3db35eb440007d785a553ccde5b419883612d66b8e6ba0e2bf9015f0ad0a6f924a808f8a78718387f6156806715f9ff10b20149ffb3c5d5035b728ffbc4e8c62f43451f70b9940c3706cd9062bac99687743279e720005c68ce5561ceb373fbcaca0ddae0ada4b40f7994f9dce3cb31498f936c7edc9fe0277b1bb36f99e8fc2f3f5da30a8ccd02abe7c7d8d1705aec67a73023d02ad4ec6da58e21e77a2c9681838ca9bf7c880cd66dc8c4bf06c9c77f8fdb751e361941efcd0add6b1baf58af43d80f0644e7cf4b7f8abf778b98cef1037bb52cafdef4d85ca1ff64063713ec2f252ec55d2ac9db471c329d3341734067ba9c46a8a5f6eea4f6200122e314b7705592bb99f8bb8912c3b10afecb73bc3c13e864e6418c09ddcd8331b03858f42ebff55f9c23d358a6ac11912aa2ba24d3a83333ff807e0354ba89ada73970eb67b9accb419a0a27419da924b6ea67376055b8d00814c782dc5bc31e0a0500e74ac17dda63c09477b54c7cb02a8f2c778f79522615ec7384517f93f93878accace2b8d2d0f6935244bfd17a2ae6315c2d83c3549aa0b54399db6447277a7e88d55fedebabfaed9d4ec26c045f586c47e9d8977ff899e455ccc2e23845b31d22d3f6aa77e264e508151302fdee0022c12ae8be1e8f06402fb091996d97e514d4f605ac6221cf149b18dcd91db96c31de1ff3d5da9590ac600b27184ba991d7c71270884eef29eef6a33a9c05a13a94329eb9ecbcd50c497d57a9373e8157f61955611894606334060eb33dc3b971e8cd5de3b19ff829c702e3d712924cbf16bc9ca8c1b0167bd7a1518e588a37a0820eb2dcf669b137575ae202325770b43314d7dd52fd9386b6b83a7afb34158c132c1643486e28166b6b1b20bc687795ee88bec4fb530dbf729c1cbf06b9ac0060460fc8f1eae808ba50f9f6e6b7c222af95e99c36673f8a8fa276c31a992bc751d7dee02853b0557df831534b1e8e3593f887440666e555dead932bb4c2b176f98dbf860f9d8791493769550ded179cdfc25c14aac6f424e71dc65c725ea711a610a090e4960fd556d01937be168a25f5387ad0433023dcbf055d48648ee04c677c69764b37f685df6c9d6be47834778084e0b751a17234203b0a094c5034b5c9dff47255753b6dc1bbde75236114beefa219778c69800f544834d204c00f43371ec0dededb503780da4c2e5eac445a100f7f73ae283f9b4a5808884f50444af073fbb48f04bbd523560eec46ef406d7aeea0923620763a01977d6067ca0e6b88689e7c6ec353a3dd1f49f0f03474669ac4a4d57c5a4362b58fa728fc35e2d2e10aea9ada98c3c78a2d73165096adbcadb46138716008ec3cc5618f3f8fc5c769b97a629960da9944c35c673d9deffc95bc30a4abeac6345e2d9b89daa90636ddd3aa89a31e428686991edb02ce36f3f93adb3c45623b2cbfca16b06ac60d1b17ed1b84df8c19c8fa5d3061f2506b89c0990ee43b9706dde10455abbd751ec77adae492d17300f49b3d5cad6f4b00c3ee62a798aaa012d75f83b765d01b28f569118f79bf9821cfd3025622bbb3e609dc408cb8bc8b4a3efa17bdb49e581597c3d9a50c33a97d0be5ccca4f0fe9097729fd9c05d9ba97b50bf44ffc750ae5fc4861d87fa62f3bacace3c6052168924f8f2ab08f5d764c36040535897f1535e67747f125fe6cc48a9d51fc173e2a79a722f988b1f56b71f05adc15a8c7bb0d3de33b8ca2875f5bf78388eaa8f8fe5c9b7ca073c1359048aa75c1c586c3f11fe984ea272f89330f223ffd2fcd374a2b6b7dd37c07fcf2d03cb01e3d18d434ae61c72e8f825d54e86e8c52224e98645ed68eb1f77277a5f2d48a38b3e83167f78ec14a46e17b39fd0c4f9c0be2570b12aeda8198ffd1e3e722039f4f935d7442156f5b0d43f7ae47ea9a8e2cdff6b52853c967d0f4a92f3d7c632983b1d49afed3fb0ece6c7adf13600525ac3f3bdce595d25a11736416b4d000b8884ad9c4f7814543c18fe54a1b088ff7c8dab8dccbc1c243ebefd7950a5332e66f2056c624419c4d57cc34a8fa0c296d5b606f81a4330da97817d17964ad2e4b5de2c73d9d6b8059d6e99629f1495737dcff72a957c0f5e0fc47ece86c0e0ef45680c57893ab8246d22317912656dfff89da48809186983f52b29a089267d0db82cbd863110d5182649bb69a467f4bb544ce50a6e0b1bf073f8f32190742be5e723f54e1448c0363a3d0a70a9a7ea0813b9d10e1eef7a645b1f219cf740b287527e90d410ba0edef097ce0636f5812b6dbcb6930c3f7ea5276cc42bb4dc9fde3966a1a47e9e839c086e2187fba992852f0665a399323d7cfd845cfa97ac501782a9b8c924a807336258e57780e3219c04258468252ed76ef335d557accd6444a9719141a6d3d21af950b96d7b3555240c77e5fc3158355fe82b92745a7a3b92baee90ab2ca862bed4180133a3c31227c83964080cfe0ca74f21b3bc44531dfb50617441d43acb589b18da9b122deb404dbe4d5647679ccf73f4eff945c7247755c2c1c09a815ae3efd3a5db4ba98015e2593b65fce8f30ffd2aa75a256ca9d1e5b5e65bf0543b626acffeb0e5cc838deea6458c162cb4d9949737991797049dc73b935f24692bb515b290747fb637134edef37dabcf53362f9270f0d25300f748c856ea30692fcac24aaa18f777724d242f83736070911c3b8d9e9457ded79bd4d424a798ba4e79d63a8c63ab107ecd946426d37c1b10e205cf4c1d188b6ac1ba8e746c905633b7a364261883093133b25249eada1b2dcb7f8a9635c8a399e776c52d9bfc368d641843289591adf0778b5f40a11abd3ff890d2733c5769afe397b36f8945b5c433953289062f37c79a5037ee0e0f51b3079ecbb003c3627be89bd4c946763da4ecbb3eb1e1b1713dea6c420a14c06ea06561b639211fe7d4e9559d43ade4aa1578578292d257d4169ae754bebf14de9d738b887e7e21312c48397b240e6eda124b7f39f8106bfbeb9bb7c4c53c4ba24e829a1ba6609075539efaae9f1d38c7b93e20a63c1af9aa49634dbf8ce50f7e9dbd8a5313e2e128ca37e39284b2b0b71c0db974db873efe506487c23146f23a38a7bd9c67fe127bda7809f9d28a3eb8c63770a5bde9676b1e91c5af26c48e24e56a8f93e6846c476041fa0a0e4bbfbbb0b3eae4e09bde0fb7c74aec713da6611dae9a050b341ed731eda652f2ddb93a30e2138d8914fe548754b99882de8397ee2a492543749eb17df1de57b20566c531e7c012e9eca490fa4580bca4f7fcf981389b27a6c8edc3badb93dccd50adba7c2d87cd4e38133e56d5455213b9a5b07d86524b86ee186f0fc3e12ed855ceb8c432f97eeb4f5a9c15efebed66cd87c864066a69a10ed40d99bb0abda0546e097a903ce47d0f16c5b8845fa663ddd0150fde1d9a5c92667cb65adfa9463f676a0513fd16b18753b930cadea5da85e62b39ca0bfd0d189672c5235a6ad80c2394380d4ec9464552ed2e763bca39a1d09c4edc836ce27c550cd6f07c9d3a613ba2208f17bc3378c1e5079096223961db5472305a0abb0a8534fc9b3de5f2bc9222f6ac5d36204012ebe12963dca1dcfd8bbd866d896926d7129b2b6b975af4ce6e7bebb1cfe1bedf103fdd53b5e244423d76cd303e4a0a8da71b83185a672daf6a17ba978d8d54c6aa778ef66e0c67908301167b9b681b9254fdb5c2dd3ce2a2f938113cf0a49a59dbc9ba72887f28c2441b2e4a92783120b569dd9da55e89fdde3e24eb20eb676a09a9e2f6e69fcdfe62fb1608be419ad2e99efed6abc58be2055cb2455df0349af4342aa72fafebf44e4c20564c882c55432da0136626458f7496b40d7b2b65aa7ce806caf35075cf869748c101375da142285e031cbf758df2e17ea5fb86e6b91ce8fc88a279c836504f45a6669aaef04cac600e06edaec15173620bb90b8d0b5d1acbe29e808bfcd4d9badbdaf952ef118d0806821590eaf99aaa5c58cb18f5388deed60006c12f8163ccef5fc69ed0285560ef302e47f9a75f170e4d23689edbe9657280d195f416eabee7c111ff32d3cb7f2f3ba58b7f286af4bb217f5025dc2f431d91921dccac6123e8698044c75d4f2c247b03292ce6fd2f8505c24bba2523ef6c9ec49e19087ed4ecb3e46cf3e869b7e1a6364ec9e118328f1012a306198c278dadada57ca5e0b994304c79aab62e882ca76720ad4dad2a7fb03083a678a77d7983b95f363798d7c77cb4c54946740dbcc74202eb35538e9955596b756457b0164f07ea9d7fe7bd308b60e4bc600a585fce0ab8126905db65e9b0b3a500f213c37dac057e750d50d4f3dc5a6ea29c000c4c1ac089640ecefa2bfef6ea23c9ce74cc200eeb8d237b5da1ecabe1f42c7c70246f90ea0a232e2973e8e90cae937b4ee258e34be48a109b092508ff683977dd55b684db230cd1e3802f8d8be9daf00d1c5cf8cf26f37ae2eb21ce8e29fd4500757996f0fca9526d21b872a1da112766303195d430eba14c97cdf9b945dbaa71a6f5b2ea145063cc4bf71df3622099eb4ea27cdcf0f184485f2cb12478c109fbe66007f4b7877bb2e19e1e57ebae00e9a68741693b8c906eab1f5497a2c840cb56504d87bcc8ab8d638aadebc7140783fb6eeab9e1c64d599bda1221199f5ee3d782f1bb94d97b5fd3d45558560fcf4c38fc496f8030714a1d98f452e637c6750d1830df8d6c4867c76db41ed63c70cf04fbced89c2b3d4886443311d3f66f58f233d6a4b7f36bec081281834d60ac9c8c5e02d163143c0dd6ee1b8abb01e9085a537fe97137979bef697e441a28c35f706193e48112c90e413c406b3abaf7000648a498cdba7674581918c385e58f759af4cd166db7565c5b177cdc2da501a101ffb5d8bb0954e581fffc72e23128a763dd28b4aec8b3096b6147ce1e6d1452058d8d3270a9f8b649afc34e619fd7c79fff2f9c55fe6b746c6759efb652c3805e2843de904af989ac06601a0692c251b822320f64af6e1e0a68f8599f49e50f7ce96415182cba0e1a2d630f5b4a2e6bc9a0281e82435beadf135fcf8404e441e721886a1aac2d741412feaa9350b847967839897f1427cae015d81a740297b1450ba282fa183c38e166c0d09b9df0b8699e459b87a2c01f77f058186e041d1f035690200c16d8b3d435e46da4b1afec5faff1038795060dbf702461750fea96be4afa883c6d478237d7fb5a9a1b90a33bc56fb4fb6c9a82256f22dceb814ab6d6301ba4ae3d627ebcd72e33c8c9b29a0e55db308b85e1769f96043feb78ed2890495ccdbf4d12806463869d84c315f7458b18bc0e8c7284e5d300f6487ea70418f95db71e7cb672792c4a34ad3c84f490414e0b91bfdb02bc8a1811f09d4bc05c73517ff6d2bb7fd475392c34812ab7cffaab87f6bbec0c3989b24075e667c18b55ec85fef8104072fb323d0db294daaecac850ef2f1345c6c68635595f5e6c5f68818ba0742ff57a4085aba72ed0b52b9048f38494cf2115d1561bfbe561413c389c53bfa7fd14b1a7f9b8d49078e85448a58bf8565bdee8e26b5aa3747633974a2eb343ab01bb0efee4056093785ce2762f9d025c508f36adcd754665f4bf329adbe3e55f0cf7e8275b6d13b5e8d850489de78b3b6ea3e85af6c2084a3d6678bba0c0f369830a38cda34ad5b085f02b1834f36a8d84af5d492c440b12861819ae8d1385ac29b2a8b15f3b53628af70213d91b1fdc82b44b0771299c0328dd4475cb765f88169ad7d6c2bb3155df30561f4dd809b02b208509ae3c887a04adf47efb464c374261925683ac193e330ad7f401a18a1528ac9bcc1a6449480bd4b75c77cbda05f37415f436289adf7ce33534eeae15fbbb8c4f17069861a8e45c413fd02f1cc8c5adb5534dd1bdf85cdc32252fe27530aede36e664b75fc1abd4ed29b81ef8433babfaee81c1aa70d86a9ab9a0bf3c0d8f9735305a4b75750ec2f8f8ff6b1694f9a76b572e220919e3a5fcac70a9d733953c02c8e02abf747b0601fddcf246dcf9c8f33252a216139dc554cb3c27716972c16ff0c8238c22ebf316816d1b91e59eb181c2b19d12353095d2b396bf430d1d5f41cf6663fc115f0e35f8623054533bcd9b8f3db9a52916e6b6b1fc8fe871e5548a1395d0bd6034409ee038dff3d91b4105c733821f8d52943b2ab6d3538f03c2ed2e4546f19098f01ea9d162a953bf00db2bfbe22860679c745e8af688b230a1126ca4dca89cf269edc93f85b4a10e47b91bf1a3a197c6b0b3eee777f0ab96d6a675ffcfe25b8b433c742a695cbfd890eec3d75c1bec849f8482cab4c56856cc4a8d5bda3d97458cc84f4baacadac64f3d7aa9d46b0fab5fbee4f75d92a4e92fcf798f5daf08836d2842078af8697b6edcb5c39305eb2bbd657f9797858be50b6fe3876d4ad9c327543ea11bd14cae9499e33343aa3eeb3154ede6ba5b7f4bd33265af264faadab9106bab800e2b8e4b1f5648a8e691139c3f0fc0b84870453686fc49418dedc9614f0c0dbfc1c85eada0b817feb227399f27bec61b83925786963f8a8c5aa5c9595f1b4a1df25f6e2910ac1c342c146620b472296783f705d5c6d7c94bcf4d3616fb6198dd56ffead4aee27f2675be56236a289b130b5b96f91e7ef403d9a20b65511e719e9d5e77bb3d60b45391a0e26177e29d6def23e5a4be599c47c39c3fcfff221bdce959afcad88a934fd8e73f4064c3f02e52b65ee7dac2e3693b5324e9ea0eb54f238513f4f60cac40ca736b3004d324e04a47c0345d3b63f7828aaa6db39a35afc0e6c15b4936b224a1b4e941e7f61bbbea09c4fd6ef93f3332b116de9eb74289fc8bfdb5cd060ac9ae3ea8f922a96710f15e1b51f88f159998a590490657c66a0297523e8c912a91d05846737a1b4d873728c6f0f18719e039ff3241e1a17a84a742c45890cd4017884e0ea875ef58715e2c2cc8896ea82df1e1e2128627a457a15f9cc7bd19307708492db580e999bbd2aafc38bcca24c66143880190d7427e0c7900dab3287d66ca9ef1184e08ac61f3e63e07fa21e2b81ee37fa9fb0eb52816373a413724adb69d6b9180efc3de3e4a85149bf0503c4ab4d33d8907387b9f646277fac221bc8c1ef5392b5b35efdba20a94d3719112958d1c6b5c3466029e09face05b24c9684dd1211a4e24068ab8b432f853f6f8c9cf403f02e72993b88ebf3004dbe0c9f7970d7f27ebb642d263e978bb9d10ffed109b618f117e778ba633021b1f0bf4aa32ffcd5695f2695b3821e388f2ada3669c51424a1592b9fe5cc4eb75dcec7b75d5212f6e04d96a512e58f82ac2ee0e85a19fab5e440c1141cfd8d8927bffcb55e37086c1c7302e2e8377a2d0b00282580a8749b339e51176cb89dc0aa157147d41f432a4adf64d5d86ed3bfb941a3b20fce57a971ecd538e57fc2cc09353b827ea7d08009920602aba3f96f26323b260e729d2b243709df8dc4f63d291c3fd845af186123101d60862346fd22209602dd2f060971765f9785e51025691b33a0ba94b2be91a17345a93b559ced5d954d4be33c060cd1e78019858925c73e0c2952969b3804989d7dcfaab1b229f8d8d5b73967d04b2fcec0a15a1bbd486349dc448674e1489a59c45eae549d9a474526b07cf760abf66bb91ca5c3a0b85f9af6bf8e11e42265526918c48b00f00937f27e563a136a8d55d64c866bc7517d08713e7f6629b2cabc069fab7889f745b42996f815cedae1004726c9f70921e86ec6b00bd25edc96fc0fdcff7a275f4cd9cff927a221d7575cfd24d76075b840dc72b1058c2150521afea0fbc723bcedb57c9996885dce214306c25cca25fed35e950fdcc7e8222ab08b76312a7e32d7d4c718f3428c1b8f0e743b89ff46f6a06d696c37c25dc5ed9b24ae35222ee0a7b1a7a2c9c71e281a76b5d98ce695b3a9023d39c3eb59d6b4217f42201d286778a477de24797e44b99b09d69da4440599281035960ec50e2e8b3f393a2ac1364ff2babd0c496816da49174f22c1c78e916d8e26530bcf21190e794d94f29510d288daa5ae08655ec01397aa8f8cfbe3a7708520f3bc8ba7aff0bb66f47200686642627c1b77438971685fd2aee95b483576d872eb44dc9d5d3d712289aec04d494829765642c9a37aa6223127fe56e536e2be3f9f435ed18b2061f0fd594ba55c42df577a20f297b6ebfa03afcc39499f01582e4041f13ebd9726f75e40e04ecba4a8f2324785c7c461d1973acea31b62a70ad3202e556c41f512e2feecb5104a69e86159dd0065949324c13cf8e4d2dfdd473cc0d3ae65d920d78177c038c6d85cc654ab7913fa3c0fd65eff09846e08b1858feb4ec7b01893d8fbea99d1fee7b82114248522826dfaee64b0d08437f010db4b8007be43c680ba09736514c43ac5edc12dcf08f14998ee97685ab6b859c41de3caa598b7de2e847056ba943cc5b6622f69dc4e35570b14d67b987ace6173a72f2347221fd62a93293db67d7cb31d75ac594b643a4d99fb685ec78297adaf0229ec7274bbececf47166e872af5b906cbf65ee9ebc1c7dda215c989274db9344dea84f6c05df21348631cc01b773a20feb0a144e4ec643b9ac04945df2ab796f7cb0daa977df929eee5d7b42222982ffd4a96e7c7fcd306fcbe32190c64cbdc8b1aea523cffd6676915d0da344009b0518350f6abf523abbe6f267aad0f895b4efe24c37a587e3c3924338ad0d45adbc2f5fba0ab7470d4f3162710b3947f20b58209387fcd68f0f574c254e58c07bb15d7f6e055b31d6e04b7d9e8d7819046f999fa49a72d3a55d87ca6bd476aade8fe08bc71ff47c1dab21c6e5b57b94ad65a7375a2a09d2b7a8ddeddcee6b40eac99f099d31521b8d427d8e102f3113e100cf730dd686f02d39cbbecb1464bb9181b07822f5dc9d2d27221122dafb21e Hey, password is required here.","link":"/2021/02/05/JP-KN402/"},{"title":"JP - KN501","text":"8d229d8e47333d3f189c47d25637efeb5cb93a79968515e30e77e9ea060cd38b369142d174715c10e854b175b846cd04fb7976f5a1d2272f790cc55ec0278e488a56464af50a1608d13adc9e54009072b5196ce21bf3f9d67049d219d83c07a71d73a4980d6d285091fb5b3deb64bdfa9145ba20ef3afb4801938bb1d730706718f42224ee406eb4742f4ff187f43aaf36c953c1615dc2cf1bef1ddac66c5d270c382145749b7f08cab687214f1d1245b7c083a9d301a8217f97e60cf761cc3541786f90e74c0d420bfae615f8c9873c20e7477ecd59a808e13f8345a5c11bf393aedbc0e493157f34c6eb4718c2846e90c3bdc6cfb2f0b4d6ca4b9e8d30c54842d552112457eca760f21682a23f1b1eaad6826792b42d9b88555bbb85c467ce345a57d272b4add151a2b7437f90636684c89d3f56b8a9ce0a4a797f043f819db7d5a685e5e60a7ed657cd02cc94a6ab76c1e16ea36ffb90d579f0feda37c7623d012aa1c5d0381974b8567ef2cd7c21c7aa98d08e2d4e8f6c4a1a25f8df3822a62e330681e32a3846ccd8b9dbe92d731063ccd6f3264584c25a5b01d55ccff9861ffa32a141a9e9b6e13c92fa15eda4687f3dfd9043c7ee26a4206446b333ea32ee30a11100cd158d9c26d464245c15d57a313d1fe9b53e04fa702d2b707bfd77833c7d3e13fb7a8574a3d705e82efa11a616037230ca6c5a974071702ffc188ca4137dd905d35c84bd96dbf7bec6b0eb92b8ebdc4f9599b6cda5dc56ded2ba50cb3dfa8b28067780cdb84028405ba92e3e882c8cde904e77a8280296da14189d435108f0fcd1754109ba1ebda80b5ad1b1b2f59579538eab3bb6db7729a70c3eef3ee5dc46f188b64abb2700593876d2816e3df3dd08029ae2090042a07e07b3edd4a93591f4064000fdb82126677c6e223049bcbab8140ef512f090954ce917064c80c1f67155547c0ecb85c233e5d8b3f01d6cc04595b09f057300d802c81ae9ce7d0d7063d7d0546ab2cb717b266fac90ec1387cf1d6c07e6a7775f3ef13f8bc4a72076d72b5ade0a24f612ce0725206de37c305884b1b9221f7778ea97811ee9f65d9bc7e59452b40d6b23b238c25dbb5cf196ec34658bb6c315a98a9761bf3f7b9997885a19d766d2d6418bbbe29a208e744ef5a42e7d5336b7d79796c719b9bfca184cca9ce90acc09aecfceb9d63641542e95b9e309cdbb6fbbec03b11d0d807369c3f587e0d41e981f43602616c8cc1f80eb525667ff0a2d4b0716bbc44d2dc89e754bcef4057b3772741eb8bbeb8fb105bc4d5900ad41b4e2458e04edc5f49537279b2849862d28bce95c401c6e24ba3cc71b6ea81c94e2a1cccd0d5ee3a28df41e41407628bc04651bbc2b3603dae9af3b91c633b0b4259c908928d5e3f82ee8c780969c01c9d6ef4993bd5657bbd27d5f4b2ae37539e523a5526851149a31e687d1d444ec2d5e41ee32bbfdbd73b4ddb177c83427920511a3a1535862282bacb1200f8453e9d1fb1cb5413ca5c314ab0f91fa5831b27453434769687de7943b392dd33914d8fa9b534795fb69773124d4c5a933efa5cb4d709097e81d5b566dcbbc9aa0b2cc552080a9d825a65e85abb7bdb4c35a2c854cec078930106e8d9b82985c950b70a118376716e898b211d5415ceb1a0c80687dca2b1b8511812f04265fc8178ea0203a4d70bd53175bd69f316bae2bc98ceb0b852a9d867a20f887268ea2240ebc4b11a8ccd72bb9e7578046487f5d4d31157cb4e0d064d7ce15240e184f5e810940884dcb6692d1b662275a3f58c9e6acd4e719e231a5e9bf5a63dad7692a82adfc52ab7622dd8ef47eb2280115524c170e5d0ded573775d158e6bbddfd50b87e3759e4c790fa64045c625780f635339d090a039833c64997755d8b622bb467cd7615df489453b0756606a2ee54dfc9758bb18006d528a9dc36ba04ee323c316009e147fe96e82afb8f7653b30d1198f4ecb2d40b2082e88e37dc5d13eaf67cfa12e2b854dc18cda50e614cbe65a366c826093f2e5941318de1a052403cc984caeee385deb090e6de6091facb78bbb71115abc570bd3d5905c418211bedba1430712fe34fd7ea747fdd29e4bc1dff3d9edd00b9b78d3a414a23c2cb19fe4d8ee76ea422f28bff3a9fdb971a74ff4b3ee6ba2b3f304064cd7b304860310883fcf64de9e4aa154e6dad11bce593ed4671b26163b9edbc49d7e1d32c20fa0d7e91df1a77a6e0dad14710bf7804dbe7d76b06417d24941357eb85d6aa3490bd3b2093ab7f18f4960bf1e1d4da0bace3cb8034cfc63f75fdbfb1bef4d3f59fac319b943a8ea090a04bb35c0dd45a11ea1890f8a8ff06a06e83bbc5e5651b96d0d8aa179767d4dac71724ff09bf092553b56fb9e97ce9ce4e01af35b9fc438849fb2ca0cbec72f0be6667906efd1c442115e78c8cf6e8908427ba03c4b07122deaf2558b36f50641b98e8a773930228ad391c870d81d95b7926d1bc44381fb8da934813619140c889ea61ae04b410d3b6c6a2418706039173fa571b23f175d0dd5aef827cea2d0903e55c111e6f9ea25b4f0b08e6a412b42ab11a9e972a13161f852229b5d05282094b2865c06449296ea3cb1df8edc5516d5b15d1031ee4d6f897039465046508e36c44a0a649bef1378b00ea175ddf87fbc2314573e9726b5921dc755e8c43e0429107809c48d467e7e48c9c21ce429135869e71ddd8cbc5673e380bab30224fa4b0c7c7d6dc4f98f1d3dbd74923f1c75f8d4d0a02cad7477d828f6a20ccc6d841ecb857fb8531fc360bfc785dc4e548642a73a97c8e81e4100bebaedbeaf155e5729b63f400f3946c88cd019e49177181d1998db14487dcbfbeb41abc7aac31dfbeefac8d48613159988bcc637b6149e634348b14dbffe1b97625de71fc4b1e648b4d8a2281c00b081b3244cbce6782de869c582c31096d1e4559e6a8a27d6bd4c022961fdfb08b8af75bb8ba0c8dab6ec70d10639f14acd4c187f6168915fd264d4f7d330b8f7b43e0e2b3c08f4834feea11348b2faaaa465653023a94bd2e115d6b68a35204b513a8bdc2bf1b45d188d9b3409468eef6489f96a957d04f327e69220aa15cdcfd51e1f537c9498ddf144b197fdde2a6e559f7eb77dc0a58fa09a7583cc9dbd62b12b81e22cb198bd655b3db68cd1ba44025be61f6b0f4a730bec0c90a9c58f50b6a7e6e9ef2dbb83e1a8c8b2fa9205d843837b4b8bbffdb923627244b3eef30712ab51a077a6b8fb1bcc39a9b0a1dae4ed434375e2a3f48da74843721f057c626828625928215cfe2084f46630000f7c241bf39fa093494a2dbb818d117ee27a11a64fcdcaea3d4493b3e5e8abe5c0b12530edcdb458fcf5ca29543a60835ebb22fd83b4899235a528cfeb9a97aaa0f804d98dc33ead492cb0db15230f9f16f4edc29917ce5ee6dbfb217b8e23b14e36d11eaf5f329d48f65fb287680d1d4c915afb409706289f61585c7d15091e275132ffc329e0c8ef659f5c560dedb1f9235eaa6a7d33ab81b3efe3f08be7802f22f27170df0d08ece8a63e9f0482aa02d9e8a0975c078b1d6dee6fd58597d7814bb2250b59a6fbbcd7d56914645a8d4087478e5f6bd94fee9e1cdec44d55be2d8bd7153e2ad535a217f83514f60d5ca11079396e1f0a1a7c22e5b508cc596eda58b171986c2942f2f3c84f28211fb6d91b317d7921a89befa05e2691dd8a67fab84f1e63ff06ad67eac1a75ecd01fe6f15f69e29e1803bbbac0efe82ffb1a6199d1f684ea5d8ff5bef31affd05dfc7107cec0911030fcd3fef7f83c1ea50fbfd02e26c572979e4dbdc6836c2778690eb4c807be3546f59a718c4534a62446cb769457804a5064756313c8e9bf037f7c9053413618f827f56f9d27bc95d75fc6e3b05c2a8991492b32f796cf317989ac14892b1d984993a8fe6b2ad631bc4147922bfe9de7a8da6cccf2fa653fc4ca5f16b0d584461b08c295cbc73b650716416738dea92c56e864ad3c9ad7145f0a5e1a1026417a9230c7d96aaa6658587b99de11d3715f788508b57127f65e23abbf311f6aed0ca8700857de62cacdf59dc5582c8312feb77e6820b885a50ed1b6e5d5166f55ceb18124ab3928b8828ca0c93c28e24a2d82c2a60baa9b5c36a4ef74b7053843fe5a4e61e5666894b753ff1037f82e6fcd4d8d8c87e5ddfa0c7c44aa22e4097e351b9020447dd980248dc597864c8aee40ab01fcc19284b54bac6af1174f33a7b0809a7bf325fae7e28ce386eb2206820c7f5bf8b408f6c30ebc9e7c9c88d919bcf7a3c6203d71724274a3dda2331500459cb89a73fded45665af24979486f235a6f464c3ee5810c6335338c26c7f082ed7e4c75abdf2fc1da28b042b9977b4f95ed67da4fe80d3a906dbeb5ad17a3000751e3a6e95c73bed3783c5b5ebd7fc65a66cfa7aa51e21a5a488d6666f8d62d37cdfc7daa139cfc4a0364015f86b7d9fe0fecb1d09e4215c287f64b00cfa0f301fc09a9d2ee6ff1dca11161e8e79371dd2e247bbbb91f31722e442b23a7605836400efb87ff0f11fbbe7c18c1cd50fc3bae3ebe47441b0097df5a405dd7733805a22663c034bab41342eeabcb48566cac2c7a0b9a844ab2306db1018415fcfe0045a17d9cbbc46169aaf2b93593bcd224bf02f75da99bc275888aa2b8667a6f89fcc80778286c94ea8dd45176fda8f7c1a7306c1b2a11806cc418421a490ce040f26cceceb172163ad2099b36d9930dcc8d75dcc814e41c53c46392d29850b3d71d41b544cac9c6e17a628a3f647ae292456ad6abfafb1f800831eb24c759fc6bf8a96466be62acd7b4aa16d423d9419f83dc23a4cd55928ba7275eea37a7e93eb7f665b6d943ea7a2d4687d6d7f716d9d6e7d8fffd33d250f4608f64db4ad418e298fa108e9a6b247de495de17b64278721b4c1f3b2120837ee2059c6d84144aa5cb4877de12b26ef6cb2873e8f217121a3cc381a0c4f06da1a84a897993e6b088b372feea44fa383f578ad74ea1a1ca33e8c62853f0161cf711b9890fb760988dd78ca5aedec5e641cd5ea0994dc6c0240567074472986c17a016e85868685a4c75292568b01f811cb45cf43eb125e7f4fd9eee15e82486e34122ad8466f0ae9251996adf5bc8461362ffeb9696192140767abedf3cd41d20f36d54f95e0ebf0ce71bf7162fa1555f24547dd4526ddc064d5c5c27ad17a9e5a6b073f261825f0ffaf114e8c61afce2e4814ce92d5732b6388e01edcabfca5fc5a99bdbf08a5acbbc1b39398f94c1cf5de04b2abd7ea4ca89be3928e0a48565b91033b47370aed064693ad706d75debfbb5ed0b06e6c80aaca0954ed4e9b2fae52f5818a8960faa3d251beae6801cb93e6f195a7b7597efddf8b0a7bd1d100d51e1917eff4115520eb82face5c5b5e40a165d1e065a7c352c284e2d2f89af95b1f3b953efdab077d4e6fccadb273263c9f1b418556917c5c26cf78191f196adb7a1093900a565698801d70c9a53c657fe28b53c6769044714cb8a8472037dd3859ffae44fb5c23ce0e8d17d6e9ae5c3ee5d35b5a47588df93aaa3ee08e32eff617c57278684c66ba63ed2511feee83945060abf164db8387d5b6a60ad7061fa55fcdbaa8341b570f67ee2f92bb263202d048bd80d1263a12d8aada55ac5c40bf29a6e6af8c9dba346f75b5be44c785e587b25e60a393e562263ff1f620167334e331b703c38fa84b59a4f1cf8f4a9d1df4ca2ec03541e5efa612704f396584b122d30f59da33e81e8cd3f515132df7767c81c269991be191304902365a322b740d9f2e619b6c21ccd7fea68cfcb4d188bdfe989232fdeb85cf2d1d77da06eced3eca1d088beb75c0c38f0500d6e9448d84e06da2b14da57936ce27e895d62d55c2ad0252a4b87bf8748d5f467ae49c193389f54a856577e349f1bb8ff71f182459b0af64967022b2c18dcfa360a5c403be364e523637f703956ad3fbff738d1a4f917d701a1f3ac05639cac5f50afdb687d946b39be8d375917a9f0372d3375c1c2a415f50780c1215c15b20679ba77516e00d57433c5351b3056d55e86c593dff5192e92a8f85dc357e5890505c5e40bfed46b5cb7d64c1607bfee1a7dc1c074561d0917e0f24247ea7bf1b38fb53931c60cf2b490f74762e1409194d745dcd4e0fe2fe90c07a2d581d741efc83c08fb55633de600a9eb01f0b8d95647a47dcfa9850fd1524e978cf1402637449a296938a1ab7a7ff47818e3c9e8bb64954426f99a02fa5bec6deca4f911da364538f09ffe496eb24474aa160a8e7340ca35701caab498fac5798d89b9c2a7a9a168014afc9b66eb2a9b1aebd8c6fc723a032766e9da975881c6fb587835e10897b83034b9de56fa005cf9909d59f13aaf7fbb00c95b0d88cc2d5db1c44688cd48c46ddf378d045dd723ea078d56639c01e358dbf6b37e999e644ae6c073d40e79037a720cb43de48d86948d9de3388a75b4c490177124ef71c954bd6056e82ebe3af88e12360d61c63b8876e4d12c5a0c51563cb91e3cada61cbb9a83c1e3643c491c224b393cafe79fd4a59858165c857048957152452ba439c257eb17d543a837f20f9b3f78630ac433be045aab010973b9ef1c2afd49c2696f40a2dfaf2b9869ebc793ceac26146f2b11388173c73fc4b4267c7f0c11d2f086ff611023f567add469de9f493fcaf4079c0d6663c9f611a92d0f19ca2b8a9f359b261e75de6adffbd631134b6857e863c216f1da9e56b970bc0a701d8a1013d6678b77c19fc5371af5e145f422ba259b3b4583b592c0f421937a1768d2fa4427a8929967ee609e433c244f7cc8fe1c44d8dcdba7f12699850e14df779968c479b9b06e4f221572d22441a751ace9036b32ff3780a7ba0abab137b3a742a979416eee5d54b3063a33447853952842237c02d5ef8984a003c9d9192b5abafec7ece96f0fb7e650280f9058f1979823555a39fd83ae234ee9ff0987649c5ab821d68797448f81b7c6d26bfc90da834c7b093fc6f8b7775a66e9f554c333c5bfcefa28b9cb5907646771c051ab1c51b774fe3bcaacf49f822ddb7a9432c264f5521b6aed6ba900d235c47c844ff232d4c29d5e69a8a8cb80039e9f2fb05560c51348055387d6b7b6a3cb70d753e4f0ae54c41758423d8e76089ca34fe1c08e2af15bbdc85ae408a266d24f7c97511859e3240c83ce64fa0f17bc13874bc33dc6377bcef4a4174478f017a800adae1b5c68a096f320aa36438587203a0e0b7782ab46427d3670da5c39e03a20c7f3a7c163c56ef83059e554bbde6af395b0605fd6c9473bcef907f8993fff04e519c42f7640f1fbe222fc0618879736130331877cc97e268c3df234f6a752d016b4a3339e72e53327fe274beafad89540ccba2fa8d4b90a9d25592c4872d831b46abf85b63dd9a6280f67b7fa7dd5550c1df6cf1610b03c758a0971d72e138437bfbf64ad2806270cf1419ac778ab5c18a8362ce48636e2fb0f0606b2e1c9e4f171b49b603b99ce2144c153c5266ffa7039580f3869994fb20ed3fc96b00b0dfa222afa1a591c3b369902c2999ae3db294f4525bc7d1f1611b032718a380c8aa4ea49d03e1d6cd6547e32533d83ea33df1fbfdc4726fe2575e24546a8445d63ed6555d4189c7a1c5cab9c677e2c6adb572ba92c08650a079b7ba898c8e3e3760477c02f9d116b3843dc943dfe0f679b6896ad2d05542f201877da30a5558ab66616427c91712cf3224137b8ddbeae8a02dd3e77c143e881c38c690be69f6236bb4297fcbd4c03d78a1bacfa2f00659b5858927dd6b3daf66202d6b089549dafbd3be6f36bbef64745f1c50de6b63b6242c88c1e05f859486ba3be8a5987ec32395a2b9eb457985dfe0a241d642a351a8630c182ae1c143e3b53d50914be963a25cfa5f9d8c8decec5825bc1d48787390798fd3592514224b7626abd990d51aefc9af7968c302d8f6868793f6d2593789def5e98efa343a2a9c7499e8ed86a3d0f189d261ffc445ad6b3a086e7b39e061d51170536dbd69798cf57e39eab687cd89a69faa2bb0d2259b5c92bcb6504f5031aad6b526bead098b258bbdb1d35f4e88e6fdbf7d0bcf9548f180681d82fad92cd4ea061d8de112b717e1f475b0c83146b2338c21e4c919b7c78cd7a7719fe8c29ccc10e311a76c48141a210dd4eec405025e73b5d88ddd29b97054a2caa2a41aefef53840ab1a9fc965128f2befccb045c9997f152810c5573f5e720cd225dd1139dac6eca764456965bd2e0805ece8acb668965896fd537a227a90437c14af13dbf93748720159a1ca87f4e736b5c956c24da6cb7e3204697bf5beb6068b3c3f752e726d761b5628b5913faa85e438fa27c39a77079a85516838a965f8bf8a663463643513630aa19264885b9b654e093d084fae7fc367b716a8e99cd0ae846cfbf40ae782b3bd5683a90919b0fc09a4306f5845bd6ad01e37117cba11f097edc1e6bec0684e953d735311d8a7c55776b2d1e44bfd79b172d5d7fc0c16bc00a390431389315787e7577b2910d658682cfbf9a315ab1dbfbc6ea75e95761f16f8d26548e551b0d0444088b55f72cc347fd703df24154dd7673f48bd3d7f2197d6632ce5e88a17aa65c618347dc6dfa770e45e3e7858e9df22bdb2f64f8b4ec17fb4ecbef5192ebdf07cd983ae9ce41cefe0493da588593e25c4edba54db50c6cacea1c194fa9965d3b2b31f8c6bc4d224e1983bcb9878673b7a94a53b994ce71c3109ab3b58b9e5c8021e6f01eecd56ee050676cb182a24cdd32f7110452aed456b88ef4b9d2bcccddad38e5c8426b7c10eca0cc1a3a3891ad9e2fdef9d62767f86dfc93c60692153c9a7bc1bb530189d7322e9888c63be545bddb16259bd62e3a53fb9507ac382b81d6ebb6ebab51c40ecab4930179c22d297bd2617e3864489e3e7fc9ee49510156609d864ae7dcc5185b5b9b4d6ac0219e713e98c94c63939a0e0e811c1aa02cb08290aab37e38972cf6dbc5b738b3eb1f1336057129112ac1be2c0ac9b498c650009904b8808b32983d9e97d094b19a9bc7e2df8b0f706fb424ed5f683886c6e57e990bfceb5f29b87ca8040a561df1992445c461ca7af99dea13afa458d94d1bc56ed602fba29cd69de8b402644a954b53851067893b4fb6cb57e830ae966a392c4bbaf63dd2fcb76f9f583cc17828481dbf13c68b558db022025f6fca0c9153f161e2db2a4523b2d258b5369d8e6491fbe75176157fdc7a63b990c82e2c0ae99f5628a051cde9d55b60175326695699d2a69b9a5a6ea224b3083e8300441b1d945c2bb7e4e549ed97cee25f1594181a632791e5ecc281c5134af2c41cd41323ba17df10e5cc412d1cf644fb331f362494cf63331e415c7de49579a9ee9230b555fc90fab57af4e68ea95eedce5e9053bba0df4233fc049985eba2800256e12f554a32909679125823070222ddafd8db459214656190431de1435a1f2ec98980a55a31319e858c30570232492d950ebb5e48bbc09d9e11d42cc4b3d9857ae55d087f2b02d51f39c30a574e698c1867ffcfb39c46f9434266dbfcbb1a9934a0d1881a9b4c13543bd82827016319ff63e359da73e3986140172e64390edacdb18f2d56e4a7e665a47e057e638dd15178f480a094a9479a1c2d444e78b61c9b2adee358f5dbf1e0ad96c91fc2ce9b53eecdb27ded5a71b8e7a84ddb9fea904e38574406e73c2a24bf24493a7fe76beaff4ecbabc16cd561464a8e259cc8250bc4821f07384c1f8bf3e7e969fc5ca7e0407da0c3d038edc0975782410037d5dea517414df9586b412f77943a456144edea71b0a9fb1c82bb8a470f3f3a694530d35ea17af79d9a2e60a0fcbf9e180e5907d7265a733f93511cf735ae0d6c4a0c1385f5e3db6a2fa40ae16b174a0f90a7b6f95db464d3ccfccee54b59b8de322e262f99aeb1e3337ca7cc19cabd21d139f99c280a141d53520b23c0ccf5eb9e62e21fa5e1de29bb656cd5ad52d373d2de12c91fd3ca67f55fafb5958424d5c5b4df9729b6a41d55f350c9097465da5b6994f25f315d4394d02cccfec8157f1764ec5065ad8e359d3636ee9c25b3fb777136baf61159da94e4b927a55f4e5305d68278c03a4c48fd9f19105b94d82f88874b99246073b9c00df2f752fb5bbc04fdb31d1686c799ccb8ef9e5e69f7705d7b687dfb39e486a3db9ca8729690838ab41086c2bc3d2955c4d1ed839f72673d12448ef19ae27b82671279b6e64526ce25326fe6f41b66be93c9c572a135b29c429e0694d27ef84278cd33703935f3ab1f348950dfb7d531c79ee97810f983c5edd883adc84f3839a913c6618082ff986d3f674c04e47f3af19320837761435cb6fef60cf9c099d0a935e362d30b76bd2733fb627ca33e9381ae9ce71a538864354c74d0d15559f5c528e299cea4e08340d4b1957044cf09b32421e505776a3e74d3866ee90094513adede8e1e7cc93c2f800e94fc61482d7552fcd2772dc3a760be270c15e137a48d827d36dd01dd54eb9987543c7be5d57ed7624a31e2dcbd1486b5e06809315a45606c31ae61e02827ee7fb4edd76e6c312b49512f61db170bad3ba6af7174a2fef60e6f3487958d2d2b20866ca5a38ac10044d2e97951f2317674351c288802a4ff683dae405a136179afaf6f9f9c04e982d82a4d390ca2ed99b3e9b5f06a1c09fcf0f146c4e6bd71e207d5ecdd9cecb5fb02b158530cf262a3919573ed12bb5692e88159dbf67166f732c0d7f7f5251789f596f6ef3d2cf9afd67da99f52699ebf479f25d44aa0bab739db9d49000ced5797b73b214d7a36e232185c377133a11f7a37f9c18c6be2c824daace04f7c796efa6b8c2948e8f5b1493693e17f8319b694a22e39fc3db449d9efa91a3442f352306d5fd2459122ae71635a54dde62ac9f4a60c7d72338bce1406494fb62b0cf28fa49ac4c88ede6dedeef1261d941391e3e880c7ebabb0e25df214952a172dffea150cf0196bd5f03b8ff28e696a3e83ee367ff2d53691ab7c649a57ba903eea70c85c3ff4fe4dc65693fc2737d0b84283ee6e21841aff456b1e5fb7b3e5bcce1168bc54f520b80a4d1bca0bb19edf6f6485a39ded9b9c7cb9c8de1a1024f3e1153f025dc470dd940908bc20a657a88024f088c4e71f619aaece5651e6a4c70640f50bfa8ad44af4b33feeb873209aab51c28ab9a367f36751e5e677b6a3c25e6e8efb07ce46db3983e1eb6a8230c01a99cee67bfb4136e3f6d7cf48f162f13253dc492477ef7dba489fc170a8ec3e75ef9b913fb255bdd68a707255aa69ee24d45bfc46d087fc469c89cf5b6cfd9b0e36907af0ee191d35d9982ef0b51a51873e6699cb81fe06d2c778e2d1f8130d785f79d31f8409261df2b73daf87d63e089561203669d2631d3a8bb19f40b621adb51c0fff7f10e979450e45e99909e3d68f366593dd21e42ff330bcec0dc720e095b82ff4246235e75ac6571605c9ef3b0fe526a7bdc4720c05a43fff2a126c890c975d02ce56f84542a4880b4c2fc9685fc096b7c76fbfd8be571d92c4f27b32d273a5bc354088864741fd41cec3b86a335871a88e5b22cf60df56d2bfbac8b4b5236ab90bde9132b1a8f45dd04521d0c4fe2d7f8b6e3d9d99e107fb40204238b70e5cd6cc6812a66b45af32fd3e8cf6bdf8b550cf4fbaa795f6ce93d438f1e43183cabfbb6636d8bf5ed72f1beabbe78b5ee187d99cdd4aaa27f964baf4512d39bff98c598b5013470836e1f9e2708e7351fb33752124e9e57a97f308e55e24ff48a68f03d2a9a590a1a0186f123e5350942f8e5484cd4000a23964b593851c102daaee904151d270ea5f839d9529345176883a97bbe8e32b34768eb885a4dea9ae2b7861dff3d4b1c525828fea2435531b48eb952aada8cf983d86055ecb2c9c235fbc1cb926c0193eec16b4206e95430f068bc6005e217c67a3b3e86ceb31676182f52fb96a84b1d5ae584a9067d5cf4271653dc2acf2c361e18b13de28e4026f06c87bbb15185562cf841a32a478ceb4d9f671746fb7adcb832721c1429bd9e983e41371980887239588bc23e76b841d1c2ab9b327e Hey, password is required here.","link":"/2021/02/16/JP-KN501/"},{"title":"[JS] General asynchronous programming concepts","text":"ThÃ¡i BÃ¬nh, chiá»u 30 Táº¿t, trá»i Ã¢m u, se se láº¡nh â€¦ Trong pháº§n nÃ y, chÃºng ta sáº½ tÃ¬m hiá»ƒu 1 sá»‘ khÃ¡i niá»‡m quan trá»ng liÃªn quan Ä‘áº¿n láº­p trÃ¬nh báº¥t Ä‘á»“ng bá»™ vÃ  cÃ¡ch trÃ¬nh duyá»‡t vÃ  JavaScript xá»­ lÃ½ nÃ³. AsynchronousBÃ¬nh thÆ°á»ng, code cá»§a 1 chÆ°Æ¡ng trÃ¬nh cháº¡y tháº³ng dá»c vÃ  chá»‰ cÃ³ 1 thá»© diá»…n ra trong 1 thá»i Ä‘iá»ƒm. Náº¿u 1 hÃ m dá»±a vÃ o káº¿t quáº£ cá»§a hÃ m khÃ¡c, nÃ³ sáº½ pháº£i chá» hÃ m khÃ¡c káº¿t thÃºc vÃ  tráº£ vá». Äiá»u nÃ y Ä‘Ã´i khi gÃ¢y ra tráº£i nghiá»‡m khÃ³ chá»‹u vá»›i ngÆ°á»i dÃ¹ng khi cÃ³ cÃ¡c task máº¥t thá»i gian. NÃ³ cÅ©ng khÃ´ng khai thÃ¡c háº¿t sá»©c máº¡nh cá»§a mÃ¡y tÃ­nh khi cÃ¡c mÃ¡y tÃ­nh hiá»‡n Ä‘áº¡i giá» Ä‘Ã¢y Ä‘Ã£ cÃ³ nhiá»u cores xá»­ lÃ½. KhÃ´ng cÃ³ gÃ¬ pháº£i chá» Ä‘á»£i ná»¯a khi báº¡n cÃ³ thá»ƒ Ä‘á»ƒ cÃ¡c task khÃ¡c trÃªn bá»™ xá»­ lÃ½ khÃ¡c vÃ  cho báº¡n biáº¿t khi nÃ o nÃ³ hoÃ n thÃ nh. Äiá»u nÃ y lÃ m cho báº¡n cÃ³ thá»ƒ lÃ m cÃ¡c viá»‡c khÃ¡c trong cÃ¹ng khoáº£ng thá»i gian, vÃ  nÃ³ cÆ¡ báº£n gá»i lÃ  láº­p trÃ¬nh báº¥t Ä‘á»“ng bá»™ (asynchronous programming). NÃ³ phá»¥ thuá»™c vÃ o mÃ´i trÆ°á»ng láº­p trÃ¬nh mÃ  báº¡n Ä‘ang sá»­ dá»¥ng (web browers, truong trÆ°á»ng há»£p phÃ¡t triá»ƒn web) cung cáº¥p cho báº¡n cÃ¡c API cho phÃ©p báº¡n cháº¡y cÃ¡c task báº¥t Ä‘á»“ng bá»™. Blocking codeKá»¹ thuáº­t báº¥t Ä‘á»“ng bá»™ thá»±c sá»± ráº¥t há»¯u Ã­ch, Ä‘áº·c biá»‡t lÃ  trong láº­p trÃ¬nh web. Khi á»©ng dá»¥ng web cá»§a báº¡n cháº¡y trÃªn trÃ¬nh duyá»‡t vÃ  nÃ³ thá»±c thi má»™t Ä‘oáº¡n mÃ£ náº·ng, khÃ´ng tráº£ vá» quyá»n kiá»ƒm soÃ¡t cho trÃ¬nh duyá»‡t, trÃ¬nh duyá»‡t cÃ³ thá»ƒ bá»‹ Ä‘Ã³ng bÄƒng. CÃ¡i nÃ y gá»i lÃ  blocking, trÃ¬nh duyá»‡t cháº·n cÃ¡c yÃªu cáº§u xá»­ lÃ½ tiáº¿p theo tá»« ngÆ°á»i dÃ¹ng vÃ  cÃ¡c tasks khÃ¡c cho Ä‘áº¿n khi á»©ng dá»¥ng web tráº£ vá» quyá»n kiá»ƒm soÃ¡t cÃ¡c tiáº¿n trÃ¬nh. HÃ£y nhÃ¬n 1 vÃ i vÃ­ dá»¥ bÃªn dÆ°á»›i báº¡n sáº½ hiá»ƒu blocking. VÃ­ dá»¥ vá» simple-sync.html, chÃºng ta thÃªm event listener khi click 1 button, nÃ³ sáº½ cháº¡y má»™t hoáº¡t Ä‘á»™ng tá»‘n thá»i gian (tÃ­nh toÃ¡n 10 triá»‡u ngÃ y vÃ  sau Ä‘Ã³ ghi láº¡i cÃ¡i cuá»‘i cÃ¹ng ra mÃ n hÃ¬nh) vÃ  sau Ä‘Ã³ thÃªm má»™t Ä‘oáº¡n vÄƒn báº£n vÃ o DOM: 1234567891011121314const btn = document.querySelector(&quot;button&quot;);btn.addEventListener(&quot;click&quot;, () =&gt; { let myDate; for (let i = 0; i &lt; 10000000; i++) { let date = new Date(); myDate = date; } console.log(myDate); let pElem = document.createElement(&quot;p&quot;); pElem.textContent = &quot;This is a newly-added paragraph.&quot;; document.body.appendChild(pElem);}); Khi cháº¡y vÃ­ dá»¥ nÃ y, má»Ÿ console cá»§a JavaScript sai khi click button - báº¡n sáº½ nháº­n tháº¥y ráº±ng Ä‘oáº¡n vÄƒn báº£n khÃ´ng xuáº¥t hiá»‡n cho Ä‘áº¿n khi ngÃ y káº¿t thÃºc sá»± tÃ­nh toÃ¡n vÃ  console Ä‘Ã£ Ä‘Æ°á»£c log láº¡i. Note: VÃ­ dá»¥ trÃªn lÃ  vÃ´ nghÄ©a, nÃ³ chá»‰ lÃ  vÃ­ dá»¥ mang tÃ­nh cháº¥t minh há»a Trong vÃ­ dá»¥ thá»© 2 simple-sync-ui-blocking.html chÃºng tÃ´i sáº½ vÃ­ dá»¥ má»™t cÃ¡i gÃ¬ Ä‘Ã³ thá»±c táº¿ hÆ¡n 1 chÃºt khi báº¡n láº­p trÃ¬nh web. ChÃºng ta sáº½ cháº·n cÃ¡c tÆ°Æ¡ng tÃ¡c ngÆ°á»i dÃ¹ng khi Ä‘ang rendering UI. Trong vÃ­ dá»¥ nÃ y chÃºng ta sáº½ cÃ³ 1 buttons: â€œFill canvasâ€ button, cÃ¡i mÃ  khi báº¡n click, sáº½ Ä‘iá»n &lt;canvas&gt; vá»›i 1 triá»‡u vÃ²ng trÃ²n xanh â€œClick me for alertâ€ khi click sáº½ hiá»ƒn thá»‹ 1 msg 12345678910111213141516171819function expensiveOperation() { for (let i = 0; i &lt; 1000000; i++) { ctx.fillStyle = &quot;rgba(0,0,255, 0.2)&quot;; ctx.beginPath(); ctx.arc( random(0, canvas.width), random(0, canvas.height), 10, degToRad(0), degToRad(360), false ); ctx.fill(); }}fillBtn.addEventListener(&quot;click&quot;, expensiveOperation);alertBtn.addEventListener(&quot;click&quot;, () =&gt; alert(&quot;You clicked me!&quot;)); Náº¿u báº¡n click vÃ o button Ä‘áº§u tiÃªn vÃ  sau Ä‘Ã³ click nhanh vÃ o button thá»© 2, báº¡n sáº½ tháº¥y khÃ´ng xuáº¥t hiá»‡n msg cho Ä‘áº¿n khi cÃ¡c vÃ²ng trÃ²n váº½ Ä‘Æ°á»£c render háº¿t. ToÃ¡n tá»­ Ä‘áº§u tiÃªn Ä‘Ã£ cháº·n hÃ nh Ä‘á»™ng thá»© 2 cho tá»›i khi nÃ³ káº¿t thÃºc quÃ¡ trÃ¬nh cháº¡y. Táº¡i sao láº¡i nhÆ° váº­y? CÃ¢u tráº£ lá»i lÃ  vÃ¬ JavaScript, nÃ³i chung, lÃ  Ä‘Æ¡n luá»“ng (single threaded). Báº¡n cáº§n biáº¿t khÃ¡i niá»‡m vá» luá»“ng. ThreadsMá»™t luá»“ng cÆ¡ báº£n lÃ  Ä‘Æ¡n tiáº¿n trÃ¬nh (single process) cÃ¡i mÃ  lÃ  1 chÆ°Æ¡ng trÃ¬nh cÃ³ thá»ƒ sá»­ dá»¥ng Ä‘á»ƒ hoÃ n thÃ nh cÃ¡c nhiá»‡m vá»¥. Má»—i luá»“ng cÃ³ thá»ƒ chá»‰ lÃ m 1 task trong 1 thá»i Ä‘iá»ƒm. A thread is basically a single process that a program can use to complete tasks. Each thread can only do a single task at once 1Task A --&gt; Task B --&gt; Task C Má»—i task sáº½ cháº¡y tuáº§n tá»±, 1 task pháº£i hoÃ n thÃ nh trÆ°á»›c khi 1 task tiáº¿p theo cÃ³ thá»ƒ báº¯t Ä‘áº§u NhÆ° chÃºng ta Ä‘Ã£ nÃ³i trÆ°á»›c Ä‘Ã³, mÃ¡y tÃ­nh hiá»‡n Ä‘áº¡i há»— trá»£ Ä‘Ã£ xá»­ lÃ½, vÃ¬ váº­y chÃºng ta cÃ³ thá»ƒ lÃ m nhiá»u thá»© 1 lÃºc. NgÃ´n ngá»¯ láº­p trÃ¬nh cÃ³ thá»ƒ há»— trá»£ Ä‘a luá»“ng cÃ³ thá»ƒ sá»­ dá»¥ng nhiá»u cores Ä‘á»ƒ hoÃ n thÃ nh nhiá»u tasks Ä‘á»“ng thá»i. 12Thread 1: Task A --&gt; Task BThread 2: Task C --&gt; Task D JavaScript is single threadedJavaScript thuáº§n Ä‘Æ¡n luá»“ng. Tháº­m chÃ­ vá»›i nhiá»u cores, báº¡n chá»‰ cÃ³ thá»ƒ cháº¡y cÃ¡c tasks trÃªn 1 luá»“ng Ä‘Æ¡n, Ä‘Æ°á»£c gá»i lÃ  main thread. VÃ­ dá»¥ cá»§a chÃºng ta sáº½ nhÃ¬n nhÆ° sau: 1Main thread: Render circles to canvas --&gt; Display alert() Sau má»™t thá»i gian, JavaScript Ä‘Ã£ cÃ³ má»™t sá»‘ cÃ´ng cá»¥ giÃºp báº¡n giáº£i quyáº¿t nhá»¯ng váº¥n Ä‘á» nhÆ° váº­y. Web workers cho phÃ©p báº¡n gá»­i 1 vÃ i tiáº¿n trÃ¬nh JavaScript vÃ o cÃ¡c luá»“ng riÃªng biá»‡t, gá»i lÃ  worker Ä‘á»ƒ báº¡n cÃ³ thá»ƒ cháº¡y nhiá»u Ä‘oáº¡n mÃ£ JavaScript cÃ¹ng 1 lÃºc. Báº¡n thÆ°á»ng sá»­ dá»¥ng worker Ä‘á»ƒ cháº¡y cÃ¡c tiáº¿n trÃ¬nh tá»‘n nhiá»u chi phÃ­ ra khá»i luá»“ng chÃ­nh Ä‘á»ƒ tÆ°Æ¡ng tÃ¡c ngÆ°á»i dÃ¹ng khÃ´ng bá»‹ cháº·n: 12 Main thread: Task A --&gt; Task CWorker thread: Expensive task B Asynchronous codeWeb worker ráº¥t há»¯u Ã­ch bá»Ÿi vÃ¬ nÃ³ cÅ©ng cÃ³ nhá»¯ng háº¡n cháº¿. Má»™t trong nhá»¯ng háº¡n cháº¿ chÃ­nh lÃ  nÃ³ khÃ´ng thá»ƒ truy cáº­p DOM - báº¡n khÃ´ng thá»ƒ cÃ³ 1 worker lÃ m viá»‡c trá»±c tiáº¿p cÃ¡i gÃ¬ Ä‘Ã³ cáº­p nháº­t UI. ChÃºng ta khÃ´ng thá»ƒ render 1 triá»‡u cháº¥m trÃ²n xanh trong worker. Váº¥n Ä‘á» thá»© 2 lÃ  máº·c dÃ¹ cháº¡y code trong 1 worker lÃ  khÃ´ng cháº·n dá»«ng, nhÆ°ng vá» cÆ¡ báº£n nÃ³ váº«n lÃ  Ä‘á»“ng bá»™. Äiá»u nÃ y trá»Ÿ thÃ nh 1 váº¥n Ä‘á» khi 1 hÃ m dá»±a vÃ o káº¿t quáº£ cá»§a nhiá»u hÃ m xá»­ lÃ½ trÆ°á»›c. Xem xÃ©t biá»ƒu Ä‘á»“ luá»“ng dÆ°á»›i Ä‘Ã¢y: 1Main thread: Task A --&gt; Task B Trong trÆ°á»ng há»£p nÃ y, giáº£ sá»­ Task A lÃ m 1 cÃ¡i gÃ¬ Ä‘Ã³ nhÆ° láº¥y 1 áº£nh tá»« server lÃ  Task B sau Ä‘Ã³ lÃ m gÃ¬ Ä‘Ã³ nhÆ° lá»c cÃ¡c áº£nh. Náº¿u báº¡n báº¯t Ä‘áº§u Task A Ä‘ang cháº¡y vÃ  sau Ä‘Ã³ ngay láº­p tá»©c cháº¡y Task B, báº¡n sáº½ gáº·p lá»—i vÃ¬ áº£nh chÆ°a kháº£ dá»¥ng. 12 Main thread: Task A --&gt; Task B --&gt; |Task D|Worker thread: Task C -----------&gt; | | Trong trÆ°á»ng há»£p nÃ y, Task D sáº½ sá»­ dá»¥ng káº¿t quáº£ cá»§a cáº£ Task B vÃ  Task C. Náº¿u báº¡n cÃ³ thá»ƒ . Náº¿u chÃºng ta cÃ³ thá»ƒ Ä‘áº£m báº£o ráº±ng cáº£ hai káº¿t quáº£ nÃ y sáº½ cÃ³ sáºµn cÃ¹ng má»™t lÃºc, thÃ¬ OK, nhÆ°ng Ä‘iá»u nÃ y lÃ  khÃ´ng thá»ƒ. Náº¿u task D cá»‘ gáº¯ng cháº¡y khi 1 trong 2 Ä‘áº§u vÃ o chÆ°a cÃ³, báº¡n láº¡i nháº­n Ä‘Æ°á»£c lá»—i @@ Äá»ƒ fix cÃ¡c váº¥n Ä‘á» nhÆ° váº­y, trÃ¬nh duyá»‡t cho phÃ©p chÃºng ta cháº¡y má»™t hoáº¡t Ä‘á»™ng báº¥t Ä‘á»“ng bá»™. Chá»©c nÄƒng nÃ y nhÆ° Promise cho phÃ©p báº¡n thiáº¿t láº­p má»™t hoáº¡t Ä‘á»™ng Ä‘ang cháº¡y (vÃ­ dá»¥ nhÆ° láº¥y áº£nh tá»« server) vÃ  sau Ä‘Ã³ chá» cho Ä‘áº¿n khi káº¿t quáº£ Ä‘Ã£ Ä‘Æ°á»£c tráº£ vá» trÆ°á»›c khi cháº¡y má»™t toÃ¡n tá»­ khÃ¡c 12Main thread: Task A Task B Promise: |__async operation__| VÃ¬ hoáº¡t Ä‘á»™ng Ä‘ang diá»…n ra á»Ÿ má»™t nÆ¡i khÃ¡c, luá»“ng chÃ­nh khÃ´ng bá»‹ cháº·n trong khi thao tÃ¡c báº¥t Ä‘á»“ng bá»™ Ä‘ang Ä‘Æ°á»£c xá»­ lÃ½. Tá»•ng káº¿t JavaScript lÃ  ngÃ´n ngá»¯ Ä‘Æ¡n luá»“ng, tá»©c lÃ  má»™t thá»i Ä‘iá»ƒm nÃ³ chá»‰ thá»±c hiá»‡n má»™t task. CÃ¡c ká»¹ thuáº­t cáº£i thiá»‡n nÃ³ lÃ  Web Worker gá»­i má»™t sá»‘ tiáº¿n trÃ¬nh vÃ o cÃ¡c luá»“ng riÃªng biá»‡t. Äiá»ƒm yáº¿u cá»§a phÆ°Æ¡ng phÃ¡p nÃ y lÃ  khÃ´ng tÆ°Æ¡ng tÃ¡c Ä‘Æ°á»£c vá»›i DOM vÃ  cÆ¡ báº£n má»—i Worker váº«n lÃ  code Ä‘á»“ng bá»™ Má»™t ká»¹ thuáº­t khÃ¡c cÃ³ láº½ sá»­ dá»¥ng nhá»u hÆ¡n lÃ  láº­p trÃ¬nh báº¥t Ä‘á»“ng bá»™ qua Promise. Promise cho phÃ©p thá»±c hiá»‡n cÃ¡c hÃ nh Ä‘á»™ng khÃ¡c trong quÃ¡ trÃ¬nh chá» Ä‘á»£i 1 hoáº¡t Ä‘á»™ng nÃ o Ä‘Ã³ tá»‘n kÃ©m (vÃ­ dá»¥ chá» áº£nh). Theo gÃ³c nhÃ¬n cÃ¡ nhÃ¢n, Ä‘Ã¢y hoÃ n toÃ n lÃ  Ä‘Æ¡n luá»“ng vÃ¬ chá»‰ lÃ m 1 task á»Ÿ 1 thá»i Ä‘iá»ƒm, á»Ÿ Ä‘Ã¢y lÃ  trong lÃºc chá» Ä‘á»£i thÃ¬ luá»“ng chÃ­nh váº«n cháº¡y chá»© khÃ´ng pháº£i vá»«a download áº£nh vÃ  vá»«a xá»­ lÃ½ luá»“ng chÃ­nh thÃ¬ sáº½ lÃ  Ä‘a luá»“ng. TÃ i liá»‡u tham kháº£oGeneral asynchronous programming concepts","link":"/2020/01/24/JS-General-asynchronous-programming-concepts/"},{"title":"[JS] Introducing asynchronous JavaScript","text":"ThÃ¡i BÃ¬nh, chiá»u 30 Táº¿t, trá»i Ã¢m u, se se láº¡nh â€¦ Má»™t vÃ i note vá» láº­p trÃ¬nh báº¥t Ä‘á»“ng bá»™ trong JavaScript nÃ o! Async callbacksAsync callbacks lÃ  hÃ m cÃ¡i mÃ  Ä‘Æ°á»£c chá»‰ Ä‘á»‹nh nhÆ° 1 Ä‘á»‘i sá»‘ khi gá»i 1 hÃ m, nÃ³ sáº½ Ä‘Æ°á»£c thá»±c thi bÃªn trong. Sá»­ dá»¥ng callbacks hÆ¡i lá»—i thá»i nhÆ°ng báº¡n sáº½ váº«n nhÃ¬n tháº¥y chÃºng Ä‘Æ°á»£c sá»­ dá»¥ng trong sá»‘ lÆ°á»£ng older-but-still-commonly-used APIs Má»™t vÃ­ dá»¥ vá» async callback lÃ  tham sá»‘ thá»© 2 cá»§a phÆ°Æ¡ng thá»©c addEventListener() nhÆ° bÃªn dÆ°á»›i:1234567btn.addEventListener('click', () =&gt; { alert('You clicked me!'); let pElem = document.createElement('p'); pElem.textContent = 'This is a newly-added paragraph.'; document.body.appendChild(pElem);});Khi báº¡n truyá»n 1 callback function nhÆ° 1 Ä‘á»‘i sá»‘ trong hÃ m khÃ¡c, báº¡n chá»‰ Ä‘ang truyá»n tham chiáº¿u cá»§a hÃ m Ä‘Ã³, callback function nÃ y khÃ´ng thá»±c thi ngay láº­p tá»©c. NÃ³ lÃ  â€œcalled backâ€œ (do cÃ¡i tÃªn). HÃ m chá»©a cÃ³ trÃ¡ch nhiá»‡m thá»±c thi callback functions khi Ä‘áº¿n khi Ä‘Æ°á»£c gá»i. ChÃº Ã½ ráº±ng khÃ´ng pháº£i táº¥t cáº£ cÃ¡c callback Ä‘á»u lÃ  báº¥t Ä‘á»“ng bá»™, má»™t vÃ i cÃ¡i lÃ  Ä‘á»“ng bá»™. Má»™t vÃ­ dá»¥ khi sá»­ dá»¥ng Array.prototype.forEach() Ä‘á»ƒ láº·p qua cÃ¡c items cá»§a 1 máº£ng, nÃ³ sáº½ Ä‘Æ°á»£c thá»±c thi ngay láº­p tá»©c.12345const gods = ['Apollo', 'Artemis', 'Ares', 'Zeus'];gods.forEach(function (eachName, index){ console.log(index + '. ' + eachName);}); PromisesPromises lÃ  new style of async code báº¡n sáº½ nhÃ¬n tháº¥y Ä‘Æ°á»£c sá»­ dá»¥ng trong Web APIs hiá»‡n Ä‘áº¡i. Má»™t vÃ­ dá»¥ tá»‘t nháº¥t lÃ  fetch() API trong XMLHttpRequest():12345678fetch('products.json').then(function(response) { return response.json();}).then(function(json) { products = json; initialize();}).catch(function(err) { console.log('Fetch problem: ' + err.message);});Promise lÃ  1 object Ä‘áº¡i diá»‡n cho sá»± thÃ nh cÃ´ng hoáº·c tháº¥t báº¡i cá»§a toÃ¡n tá»­ báº¥t Ä‘á»“ng bá»™. NÃ³ Ä‘áº¡i diá»‡n cho 1 tráº¡ng thÃ¡i trung gian. Thá»±c cháº¥t trÃ¬nh duyá»‡t muá»‘n nÃ³i lÃ  â€œTÃ´i há»©a sáº½ trá»Ÿ vá» cho báº¡n vá»›i cÃ¢u tráº£ lá»i sá»›m nháº¥t cÃ³ thá»ƒâ€œ giá»‘ng nhÆ° cÃ¡i tÃªn â€œpromiseâ€ Note: Youâ€™ll learn a lot more about promises later on in the module, so donâ€™t worry if you donâ€™t understand them fully yet. The event queueCÃ¡c toÃ¡n tá»­ báº¥t Ä‘á»“ng bá»™ nhÆ° promises sáº½ Ä‘Æ°á»£c Ä‘áº·t vÃ o hÃ ng Ä‘á»£i, cÃ¡i mÃ  cháº¡y sau khi luá»“ng chÃ­nh Ä‘Ã£ káº¿t thÃºc Ä‘á»ƒ chÃºng khÃ´ng cháº·n cÃ¡c Ä‘oáº¡n mÃ£ JavaScript Ä‘ang cháº¡yToÃ¡n tá»­ hÃ ng Ä‘á»£i sáº½ hoÃ n thÃ nh sá»›m nháº¥t cÃ³ thá»ƒ sau Ä‘Ã³ tráº£ vá» káº¿t quáº£ Ä‘áº¿n JavaScript environment. Promises versus callbacksPromises tÆ°Æ¡ng tá»± nhÆ° old-style callbacks. ChÃºng thá»±c cháº¥t lÃ  má»™t Ä‘á»‘i tÆ°á»£ng Ä‘Æ°á»£c tráº£ vá» mÃ  báº¡n Ä‘Ã­nh kÃ¨m cÃ¡c callback functions, thay vÃ¬ pháº£i truyá»n vÃ o trong hÃ m nhÆ° callbacks. Tuy nhiÃªn Promises Ä‘Æ°á»£c Ä‘áº·t biá»‡t sinh ra Ä‘á»ƒ xá»­ lÃ½ cÃ¡c toÃ¡n tá»­ báº¥t Ä‘á»“ng bá»™ vÃ  cÃ³ 1 vÃ i Æ°u Ä‘iá»ƒm hÆ¡n so vá»›i old-style callbacks: Báº¡n cÃ³ thá»ƒ xá»­ lÃ½ chuá»—i nhiá»u toÃ¡n tá»­ báº¥t Ä‘á»“ng bá»™ vá»›i nhau báº±ng cÃ¡ch sá»­ dá»¥ng nhiá»u toÃ¡n tá»­ .then(), truyá»n vÃ o káº¿t quáº£ tá»«ng cÃ¡i nhÆ° 1 input. Äiá»u nÃ y ráº¥t khÃ³ lÃ m vá»›i callbacks, cÃ¡i mÃ  thÆ°á»ng xuyÃªn káº¿t thÃºc vá»›i má»™t â€œpyramid of doomâ€ (hay cÃ²n Ä‘Æ°á»£c biáº¿t Ä‘áº¿n nhÆ° lÃ  callback hell) Promise callbacks luÃ´n Ä‘Æ°á»£c gá»i theo thá»© tá»± nghiÃªm ngáº·t chÃºng Ä‘Æ°á»£c Ä‘áº·t trong hÃ ng Ä‘á»£i sá»± kiá»‡n. Xá»­ lÃ½ lá»—i tá»‘t hÆ¡n, táº¥t cáº£ cÃ¡c lá»—i Ä‘Æ°á»£c xá»­ lÃ½ trong khá»‘i .catch(), khá»‘i cuá»‘i thay vÃ¬ xá»­ lÃ½ riÃªng láº» trong má»—i level cá»§a â€œkim tá»± thÃ¡pâ€. Promises sáº½ trÃ¡nh Ä‘áº£o ngÆ°á»£c Ä‘iá»u khiá»ƒn, khÃ´ng giá»‘ng nhÆ° cÃ¡c old-style callback, máº¥t toÃ n quyá»n kiá»ƒm soÃ¡t cÃ¡ch thá»©c thá»±c hiá»‡n chá»©c nÄƒng khi chuyá»ƒn má»™t callback Ä‘áº¿n thÆ° viá»‡n cá»§a bÃªn thá»© ba. (kiá»ƒu nháº­n vá» káº¿t quáº£ promises váº«n kiá»ƒm soÃ¡t Ä‘Æ°á»£c cÃ²n callback thÃ¬ khÃ´ng) Graceful asynchronous programming with PromisesThe trouble with callbacksÄá»ƒ hiá»ƒu táº¥t cáº£ táº¡i sao Promises lÃ  tá»‘t, chÃºng ta hÃ£y xem Callbacks cÃ³ váº¥n Ä‘á» gÃ¬?HÃ£y nÃ³i vá» viá»‡c Ä‘áº·t pizza: Báº¡n chá»n topping mÃ  báº¡n muá»‘n, nÃ³ cÃ³ thá»ƒ máº¥t 1 thá»i gian náº¿u báº¡n thiáº¿u quyáº¿t Ä‘oÃ¡n vÃ  cÃ³ thá»ƒ tháº¥t báº¡i náº¿u báº¡n khÃ´ng thá»ƒ quyáº¿t Ä‘á»‹nh hoáº·c quyáº¿t Ä‘á»‹nh láº¥y má»™t mÃ³n cÃ  ri thay tháº¿. Sau Ä‘Ã³ báº¡n Ä‘áº·t hÃ ng. NÃ³ cÅ©ng cÃ³ thá»ƒ máº¥t 1 khoáº£ng thá»i gian Ä‘á»ƒ tráº£ vá» 1 cÃ¡i pizza vÃ  cÃ³ thá»ƒ lá»—i náº¿u nhÃ  hÃ ng khÃ´ng cÃ³ nguyÃªn liá»‡u Ä‘á»ƒ náº¥u nÃ³. Sau Ä‘Ã³ báº¡n nháº­n pizza vÃ  Äƒn. NÃ³ cÅ©ng cÃ³ thá»ƒ lá»—i náº¿u báº¡n quÃªn vÃ­, vÃ¬ váº­y báº¡n khÃ´ng thá»ƒ tráº£ tiá»n cho chiáº¿c pizza! Vá»›i old-style callbacks, mÃ£ giáº£ cÃ¡c hÃ m sáº½ nhÆ° sau:1234567chooseToppings(function(toppings) { placeOrder(toppings, function(order) { collectOrder(order, function(pizza) { eatPizza(pizza); }, failureCallback); }, failureCallback);}, failureCallback);Äiá»u nÃ y gÃ¢y ra sá»± lá»™n xá»™n vÃ  khÃ³ Ä‘á»c (thÆ°á»ng Ä‘Æ°á»£c gá»i lÃ  callback hell), cÃ¡c failureCallback() Ä‘Æ°á»£c gá»i nhiá»u láº§n (má»—i láº§n trong hÃ m lá»“ng) vá»›i cÃ¡c váº¥n Ä‘á» khÃ¡c bÃªn cáº¡nh. Improvements with promisesPromises giÃºp giáº£i quyáº¿t váº¥n Ä‘á» nhÆ° Ä‘oáº¡n code bÃªn dÆ°á»›i, dá»… Ä‘á»c, cáº¥u trÃºc vÃ  cháº¡y. Náº¿u chÃºng ta viáº¿t mÃ£ giáº£ vá»›i promises nÃ³ sáº½ nhÆ° sau:1234567891011chooseToppings().then(function(toppings) { return placeOrder(toppings);}).then(function(order) { return collectOrder(order);}).then(function(pizza) { eatPizza(pizza);}).catch(failureCallback);NhÃ¬n cÃ³ váº» tá»‘t hÆ¡n rá»“i, tháº­t dá»… dÃ ng Ä‘á»ƒ xem viá»‡c gÃ¬ xáº£y ra tiáº¿p theo vÃ  báº¡n chá»‰ cáº§n 1 khá»‘i .catch() Ä‘á»ƒ xá»­ lÃ½ táº¥t cáº£ cÃ¡c lá»—i, nÃ³ khÃ´ng cÃ³ block cá»§a luá»“ng chÃ­nh (bá»Ÿi váº­y báº¡n cÃ³ thá»ƒ chÆ¡i game trong khi chÃºng ta Ä‘ang chá» pizza giao Ä‘áº¿n) vÃ  má»—i toÃ¡n tá»­ Ä‘áº£m báº£o chá» cÃ¡c toÃ¡n tá»« trÆ°á»›c Ä‘Ã³ thÃ nh cÃ´ng trÆ°á»›c khi cháº¡y vá»›i khá»‘i .then(). Sá»­ dá»¥ng arrow functions, code tháº­m chÃ­ cÃ²n Ä‘Æ¡n giáº£n hÆ¡n:1234567891011chooseToppings().then(toppings =&gt; placeOrder(toppings)).then(order =&gt; collectOrder(order)).then(pizza =&gt; eatPizza(pizza)).catch(failureCallback);Tháº­m chÃ­ cÃ²n cÃ³ thá»ƒ:12345chooseToppings().then(toppings =&gt; placeOrder(toppings)).then(order =&gt; collectOrder(order)).then(pizza =&gt; eatPizza(pizza)).catch(failureCallback);Tháº­m chÃ­ báº¡n cÃ³ thá»ƒ viáº¿t nhÆ° sau, vÃ¬ cÃ¡c hÃ m chá»‰ truyá»n trá»±c tiáº¿p Ä‘á»‘i sá»‘ cá»§a chÃºng, do Ä‘Ã³ khÃ´ng cáº§n thÃªm táº§ng cá»§a hÃ m:1chooseToppings().then(placeOrder).then(collectOrder).then(eatPizza).catch(failureCallback);Tuy nhiÃªn, Ä‘iá»u nÃ y khÃ´ng dá»… Ä‘á»c vÃ  cÃº phÃ¡p nÃ y cÃ³ thá»ƒ khÃ´ng sá»­ dá»¥ng Ä‘Æ°á»£c náº¿u cÃ¡c khá»‘i cá»§a báº¡n phá»©c táº¡p hÆ¡n nhá»¯ng gÃ¬ chÃºng tÃ´i Ä‘Ã£ trÃ¬nh bÃ y á»Ÿ Ä‘Ã¢y. Note: You can make further improvements with async/await syntax, which weâ€™ll dig into in the next article. Vá» cÆ¡ báº£n nháº¥t, cÃ¡c Promises tÆ°Æ¡ng tá»± nhÆ° event listeners, nhÆ°ng vá»›i má»™t vÃ i Ä‘iá»ƒm khÃ¡c biá»‡t: Má»™t Promise chá»‰ cÃ³ thá»ƒ thÃ nh cÃ´ng hoáº·c tháº¥t báº¡i má»™t láº§n. NÃ³ khÃ´ng thá»ƒ thÃ nh cÃ´ng hoáº·c tháº¥t báº¡i hai láº§n vÃ  nÃ³ khÃ´ng thá»ƒ chuyá»ƒn tá»« thÃ nh cÃ´ng sang tháº¥t báº¡i hoáº·c ngÆ°á»£c láº¡i sau khi hoáº¡t Ä‘á»™ng Ä‘Ã£ hoÃ n thÃ nh. If a promise has succeeded or failed and you later add a success/failure callback, the correct callback will be called, even though the event took place earlier. Tá»•ng káº¿t: Cáº£ callback vÃ  Promise Ä‘á»u lÃ  code báº¥t Ä‘á»“ng bá»™, khÃ´ng thá»±c thi ngay láº­p tá»©c (Ä‘a sá»‘ callback). Promises cÃ³ nhiá»u Æ°u Ä‘iá»ƒm hÆ¡n callback nhÆ° xá»­ lÃ½ nhiá»u chuá»—i toÃ¡n tá»­ vá»›i khá»‘i .then() Báº¡n cÃ³ nhá»›: old-style callback, callback hell, â€œpyramidâ€ Promise Ä‘Æ°á»£c Ä‘áº·t á»Ÿ Ä‘Ã¢u vÃ  xá»­ lÃ½ khi nÃ o? CÃ¢u tráº£ lá»i lÃ  Promise Ä‘Æ°á»£c Ä‘áº·t trong hÃ ng Ä‘á»£i sá»± kiá»‡n vÃ  xá»­ lÃ½ khi luá»“ng chÃ­nh Ä‘Ã£ káº¿t thÃºc Ä‘á»ƒ trÃ¡nh block luá»“ng chÃ­nh (JS ngÃ´n ngá»¯ Ä‘Æ¡n luá»“ng nhÃ©). Async operations like promises are put into an event queue, which runs after the main thread has finished processing so that they do not block subsequent JavaScript code from running. The queued operations will complete as soon as possible then return their results to the JavaScript environment. TÃ i liá»‡u tham kháº£oIntroducing asynchronous JavaScript","link":"/2020/01/24/JS-Introducing-asynchronous-JavaScript/"},{"title":"JP - KN502","text":"8d229d8e47333d3f189c47d25637efeb5cb93a79968515e30e77e9ea060cd38b369142d174715c10e854b175b846cd04fb7976f5a1d2272f790cc55ec0278e48fd583a3946dc290084d7b2772a6d6cfe188673756c66aa0952da36efd94b066df83f82d5755003e1e8ae56fa6b7ef38c7607f43d4d36a75766fe6e12ace8c70e7224235687c8882dadfefd2625026b2f28377db2f248734685672465eb606d4dd391d0a0434fe4138cbeed1d9db1853db19444ae5f3b2169e1f2c30c506b4995f2f673dad8ca59558af8864d1a6d6c9d6c4e190555666763b58e73428f82fddcedc54592c1e79c85fc0258cda29cfc1898bed3733b0bff7d08d9627a74b52d63407903de4b24cb7ce9b2252fda760f2cefb44b708f2cf01cdf0e3ab183549e7442c3b58df0542c7cd10187857e6157165e014410f8e71467beeeda61dfff65e1a7d2d4dbfad1d21f44ebd16de3e8d1df39f970b616ca36da9901232db05da9859d88b5a6f5c80509330be42d1f2699ef4c63e1b73f6410a11e436c36264e51854f6a1db426b78f834c6b71b8ae0566083be46feccf3254f5d5a0d42e84449b939a732fe7811392e8027d79c173e30baf8cba0f2508ab5027390615429f9e5b4a668b5e1b4361728fb703441b1cb601717071ce6c25dbeda4a1b7ab8c272d9b0cb31e8c9f7a15c6c08ab1aec18a40fc5573fd9925e841570ca766ebd7d003a3b4f3ed84248520f06b7b4cbd7d689ffb074b7065d8e5c00e6f92e0a96b7bc4c0c05fe3adabbca1070f2dacb8829fdcdde60b88dc2ab85df1b725476237dbd5fd78d81368cdf3d18bffa11884427083dc752073269a88366c128603a442d144cfa733abb7b66a0eb90c8982b7d1e7189de3c44e80bfbf6e418e76130bc0bc4955e62487adf0b57f4dfdcaa61761f2c218ba1465d89db5724248f62c0f9e2dfd19a016c56d038da6b3c2042e3b901cc7dddb5133ef776b699d592bb52ef785aea5917d010e5a0a2d374fcb29a6f4d941342996842b7761191dfee380a630cac517901a1f5e1248858facaa43651a75a19cbb012c352376354051baf1feebb7affcac966ab201d264ee9c5c4beeb5bc611c1fe2983dbc263ac00e4ff5f767dc64157326a9ffcb31c6bf1beececa8c6ddf98e361437b9a22e266314405dcb537ef452fdb11a3e9a14493e59e454c504235d094b05006eef1295e9434ce2dfae990b46f74fc95b6bc2952903b90b457b4c86ba3bd71a9ec1b0388523910fca10e0c8ce92d256a6fc533d730d2aa8ca96317f22db8a120979084b5d6c83ca2de857c130b0a2f6b5c1218751527fa8bf6f902449d0cd5ab880f5d8b6a1c6c066f0e5b9338e37e68cc3fe95c4a8be9f4e54df8c849100efe45f963e22ef7e84cbb5c48b1de78e0c96b4ae6744cc558a5080b483924508aa75c66f7445f9af748ee1789ab960ff7feba8a1a36ef335cd591c089324285424fccf3a3db798e7c214be071fff78568577f1cbeec9397aba5cbf6a3fdf8a20200c0a7241e8dbb44e6523c163f74968d8f524eef8d8b0bc7ca8dc87a8c71dd50efd05aa62b83af19b7cded78ce37b9e26e965e6beb5f79d18040c87ce5cd34e559a72991475cf616932923ae3df7a3f33e29ab4a6d77503149b02a1ab52a6491c052b2dd96e653b37f61004821405e954c9f4e0fd5886e77a96c0b141aea242a47200916b18db13fbd3af5908eaea68566fc2c8940a5ceb71b69bd79578da90b2d8404708b25643b00f07d4fe7544a177433be280d90cbdb1ac660ba13326ee6d4760afc5ac848220c3624202d30c200a37b4b7f7f88997f98dd7bad394f2b62bcde15236d7bdb49107b6ac7f5d426bca18e8e43f9e023abc4b275f293930240296973af2590ca5e67729a772bb8166734a2ad759e13719d0ae0ab119fad550423d5a0132aab4109abf77a2489c5fe6eeb766b4c78c180e924c5b3570e39d7e6f5b227f896efe3884a23b7c603c2b9426c08dfc83b716b1792aee8bf416ba7573731f46213cb2ec33d9ef72a140d5a3c423605ce2efced0146467b1ff3f96be9cbe49f95442debd2fc4a7b456053502bc19c1104db3e691f5274423a45df81f53dc3c06f86c9890990e9c59222f00b8f1219ecc7cf24bf97f587e40a39980928ddfdaf8ceddea968cd6412e926357f45024259b5fba7fda42e5837beecf62dba7238ff58e419155da44b00a6231933a100be55dc8634fcb083533b28d1b32b519c5f059c4f4377cec5f53b4bc2a1805c9a52cc2b2df207e06b4ca69630d0a8360bc9f5f187412c65a5d0f60c917c1c7f522cf0478b2e880502fd87aa3caa3bfe9cdf8c50e929a110b5d42dadb1288e1dfc4491c7fbfc1d42d0999e1d2f3416201907c23965caa72f0e059c847a4e18f7540a39a7e05e8a5318d299db48253a8e505063662d1ad1870a75e5bbf465993370d8914c2d3c0d6116f610602ca4d01533d62cacf5278925c6bf17dcb307232d8b4ac8e91654dc43031da5aca3198f384c192e6a7e418ed8be9e3bdba32e0abebc3eab4026a32716b7af95b6665cbf2a1eac2a29a8b9f26002f0e55d1a5c73946f2b76b8369ba8059312e85d430a9d72c23ceb84302236b39c6149c5f235e329ef3337c18c2ef364ae4a21626bebe7a66ce38c8a233895f5754671a5a20552c9de09cb0e63d13c9d1f2b80804f57f82a828ddf4ebb60617e1c12d80541ee34649b8c52be84c5cad00f810785c9e9188754009d7be3aebf7f274709957e91f0202d99062d11b7da1f15a5786b5d3af5043b43a2efc1a2a380769063762237d802c98f58c11dc08ee677bb65c8f139c1575ab26b8052467437c5d13f37c9a63c8c373ae27f188bbaafaeae5a2f7f155c542a82eadbf42757b60847713c6b21bc79143a9cea6c5bd48b1a1bdb72b4b4221ab7f25ff70bddb770c5477413f91fca017eeb0d48ce9a4b314839a3f0701502fc983889ce348ab7971ddbb039138655444f13a7fdbbd477af032252cde0e94c49a1b1468e9f407e9da7f74eb24dd97fd82f1a6da44879d4eadb801c03fb716036398f856f28f09c5170d399243ebfa7f6d784343c3121a83775579e0edc7df40997b1d26d443b876430ea575ad9c1224dd73902caa99a7ac7275369c5cf7ff11ec4bf4c5b0ad6c671b5d776f299b0d35d4574f7f81c7e1faa73043740dad01d58b88d34858546b1b781d39720a23c8f975032e58fc0293b69824e949b73f337a16f9849dd2aadccd4dba97a5fca7ee0371cfc9ec2f810aa56c6b6f2028a999d413dc6e9041e1e91de9cb8fd0e1c03dbf45fe3a20300ddbd02a7e1caaaa1d79b9e819549d6bccac2ca8589a41413b18e9e85e0cbda57b3ad0cff1857317f56b62336915eebdd8e80fcd955883732a2abfe95b521e29cef5aedfec1513444143260bb77f015dbd32a89339e5f87d0b79e7965b5471603fed9b30f9f21e2127bf47410f7e5baafcc5321b8fbb8c596882d2a143559eeee6a3e77a550517742835595d053e8056b81ecab4ae19a76c9eedf806185f002399989f0c75431dba8276b8c294fbfcf1e58ff4bf70d60ab44d1f5c11aa946f8abbd73b096f43900a9d67ef163faa4ad8b872f9aabb541f3215fd54310de80d3156b351349b80c0e3e52f49b84ba172d330539cc372046f16859d7c5e8a6b8fc9b37aa4363e1ed461ed9346c66c2f44ebbeb87a3596891d258d2c8b2b7d67cf75d5567802da734bd1666f20ede1565bc8679af4f440fba4a2d30b7f6f6925f1e1c68a4eb680d65a57fd3d9e574c41483555455900b36beb70cf87ba15719512bd59d8c0a6414b9648b3daa12a5b50ec4c7f81ab723a8d993c6a1b4bcac370d1e7a5350ae2910f3346738918865473b62c8aa4f4341a9c920e003cfbd281e0256324f96b7548bbaeb6b7341969ae37e2de066e807b9fc8a411ad9235b6896e4aa3e3e4adea793bf93a4ad68e922bdf7cddbf6018aa3b7ac190cca73ef6c5f5b250e2106f0b3cfb2cddf11d803cfebc11a26a810210fc45187554baa09f9e9a60159c08e1e7272a7dad1cde31fc8ffd7fae8d18c1c370ffb1613c6edfbecef58bc2f07f66314bc74d14d33e3cc59240c733e49c9fdea40c650e18317cd59981d0831b0ccad5e5f6ce8ec62f27b1e94a5d00263f1b9c837da19f3894db3f8fbb5a776e61458f6a693f3457d885a8b92dc3368937649bf4e34adacf0df81939f8d7bb2a7cbee9516c2a930d619e830ee0e2690eab99979cb6462bef5c010020870d70b6fb320de12f16b245b05d6db55e829f38740bd5b0470298cd2f8d71c96ab131e8f179711f4986498d4d369e7d7f929b1e02ef8face1181ea70121c3de3f43aac97200e6e98ab80160892b85967e1c60b3c510c50925cb8bceb6b0655d91677537ba1fdcf36906b59b2af70fa33d1e299da8f26783db39095bc884f5bb33af9c322f989de6218943f84b358213ec1515898e305c61e25cdba854181e595a1b5f9a96a45eba231c146559cc653128f1880a23cd303152dd81271a736bf184f359f12fc0714a4a2ebf04bc632339057f33455e6e67530f197c970b32e146ec886871f18f12bde9e10a6db300bd40f179f9a429075852812289022abdd3d879e39b983874b198351a0c961e51c6bd94ded2f27ff9bea5e7e81719f81bb6ef2bb87fadfb376b3fb43e4c9db5607ad809d55e2a5e07c799b9da97f6120f8a75c4f9d7d6f5bf86f716802309e9b7d7b9b1fa5df26cdbb132fefdcb50fe967d723a626ec8476564e7180f010c41479f3a71e1e65f4ae0534ea03674fa1a4a668615503dc3eea39d97ad45c362069f599fbeefe0b279d44615c5cc79faf9b8f3ef4e37c9f666a40451061f8b74455a8b838a7899e382e94f827ac3743660da12d3fc7e8d65f84f371beb67ba51d06753080aa45e526c70a8a1b36dc6e6f408e9c765443c508145bae502abcf04dd6161c7609b6d33c85746db11691ce51e11c9ff2f1840d8beebe1a01af770fe78f02d21a8e40c9ff9a25d98c397c70bf687d4df2d088d982606d43c1e70d77e9ab84ae07dbc3883068d22610cb7292b4c0f4c6cde611266d6f62b4777ddb9bf8fc59f8aab9b2fba991e340afd76e07ca47eb19def61f3d897b3cad65818d4219d81f5e2d6d5a8cf7acabe5caccfad8eb18e3ab906ff4679495cfe0a1d95128bd8066b36a5043d1ed03ef7559d627970b9ddf5d11127aeef9f39054bfa89168031bd970f2e324a30544002b40a0f52bd0bdd525ddea3ddb52182d6126a93e7f159f60fb915019aa79c83da8879ae56c5fc9158dfe8b3af62f1c0837aec59a0f019810ed4bdc451c339f3df01375029ea10db0fef51641f08c179bc836ca8210802e2d35464f7e54ccec5711d8f495fa6f9e578415306891bf6777cd2b51b44a679584ea1d044247f81075ed3bf47a3ebea6d98bdcc6c0b29c8a1ab5a88288c732a49b6c761910b544612e02a0e4cca145b53a0faca2c05aae0e258b57b7e20a01e67bee2b60c2d55ddf08d0a5db2f5c90bf0defbdd74510ac9f087cf243cda426b8704fff3f4639b325323125d1fbd43eba4e2b9c61e732d615eac5e499b70dcd85ddb628bac1fd0d74ebb6ebdde73955649fe34d900a21db39b68d7b74decaf7a595bd82a11f5288f332a1b6ead85fde53c9fde05cab418159979a9425597e943978717b9532cfa12454c37fce08e2045433c30983e98b54f9a0433f18e5e4c6e0023ffdc10e5e913b2fd4d71a483cdade500f9ecbc9f7807ca1b63797e72734d3e1209730bd33eefc148c9b1848ffa1446e0bfa992047607c8c81cbb67472a227889f20f161a4ebafa5cff8fda24ad50af8015bfe36c4e292cfde214b0a5929808e65ad056edfa9de755122bf9a44d771062b71a2888dff5afb5420c0572d685fc81eb8ff1575c4a1ae2e919e068105a0cf067bd958472890c3a4ddcf1330408e3a46f423806a52f8a9b3d1df657cf3d9abebab064b2779a740a1069897233ffada5a8e404458e60e78718a427fabafe557e3d6a7791b4be6b24f861286230197f6edf1859e7091d6a05ac6e14bbf6e1fe6e11b81a9c14fdf4c2633371190a927bd50fa4dd3da66403b76803ed07d0c5d23d0daf7afeab1b3bbff34d9951071ee0d2253eb2721ec734fcdefb9c8c22b9a8a1b63caa11e26802ff55d5c7a48dc5bc0de73669e19205cb90135ef1f1102954fcfb224d8634def69b1cd78d025dfbec67ad94480bbd58134ff9ff183ad55e03cd9a6bb4a8f414339cb8ce7d7686c16c4bebedd088c3320ae2da4fe9e5ad9edea838d44d90fa32ce202ace7bd4b846d7aba336e5df4251f17b69de3615b2c38d99c146d69ceb1a41ea85c6f808fde965b6a35a9cc786499ccb3596f360b3c47699d7af15edd061519f67a34f9058563e0ef918a72d8e401762229b9a50b1886d2a1b368d6057dae8d3daab4438097c4cdb4f7c64d9ffbf9e81e96513b0a917c0b64e26621d2fb8a7802f0851238fdcf907bf8ad0b64ec0c07e932f7e1b94d616427da48ee2559998234e9ce5463238c7ceefe82e97b23ac34447a1d1d4cc06f22b20b439af28649025b650ad89dfdc1579ead75b8a89765ca97688815c2f01ee959c68e13b1660aa876b728e332e0db704f5d148d38428dfc075c19c080187bfcb67797050c1f4efcefa3d3d135c90181384a28e1bd0eb19dd8cc2498d9f8238739918fa80e7b21b7eb40eae003b2035b73d2259c258f712f7d6c9ba49c855e0367e8d6b8a6071018e6435c30f7b12ac2e17676abcf1b308f48659144df9803ff42d1d91ffb41cb9055838e9c17303c679483153ebce393d1b30bb6c18379771b0148d91fb16a05a461f71fa9dd06ab2c3f11c3d4430a888926e7457cd3ab36b63e8d639455d83696788eb9971ccceddd295948ef51ab796fa70d478053c0e4b22beeb647530195516a4d53c0f4ab0362e8e14ebcd5a36f0c9e814c1432758a3b73611ad6a9d8112915a02d33dbb34fc7a499863a1ef01689a82428a35f0ab40f88cf42722ad1b92f429178597b898de990fd2323a4edf8c6a9a4b63c5ebb12d84e289fcf26c79d0d84d147c3bc471da2ca8836ddd0343521652f655fa239f616ec4391ae2c72bc6a1e1b82b45f42492011f44483ece8b50a9144cc326af46cc17d3eed02faf72b13ec6b4d67b64ee65b513e4a4b314ff3f1d71743b57ebe1403a9b66a455a4e0aa675e5f31e124a5df35bb74672216935e196f01d680ec8a47366c2d780ea12d380074224709c835cf5231687b0c4948f6af1fb9b1635f90a298ccbd7f5196fc0977114683d3ed3393e7d92ac48a2a23d6938c42860532757dd74996931deba3359647960b966d2840c8ac2f6907e2728e1655b8ec53d19ae0e126786530ee7fae881608e6227296072d072e3cc90246720c338d053334e7d8a9efaace95c1d939d9d5e611b5f22c10fd1bd22b13e5de30f0503c8bf0dc494a7d4d2107b76d66edcdc0b4826635415be6fa804ffc10694fb253c02971680fd1e7437d0c3d8c06d3061ad271c769ddd61e9b421bf653c4a494ff24f3c0a542d02d7852b54640c6fcd2878b3c809dcf5de57d5049b32efd07d39a6230a4be6c359de848254682d4718b6673abac69b29831bd0524e9d39b8e7293ec93dc598ee5c6660581a1cdaa9b4fe3f4d4b6afea335a73b2f98645dfe72dc8428af226910fa0e9a534334dcf25d542d0d15d0a0581cb7abff5011c67bd68c531e334ea82d9cfa55151da8629540481914b07510c3c53ed3f36350170311145d64639ca2e52ab3f6b875635dd12eeb7e3a9c85c90333044320c5e47d2a66e8c9e2c537e8449ef3501c2f93f40e9bba58878605a7f64ab1b2565907a89b5528629884d578afa6906e8a207992186e00733b9f86bbab9a549668d9322275c027decd6e728d4c7436df3a7dd82557aeb4d3804af8d2a9bc8b9e6edeb92ec8a9f1c91c90a975b58faa34d506e0081da02d9d86925e0028c99396c8ca7e025912bf4f2ce120521002a5c19b7609b4062931e15098289edfed1d6997e246810af5285def1e5d775573b3cbe11509c05c33a1263d92087d77c1ae0d09567ac7967add3ed6f9a8cf2985f8aa1b8016078bc40eeb68ead48de42679709b519de44e9b62772652d1e0f5baf3c3cb5539a73862bf8fabc9d021 Hey, password is required here.","link":"/2021/02/16/JP-KN502/"},{"title":"[Laravel] Authentication","text":"BÃ i viáº¿t tá»•ng há»£p 1 sá»‘ Ã½ chÃ­nh trong Authentication Laravel 1. IntroductionLaravel thá»±c thi authentication cá»±c kÃ¬ Ä‘Æ¡n giáº£n. TrÃªn thá»±c táº¿, cÃ³ ráº¥t nhiá»u thá»© Ä‘Æ°á»£c cáº¥u hÃ¬nh ngoÃ i pháº¡m vi bÃ i viáº¿t nÃ y. Vá» pháº§n cá»‘t lÃµi, Laravel authentication Ä‘Æ°á»£c táº¡o lÃ  bá»Ÿi â€œguardsâ€œ vÃ  â€œprovidersâ€œ Guard Guards xÃ¡c Ä‘á»‹nh cÃ¡ch ngÆ°á»i dÃ¹ng Ä‘Æ°á»£c xÃ¡c thá»±c cho má»—i request. VÃ­ dá»¥, Laravel â€œsessionâ€ guard sáº½ duy trÃ¬ tráº¡ng thÃ¡i báº±ng cÃ¡ch sá»­ dá»¥ng bá»™ lÆ°u trá»¯ session vÃ  cookie Guards: HOW AUTHENTICATE, sá»­ dá»¥ng gÃ¬ Ä‘á»ƒ xÃ¡c thá»±c (session, jwt hay 1 cÃ¡i nÃ o Ä‘Ã³ tá»± Ä‘á»‹nh nghÄ©a =))) Guards define how users are authenticated for each request Provider Provider: cÃ¡ch láº¥y dá»¯ liá»‡u ngÆ°á»i dÃ¹ng nhÆ° tháº¿ nÃ o tá»« bá»™ lÆ°u trá»¯. Laravel há»— trá»£ truy xuáº¥t dá»¯ liá»‡u ngÆ°á»i dÃ¹ng qua Eloquent vÃ  Database query builder. Tuy nhiÃªn báº¡n cÃ³ thá»ƒ tá»± do xÃ¡c Ä‘á»‹nh cÃ¡c provider cáº§n thiáº¿u cho á»©ng dá»¥ng cá»§a mÃ¬nh =&gt; Provider: HOW USERS ARE RETRIEVED (Provider: cÃ¡ch thao tÃ¡c dá»¯ liá»‡u vá»›i ngÆ°á»i dÃ¹ng Providers define how users are retrieved from your persistent storage 2. Custom láº¡i má»i thá»©Custom láº¡i Ä‘Æ°á»ng dáº«n chuyá»ƒn hÆ°á»›ng, email, guard xem trÃªn trang chá»§ nhÃ©. Má»™t vÃ i cÃ¡i hay ho Password ConfirmationKhi báº¡n muá»‘n user cá»§a báº¡n xÃ¡c nháº­n láº¡i máº­t kháº©u trÆ°á»›c khi thá»±c hiá»‡n má»™t sá»‘ hÃ nh Ä‘á»™ng yÃªu cáº§u sá»± báº£o máº­t hÃ£y sá»­ dá»¥ng middleware nÃ y123Route::get('/settings/security', function () { // Users must confirm their password before continuing...})-&gt;middleware(['auth', 'password.confirm']);Chi tiáº¿t: https://laravel.com/docs/6.x/authentication#password-confirmation Login ThrottlingNáº¿u báº¡n Ä‘ang sá»­ dá»¥ng class LoginController cá»§a Laravel, trait Illuminate\\Foundation\\Auth\\ThrottlesLogins Ä‘Ã£ Ä‘Æ°á»£c bao gá»“m trong controller cá»§a báº¡n. Máº·c Ä‘á»‹nh user sáº½ khÃ´ng thá»ƒ login trong vÃ²ng 1 phÃºt náº¿u há» Ä‘Ã£ Ä‘Äƒng nháº­p lá»—i 1 vÃ i láº§n trÆ°á»›c. Sá»± Ä‘iá»u tiáº¿t nÃ y lÃ  duy nhÃ¢t vá»›i má»—i username/email cá»§a ngÆ°á»i dÃ¹ng vÃ  Ä‘á»‹a chá»‰ IP 3. ThÃªm 1 custom Guards hoáº·c 1 custom User Providershttps://code.tutsplus.com/vi/tutorials/how-to-create-a-custom-authentication-guard-in-laravel--cms-29667 Tá»•ng káº¿t: Cá»‘t lá»—i cá»§a Laravel Authentication lÃ  Guard vÃ  Provider Guard: xÃ¡c thá»±c báº±ng cÃ¡ch nÃ o Provider: Cung cáº¥p cÃ¡c cÃ¡ch truy váº¥n dá»¯ liá»‡u User CÃ³ thá»ƒ custom láº¡i má»i thá»©, thÃªm 1 guard má»›i vÃ  Provider má»›i","link":"/2019/11/23/Laravel-Authentication/"},{"title":"[Lab] Section 6: EC2 Instance Storage","text":"CÃ¹ng xem cÃ¡c bÃ i Lab pháº§n section 06 nhÃ© Lab 01: EBS Hands OnBÆ°á»›c 1: Lauch má»™t EC2 InstancePháº§n nÃ y cÃ¡c báº¡n tá»± thá»±c hiá»‡n nhÃ©, OS báº¥t kÃ¬ BÆ°á»›c 2: Xem VolumeChá»n Instance =&gt; Storage =&gt; Block devices Äá»ƒ Ã½ cá»™t Root device type Ä‘ang lÃ  EBS Chá»n chi tiáº¿t Volume nÃ y, xem chi tiáº¿t. BÆ°á»›c 3: Táº¡o Volumne chÆ¡i chÆ¡iVÃ o EC2 =&gt; Elastic Block Store =&gt; Volumes =&gt; Create Volume Volume Type: chá»n gp2 Size: 2GB (Ä‘á»ƒ test thÃ´i) Availability Zone*: cÃ¡i nÃ y quan trá»ng, báº¡n cáº§n chá»n Ä‘Ãºng Availability Zone cá»§a EC2 Ä‘á»ƒ cÃ³ thá»ƒ gÃ¡n (theo Ä‘Ãºng lÃ½ thuyáº¿t) (vÃ o mÃ n EC2 Ä‘á»ƒ xem Availability Zone Bá» qua cá»™t Snapshot ID vÃ  Encryption Click Create Volume Kiá»ƒm tra mÃ n Volume, Ä‘Ã£ cÃ³ 1 volume má»›i Ä‘Æ°á»£c táº¡o vá»›i state lÃ  available BÆ°á»›c 4: Attach Ä‘áº¿n Instance chÆ¡i chÆ¡i :DChá»n chuá»™t pháº£i vÃ o Volume =&gt; Attach Volume. Sau Ä‘Ã³ chá»n Instance báº¡n Ä‘Ã£ táº¡o tá»« trÆ°á»›c Instance: chá»n Instance trÆ°á»›c Ä‘Ã³ báº¡n Ä‘Ã£ táº¡o *Device: Ä‘á»ƒ máº·c Ä‘á»‹nh Click Attach. Chá» 1 khoáº£ng thá»i gian Ä‘á»ƒ attach thÃ nh cÃ´ng! Quay trá»Ÿ vá» Instance Ä‘á»ƒ xem láº¡i khá»‘i Block devices LÃ m sao Ä‘á»ƒ sá»­ dá»¥ng Volume =&gt; Search â€œformats EBS volume attach on EC2 instanceâ€ BÆ°á»›c 5: Thá»±c hÃ nh kiá»ƒm tra lÃ½ thuyáº¿t Táº¡o má»™t volume á»Ÿ Availability Zone khÃ¡c Ä‘á»ƒ khÃ´ng attach Ä‘Æ°á»£c Delete instance, chuyá»‡n gÃ¬ sáº½ xáº£y ra Vá» lÃ½ thuyáº¿t, cÃ¡c EBS sáº½ váº«n cÃ²n ngay cáº£ khi instance bá»‹ terminate, kiá»ƒm chá»©ng nhÃ© =)) Táº¥t nhiÃªn chá»‰ cÃ²n Volume mÃ¬nh táº¡o, Volume Ä‘i cÃ¹ng EC2 váº«n máº¥t Lab 02: EBS Snapshot Hands OnNhÆ° pháº§n lÃ½ thuyáº¿t Ä‘Ã£ Ä‘á» cáº­p, cÃ¡c EBS chá»‰ cÃ³ thá»ƒ sá»­ dá»¥ng attach cho cÃ¡c Instance cÃ¹ng AZ. BÃ i thá»±c hÃ nh sáº½ táº¡o snapshot cho EBS Ä‘á»ƒ cÃ³ thá»ƒ dÃ¹ng á»Ÿ cÃ¡c AZ nhÆ° hÃ¬nh mÃ´ táº£ Tá»« EBS á»Ÿ bÃ i Lab 01 BÆ°á»›c 1: Táº¡o snapshotChá»n EBC =&gt; Create Snapshot Description: Demo Snapshot Create Snapshot Xem snapshot Ä‘Ã£ Ä‘Æ°á»£c táº¡o trong EC2 =&gt; Elastic Block Store =&gt; Snapshots NhÆ° lÃ½ thuyáº¿t Ä‘á» cáº­p, snapshots nÃ y sáº½ khÃ´ng link Ä‘áº¿n má»™t AZ cá»¥ thá»ƒ nÃ o, do Ä‘Ã³ ta cÃ³ thá»ƒ gÃ¡n má»i AZ BÆ°á»›c 2: Copy sang AZ khÃ¡cChá»n Snapshots =&gt; Action =&gt; Copy sang AZ khÃ¡c, báº¥t cá»© region nÃ o báº¡n muá»‘n BÆ°á»›c 3: Táº¡o VolumeTá»« snapshot báº¡n cÃ³ thá»ƒ táº¡o Volume vá»›i thay Ä‘á»•i type, size Chá»n Snapshots =&gt; Action =&gt; Create Volume Volume Type: Báº¡n cÃ³ thá»ƒ chá»n theo mong muá»‘n Size: Báº¡n cÃ³ thá»ƒ chá»n theo mong muá»‘n Availability Zone: Báº¡n cÃ³ thá»ƒ chá»n theo mong muá»‘n Báº±ng cÃ¡ch nÃ y báº¡n cÃ³ thá»ƒ sao chÃ©p volume sang AZ khÃ¡c nhau Ä‘á»ƒ attach vÃ o cÃ¡c EC2 instance khÃ¡c AZ Lab 03: AMI Hands OnBÆ°á»›c 1: Lunch 1 EC2 instance Amazon Linux 2User data nhÆ° trong code, cÃ³ index.html EC2 cÃ i Ä‘áº·t httpd CÃ³ index.html Chá»n SG cho phÃ©p má»Ÿ cá»•ng 80 Sau Ä‘Ã³ chá» 1 lÃºc Ä‘á»ƒ EC2 khá»Ÿi Ä‘á»™ng, bootstrap, sau Ä‘Ã³ cáº§n 1 khoáº£ng thá»i gian Ä‘á»ƒ cháº¡y EC2 data script. Truy cáº­p IP v4 Ä‘á»ƒ xem káº¿t quáº£ Weâ€™re getting a connection error but if I refresh this page, for example, and wait a little bit, at some point the EC2 data script will be executed and the httpd web server will be created. So itâ€™s always good to demonstrate that not everything is immediate. And this is also one of the reason we create an AMI. So all this bootstrap time, which is going to be 20, 30 seconds for this EC2 instance, will be gone once we create an AMI. BÆ°á»›c 2: Táº¡o AMIClick chuá»™t pháº£i vÃ o Instance =&gt; Images and templates =&gt; Create Image Image name: DemoImage Click Create Image AMI Ä‘Ã£ Ä‘Æ°á»£c táº¡o trong Images =&gt; AMIs vÃ  giá» Ä‘Ã¢y báº¡n hoÃ n toÃ n cÃ³ tháº» lauch EC2 Instance má»›i tá»« AMI nÃ y BÆ°á»›c 3: Lauch Instance má»›i vá»›i AMIChá»n Lauch Instance. Ngay Step 1 chá»n My AMIs (chÃº Ã½ cÃ¡c AMIs cáº§n tráº¡ng thÃ¡i available Ä‘á»ƒ cÃ³ tháº» hiá»ƒn thá»‹ á»Ÿ Ä‘Ã¢y) Tiáº¿p tá»¥c cÃ¡c bÆ°á»›c tiáº¿p theo Add Tags cÃ³ thá»ƒ thÃªm Name = From AMIs BÆ°á»›c 4: Kiá»ƒm traTruy cáº­p IP tá»« Instance, Ä‘Æ°á»£c káº¿t quáº£ giá»‘ng vá»›i Instace Ä‘Ã£ táº¡o trÆ°á»›c Ä‘Ã³ Trong trÆ°á»ng há»£p EC2 Instance Ä‘Æ°á»£c build tá»« AMI cÅ©ng cÃ³ EC2 data, EC2 nÃ y sáº½ cháº¡y sau EC2 data tá»« AMI, báº¡n cÃ³ thá»ƒ custom láº¡i file index.html Ä‘á»ƒ thá»­ nhÃ© :D Lab 04: EC2 Image Builder Hands OnBÃ i Lab 03 hÆ°á»›ng dáº«n báº¡n táº¡o AMI má»™t cÃ¡ch thá»§ cÃ´ng, táº¡o tá»« EC2 mÃ  báº¡n launch trÆ°á»›c Ä‘Ã³. Tuy nhiÃªn báº¡n hoÃ n toÃ n cÃ³ thá»ƒ táº¡o AMI má»™t cÃ¡ch tá»± Ä‘á»™ng vÃ  dá»±a vÃ o cÃ¡c image cÃ³ sáºµn cá»§a AWS (vÃ­ dá»¥ nhÆ° táº¡o instance cÃ³ sáºµn aws cli, hay java) qua EC2 Image Builder Service - má»™t dá»‹ch vá»¥ cá»§a AWS. Pháº§n thá»±c hÃ nh nÃ y chÃºng ta sáº½ sá»­ dá»¥ng EC2 Image Builder Ä‘á»ƒ build cÃ¡c AMI má»™t cÃ¡ch tá»± Ä‘á»™ng hoáº·c thá»§ cÃ´ng (trong bÃ i thá»±c hÃ nh sáº½ khÃ´ng dÃ¹ng schedule nÃªn sáº½ lÃ  thá»§ cÃ´ng) vá»›i nhiá»u pháº§n má»m, package Ä‘Æ°á»£c tÃ­ch há»£p sáºµn cho Instance. Letâ€™s start! BÆ°á»›c 1: Táº¡o PipelineChá»n EC2 Image Builder Service =&gt; Create pipeline Step 1 Pipeline name: MyDemoPipeLine Build Schedule: Manual Next step 2 Step 2: Chá»n recipe Create new recipe Chá»n AMI Name: MyDemoRecipe Version: 1.0.0 Select image: Select managed images =&gt; Amazon Linux 2 Image origin: Quick start (Amazon-managed) Image name: Amazon Linux 2 x86 Auto-versioning options: Use latest available OS version Trong má»¥c Components: Má»¥c nÃ y chá»n component theo má»¥c Ä‘Ã­ch cá»§a báº¡n, vÃ­ dá»¥ Amazon-corretto-11-headless cÃ³ Java 11 Ä‘Æ°á»£c cÃ i sáºµn. Báº¡n cÅ©ng cÃ³ thá»ƒ tá»± táº¡o component cho riÃªng mÃ¬nh. Táº¡m chá»n aws-cli-version-2-linux Chá»n test component: Táº¡m skip Click Next Step 3: Tuá»³ chá»‰nh cáº¥u hÃ¬nh Chá»n â€œCreate a new infrastructure configurationâ€ Name: MyDemoInfra IAM: chá»n IAM tÆ°Æ¡ng á»©ng (EC2InstanceProfileForImageBuilder): CÃ¡c Role Policy cáº§n thiáº¿t Tiáº¿p lÃ  chá»n AWS Infrastructure Chá»n Instance type: t2.micro Click Next Step 4: Distribution settings Chá»n â€œCreate distribution settings use service defaultsâ€ hoáº·c cÅ©ng cÃ³ thá»ƒ táº¡o â€œDistribution Settingsâ€ cho riÃªng báº¡n náº¿u báº¡n muá»‘n táº¡o AMI cho nhiá»u region. Trong bÃ i thá»±c hÃ nh, ta táº¡m chá»n defaults Chá»n Next Step 5: Review and Create pipelineBÆ°á»›c 2: Run PipelineSau khi pipeline Ä‘Æ°á»£c táº¡o. Chá»n Pipeline Ä‘Ã³ =&gt; Action =&gt; Run pipeline. Nháº¥n vÃ o version Ä‘á»ƒ xem chi tiáº¿t VÃ o EC2 Ä‘á»ƒ kiá»ƒm tra EC2 má»›i Ä‘Æ°á»£c build. Trong EC2 Ä‘Ã³ báº¡n cÃ³ thá»ƒ xem thÃªm: Chá»n Tags Ä‘á»ƒ xem chi tiáº¿t hÆ¡n Kiá»ƒm tra IAM Xem tráº¡ng thÃ¡i Pipeline. Tá»« building chuyá»ƒn sang testing. Khi tráº¡ng thÃ¡i testing, chuyá»ƒn sang EC2 Dashboard vÃ  báº¡n sáº½ tháº¥y EC2 trÆ°á»›c Ä‘Ã³ Ä‘Ã£ bá»‹ terminate Xem láº¡i IAM vÃ  Tags cá»§a Instance Testing Check láº¡i status pipeline sáº½ chuyá»ƒn tá»« testing sang distributing Láº¡i kiá»ƒm tra láº¡i EC2 Dashboard Cuá»‘i cÃ¹ng chuyá»ƒn vá» tráº¡ng thÃ¡i available =&gt; Done And so a recipe is a document that defines how the source image is going to be customized. So components, is how do we want to customize our image? BÆ°á»›c 3: Kiá»ƒm traSau khi bÆ°á»›c 2, chÃºng ta Ä‘Ã£ cÃ³ AMI cÃ i cli vÃ  java theo nhÆ° Ä‘Ã£ chá»n á»Ÿ bÆ°á»›c 1. BÆ°á»›c nÃ y ta sáº½ build EC2 instance tá»« AMI Ä‘Ã³ Ä‘á»ƒ kiá»ƒm chá»©ng. Lauch Instance =&gt; MyAMIs =&gt; Chá»n AMIs táº¡o tá»« pipeline. CÃ¡c bÆ°á»›c cÃ²n láº¡i báº¡n tá»± chá»n Sau khi lauch xong EC2 hÃ£y connect ssh vÃ o instance vÃ  kiá»ƒm tra thÃ nh quáº£ OK rá»“i nhÃ© :D BÆ°á»›c 4: Clean up EC2 Dashboard =&gt; Terminate EC2 Instance vá»«a táº¡o Images =&gt; AMIs =&gt; xoÃ¡ AMI Elastic Block Store =&gt; snapshots =&gt; xoÃ¡ snapshot KhÃ´ng cáº§n xoÃ¡ EC2 Image Builder vÃ¬ nÃ³ khÃ´ng lÃ m gÃ¬ Ä‘Ã¢u =)) Good luck to you &lt;3!","link":"/2021/08/06/Lab-Section-6-EC2-Instance-Storage/"},{"title":"[Lab] Section 7: Elastic Load Balancing &amp; Auto Scaling Groups","text":"CÃ¹ng thá»±c hÃ nh má»™t sá»‘ bÃ i liÃªn quan Ä‘áº¿n ELB vÃ  ASG nhÃ©! Section 07 Lab 01: Load Balancer (ALB) Hands OnBÆ°á»›c 1: Launch 1 instance EC2 (Amazon Linux 2)(sá»­ dá»¥ng User data)12345678#!/bin/bash# Use this for your user data (script from top to bottom)# install httpd (Linux 2 version)yum update -yyum install -y httpdsystemctl start httpdsystemctl enable httpdecho &quot;&lt;h1&gt;Hello World from $(hostname -f)&lt;/h1&gt;&quot; &gt; /var/www/html/index.html BÆ°á»›c 2: Launch thÃªm 1 chiáº¿c EC2 Instance y há»‡t cÃ¡i Ä‘áº§uBáº¡n chuá»™t pháº£i vÃ o Instance =&gt; Launch more like this Note: Báº¡n cáº§n change Network táº¡i Step 3: Configure Instance Details Network: Giá»‘ng Instance 1 Subnet: Region khÃ¡c Instance 1 (Ä‘á»ƒ cháº¯c cháº¯n tÃ­nh kháº£ dá»¥ng qua 2 availability zone) CÃ¡c Ä‘iá»u kiá»‡n cÃ²n láº¡i giá»‘ng nhau Hiá»‡n táº¡i chÃºng ta Ä‘Ã£ cÃ³ 2 instance á»Ÿ 2 AZ khÃ¡c nhau. Báº¡n cÃ³ thá»ƒ truy cáº­p IP trÃªn trÃ¬nh duyá»‡t Ä‘á»ƒ kiá»ƒm tra chÃºng BÃ¢y giá» chÃºng ta sáº½ config cÃ¢n báº±ng táº£i BÆ°á»›c 3: Config Load BalancingTá»« sidebar bÃªn trÃ¡i =&gt; LOAD BALANCING =&gt; Load Balancers =&gt; Create Load Balancers NhÆ° pháº§n lÃ½ thuyáº¿t Ä‘Ã£ Ä‘á» cáº­p, chÃºng ta cÃ³ 1 vÃ i kiá»ƒu LB, trong bÃ i thá»±c hÃ nh sáº½ sá»­ dá»¥ng layer 7 - HTTP Chá»n Application Load Balancer (HTTP/HTTPs) Step 1: Configure Load Balancer Name: DemoALB Schema: internet-facing IP address type: ipv4 Listeners: HTTP =&gt; Port 80 Availability Zones: chá»n táº¥t cáº£ zones Ä‘á»ƒ load balancer cÃ³ tÃ­nh kháº£ dá»¥ng cao Click Next Step 2: Configure Security SettingsNáº¿u chá»‰ HTTP thÃ¬ báº¡n bá» qua bÆ°á»›c nÃ y, chá»n Next Step 3: Configure Security GroupCreate new security group Type: Custom TCP Protocal: TCP Port Range: 80 Source: Custom 0.0.0.0/0,â€â€/0 (all IP) Click Next Step 4: Configure Routing (Cáº¥u hÃ¬nh ká»ƒ instance nÃ o chá»‹u táº£i) Target group: New target group Name: demo-tg Target type: Instance (sáº½ chá»‹u táº£i vÃ o EC2) Protocol: HTTP Port: 80 Health checks (check hoáº¡t Ä‘á»™ng EC2, náº¿u EC2 oáº³ng, nÃ³ ko gá»­i request Ä‘áº¿n ná»¯a) Protocal: HTTP Path: / Click Next Step 5: Register Targets Chá»n 2 instance á»Ÿ dÆ°á»›i vÃ  Cick Add to registered Káº¿t quáº£ cÃ¡c instance sáº½ xuáº¥t hiá»‡n trÃªn Registered targets lÃ  OK Click Next, Review vÃ  Táº¡o ALB. Tráº¡ng thÃ¡i sáº½ lÃ  provisioning, vÃ  chá» 1 khoáº£ng thá»i gian sáº½ chuyá»ƒn vá» state active. LÃºc nÃ y báº¡n sáº½ tháº¥y DNS name, chÃ­nh lÃ  domain báº¡n truy cáº­p ALB Má»Ÿ trÃ¬nh duyá»‡t vÃ  truy cáº­p vÃ o domain nÃ y, báº¡n sáº½ tháº¥y chuyá»ƒn qua láº¡i giá»¯a 2 Ip cá»§a 2 instance. Náº¿u nhÆ° váº­y lÃ  báº¡n Ä‘Ã£ thÃ nh cÃ´ng! Báº¡n cÃ³ thá»ƒ xem láº¡i cÃ¡c Config, Target Group Ä‘á»ƒ hiá»ƒu hÆ¡n, cÅ©ng nhÆ° check lá»—i Báº¡n cÃ³ thá»ƒ tuá»³ biáº¿n ThÃªm (Register targets) vÃ o Target Groups Ä‘á»ƒ tÄƒng sá»‘ lÆ°á»£ng Instance BÆ°á»›c 4: Kiá»ƒm tra Health CheckNhÆ° lÃ½ thuÃªts Ä‘Ã£ Ä‘á» cáº­p, Health Check sáº½ kiá»ƒm tra cÃ¡c Instance, má»™t instance nÃ o Ä‘Ã³ lá»—i thÃ¬ sáº½ khÃ´ng redirect request Ä‘áº¿n nÃ³ ná»¯a Báº¡n vÃ o láº¡i EC2 Dashboard, Stop má»™t Instance trong Target Group Quay trá»Ÿ láº¡i Targer Group Ä‘á»ƒ kiá»ƒm tra vÃ  Ä‘Ã¢y lÃ  káº¿t quáº£, Health Check báº£o unused NhÆ° váº­y request sáº½ khÃ´ng Ä‘Æ°á»£c chuyá»ƒn tá»›i Instance nÃ y ná»¯a, má»Ÿ trÃ¬nh duyá»‡t vÃ  kiá»ƒm tra domain cá»§a ALB, káº¿t quáº£ lÃ  IP Instance khÃ´ng Ä‘á»•i BÆ°á»›c 5: KhÃ´i phá»¥c láº¡i Instance Báº¡n vÃ o láº¡i EC2 Dashboard, Start láº¡i Instance Ä‘Ã£ Stop trong BÆ°á»›c 4 Test láº¡i domain ALB vÃ  Ä‘Ã£ tháº¥y nÃ³ thay Ä‘á»•i IP qua cÃ¡c Instance =)) Lab 02: Auto Scaling Groups Hands OnBÆ°á»›c 1: Táº¡o Auto Scaling GroupsTá»« Sidebar bÃªn trÃ¡i =&gt; AUTO SCALING =&gt; Auto Scaling Groups =&gt; Create Auto Scaling Group Step 1: Choose launch template or configuration Name: DemoASG Launch template =&gt; Create a launch template Then you need to create a launch template. So for this, we need to create how and define how the EC2 instances are going to be created. Create launch templateKhoan tiáº¿p tá»¥c cÃ¡c bÆ°á»›c táº¡o Auto Scaling Group, chÃºng ta cáº§n táº¡o teamplate trÆ°á»›c Launch template name: MyTemplate Pháº§n Launch template contents AMI: Amazon Linux 2 Instance type: t2.micro (free tier) Key pair: EC2 Tutorial Network settings: VPC Security group: Tá»± chá»n CÃ¡c má»¥c khÃ¡c náº¿u cáº§n custom thÃ¬ báº¡n tá»± config, khÃ´ng thÃ¬ bá» qua Advanced details TÃ¬m User data: Äoáº¡n code á»Ÿ bÃ i lab trÃªn Click Create a template Trá»Ÿ láº¡i pháº§n táº¡o ACG Launch template: Chá»n template vá»«a táº¡o (MyTemplate) Review láº¡i cÃ¡c thÃ´ng sá»‘ ngay dÆ°á»›i pháº§n chá»n template =&gt; Click Next Step 2 : Configure settings Purchase options and instance type: Adhere to launch template Subnets: Chá»n háº¿t (Ä‘áº£m báº£o tÃ­nh kháº£ dá»¥ng cho nhiá»u AZ) Click Next Step 3: Specify load balancing and health checks Load balancing: Enable load balancing. Chá»n target group Ä‘Ã£ táº¡o á»Ÿ bÃ i lab trÃªn Health checks: Check thÃªm ELB Click Next Step 4: Configure group size and scaling policiesFor the group size, this is where you can define how it scales. Desired capacity: 2 Minimum capacity: 1 Maximum capacity: 4 Scaling policies: Target tracking scaling policy =&gt; tÃ´i muá»‘n tá»± Ä‘á»™ng. Sau Ä‘Ã³ báº¡n Ä‘iá»n cÃ¡c thÃ´ng sá»‘ ngÆ°á»¡ng phÃ­a dÆ°á»›i. Tuy nhiÃªn trong pháº¡m vi bÃ i thá»±c hÃ nh, chÃºng ta sáº½ khÃ´ng kiá»ƒm thá»­ Ä‘Æ°á»£c cÃ¡c pháº§n tá»± Ä‘á»™ng nÃªn sáº½ chá»n None BÆ°á»›c nÃ y Ä‘á»‹nh nghÄ©a khi nÃ o chÃºng ta sáº½ tá»± Ä‘á»™ng scale Tuy nhiÃªn trong pháº¡m vi bÃ i thá»±c hÃ nh, chÃºng ta sáº½ chá»n None Ä‘á»ƒ scaling thá»§ cÃ´ng xem chÃºng hoáº¡t Ä‘á»™ng ra sao. Click Next Step 5: Add notifications(Táº¡m bá» qua) - Click Next Review and Create Xem láº¡i cÃ¡c cáº¥u hÃ¬nh cá»§a báº¡n, máº·c Ä‘á»‹nh sáº½ cÃ³ 2 instance trong group, xem trong tab Instance managament nhÃ© :D VÃ  khi vÃ o EC2 dashboard, báº¡n sáº½ tháº¥y 2 instance Ä‘Æ°á»£c khá»Ÿi táº¡o vÃ  Ä‘ang cháº¡y Check thÃªm trong target group, báº¡n cÅ©ng tháº¥y chÃºng Ä‘Ã£ Ä‘Æ°á»£c tá»± Ä‘á»™ng register vÃ o Ä‘Ã¢y Báº¡n cÃ³ thá»ƒ test láº¡i domain cá»§a Load Balancing Ä‘á»ƒ xem nÃ³ cÃ³ work khÃ´ng nhÃ© =)) BÆ°á»›c 2: Kiá»ƒm chá»©ng thÃªm sá»©c máº¡nh cá»§a Auto Scaling Group VÃ o dashboard EC2, terminate má»™t Instance trong target group Do Ä‘Ã£ config desired capacity lÃ  2, váº­y Ä‘iá»u gÃ¬ sáº½ xáº£y ra khi 1 instance bá»‹ há»ng? NÃ³ sáº½ tá»± táº¡o instance thay tháº¿ But after the instance is terminated, the actual capacity of my auto scaling group is going to be 1.And therefore, what will happen is that, when the auto scaling group will detect the fact that my previous EC2 instance has been terminated, it will go ahead and create a new instance to match the desired capacity. You can notice this if you go to activity notification, so Iâ€™ll just pause the video to show you. Chuyá»ƒn tab Activity Ä‘á»ƒ xem AWS Ä‘Ã£ lÃ m gÃ¬ nhÃ© Tháº¥y chi tiáº¿t cÃ¡c activity luÃ´n nÃ¨ Báº¡n tháº¥y rÃµ sá»± thay tháº¿ Instance lá»—i trong AWS =)). Trá»Ÿ láº¡i EC2 Instance Dashboard Ä‘á»ƒ xem thÃªm Instance management Táº¥t cáº£ Ä‘Æ°á»£c lÃ m má»™t cÃ¡ch tá»± Ä‘á»™ng vÃ  trong suá»‘t vá»›i ngÆ°á»i dÃ¹ng. Tuyá»‡t vá»i! BÆ°á»›c 3: HÃ£y thay Ä‘á»•i cáº¥u hÃ¬nh Thay Ä‘á»•i Desired capacity thÃ nh 4 xem láº¡i cÃ¡c config cá»§a targer group, EC2 Dashboard, Auto Scaling Group (Activity, Instance management) xem chuyá»‡n gÃ¬ xáº£y ra) Happy Coding!","link":"/2021/08/08/Lab-Section-7-Elastic-Load-Balancing-Auto-Scaling-Groups/"},{"title":"[Lab] Section 8: S3","text":"CÃ¹ng thá»±c hÃ nh má»™t sá»‘ bÃ i Labs Ä‘á»ƒ hiá»ƒu hÆ¡n vá» S3 trÃªn AWS nhÃ©! Lab 01: S3 Hands OnBÃ i thá»±c hÃ nh sáº½ hÆ°á»›ngd dáº«n báº¡n cÃ¡c thao tÃ¡c cÆ¡ báº£n vá»›i S3 nhÆ° táº¡o bucket, upload cÃ¡c objects! BÆ°á»›c 1: Truy cáº­p dá»‹ch vá»¥ S3 =&gt; Create bucketThe bucket name have to be globally unique Bucket name: s3-demo-0808 Next, we have to select a region, so the region for our bucket, it could be some thing very close to you, Dá»‹ch vá»¥ S3 lÃ  global nhÆ°ng cÃ¡c S3 cáº§n Ä‘Æ°á»£c táº¡o vÃ  Ä‘áº·t á»Ÿ 1 region cá»¥ thá»ƒ, hÃ£y nhá»› Ä‘iá»u Ä‘Ã³ Region: EU Bucket settings for Block Public Access: Táº¡m Ä‘á»ƒ Block all public access Bucket Versioning: Disable Default encryption: Disable Click Create bucket BÆ°á»›c 2: Upload Object lÃªn S3Trong tab Objects =&gt; Upload =&gt; Add files/Add folder. Sau Ä‘Ã³ chá»n file mÃ  báº¡n muá»‘n upload lÃªn. Káº¿t quáº£ sáº½ nhÆ° váº­y BÆ°á»›c 3: LÃ m sao Ä‘á»ƒ má»Ÿ file vÃ  xem ná»™i dungNháº¥n vÃ o object Ä‘á»ƒ xem cÃ¡c thÃ´ng sá»‘ chi tiáº¿t HÃ£y má»Ÿ object theo 2 cÃ¡ch CÃ¡ch 1: Nháº¥n Object Actions (gÃ³c trÃªn bÃªn pháº£i) =&gt; Open Báº¡n sáº½ nhÃ¬n tháº¥y bá»©c áº£nh. NhÆ° báº¡n Ä‘Ã£ tháº¥y, URK ráº¥t ráº¥t dÃ u vÃ  URL nÃ y Ä‘Æ°á»£c gá»i lÃ  pre-signed URL vÃ  nÃ³ chÆ°a AWS credentials trÃªn URL. Máº·c dÃ¹ nÃ³ khÃ´ng public nhÆ°ng nÃ³ Ä‘ang nÃ³i ráº±ng â€œHey, Ä‘Ã¢y lÃ  credentials cá»§a tÃ´i, hÃ£y cho tÃ´i xem bá»©c áº£nh Ä‘Ã³â€ CÃ¡ch 2: Nháº¥n vÃ o Object URL Báº¡n sáº½ khÃ´ng tháº¥y bá»©c áº£nh, lá»—i AccessDenied do cÃ¡c policy config Ä‘Ã£ cháº·n public. BÆ°á»›c 4: Táº¡o folderTá»« bucket =&gt; Create folder Folder name: images Server-side encryption: Disable Click Create folder TÆ°Æ¡ng tá»±, báº¡n hÃ£y upload file vÃ o thÆ° má»¥c nÃ y Add files. NhÃ¬n láº¡i thÆ° má»¥c thÃ¬ cÃ³ váº» nÃ³ lÃ  cÃ¡c file, thÆ° má»¥c nhÆ° Dropbox hay Google Drive, nhÆ°ng táº¥t cáº£ chÃºng lÃ  objects trong ná»™i bá»™ S3 Lab 02: S3 Security: Bucket Policy Hands OnBÃ i thá»±c hÃ nh sáº½ lÃ m hiá»ƒn thá»‹ file áº£nh (coffee.jpg) á»Ÿ Lab 01 mÃ  khÃ´ng cáº§n pre-signed URL. Chá»n bucker =&gt; Permission Tab To write a public bucket policy, I must first disable all the public access settings that are turned on for these buckets. Do Ä‘Ã³ báº¡n nhÃ¬n pháº§n Block public access (bucket settings) =&gt; Click Edit =&gt; Bá» Select Block all public access =&gt; Click Save Changes Äáº¿n pháº§n Bucket policy =&gt; Edit Báº¡n tháº¥y cÃ³ 2 tuá»³ chá»n lÃ  Policy examples hoáº·c Policy generate. Trong bÃ i thá»±c hÃ nh sáº½ chá»n Policy generate Step 1: Select Policy Type Select Type of Policy: S3 Bucket Policy Step 2: Add Statement(s) Effect: Allow Principal: * Actions: GetObject Amazon Resource Name (ARN): copy ARN cá»§a S3 vÃ  cáº§n thÃªm /* Ä‘á»ƒ láº¥y toÃ n bá»™ Objects VÃ­ dá»¥: arn:aws:s3::abc/* Click Add Statements Step 3: Generate Bucket PolicyClick Generate Policy. Báº¡n sáº½ Ä‘Æ°á»£c Policy nhÆ° mong muá»‘n Quay trá»Ÿ láº¡i bÆ°á»›c Bucket Policy =&gt; Paste giÃ¡ trá»‹ Policy nÃ y vÃ o. Click Save Changes LÃºc nÃ y, hÃ£y Ä‘á»ƒ Ã½ Access lÃ  Public, khi Ä‘Ã³ báº¡n má»›i cÃ³ thá»ƒ xem áº£nh Click láº¡i URL trong object Ä‘Ã³, báº¡n Ä‘Ã£ tháº¥y show Ä‘Æ°á»£c áº£nh Lab 03: S3 Website Hands OnÄáº§u tiÃªn báº¡n hÃ£y upload 2 áº£nh lÃªn s3 bucket nhÆ° váº­y (CÃ¡c bucket Policy giá»¯ nguyÃªn nhÆ° bÃ i Lab trÆ°á»›c Ä‘Ã³) BÆ°á»›c 1: Upload file index.htmlUpload file index.html lÃªn bucket BÆ°á»›c 2: Cáº¥u hÃ¬nh enable websiteVÃ o Bucket =&gt; Properties Tab. TÃ¬m Ä‘áº¿n pháº§n Static website hosting. Click Edit Static website hosting: Enable Hosting type: Host a static website Index document: index.html Error document: error.html Click Save changes BÆ°á»›c 3: Kiá»ƒm traKÃ©o chuá»™t xuá»‘ng pháº§n Static website hosting, báº¡n sáº½ tháº¥y endpoint Click vÃ o URL nÃ y vÃ  káº¿t quáº£ báº¡n sáº½ Ä‘Æ°á»£c má»™t trang static website =)) NhÆ° váº­y viá»‡c triá»ƒn khai má»™t static website hosting tháº­t lÃ  Ä‘Æ¡n giáº£n trÃªn S3. Báº¡n chá»‰ cáº§n Ä‘áº£m báº£o 2 viá»‡c CÃ³ file áº£nh vÃ  index.html CÃ³ S3 bucket policy public (bá» block public nhÆ° bÃ i Lab 02) Ä‘á»ƒ má»i ngÆ°á»i cÃ³ thá»ƒ truy cáº­p file HTML vÃ  áº£nh. Ráº¥t dá»… dÃ ng =)) Lab 04: S3 Versioning Hands OnChÃºng ta sáº½ thá»±c hÃ nh sá»­ dá»¥ng Versioning trong S3, Ä‘á»ƒ xem cÃ¡c thay Ä‘á»•i. BÃ i thá»±c hÃ nh sáº½ váº«n sá»­ dá»¥ng S3 bucket cá»§a cÃ¡c bÃ i thá»±c hÃ nh trÆ°á»›c BÆ°á»›c 1: EnableVÃ o Bucket =&gt; Properties Tab =&gt; Bucket Versioning =&gt; Edit Bucket Versioning: Enable Click Save Changes BÆ°á»›c 2: Kiá»ƒm traUpload láº¡i file index.html vá»›i content Ä‘Ã£ Ä‘Æ°á»£c thay Ä‘á»•i Tá»« Bucket =&gt; Chá»n file index.html =&gt; Chá»n Versions Tab Do chÆ°a enable version trong láº§n upload file Ä‘áº§u nÃªn version sáº½ lÃ  null BÆ°á»›c 3: RollbackQuay trá»Ÿ láº¡i Bucket =&gt; Objects Tab chá»n List versions, báº¡n sáº½ tháº¥y cÃ¡c version trong bucket cá»§a báº¡n BÃ¢y giá» chÃºng ta sáº½ khÃ´i phá»¥c file index.html vá» báº£n cÅ©. Click chá»n index.html (current version) =&gt; Delete Load láº¡i static website host trong Lab 03 vÃ  báº¡n sáº½ tháº¥y ná»™i dung file index.html cÅ© BÆ°á»›c 4: Rollback file Ä‘Ã£ bá»‹ xoÃ¡ Tá»« bucket chá»n file coffee.jpg, xoÃ¡ file nÃ y. LÃºc nÃ y báº¡n load láº¡i static website tá»« s3 sáº½ bá»‹ lá»—i áº£nh Restore coffee.jpg file. Äá»ƒ lÃ m viá»‡c nÃ y, báº¡n trá»Ÿ láº¡i bucket =&gt; Enable List versions, thá»±c táº¿ báº¡n sáº½ cáº£m Æ¡n versioning vÃ¬ nÃ³ Ä‘Ã£ khÃ´ng xoÃ¡ object á»Ÿ high level. Chá»n version hiá»‡n táº¡i cá»§a file coffee.jpg =&gt; Delete nhÆ° bÆ°á»›c 3 Ä‘á»ƒ rollback, tá»« Ä‘Ã³ khÃ´i phá»¥c Ä‘Æ°á»£c file. Refresh láº¡i static website s3 Ä‘á»ƒ xem káº¿t quáº£. Lab 05: S3 Server Access Logging Hands OnPháº§n nÃ y chÃºng ta cÃ¹ng thá»±c hÃ nh Ä‘á»ƒ hiá»ƒu dÃ¹ng S3 chá»©a file log BÆ°á»›c 1: Táº¡o bucket má»›iTáº¡o bucket má»›i Ä‘á»ƒ chá»©a cÃ¡c object logs Bucker name: lab-server-access-logging-0808 CÃ¡c tham sá»‘ khÃ¡c chÆ°a cáº§n chá»‰nh. Click Create bucket LÃºc nÃ y chÃºng ta Ä‘ang cÃ³ 2 bucket trÃªn S3: BÆ°á»›c 2: Config server access loggingVÃ o bucket bÃ i Lab 01 =&gt; Properties Tab =&gt; Server access logging =&gt; Click Edit. Server access logging: Enable Target bucket: Chá»n bucket Ä‘Ã£ táº¡o á»Ÿ bÆ°á»›c 1 vÃ  thÃªm /logs Ä‘á»ƒ nháº­n biáº¿t. VÃ­ dá»¥ s3://lab-server-access-logging-0808/logs Click Save Changes BÆ°á»›c 3: Kiá»ƒm traTruy cáº­p láº¡i static webstie s3 cá»§a bÃ i Lab trÆ°á»›c hoáº·c truy cáº­p vÃ o cÃ¡c file áº£nh Ä‘á»ƒ ghi log Báº¡n cáº§n chá» má»™t khoáº£ng thá»i gian, báº¡n kiá»ƒm tra láº¡i trong bucket lab-server-access-logging-0808. NÃªn nhá»› ráº±ng sáº½ cáº§n 1 khoáº£ng thá»i gian Ä‘á»ƒ cÃ³ thá»ƒ ghi log chá»© khÃ´ng ngay láº­p tá»©c Ä‘Æ°á»£c Now, itâ€™s not immediate. Youâ€™re not going to refresh right now and see logs. Itâ€™s going to take a little bit of time, but letâ€™s wait. Usually it takes an hour or two. Sau Ä‘Ã³ bucket nÃ y sáº½ chá»©a cÃ¡c file logs nhÆ° sau: Chá»n 1 file =&gt; Actions =&gt; Download Ä‘á»ƒ xem ná»™i dung chi tiáº¿t. Báº¡n sáº½ tháº¥y Ä‘Æ°á»£c Ä‘á»‹a chá»‰ IP, thá»i gian truy cáº­p, bucket nÃ o, truy cáº­p tÃ i nguyÃªn nÃ o trÃªn bucket: Lab 06: S3 Replication Hands OnBÃ i thá»±c hÃ nh sáº½ hÆ°á»›ng dáº«n báº¡n táº¡o bucket má»›i sao chÃ©p, â€œnhÃ¢n rá»™ngâ€ S3 bucket Ä‘Æ°á»£c chá»‰ Ä‘á»‹nh sang má»™t hay nhiá»u region khÃ¡c. BÆ°á»›c 1: Táº¡o bucket má»›i Bucket name: lab-replication-0808 Region: Chá»n Region nÃ o Ä‘Ã³ cÃ¡c vá»›i region báº¡n chá»n cho cÃ¡c bÃ i lab trÆ°á»›c. VÃ­ dá»¥ us-east-1. Bucket nÃ y sáº½ lÃ  báº£n sao cá»§a region Japan Bucket versioning: Enable Äá»ƒ chá»©c nÄƒng replication hoáº¡t Ä‘á»™ng, báº¡n cáº§n enable Bucket Versioning á»Ÿ cáº£ 2 bucket (bucket sáº½ replication vÃ  bucket chá»©a replication) Click Create bucket LÃºc nÃ y chÃºng ta Ä‘Ã£ cÃ³ 3 bucket. CÃ¡i Ä‘áº§u tiÃªn lÃ  bucket chÃºng ta sáº½ táº¡o báº£n sao, cÃ¡i giá»¯a lÃ  cÃ¡i bucket chÃ­nh vÃ  cÃ¡i cuá»‘i cÃ¹ng lÃ  chá»©a server logs Ä‘Ã£ Ä‘Æ°á»£c táº¡o tá»« Lab 04 BÆ°á»›c 2: Cáº¥u hÃ¬nh táº¡o báº£n sao tá»« main bucket tá»›i replication bucketVÃ o main bucket =&gt; Management Tab =&gt; Replication rules =&gt; Create replication rule Replication rule name: demorule Status: Enabled Choose a rule scope: This rule applies to all objects in the bucket Destination Choose a bucket in this account Bucket name: Name bucket Ä‘Ã£ táº¡o bÆ°á»›c 1: lab-replication-0808. Báº¡n sáº½ tháº¥y thÃ´ng tin Destination Region lÃ  us-east-1 giá»‘ng region cá»§a replication bucket IAM: Create new role Click Save BÆ°á»›c 3: Kiá»ƒm traCÃ¡c objects trÆ°á»›c khi enable chá»©c nÄƒng sao chÃ©p sáº½ khÃ´ng Ä‘Æ°á»£c sao chÃ©p. Do Ä‘Ã³ Ä‘á»ƒ test chá»©c nÄƒng nÃ y, báº¡n cáº§n upload file má»›i Upload file má»›i lÃªn main bucket vÃ  load láº¡i replication bucket. Káº¿t quáº£ replication bucket cÅ©ng chá»©a file Ä‘Ã³. Báº¡n pháº£i chá» táº§m 5s Ä‘á»ƒ cÃ³ file, quÃ¡ trÃ¬nh sao chÃ©p cÅ©ng khÃ´ng real time Ä‘Æ°á»£c Khi sao chÃ©p, versioning cá»§a 2 bucket cÅ©ng giá»‘ng nhau ÄÃ¢y lÃ  versioning cá»§a main bucket NhÆ° váº­y chÃºng ta Ä‘Ã£ táº¡o Ä‘Æ°á»£c bucket sao lÆ°u giá»¯a 2 region, region Japan vÃ  region us-east-1. Tháº­t tuyá»‡t vá»i. Lab 07: S3 Storage Classes Hands OnBÆ°á»›c 1: UploadVÃ o bucket á»Ÿ Lab 01 =&gt; Upload. Báº¡n scroll xuá»‘ng pháº§n Additional upload options Storage class: Báº¡n nhÃ¬n tháº¥y toÃ n bá»™ Storage Class trong S3 Vá»›i cÃ¡c TH Upload thÃ´ng thÆ°á»ng, máº·c Ä‘á»‹nh sáº½ lÃ  Standard Trong bÃ i thá»±c hÃ nh sáº½ chá»n Standard-IA (cÃ¡c loáº¡i data Ã­t Ä‘Æ°á»£c truy cáº­p) Click Upload BÆ°á»›c 2: Kiá»ƒm tra Khi Ä‘Ã£ upload xong, chá»n object Ä‘Ã³ Scroll xuá»‘ng pháº§n Storage class, báº¡n sáº½ tháº¥y Stardard-IA Äá»ƒ thay Ä‘á»•i Storage class =&gt; Click Edit VÃ  khi báº¡n thay Ä‘á»•i Storage class nhÆ° váº­y, versioning cÅ©ng sáº½ ghi nháº­n, very cool BÆ°á»›c 3: Lifecycle ruleTá»« bucket =&gt; Chá»n Management Tab =&gt; Lifecycle rules =&gt; Create lifecycle rule Lifecycle rule name: DemoRule This rule applies to all objects in the bucket Enable: I acknowledge that â€¦ Lifecycle rule actions: CÃ³ ráº¥t nhiá»u action cho báº¡n tuá»³ chá»n Chá»n Transition current versions of objects between storage classes Storage class transitions: Standard-IA Days after object creation: 35 Báº¡n cÅ©ng cÃ³ thá»ƒ thÃªm transition báº±ng cÃ¡ch Add transition. VÃ­ dá»¥ báº¡n thÃªm Storage class transitions: Glacier Days after object creation: 180 Báº¡n cÃ³ thá»ƒ tuá»³ chá»n thÃªm Expire current versions of objects trong Lifecycle rule actions Ä‘á»ƒ config thÃªm náº¿u muá»‘n And I say yes, sounds good. Next, I can also choose to expire current objects, or even delete them.And so if I do so, I say, after 365 days, please expire an object. And this will add a delete marker. VÃ  cÅ©ng cÃ³ thá»ƒ tuá»³ chá»n Permanently delete previous versions objects And you can play around, and you can delete permanently, previous objects or versions after say, 720 days, who knows, right? VÃ  báº¡n sáº½ tháº¥y má»™t timeline vá» viá»‡c Ä‘á»•i storage class hay xoÃ¡ preversion nhÆ° báº¡n Ä‘Ã£ config á»Ÿ trÃªn. Má»™t timeline cá»±c kÃ¬ trá»±c quan ^_^ These Lifecycle Rules really allow you to optimize your cost, and they can be very handy if you have lots of objects in your S3 buckets TrÃªn Ä‘Ã¢y lÃ  cÃ¡c bÃ i thá»±c hÃ nh cÆ¡ báº£n vá» S3, tÃ´i hi vá»ng báº¡n thÃ­ch nÃ³ vÃ  chÃºng ta sáº½ gáº·p láº¡i nhau trong cÃ¡c bÃ i thá»±c hÃ nh tiáº¿p theo nhÃ© &lt;3","link":"/2021/08/08/Lab-Section-8-S3/"},{"title":"[Laravel] Configuration","text":"BÃ i viáº¿t sáº½ nÃ³i qua vá» cÃ¡c biáº¿n cáº¥u hÃ¬nh trong Laravel 1. IntroductionTáº¥t cáº£ cÃ¡c file cáº¥u hÃ¬nh cá»§a á»©ng dá»¥ng Laravel Ä‘á»u Ä‘Æ°á»£c lÆ°u trá»¯ trong thÆ° má»¥c config. Má»—i tÃ¹y chá»n Ä‘á»u Ä‘Æ°á»£c ghi láº¡i, vÃ¬ váº­y hÃ£y xem qua cÃ¡c tá»‡p vÃ  lÃ m quen vá»›i cÃ¡c tÃ¹y chá»n cÃ³ sáºµn cho báº¡n. 2. Environment Configuration2.1. Environment Variable TypesTáº¥t cáº£ cÃ¡c biáº¿n trong .env Ä‘á»u Ä‘Æ°á»£c chuyá»ƒn thÃ nh string, do váº­y 1 vÃ i giÃ¡ trá»‹ riÃªng Ä‘Ã£ Ä‘Æ°á»£c táº¡o ra cho phÃ©p báº¡n tráº£ vá» pháº¡m vi rá»™ng hÆ¡n cá»§a cÃ¡c kiá»ƒu (má»™t vÃ i giÃ¡ trá»‹ Ä‘Æ°á»£c thÃªm vÃ o Ä‘á»ƒ tráº£ vá» nhÆ° Ã½)123456789.env Value env() Valuetrue (bool) true(true) (bool) truefalse (bool) false(false) (bool) falseempty (string) ''(empty) (string) ''null (null) null(null) (null) nullKhi biáº¿n cá»§a báº¡n cÃ³ dáº¥u cÃ¡ch, cáº§n Ä‘áº·t nÃ³ trong dáº¥u nhÃ¡y kÃ©p1APP_NAME=&quot;My Application&quot; 2.2. Láº¥y giÃ¡ trá»‹ trong cáº¥u hÃ¬nhTáº¥t cáº£ cÃ¡c biáº¿n liá»‡t kÃª trong file Ä‘Æ°á»£c lÆ°u vÃ o biáº¿n $_ENV PHP super-global; khi á»©ng dá»¥ng cá»§a báº¡n nháº­n 1 request. Tuy nhiÃªn báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng helper env Ä‘á»ƒ láº¥y giÃ¡ trá»‹ cÃ¡c biáº¿n nÃ y trong file mÃ´i trÆ°á»ng cá»§a báº¡n. TrÃªn thá»±c táº¿, náº¿u báº¡n review cÃ¡c file cáº¥u hÃ¬nh cá»§a Laravel, báº¡n sáº½ nháº­n tháº¥y nÃ³ Ä‘ang sá»­ dá»¥ng helper1'debug' =&gt; env('APP_DEBUG', false),Tham sá»‘ thá»© 2 lÃ  giÃ¡ trá»‹ default náº¿u khÃ´ng tá»“n táº¡i key trong file config 3. Configuration CachingÄá»ƒ tÄƒng tá»‘c cho á»©ng dá»¥ng cá»§a báº¡n, báº¡n nÃªn cache táº¥t cáº£ cÃ¡c file cáº¥u hÃ¬nh cá»§a báº¡n vÃ o 1 file duy nháº¥t báº±ng cÃ¡ch sá»­ dá»¥ng lá»‡nh config:cache. Lá»‡nh nÃ y sáº½ káº¿t há»£p táº¥t cáº£ cÃ¡c tÃ¹y chá»n cáº¥u hÃ¬nh cá»§a báº¡n thÃ nh 1 file duy nháº¥t vÃ  sáº½ Ä‘Æ°á»£c framework load 1 cÃ¡ch nhanh chÃ³ng. File cáº¥u hÃ¬nh cache sáº½ Ä‘Æ°á»£c sinh ra táº¡i /bootstrap/cahce/config.php. Báº¡n nÃªn thÆ°á»ng cháº¡y php artisan config:cache nhÆ° má»™t thÃ³i quen trong 1 pháº§n deploy sáº£n pháº©m. KhÃ´ng nÃªn cháº¡y lá»‡nh trong quÃ¡ trÃ¬nh phÃ¡t triá»ƒn local vÃ¬ cÃ¡c tÃ¹y chá»n cáº¥u hÃ¬nh thÆ°á»ng sáº½ cáº§n pháº£i Ä‘Æ°á»£c thay Ä‘á»•i trong quÃ¡ trÃ¬nh phÃ¡t triá»ƒn á»©ng dá»¥ng cá»§a báº¡n. NOTE: náº¿u báº¡n thá»±c thi lá»‡nh config:cache trong quÃ¡ trÃ¬nh deployment, báº¡n nÃªn cháº¯c cháº¯n ráº±ng báº¡n chá»‰ gá»i hÃ m env trong thÆ° cÃ¡c file cáº¥u hÃ¬nh cá»§a báº¡n (thÆ° má»¥c config). Má»™t khi config Ä‘Ã£ Ä‘Æ°á»£c cached, file .env sáº½ khÃ´ng Ä‘Æ°á»£c load vÃ  táº¥t cáº£ cÃ¡c lá»i gá»i tá»›i hÃ m env Ä‘á»u tráº£ vá» null (gá»i env() ngoÃ i cÃ¡c file cáº¥u hÃ¬nh sáº½ tráº£ vá» null) =&gt; ÄÃºng tháº­t. Khi cháº¡y php artisan config:cache thÃ¬ dÃ¹ng env á»Ÿ chá»— khÃ¡c ngoÃ i config toÃ n ra null :v 4. Maintenance ModeKhi á»©ng dá»¥ng cá»§a báº¡n muá»‘n maintain, cÃ³ thá»ƒ dá»… dÃ ng chuyá»ƒn Ä‘á»•i chá»‰ vá»›i 1 dÃ²ng lá»‡nh1php artisan downThÃªm cÃ¡c tÃ¹y chá»n nÃ o12php artisan down --message=&quot;Upgrading Database&quot; --retry=60php artisan down --allow=127.0.0.1 --allow=192.168.0.0/16(nhÃ¬n lÃ  biáº¿t Ã½ nghÄ©a rá»“i nhá»‰, khá»i cáº§n giáº£i thÃ­ch)Khi Ä‘Ã£ maintain xong, báº­t á»©ng dá»¥ng trá»Ÿ láº¡i tráº¡ng thÃ¡i bÃ¬nh thÆ°á»ng thÃ´i.1php artisan up Tá»•ng káº¿t Náº¿u khÃ´ng sá»­ dá»¥ng cache cho configuration, thÃ¬ cáº¥u hÃ¬nh luÃ´n Ä‘Æ°á»£c cáº­p nháº­t, thÃªm vÃ o file xong gá»i lÃ  OK thÃ´i (env or config helper) Náº¿u dÃ¹ng cache, env á»Ÿ ngoÃ i thÆ° má»¥c config/ Ä‘á»u sáº½ tráº£ vá» null php artisan config:clear =&gt; xÃ³a cache, khÃ´ng dÃ¹ng cache ná»¯a :D, quay vá» note 1 :D gá»i á»Ÿ Ä‘Ã¢u cÅ©ng Ä‘Æ°á»£c","link":"/2019/11/23/Laravel-Configuration/"},{"title":"[Laravel] Requests","text":"Request Ä‘Æ°á»£c inject táº¡i class Illuminate\\Http\\Request :D 1. Request Path &amp; MethodLáº¥y path, url, fullUrl, isMethod, is (check xem cÃ³ trÃ¹ng 1 pattern cho trÆ°á»›c) 2. Input Trimming &amp; NormalizationMáº·c Ä‘á»‹nh, Laravel Ä‘Ã£ cÃ³ 1 middleware lÃ  TrimString vÃ  ConvertEmptyStringsToNull Ä‘Æ°á»£c liá»‡t kÃª trong App\\Http\\Kernel. Middleware nÃ y sáº½ tá»± Ä‘á»™ng trim (dá»n dáº¹p, cáº¯t) táº¥t cáº£ cÃ¡c trÆ°á»ng string trong request cÅ©ng nhÆ° chuyá»ƒn Ä‘á»•i 1 vÃ i giÃ¡ trá»‹ empty string thÃ nh null. NÃ³ cho phÃ©p báº¡n khÃ´ng pháº£i lo láº¯ng vá» request trong routes vÃ  controllers. Náº¿u báº¡n muá»‘n disable cÃ¡c hÃ nh Ä‘á»™ng nÃ y, hÃ£y xÃ³a bá» 2 middleware nÃ y trong á»©ng dá»¥ng. 3. Retrieving Input: Láº¥y dá»¯ liá»‡u3.1. Láº¥y toÃ n bá»™ dá»¯ liá»‡u1$input = $request-&gt;all(); 3.2. Láº¥y má»™t input value1$name = $request-&gt;input('name'); CÃ³ thá»ƒ truyá»n giÃ¡ trá»‹ default cho nÃ³ náº¿u khÃ´ng cÃ³ giÃ¡ trá»‹ trong request1$name = $request-&gt;input('name', 'Minh');Array thÃ¬ sao?12$name = $request-&gt;input('products.0.name');$names = $request-&gt;input('products.*.name');NgoÃ i ra cÅ©ng cÃ³ thá»ƒ láº¥y táº¥t cáº£ cÃ¡c tham sá»‘ truyá»n vÃ o thÃ´ng qua input mÃ  khÃ´ng cÃ³ tham sá»‘ nÃ o1$input = $request-&gt;input(); 3.3. Láº¥y dá»¯ liá»‡u tá»« queryTÆ°Æ¡ng tá»± dÆ° cÃ¡i trÃªn :v123$name = $request-&gt;query('name');$name = $request-&gt;query('name', 'Helen');$query = $request-&gt;query(); 3.4. Láº¥y dá»¯ liá»‡u qua thuá»™c tÃ­nh1$name = $request-&gt;name; NÃ³ sáº½ load tá»« form payload trÆ°á»›c, náº¿u khÃ´ng cÃ³, nÃ³ sáº½ tÃ¬m cÃ¡c trÆ°á»ng Ä‘á»‘i sá»‘ trong route 3.5. Láº¥y dá»¯ liá»‡u tá»« JSON InputNáº¿u truyá»n dá»¯ liá»‡u vá»›i header Content-Type = application/json thÃ¬ sá»­ dá»¥ng dáº¥u cháº¥m Ä‘á»ƒ láº¥y dá»¯ liá»‡u1$name = $request-&gt;input('user.name'); 3.6. Láº¥y má»™t pháº§n cá»§a input data1234$input = $request-&gt;only(['username', 'password']);$input = $request-&gt;only('username', 'password');$input = $request-&gt;except(['credit_card']);$input = $request-&gt;except('credit_card'); NOTE: PhÆ°Æ¡ng thá»©c only tráº£ vá» táº¥t cáº£ cÃ¡c cáº·p key/value trong request, tuy nhiÃªn, nÃ³ sáº½ khÃ´ng tráº£ vá» cáº·p key/value Ä‘Ã³ náº¿u nÃ³ khÃ´ng cÃ³ trong request (khÃ´ng cÃ³ giÃ¡ trá»‹ default) Tá»•ng káº¿t: PhÆ°Æ¡ng thá»©c only sá»­ dá»¥ng khÃ´ng tráº£ vá» giÃ¡ trá»‹ máº·c Ä‘á»‹nh vÃ  chá»‰ láº¥y giÃ¡ trá»‹ cÃ³ trong payload, hÃ£y xem xÃ©t khi dÃ¹ng nÃ³ (cháº¯c dÃ¹ng cho update sáº½ tiá»‡n) all(): láº¥y háº¿t dá»¯ liá»‡u, input(): láº¥y háº¿t dá»¯ liá»‡u cáº£ GET vÃ  POST (trá»« file) vÃ  chá»‰ láº¥y Ä‘Æ°á»£c 1 trÆ°á»ng, query() thÃ¬ chá»‰ láº¥y á»Ÿ method GET (query string) CÃ¡c phÆ°Æ¡ng thá»©c (trá»« only) Ä‘á»u cÃ³ tráº£ vá» giÃ¡ trá»‹ máº·c Ä‘á»‹nh nÃªn khÃ´ng pháº£i xoáº¯n =)) all(), input(), query(), only(), except(), $request-&gt;name, nÃ³ tÃ¬m trong payload (cÃ¡c tham sá»‘ POST vÃ  GET), sau Ä‘Ã³ tÃ¬m cÃ¡c tham sá»‘ trong route","link":"/2019/11/23/Laravel-Requests/"},{"title":"[Laravel] Note 1: SQL &amp; Helper in blade view file","text":"BÃ i viáº¿t tá»•ng há»£p 1 sá»‘ tips trong Laravel 1. Feature Toggle in laravelThÃªm helper cho blade, viá»‡c báº­t/táº¯t hiá»ƒn thá»‹ giá» sáº½ do config, dá»… dÃ ng hÆ¡n. VÃ­ dá»¥ chá»©c nÄƒng login with Facebook Táº¡o file cáº¥u hÃ¬nh (config/features.php)12345678910&lt;?phpreturn [ 'loginWithGoogle' =&gt; true, 'newSearchBox' =&gt; true, 'newsLetterBox' =&gt; false, /* Some Features .... */]; Sau Ä‘Ã³ chá»‰nh sá»­a file AppServiceProvider vÃ  thÃªm helper cho phÆ°Æ¡ng thá»©c boot()123Blade::if('feature', function ($feature) { return config(&quot;features.$feature&quot;, false);}); Done! Giá» báº¡n cÃ³ thá»ƒ dÃ¹ng á»Ÿ blade files (views)123456@feature('loginWithGoogle') &lt;a href=&quot;#&quot; class=&quot;btn btn-primary-soft&quot;&gt; &lt;i class=&quot;fa fa-google&quot;&gt;&lt;/i&gt; &lt;span&gt;Login With Google&lt;/span&gt; &lt;/a&gt;@endfeature 3. SÃ¡u cÃ¡ch Ä‘á»ƒ thá»±c hiá»‡n 1 truy váº¥n SQL3.1. Má»™t sá»‘ cÃ¡ch load dá»¯ liá»‡u trong quan há»‡ cá»§a LaravelTrÆ°á»›c khi xem cÃ¡c cÃ¡ch thá»±c hiá»‡n truy váº¥n trong Larael, chÃºng ta cÃ¹ng Ä‘iá»ƒm qua xem Eloquent cá»§a Laravel sá»­ dá»¥ng láº¥y dá»¯ liá»‡u nhÆ° tháº¿ nÃ o nhÃ©. Eloquent trong Laravel cung cáº¥p cho chÃºng ta 3 cÃ¡ch query dá»¯ liá»‡u: Lazy load, Eager Loading, Lazy Eager Loading Lazy load (chá»‰ láº¥y dá»¯ liá»‡u chÃ­nh nÃ³)ÄÃ¢y lÃ  cÃ¡c láº¥y dá»¯ liá»‡umáº·c Ä‘á»‹nh, cÃ¡c Eloquent sáº½ chá»‰ láº¥y cÃ¡c dá»¯ liá»‡u cá»§a chÃ­nh nÃ³ mÃ  khÃ´ng query Ä‘á»ƒ láº¥y cÃ¡c quan há»‡12$users = User::all()$flight = App\\Flight::where('number', 'FR 900')-&gt;first(); Eager Loading (láº¥y parent model cÃ¹ng cÃ¡c quan há»‡)Khi báº¡n thá»±c hiá»‡n truy cáº­p quan há»‡ Eloquent nhÆ° thuá»™c tÃ­nh, dá»¯ liá»‡u relationship Ä‘Ã³ lÃ  â€œlazy loadedâ€. Äiá»u Ä‘Ã³ cÃ³ nghÄ©a relationshop data khÃ´ng thá»±c sá»± Ä‘Æ°á»£c load cho tá»›i khi láº§n Ä‘áº§u báº¡n truy cáº­p vÃ o thuá»™c tÃ­nh cá»§a nÃ³. Tuy nhiÃªn, Eloquent cÃ³ thá»ƒ â€œeager loadâ€ relationship táº¡i thá»i Ä‘iá»ƒm báº¡n truy váº¥n vÃ o parent model. Eager loading giáº£i quyáº¿t váº¥n Ä‘á» N + 1 truy váº¥n1$books = App\\Book::with('author')-&gt;get();PhÆ°Æ¡ng thá»©c with nÃ y sá»­ dá»¥ng láº¥y quan há»‡ cho táº¥t cáº£ cÃ¡c books. Náº¿u muá»‘n load quan há»‡ theo tá»«ng model, hÃ£y xem xÃ©t phÆ°Æ¡ng thá»©c load() bÃªn dÆ°á»›i. Äiá»u Ä‘Ã³ cÃ³ nghÄ©a lÃ  truy váº¥n sau sáº½ khÃ´ng cÃ³ Ã½ nghÄ©a láº¥y User cÃ³ id lÃ  1 vÃ  quan há»‡ cá»§a nÃ³:12$user = User::find(1)-&gt;with('posts')-&gt;get(); // find khÃ´ng cÃ³ Ã½ nghÄ©a vÃ¬ nÃ³ load háº¿t quan há»‡ vÃ  tráº£ vá» táº¥t cáº£ users Lazy Eager Loading (láº¥y parent model xong sau Ä‘Ã³ quyáº¿t Ä‘á»‹nh cÃ³ láº¥y cÃ¡c quan há»‡ hay khÃ´ng vÃ¬ máº·c Ä‘á»‹nh nÃ³ chá»‰ láº¥y parent model chÃ­nh lÃ  lazy loading)ÄÃ´i khi báº¡n cÃ³ thá»ƒ cáº§n eager load 1 quan há»‡ sau khi parent model Ä‘Æ°á»£c láº¥y. VÃ­ dá»¥ Ä‘iá»u nÃ y cá»±c kÃ¬ há»¯u Ã­ch náº¿u báº¡n muá»‘n quyáº¿t Ä‘á»‹nh cÃ³ load cÃ¡c model liÃªn quan trong quan há»‡ hay khÃ´ng?12345$books = App\\Book::all();if ($someCondition) { $books-&gt;load('author', 'publisher');}TrÃ¡i vá»›i with lÃ  láº¥y dá»¯ liá»‡u quan há»‡ toÃ n bá»™ cÃ¡c model, load sáº½ Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ láº¥y cÃ¡c quan há»‡ cá»§a 1 model do báº¡n chá»‰ Ä‘á»‹nh :D1$posts = User::find(1)-&gt;load('posts'); // khÃ´ng dÃ¹ng with nhÃ© NgoÃ i lá»: Dynamic relationships in Laravel using subqueriesÆ  thÃ¬ Ä‘áº±ng nÃ o cÅ©ng Ä‘ang nÃ³i vá» quan há»‡ mÃ¬nh xin nÃ³i luÃ´n 1 bÃ i toÃ¡n khÃ¡ hay mÃ¬nh Ä‘Ã£ gáº·p. ThÃ´ng thÆ°á»ng cÃ¡c quan há»‡ Ä‘Æ°á»£c liÃªn káº¿t thÃ´ng qua khÃ³a ngoÃ i, phÃ©p so sÃ¡nh báº±ng, nhÆ° user_id trong báº£ng posts báº±ng vá»›i id trong báº£ng users. Tuy nhiÃªn Ä‘Ã´i khi láº¡i cÃ³ 1 chÃºt khÃ¡c biá»‡t, giáº£ sá»­ user_id trong báº£ng posts láº¡i lÃ  giÃ¡ trá»‹ id trong báº£ng user cá»™ng thÃªm 1 thÃ¬ sao (vÃ­ dá»¥ thÃ´i nhÃ©, thá»±c táº¿ cháº¯c khÃ´ng cÃ³). Hay má»™t bÃ i toÃ¡n khÃ¡c láº¥y láº§n login cuá»‘i cÃ¹ng cá»§a 1 user, dá»¯ liá»‡u thá»±c táº¿ chÃºng ta muá»‘n láº¥y chá»‰ lÃ  1 báº£n ghi trong báº£ng logins chá»© khÃ´ng pháº£i toÃ n bá»™ dá»¯ liá»‡u logins cá»§a users rá»“i má»›i xá»­ lÃ½ tiáº¿p. LÃºc Ä‘Ã³ hÃ£y dÃ¹ng subquery Ä‘á»ƒ xÃ¢y dá»±ng ra cÃ¡c quan há»‡ Ä‘á»™ng nhÃ© :D Link bÃ i viáº¿t gá»‘c: https://reinink.ca/articles/dynamic-relationships-in-laravel-using-subqueries 3.2 Má»™t sá»‘ truy váº¥n trong LaravelChÃºng ta cÃ¹ng xem xÃ©t 6 cÃ¡ch truy váº¥n DB trong Laravel Given this tables:12345678Users id namePosts id content user_idSelect all post from specific user:1234567891011121314151617181920212223242526/* First Way */$user = User::find(1); // Just Eloquent$posts = $user-&gt;posts; // Just Eloquent/* Second Way */$posts = User::with('posts')-&gt;find(1); // Eloquent with Eager loading/* Third Way */$posts = User::find(1)-&gt;load('posts'); // Eloquent with Lazy Eager Loading/* Fourth Way */$posts = User::join('posts', 'users.id', '=', 'posts.user_id') -&gt;where('users.id', 1) -&gt;get(); // Eloquent with Query Builder methods /* Fifth Way */$posts = DB::table('users') -&gt;join('posts', 'users.id', '=', 'posts.user_id') -&gt;where('users.id', 1)-&gt;get(); // Just Query Builder/* Sixth Way */$posts = DB::select( 'select * from users join posts on users.id = posts.user_id where users.id = 1'); // Just SQL 4. Xem SQL query Ä‘Æ°á»£c sinh ra bá»Ÿi Eloquent hoáº·c Query Builder. Ghi logLaravel cung cáº¥p 1 sá»‘ phÆ°Æ¡ng thá»©c giÃºp báº¡n dump cÃ¢u lá»‡nh truy váº¥n toSql(), getBindings()12345678App\\Models\\Division::where('type', 'rx')-&gt;toSql();// generates the following query:&quot;select * from `divisions` where `type` = ?&quot;$query = DB::table('table')-&gt;whereIn('some_field', [1,2,30]);$bindings = $query-&gt;getBindings();// GiÃ¡ trá»‹ máº£ng truyá»n vÃ o truy váº¥nVáº­y náº¿u Ä‘á»ƒ gá»™p 2 káº¿t quáº£ trÃªn thÃ nh 1 truy váº¥n hoÃ n chá»‰nh thÃ¬ sao nhá»‰? Báº¡n chá»‰ cáº§n thay cÃ¡c giÃ¡ trá»‹ ? tá»« phÆ°Æ¡ng thá»©c toSql() thÃ nh cÃ¡c giÃ¡ trá»‹ nháº­n Ä‘Æ°á»£c tá»« phÆ°Æ¡ng thá»©c getBindings() :D123456789public function getQueries(Builder $builder){ $addSlashes = str_replace('?', &quot;'?'&quot;, $builder-&gt;toSql()); return vsprintf( str_replace('?', '%s', $addSlashes), $builder-&gt;getBindings() );} Chi tiáº¿t báº¡n cÃ³ thá»ƒ xem thÃªm táº¡i Ä‘Ã¢y PhÆ°Æ¡ng thá»©c dd() hay dump() cÅ©ng lÃ  1 cÃ¡ch xem SQL Query:123DB::table('users')-&gt;where('votes', '&gt;', 100)-&gt;dd();DB::table('users')-&gt;where('votes', '&gt;', 100)-&gt;dump();Link: https://laravel.com/docs/7.x/queries#debugging Äá»ƒ ghi cÃ¡c truy váº¥n vÃ o log, hÃ£y enableQueryLog lÃªn rá»“i ghi vÃ o log bÃ¬nh thÆ°á»ng nhÃ© :D123456// ToÃ n bá»™ truy váº¥n sáº½ Ä‘Æ°á»£c ghi láº¡i tá»« khi enableQueryLog()DB::enableQueryLog();App\\User::where(['id'=&gt;'1'])-&gt;delete();Log::info(DB::getQueryLog());","link":"/2019/11/23/Laravel-Note-1-SQL-Helper-in-blade-view-file/"},{"title":"[Laravel] Validation","text":"BÃ i viáº¿t tá»•ng há»£p 1 vÃ i note khi dÃ¹ng validate vá»›i Laravel 1. AJAX Requests &amp; ValidationKhi báº¡n sá»­ dá»¥ng validate cho AJAX, Laravel sáº½ khÃ´ng sinh ra 1 Ä‘Æ°á»ng chuyá»ƒn hÆ°á»›ng khi response. Thay vÃ o Ä‘Ã³, Laravel sáº½ sinh ra 1 JSON response chÆ°a táº¥t cáº£ cÃ¡c lá»—i vá»›i mÃ£ HTTP code lÃ  422 2. Validation Quickstart (cháº¯c khÃ´ng dÃ¹ng nÃªn táº¡m bá» qua)3. Form Request Validation3.1. Táº¡o Form Requests1php artisan make:request StoreBlogPost Váº­y cÃ¡c cÃ¡c rules cá»§a validation Ä‘Æ°á»£c thá»±c thi nhÆ° tháº¿ nÃ o? Táº¥t cáº£ thá»© báº¡n cáº§n lÃ  truyá»n request vÃ o phÆ°Æ¡ng thá»©c trong controller cá»§a báº¡n. Form request Ä‘áº¿n Ä‘Ã£ Ä‘Æ°á»£c validated trÆ°á»›c khi method trong controller Ä‘Æ°á»£c gá»i, Ä‘iá»u Ä‘Ã³ cÃ³ nghÄ©a báº¡n khÃ´ng cáº§n láº«n pháº§n validation logic trong controller cá»§a báº¡n12345678910111213/*** Store the incoming blog post.** @param StoreBlogPost $request* @return Response*/public function store(StoreBlogPost $request){ // The incoming request is valid... // Retrieve the validated input data... $validated = $request-&gt;validated();} Náº¿u validation lá»—i, 1 response chuyá»ƒn hÆ°á»›ng sáº½ Ä‘Æ°á»£c táº¡o ra vÃ o trang trÆ°á»›c Ä‘Ã³, lá»—i sáº½ Ä‘Æ°á»£c flashed vÃ o session vÃ  báº¡n cÃ³ thá»ƒ hiá»ƒn thá»‹ nÃ³. Náº¿u request lÃ  1 AJAX request, 1 kiá»ƒu response JSON sáº½ Ä‘Æ°á»£c tráº£ vá» chá»©a cÃ¡c mÃ£ lá»—i vá»›i mÃ£ 422 3.2. Adding After Hooks To Form RequestsNáº¿u báº¡n muá»‘n thÃªm 1 â€œafterâ€ hook tá»›i 1 form request, báº¡n nÃªn sá»­ dá»¥ng withValidator method. Method nÃ y sáº½ nháº­n cáº¥u trá»©c validator Ä‘áº§y Ä‘á»§, cho phÃ©p báº¡n gá»i 1 vÃ i phÆ°Æ¡ng thá»©c cá»§a chÃ­nh nÃ³ trÆ°á»›c khi cÃ¡c rules cá»§a validation thá»±c sá»± Ä‘Æ°á»£c thá»±c thi1234567891011121314/** * Configure the validator instance. * * @param \\Illuminate\\Validation\\Validator $validator * @return void */public function withValidator($validator){ $validator-&gt;after(function ($validator) { if ($this-&gt;somethingElseIsInvalid()) { $validator-&gt;errors()-&gt;add('field', 'Something is wrong with this field!'); } });} 3.3. Xá»­ lÃ½ dá»¯ liá»‡u trÆ°á»›c khi validate123456protected function prepareForValidation(){ $this-&gt;merge([ 'username' =&gt; 'Minh', ]);}","link":"/2019/11/23/Laravel-Validation/"},{"title":"[Laravel] Testing Notes","text":"BÃ i viáº¿t tá»•ng há»£p láº¡i má»™t sá»‘ link tham kháº£o vá» Testing trong Laravel. Tá»•ng quan nháº¥t vá» Testing trong Laravel Slide - TuanPT Notes - TuanPT Framgiaâ€™s Laravel Project Testing Guidelines Guidelines Viblo-TuanPT","link":"/2019/11/22/Laravel-Testing-Notes/"},{"title":"[Linux] Get started with Linux command line","text":"BÃ i viáº¿t sáº½ giá»›i thiá»‡u tá»•ng quan vá» há»‡ Ä‘iá»u hÃ nh Linux vÃ  lÃ m quen vá»›i cÃ¡c lá»‡nh cÆ¡ báº£n. Tá»•ng quan vá» LinuxLinux lÃ  HÄH Äa NSD, Äa tiáº¿n trÃ¬nh. Há»— trá»£ láº­p trÃ¬nh, xá»­ lÃ½ vÄƒn báº£n, trao Ä‘á»•i thÃ´ng tin. Cháº¿ Ä‘á»™ lÃ m viá»‡c vá»›i Linux: sá»­ dá»¥ng á»Ÿ 2 cháº¿ Ä‘á»™ Ä‘Äƒng nháº­p Cháº¿ Ä‘á»™ Ä‘Äƒng nháº­p vÄƒn báº£n Cháº¿ Ä‘á»™ Ä‘Äƒng nháº­p console Má»—i láº§n Ä‘Äƒng nháº­p táº¡o ra má»™t phiÃªn lÃ m viá»‡c. PhiÃªn Ä‘Æ°á»£c káº¿t thÃºc báº±ng cÃ¢u lá»‡nh exit hoáº·c logout. Console áº£oLINUX cÃ³ thá»ƒ má»Ÿ Ä‘á»“ng thá»i nhiá»u phiÃªn lÃ m viá»‡c trÃªn cÃ¹ng má»™t tráº¡m lÃ m viá»‡c. LINUX há»— trá»£ 8 console áº£o trÃªn má»™t mÃ¡y tÃ­nh. Má»—i console quáº£n lÃ½ tÆ°Æ¡ng á»©ng má»™t phiÃªn lÃ m viá»‡c. Äá»ƒ chá»n console áº£o cáº§n sá»­ dá»¥ng tá»• há»£p phÃ­m táº¯t Ctrl+Alt+F1 cho Ä‘áº¿n F8: Ctrl+Alt-F1 : Console áº£o 1 Ctrl+Alt-F2 : Console áº£o 2 â€¦ Ctrl+Alt-F7 : Console áº£o 7 (cho cháº¿ Ä‘á»™ Ä‘á»“ hoáº¡) Má»™t vÃ i lá»‡nh cÆ¡ báº£n Ä‘á»ƒ lÃ m quen vá»›i há»‡ Ä‘iá»u hÃ nh Ubuntu passwd - Thay Ä‘á»•i máº­t kháº©u ls - liá»‡t kÃª tá»‡p logout - Ä‘Äƒng xuáº¥t date - hiá»ƒn thá»‹ ngÃ y giá» cá»§a há»‡ thá»‘ng who - ai Ä‘ang Ä‘Äƒng nháº­p script - ghi láº¡i cÃ¡c thao tÃ¡c uname -a- thÃ´ng tin vá» HÄH man - hÆ°á»›ng dáº«n sá»­ dá»¥ng logname : hiÃªn thá»‹ tÃªn NSD Ä‘ang á»Ÿ phiÃªn lÃ m viá»‡c hostname : hiá»ƒn thá»‹ tÃªn tráº¡m lÃ m viá»‡c clear : xoÃ¡ mÃ n hÃ¬nh who : tÃªn cá»§a nhá»¯ng ngÆ°á»i Ä‘ang Ä‘Äƒng nháº­p exit : káº¿t thÃºc phiÃªn lÃ m viá»‡c mkdir : táº¡o thÆ° má»¥c rmdir : xoÃ¡ thÆ° má»¥c cd : chuyá»ƒn vá»‹ trÃ­ thÆ° má»¥c pwd : Ä‘Æ°á»ng dáº«n thÆ° má»¥c hiá»‡n táº¡i cp : sao chÃ©p tá»‡p rm : xoÃ¡ tá»‡p ps : xem tiáº¿n trÃ¬nh","link":"/2019/11/17/Linux-Get-started-with-Linux-command-line/"},{"title":"[Linux]: Há»‡ thá»‘ng tá»‡p tin linux","text":"BÃ i viáº¿t sáº½ Ä‘á» cáº­p tá»›i há»‡ thá»‘ng tá»‡p tin trÃªn Linux vÃ  cÃ¡c lá»‡nh cÆ¡ báº£n thao tÃ¡c vá»›i tá»‡p. 1. Tá»“ng quan vá» há»‡ thá»‘ng tá»‡p trÃªn LinuxTrÆ°á»›c háº¿t hÃ£y xem xÃ©t qua cÃ¡c thÆ° má»¥c cá»§a Ubuntu cÃ³ gÃ¬ nÃ o:12345678910/ (thÆ° má»¥c gá»‘c) â€“ /bin : thÆ° má»¥c tá»‡p chÆ°Æ¡ng trÃ¬nh cÆ¡ báº£n â€“ /boot : thÆ° má»¥c chá»©a háº¡t nhÃ¢n cá»§a HÄH â€“ /etc : thÆ° má»¥c cÃ¡c tá»‡p cáº¥u hÃ¬nh â€“ /dev : thÆ° má»¥c cÃ¡c tá»‡p thiáº¿t bá»‹ â€“ /home : thÆ° má»¥c chá»©a dá»¯ liá»‡u NSD â€“ /lib : thÆ° viá»‡n há»‡ thá»‘ng â€“ /usr : thÆ° má»¥c á»©ng dá»¥ng â€“ /var : thÆ° má»¥c dá»¯ liá»‡u cáº­p nháº­t â€“ /proc TÃ­nh Ä‘áº·c thÃ¹ cÃ¡c táº­p tin cá»§a Linux Quáº£n lÃ½ dÆ°á»›i má»™t khung nhÃ¬n cá»§a tá»‡p cho cáº£ thÆ° má»¥c vÃ  cÃ¡c loáº¡i tÃ i nguyÃªn há»‡ thá»‘ng (ngoáº¡i vi, báº£ng phÃ¢n chÆ°Æ¡ng Ä‘Ä©a). KhÃ´ng cÃ³ khÃ¡i niá»‡m pháº§n má»Ÿ rá»™ng cá»§a tÃªn tá»‡p (kÃ­ tá»± '.' trong tÃªn tá»‡p Ä‘Æ°á»£c Ä‘á»‘i xá»­ nhÆ° má»i kÃ­ tá»± khÃ¡c KhÃ´ng dÃ¹ng á»• Ä‘Ä©a logic trong cÃ¢y thÆ° má»¥c. '/' Ä‘Æ°á»£c dÃ¹ng thay cho '\\' trong Ä‘Æ°á»ng dáº«n thÆ° má»¥c 2. Lá»‡nh cÆ¡ báº£n quáº£n lÃ½ thÆ° má»¥cDÄƒm ba lá»‡nh thÆ°á»ng dÃ¹ng: pwd cd ls â€“la [tÃªn thÆ° má»¥c] mkdir [-p] [tÃªn thÆ° má»¥c má»›i] rmdir [tÃªn thÆ° má»¥c rá»—ng] CÃ¡c siÃªu kÃ­ tá»±: * dÃ¹ng Ä‘á»ƒ thay tháº¿ cho má»™t chuá»—i kÃ­ tá»± báº¥t kÃ¬ bao gá»“m cáº£ xÃ¢u rá»—ng. ? thay tháº¿ cho má»™t kÃ­ tá»± báº¥t kÃ¬. [ ] Ä‘Æ°á»£c thay tháº¿ bá»Ÿi má»™t kÃ­ tá»± trong má»™t táº­p kÃ­ tá»± cho trÆ°á»›c. [! ] Ä‘Æ°á»£c thay tháº¿ bá»Ÿi má»™t kÃ­ tá»± khÃ´ng cÃ³ trong má»™t táº­p kÃ­ tá»± cho trÆ°á»›c. 12345678910$ ls -l *.[c,h]-rw-r--r-- 1 tuananh user1 2451 Feb 7 07:30 myprog.c-rw-r--r-- 1 tuananh user1 2451 Feb 7 07:30 myprog.h$ ls -l *progdrwxr-xr-- 2 tuananh user1 512 Feb 10 19:12 c_progdrwxr-xr-- 2 tuananh user1 512 Feb 10 19:12 java_prog$ ls -l .*-rw-r--r-- 1 tuananh user1 451 Feb 7 07:30 .bashrc-rw-r--r-- 1 tuananh user1 225 Feb 7 07:30 .bash_profile-rw-r--r-- 1 tuananh user1 351 Feb 7 07:30 .bash_logout 3. Quáº£n lÃ½ tá»‡p$cp file1 [...] dir: sao chÃ©p má»™t hoáº·c nhiá»u tá»‡p vÃ o má»™t thÆ° má»¥c. $mv file1 [...] dir: di chuyá»ƒn má»™t hoáº·c nhiá»u tá»‡p Ä‘áº¿n má»™t thÆ° má»¥c. $rm file1 [...]. XoÃ¡ má»™t hoáº·c nhiá»u tá»‡p Khi sá»­ dá»¥ng rm, nÃªn cÃ³ tÃ¹y chá»n i Ä‘á»ƒ xÃ¡c nháº­n cÃ³ xÃ³a tá»‡p hay khÃ´ng (sáº½ Ä‘Æ°á»£c confirm Ä‘á»ƒ trÃ¡nh xÃ³a nháº§m) $rf -rfi dir: xÃ³a thÆ° má»¥c Tuá»³ chá»n -R (recursive): sá»­ dá»¥ng khÃ¡ nhiá»u Ä‘Ã³ :D: cho phÃ©p sao chÃ©p/di chuyá»ƒn/xoÃ¡ toÃ n bá»™ thÆ° má»¥c bao gá»“m cáº£ cÃ¡c thÆ° má»¥c con 4. Äá»c ná»™i dung file4.1. Äá»c nhanh má»™t file, vá»›i cÃ¡c file khÃ´ng quÃ¡ lá»›n cat: xem nhanh má»™t tá»‡p(DÃ¹ng cho file nhá», xem nhanh thÃ¬ lá»‡nh nÃ y cÃ³ váº» OK) 4.2. Äá»c file theo dÃ²ng, xem cÃ¡c dÃ²ng Ä‘áº§u hoáº·c cÃ¡c dÃ²ng cuá»‘i Ä‘á»‘i vá»›i file lá»›nmore: xem tá»«ng dÃ²ng. tail: xem cuá»‘i tá»‡p. head: xem Ä‘áº§u tá»‡p. Vá»›i tail vÃ  head thÃ¬ dÃ¹ng Ä‘á»ƒ xem sá»‘ dÃ²ng vá»›i tÃ¹y chá»n -n tail -n 10 result.txt =&gt; xem 10 dÃ²ng cuá»‘i file Khi sá»­ dá»¥ng tail, cÃ³ tÃ¹y chá»n -F theo dÃµi file thay Ä‘á»•i trá»±c tiáº¿p. CÃ¡i nÃ y cá»±c kÃ¬ há»¯u Ã­ch má»—i khi báº¡n Ä‘á»c log cá»§a 1 há»‡ thá»‘ng. tail -F log_11_11_2019.txt. vim, nano: cÃ³ nhiá»u ngÆ°á»i giá»›i thiá»‡u less, tÃ´i tháº¥y vim vÃ  nano láº¡i thÃ´ng dá»¥ng hÆ¡n =)). Vim khÃ¡ hiá»‡u quáº£, Ä‘Æ°á»£c tá»‘i Æ°u Ä‘á»ƒ má»Ÿ cÃ¡c file cÃ³ kÃ­ch thÆ°á»›c lá»›n (nhÆ° khÃ´ng load háº¿t ná»™i dung cáº£ file Ä‘Ã³ mÃ  chá»‰ load cÃ¡c pháº§n cáº§n Ä‘á»c, tá»‘i Æ°u xá»­ lÃ½). 4.3. Táº¡o, cáº­p nháº­ttouch: táº¡o tá»‡p má»›i, cáº­p nháº­t tá»‡p cÅ© 4.4. Output stdout to fileGhi káº¿t quáº£ output cá»§a má»™t lá»‡nh ra file: echo noi dung &gt; [tÃªn tá»‡p]: xÃ³a Ä‘i ghi láº¡i ná»™i dung vÃ o file. echo noi dung &gt;&gt; [tÃªn tá»‡p]: ghi thÃªm ná»™i dung vÃ o cuá»‘i file. tail -n 10 result.txt &gt;&gt; new_result.txt: láº¥y ná»™i dung 1 dÃ²ng cuá»‘i cá»§a file result cho vÃ o file new_result.txt","link":"/2019/11/17/Linux-He-thong-tep-tin-linux/"},{"title":"[Linux]: Permission Management","text":"BÃ i viáº¿t sáº½ Ä‘á» cáº­p tá»›i cÃ¡c quyá»n Ä‘á»‘i vá»›i file/thÆ° má»¥c trong há»‡ thá»‘ng Ubuntu. NgoÃ i ra bÃ i viáº¿t cÅ©ng hÆ°á»›ng dáº«n sá»­ dá»¥ng má»™t sá»‘ lá»‡nh Ä‘á»ƒ thay Ä‘á»•i cÃ¡c quyá»n nÃ y. 1. Tá»•ng quanMá»—i file luÃ´n thuá»™c vá» má»™t ngÆ°á»i sá»­ dá»¥ng vÃ  má»™t nhÃ³m xÃ¡c Ä‘á»‹nh. NgÆ°á»i táº¡o ra file hoáº·c thÆ° má»¥c sáº½ lÃ  ngÆ°á»i sá»Ÿ há»¯u, nhÃ³m chá»©a ngÆ°á»i táº¡o ra file hoáº·c thÆ° má»¥c sáº½ lÃ  nhÃ³m sá»Ÿ há»¯u Ä‘á»‘i vá»›i file/thÆ° má»¥c. Sá»± phÃ¢n quyá»n cho phÃ©p xÃ¡c Ä‘á»‹nh rÃµ cÃ¡c quyá»n mÃ  ngÆ°á»i sá»­ dá»¥ng cÃ³ Ä‘á»‘i vá»›i má»™t file hoáº·c má»™t thÆ° má»¥c. Chi tiáº¿t cÃ¡c quyá»n truy cáº­p: r : Ä‘á»c Cho phÃ©p hiá»ƒn thá»‹ ná»™i dung cá»§a file hoáº·c thÆ° má»¥c. w : ghi Cho phÃ©p thay Ä‘á»•i ná»™i dung cá»§a file. Cho phÃ©p thÃªm hoáº·c xÃ³a cÃ¡c file trong má»™t thÆ° má»¥c. x : thá»±c thi Cho phÃ©p thá»±c thi file dÆ°á»›i dáº¡ng má»™t chÆ°Æ¡ng trÃ¬nh. Cho phÃ©p chuyá»ƒn Ä‘áº¿n thÆ° má»¥c cáº§n truy cáº­p. 2. CÃ¡c nhÃ³m ngÆ°á»i sá»­ dá»¥ng fileCÃ³ 3 nhÃ³m ngÆ°á»i sá»­ dá»¥ng Ä‘á»‘i vá»›i 1 file/ thÆ° má»¥c: u (ngÆ°á»i sá»Ÿ há»¯u) : ngÆ°á»i sá»Ÿ há»¯u duy nháº¥t cá»§a file g (groupe) : nhá»¯ng ngÆ°á»i sá»­ dá»¥ng thuá»™c nhÃ³m chá»©a file o (others) : nhá»¯ng ngÆ°á»i sá»­ dá»¥ng khÃ¡c, khÃ´ng pháº£i lÃ  ngÆ°á»i sá»Ÿ há»¯u file cÅ©ng nhÆ° khÃ´ng thuá»™c nhÃ³m chá»©a file. Má»—i nhÃ³m ngÆ°á»i sá»­ dá»¥ng sáº½ cÃ³ má»™t táº­p cÃ¡c quyá»n (r, w, x) xÃ¡c Ä‘á»‹nh. VÃ­ dá»¥123456789101112$ ls -l----rw-rw- 1 minhnv user1 16 Feb 10 19:12 test1.txt-rw-rw-rw- 1 minhnv user1 16 Feb 10 19:12 test2.txtdrw-r--r-- 2 minhnv user1 512 Feb 10 19:14 vanban$ whoamiminhnv$ cat test1.txtcat: test1.txt: Permission denied$ cat test2.txtUn fichier de test$ cp test2.txt vanbancp: vanban: Permission denied Má»™t vÃ i lÆ°u Ã½ vá» phÃ¢n quyá»n há»‡ thá»‘ng file: Äá»ƒ cÃ³ thá»ƒ thÃªm cÃ¡c file, cáº§n pháº£i cÃ³ quyá»n â€œwâ€ Ä‘á»‘i vá»›i thÆ° má»¥c Äá»ƒ cÃ³ thá»ƒ xÃ³a, thay Ä‘á»•i ná»™i dung hoáº·c di chuyá»ƒn 1 file, ngÆ°á»i sá»­ dá»¥ng cÅ©ng cáº§n pháº£i cÃ³ quyá»n Â« w Â» Ä‘á»‘i vá»›i thÆ° má»¥c Viá»‡c xÃ³a má»™t file cÃ²n phá»¥ thuá»™c vÃ o quyá»n Ä‘á»‘i vá»›i thÆ° má»¥c chá»©a file Ä‘Ã³ Äá»ƒ báº£o máº­t cÃ¡c dá»¯ liá»‡u, ngÆ°á»i sá»Ÿ há»¯u file tháº­m chÃ­ cÃ³ thá»ƒ bá» cáº£ quyá»n Ä‘á»c â€œrâ€ Ä‘á»‘i vá»›i táº¥t cáº£ má»i ngÆ°á»i sá»­ dá»¥ng khÃ¡c. Äá»ƒ háº¡n cháº¿ quÃ¡ trÃ¬nh truy cáº­p vÃ o há»‡ thá»‘ng file, ngÆ°á»i sá»­ dá»¥ng cÃ³ thá»ƒ bá» quyá»n thá»±c thi (x) Ä‘á»‘i vá»›i thÆ° má»¥c gá»‘c cá»§a há»‡ thá»‘ng file. Má»™t sá»‘ quyá»n Ä‘áº·c biá»‡t Ä‘á»‘i vá»›i cÃ¡c file thá»±c thi: 12345678set-uid: -rws --- --- - ChÆ°Æ¡ng trÃ¬nh Ä‘Æ°á»£c cháº¡y dÆ°á»›i quyá»n cá»§a ngÆ°á»i sá»Ÿ há»¯uset-gid: - --- rws --- - ChÆ°Æ¡ng trÃ¬nh Ä‘Æ°á»£c cháº¡y bá»Ÿi cÃ¡c ngÆ°á»i sá»­ dá»¥ng thuá»™c cÃ¹ng nhÃ³m vá»›i ngÆ°á»i sá»Ÿ há»¯u bit sticky - ChÆ°Æ¡ng trÃ¬nh chá»‰ Ä‘Æ°á»£c cáº¥p phÃ¡t bá»™ nhá»› trong 1 láº§n Má»™t sá»‘ quyá»n Ä‘áº·c biá»‡t vá»›i thÆ° má»¥c123456â€¢ set-uid: -rws --- ---â€¢ set-gid: - --- rws ---â€“ CÃ¡c tá»‡p má»›i Ä‘Æ°á»£c táº¡o ra cÃ³ nhÃ³m chá»§ sá»Ÿ há»¯u lÃ  nhÃ³m cá»§a thÆ° má»¥câ€¢ bit stickyâ€“ Chá»‰ cÃ³ root vÃ  chá»§ sá»Ÿ há»¯u Ä‘Æ°á»£c xÃ³a, ká»ƒ cáº£ khi cÃ³ quyá»n rwxVÃ­ dá»¥:1234$ ls -l /etc/passwd-rw-rw---- 1 root root 568 Feb 10 19:12 passwd$ ls -l /bin/passwd-rwsrws--x 1 root root 3634 Feb 10 19:12 passwdTrong vÃ­ dá»¥ trÃªn, khi má»™t ngÆ°á»i sá»­ dá»¥ng thÃ´ng thÆ°á»ng gá»i lá»‡nh /bin/passwd, xem nhÆ° ngÆ°á»i Ä‘Ã³ Ä‘Æ°á»£câ€œmÆ°á»£nâ€ quyá»n root Ä‘á»ƒ thay Ä‘á»•i máº­t kháº©u trong file /etc/passwd 3. Lá»‡nh thay Ä‘á»•i quyá»n$chmod123456789101112$chmod &lt;mode&gt; &lt;files&gt;set_uid set-gid sticky user group other rwx --x --x 1 1 0 111 001 001 6 7 1 1$ chmod 6711 test$ ls -l test-rws--s--x 1 minhnv user1 Mar 10 10:20 test$ chmod 711 test$ ls -l test-rwx--x--x 1 minhnv user1 Mar 10 10:20 test Hoáº·c1234567$chmod &lt;ugoa&gt;&lt;+-=&gt;&lt;rwsx&gt; &lt;files&gt;â€¢ u | g | o | a (all)â€¢ Operationâ€“ + (thÃªm 1 hoáº·c 1 sá»‘ quyá»n vÃ o táº­p cÃ¡c quyá»n file Ä‘Ã£ cÃ³)â€“ - (bá» 1 hoáº·c 1 sá»‘ quyá»n khá»i táº­p cÃ¡c quyá»n file Ä‘Ã£ cÃ³)â€“ = (gÃ¡n má»›i 1 hoáº·c 1 sá»‘ quyá»n cho file)â€¢ Quyá»n = r | w | x | sVÃ­ dá»¥:12345678910$ ls -l test.txt-rw-rw-r-- 1 minhnv user1 150 Mar 19 19:12 test.txt$ chmod o+w test.txt$ ls -l test.txt-rw-rw-rw- 1 minhnv user1 150 Mar 19 19:12 test.txt$ chmod a-rw test.txt$ ls -l test.txt---------- 1 minhnv user1 150 Mar 19 19:12 test.txt$ cat test.txtcat: test.txt: Permission denied $chown, $chgrpLá»‡nh nÃ y Ä‘á»ƒ thay Ä‘á»•i ngÆ°á»i sá»Ÿ há»¯u vÃ  nhÃ³m12$chown [-R] &lt;utilisateur&gt; &lt;files&gt;â€“ Thay Ä‘á»•i ngÆ°á»i sá»Ÿ há»¯u cá»§a file12345$chgrp &lt;group&gt; &lt;files&gt;â€“ Thay Ä‘á»•i nhÃ³m cá»§a fileâ€“ CÃ³ thá»ƒ sá»­ dá»¥ng tÃ¹y chá»n â€“R Ä‘á»ƒ láº·p láº¡i viá»‡c thá»±c hiá»‡n cÃ¡clá»‡nh (vÃ­ dá»¥ thá»±c hiá»‡n viá»‡c thay Ä‘á»•i quyá»n sá»Ÿ há»¯u hoáº·cnhÃ³m cá»§a má»i file trong cÃ¹ng má»™t thÆ° má»¥c)Note: CÃ¡c lá»‡nh trÃªn chá»‰ dÃ nh cho nhá»¯ng ngÆ°á»i sá»­ dá»¥ng cÃ³ quyá»n root VÃ­ dá»¥123$sudo chown -R yourname:www-data cake$sudo chown minhnv file1.txt$sudo chmod -R g+s cake 4. NhÃ³m www-dataKhi lÃ m viá»‡c vá»›i web, tÃ´i tháº¥y khÃ¡ nhiá»u ngÆ°á»i chuyá»ƒn quyá»n sá»Ÿ há»¯u file/thÆ° má»¥c cho nhÃ³m ngÆ°á»i dÃ¹ng nÃ y. Thá»±c táº¿, nhÃ³m www-data lÃ  táº­p nhá»¯ng ngÆ°á»i dÃ¹ng vÃ o web servers trÃªn Ubuntu (nhÆ° nginx, apache2) sá»­ dá»¥ng máº·c Ä‘á»‹nh cho cÃ¡c hoáº¡t Ä‘á»™ng truy cáº­p web thÃ´ng thÆ°á»ng. MÃ¡y chá»§ web server cÃ³ thá»ƒ truy cáº­p báº¥t kÃ¬ file nÃ o nhÃ³m www-data cÃ³ thá»ƒ truy cáº­p. KhÃ´ng cÃ³ gÃ¬ Ä‘áº·c biá»‡t vá»›i nhÃ³m user nÃ y. Chi tiáº¿t https://askubuntu.com/questions/873839/what-is-the-www-data-user https://stackoverflow.com/questions/9133024/www-data-permissions","link":"/2019/11/17/Linux-Permission-Management/"},{"title":"[Linux] Process mangement","text":"BÃ i viáº¿t tá»•ng há»£p má»™t sá»‘ lá»‡nh cho viá»‡c quáº£n lÃ½ tiáº¿n trÃ¬nh trong há»‡ Ä‘iá»u hÃ nh Linux. BÃªn canh Ä‘Ã³ cÃ³ 1 sá»‘ lá»‡nh chuyá»ƒn kÃªnh chuáº©n vÃ  thá»±c hiá»‡n xá»­ lÃ½ song song cÃ¡c cÃ¢u lá»‡nh trong Linux. 1. Quáº£n lÃ½ tiáº¿n trÃ¬nhMá»™t tiáº¿n trÃ¬nh = thá»±c thi cá»§a má»™t chÆ°Æ¡ng trÃ¬nh Ä‘Æ°á»£c thá»±c thi. Má»—i tiáº¿n trÃ¬nh sáº½ tÆ°Æ¡ng á»©ng vá»›i má»™t táº­p cÃ¡c thÃ´ng tin sau: Má»™t Ä‘á»‹nh danh (pid) Má»™t tiáº¿n trÃ¬nh cha (ppid) NgÆ°á»i sá»Ÿ há»¯u (uid) vÃ  nhÃ³m (gid) CÃ¢u lá»‡nh khá»Ÿi táº¡o tiáº¿n trÃ¬nh Má»™t Ä‘áº§u vÃ o chuáº©n (stdin), má»™t Ä‘áº§u ra chuáº©n (stdout), má»™t kÃªnh bÃ¡o lá»—i chuáº©n (stderr) Thá»i gian sá»­ dá»¥ng CPU (CPU time) vÃ  má»©c Ä‘á»™ Æ°u tiÃªn ThÆ° má»¥c hoáº¡t Ä‘á»™ng hiá»‡n táº¡i cá»§a tiáº¿n trÃ¬nh Báº£ng cÃ¡c tham chiáº¿u Ä‘áº¿n cÃ¡c file Ä‘Æ°á»£c tiáº¿n trÃ¬nh sá»­ dá»¥ng. CÃ¡c tiáº¿n trÃ¬nh Ä‘Æ°á»£c sáº¯p xáº¿p Ä‘á»ƒ chia sáº» thá»i gian sá»­ dá»¥ng CPU. CÃ³ 2 loáº¡i tiáº¿n trÃ¬nh lÃ  tiáº¿n trÃ¬nh há»‡ thá»‘ng vÃ  tiáº¿n trÃ¬nh cá»§a ngÆ°á»i dÃ¹ng: CÃ¡c tiáº¿n trÃ¬nh há»‡ thá»‘ng ThÆ°á»ng thuá»™c vá» quyá»n root KhÃ´ng cÃ³ giao diá»‡n tÆ°Æ¡ng tÃ¡c ThÆ°á»ng Ä‘Æ°á»£c cháº¡y dÆ°á»›i dáº¡ng cÃ¡c tiáº¿n trÃ¬nh ngáº§m (daemon) Äáº£m nhiá»‡m cÃ¡c nhiá»‡m vá»¥ chung, phá»¥c vá»¥ má»i ngÆ°á»i sá»­ dá»¥ng. VÃ­ dá»¥: lpsched: Quáº£n lÃ½ cÃ¡c dá»‹ch vá»¥ in áº¥n cron: tá»± Ä‘á»™ng thá»±c hiá»‡n má»™t lá»‡nh/chÆ°Æ¡ng trÃ¬nh vÃ o má»™t thá»i gian xÃ¡c Ä‘á»‹nh trÆ°á»›c. inetd: quáº£n lÃ½ cÃ¡c dá»‹ch vá»¥ máº¡ng. CÃ¡c tiáº¿n trÃ¬nh cá»§a ngÆ°á»i sá»­ dá»¥ng Thá»±c hiá»‡n cÃ¡c nhiá»‡m vá»¥ cá»§a má»™t ngÆ°á»i dÃ¹ng cá»¥ thá»ƒ Thá»±c hiá»‡n dÆ°á»›i dáº¡ng má»™t shell tÆ°Æ¡ng á»©ng vá»›i má»™t sá»± Ä‘Äƒng nháº­p. Thá»±c hiá»‡n dÆ°á»›i dáº¡ng má»™t lá»‡nh thÃ´ng qua shell ThÆ°á»ng Ä‘Æ°á»£c thá»±c hiá»‡n, quáº£n lÃ½ báº±ng má»™t terminal VÃ­ dá»¥: cp, vi, man 2. Lá»‡nh ps, lsof Hiá»ƒn thá»‹ cÃ¡c tiáº¿n trÃ¬nh Theo ngáº§m Ä‘á»‹nh, lá»‡nh ps hiá»ƒn thá»‹ cÃ¡c tiáº¿n trÃ¬nh thuá»™c vá» ngÆ°á»i sá»­ dá»¥ng terminal. Sá»­ dá»¥ng tÃ¹y chá»n ps -aux Ä‘á»ƒ hiá»ƒn thá»‹ táº¥t cáº£ cÃ¡c tiáº¿n trÃ¬nh Ä‘ang cháº¡y trong mÃ¡y. Xem tiáº¿n trÃ¬nh vá»›i port: lsof (LiSt Open File)123sudo lsof -t -i:9001=&gt; kill process in port 9001:sudo kill $(sudo lsof -t -i:9001) 3. CÃ¡c tráº¡ng thÃ¡i cá»§a 1 tiáº¿n trÃ¬nh S: Ä‘ang ngá»§ R: Ä‘ang cháº¡y T: dá»«ng Z: khÃ´ng xÃ¡c Ä‘á»‹nh 4. Lá»‡nh killLá»‡nh nÃ y gá»­i má»™t tÃ­n hiá»‡u Ä‘áº¿n má»™t tiáº¿n trÃ¬nh (Ä‘á»‹nh danh cá»§a tiáº¿n trÃ¬nh Ä‘Æ°á»£c xÃ¡c Ä‘á»‹nh dÆ°á»›i dáº¡ng má»™t tham sá»‘ cá»§a lá»‡nh). Theo ngáº§m Ä‘á»‹nh, tÃ­n hiá»‡u gá»­i Ä‘i lÃ  tÃ­n hiá»‡u 15 (SIGTERM â€“ káº¿t thÃºc tiáº¿n trÃ¬nh) TÃ¹y chá»n -9: gá»­i tÃ­n hiá»‡u 9 (SIGKILL â€“ há»§y tiáº¿n trÃ¬nh) TÃ¹y chá»n â€“l: liá»‡t kÃª táº¥t cáº£ cÃ¡c tÃ­n hiá»‡u cÃ³ thá»ƒ sá»­ dá»¥ng. Lá»‡nh killall: dÃ¹ng Ä‘á»ƒ káº¿t thÃºc táº¥t cáº£ cÃ¡c tiáº¿n trÃ¬nh cá»§a má»™t cÃ¢u lá»‡nh thÃ´ng qua viá»‡c truyá»n tÃªn cá»§a cÃ¢u lá»‡nh dÆ°á»›i dáº¡ng má»™t tham sá»‘.12$ kill -9 1317$ killall &lt;process-name&gt;( kiá»ƒu nhÆ° killall cÃ¡c tiáº¿n trÃ¬nh á»Ÿ cá»•ng 80)Quyá»n há»§y tiáº¿n trÃ¬nh thuá»™c vá» ngÆ°á»i sá»Ÿ há»¯u tiáº¿n trÃ¬nh. Note: NÃ³i chung, báº¡n nÃªn sá»­ dá»¥ng kill (viáº¿t táº¯t cá»§a kill -s TERM, hoáº·c trÃªn háº§u háº¿t cÃ¡c há»‡ thá»‘ng kill -15) trÆ°á»›c khi kill -9 (kill -s KILL) Ä‘á»ƒ táº¡o cÆ¡ há»™i tiáº¿n trÃ¬nh tá»± dá»n dáº¹p sau Ä‘Ã³. (CÃ¡c quy trÃ¬nh khÃ´ng thá»ƒ báº¯t hoáº·c bá» qua SIGKILL, nhÆ°ng chÃºng cÃ³ thá»ƒ vÃ  thÆ°á»ng báº¯t SIGTERM.) Náº¿u báº¡n khÃ´ng cho quÃ¡ trÃ¬nh hoÃ n thÃ nh nhá»¯ng gÃ¬ nÃ³ Ä‘ang lÃ m vÃ  dá»n sáº¡ch, nÃ³ cÃ³ thá»ƒ Ä‘á»ƒ láº¡i cÃ¡c tá»‡p bá»‹ há»ng (hoáº·c tráº¡ng thÃ¡i khÃ¡c) ráº±ng nÃ³ sáº½ khÃ´ng thá»ƒ hiá»ƒu Ä‘Æ°á»£c khi khá»Ÿi Ä‘á»™ng láº¡i. =&gt; Pháº£i dá»n dáº¹p háº¿t nhá»¯ng gÃ¬ nÃ³ Ä‘ang sá»­ dá»¥ng thÃ¬ láº§n sau khá»Ÿi Ä‘á»™ng láº¡i má»›i Ä‘Æ°á»£c =)) Ref: https://unix.stackexchange.com/questions/8916/when-should-i-not-kill-9-a-process 5. CÃ¡c cÃ¡ch thá»±c hiá»‡n song song cÃ¡c cÃ¢u lá»‡nh cmd1 ; cmd2 Thá»±c thi nhiá»u lá»‡nh Ä‘á»™c láº­p: Sá»­ dá»¥ng kÃ½ tá»± ; Ä‘á»ƒ thá»±c thi nhiá»u lá»‡nh liÃªn tiáº¿p, cÃ¡c lá»‡nh nÃ y hoáº¡t Ä‘á»™ng Ä‘á»™c láº­p vá»›i nhau.1$cp public/* perso; rm -r public cmd1 &amp;&amp; cmd2 Thá»±c thi nhiá»u lá»‡nh phá»¥ thuá»™c nhau Sá»­ dá»¥ng kÃ½ hiá»‡u &amp;&amp; Ä‘á»ƒ thá»±c thi nhiá»u lá»‡nh liÃªn tiáº¿p, cÃ¡c lá»‡nh nÃ y phá»¥ thuá»™c nhau, lá»‡nh sau chá»‰ Ä‘Æ°á»£c thá»±c hiá»‡n náº¿u lá»‡nh trÆ°á»›c khÃ´ng gáº·p lá»—i.1$cp public/* perso &amp;&amp; rm -r public cmd1 | cmd2: CÆ¡ cháº¿ Ä‘Æ°á»ng á»‘ng: CÆ¡ cháº¿ Ä‘Æ°á»ng á»‘ng giá»¯a hai tiáº¿n trÃ¬nh cho phÃ©p Ä‘á»‹nh hÆ°á»›ng láº¡i Ä‘áº§u ra cá»§a tiáº¿n trÃ¬nh thá»© nháº¥t trá»Ÿ thÃ nh Ä‘áº§u vÃ o cá»§a tiáº¿n trÃ¬nh thá»© hai CÆ¡ cháº¿ Ä‘Æ°á»ng á»‘ng Ä‘Æ°á»£c thiáº¿t láº­p báº±ng cÃ¡ch sá»­ dá»¥ng kÃ½ tá»±: | 6. Chuyá»ƒn hÆ°á»›ng cÃ¡c kÃªnh chuáº©n Má»—i tiáº¿n trÃ¬nh sá»Ÿ há»¯u: Má»™t Ä‘áº§u vÃ o chuáº©n (ngáº§m Ä‘á»‹nh lÃ  bÃ n phÃ­m) Má»™t Ä‘áº§u ra chuáº©n (ngáº§m Ä‘á»‹nh lÃ  terminal) Má»™t kÃªnh bÃ¡o lá»—i chuáº©n (ngáº§m Ä‘á»‹nh lÃ  terminal) Chuyá»ƒn hÆ°á»›ng Ä‘áº§u vÃ o chuáº©n (&lt;)1$ tee &lt; test.txt Chuyá»ƒn hÆ°á»›ng Ä‘áº§u ra chuáº©n (&gt;, &gt;&gt;)12$ ls &gt; /dev/lp$ ls &gt;&gt; test.txt Chuyá»ƒn hÆ°á»›ng kÃªnh bÃ¡o lá»—i12$ rm prog.c 2&gt; /dev/null$ gcc prog.c 2&gt;&gt; erreur.txt 7. Lá»‡nh grep : TÃ¬m kiáº¿m cÃ¡c dÃ²ngCÃº phÃ¡p chung: $grep [-options] expreg [files] TÃ¬m kiáº¿m trong file hoáº·c trong Ä‘áº§u vÃ o chuáº©n cÃ¡c dÃ²ng cÃ³ chá»©a cÃ¡c kÃ½ tá»± hoáº·c xÃ¢u thá»a mÃ£n má»™t sá»‘ Ä‘iá»u kiá»‡n nÃ o Ä‘Ã³. CÃ¡c tÃ¹y chá»n -c : chá»‰ Ä‘Æ°a ra tá»•ng sá»‘ dÃ²ng thá»a mÃ£n Ä‘iá»u kiá»‡n -I : chá»‰ Ä‘Æ°a ra tÃªn file -v : chá»‰ Ä‘Æ°a ra cÃ¡c dÃ²ng mÃ  Ä‘iá»u kiá»‡n tÃ¬m kiáº¿m khÃ´ng thá»a mÃ£n -i : khÃ´ng phÃ¢n biá»‡t chá»¯ hoa, chá»¯ thÆ°á»ng -n: chá»‰ Ä‘Æ°a ra sá»‘ thá»© tá»± cá»§a dÃ²ng -w: thá»±c hiá»‡n tÃ¬m kiáº¿m vá»›i quÃ¡ trÃ¬nh so sÃ¡nh Ä‘Æ°á»£c thá»±c hiá»‡n Ä‘á»‘i vá»›i tá»«ng tá»« cá»§a chuá»—i nháº­p vÃ o (cÃ¡c tá»« Ä‘Æ°á»£c phÃ¢n cÃ¡ch nhau báº±ng cÃ¡c kÃ½ tá»± khÃ´ng pháº£i lÃ  chá»¯ cÃ¡i, khÃ´ng pháº£i lÃ  chá»¯ sá»‘ vÃ  khÃ´ng pháº£i lÃ  dáº¥u gáº¡ch dÆ°á»›i _) Biá»ƒu thá»©c chÃ­nh quy: . Biá»ƒu diá»…n 1 kÃ½ tá»± báº¥t ká»³ * Láº·p láº¡i kÃ½ tá»± á»Ÿ vá»‹ trÃ­ trÆ°á»›c ^ báº¯t Ä‘áº§u 1 dÃ²ng $ káº¿t thÃºc 1 dÃ²ng [...] xÃ¡c Ä‘á»‹nh danh sÃ¡ch hoáº·c má»™t khoáº£ng cÃ¡c kÃ½ tá»± cáº§n tÃ¬m kiáº¿m [^..] cÃ¡c kÃ½ tá»± khÃ´ng tÃ¬m kiáº¿m. ChÃº Ã½: Ä‘á»ƒ trÃ¡nh nháº§m láº«n, nÃªn Ä‘áº·t cÃ¡c kÃ½ tá»± biá»ƒu diá»…n Ä‘iá»u kiá»‡n trong ngoáº·c kÃ©p. VÃ­ dá»¥:12345678$grep &quot;^t&quot; /etc/passwd TÃ¬m trong file /etc/passwd táº¥t cáº£ cÃ¡c dÃ²ng báº¯t Ä‘áº§u báº±ng kÃ½ tá»± â€œtâ€$grep [^t] /etc/passwd TÃ¬m táº¥t cáº£ cÃ¡c dÃ²ng khÃ´ng báº¯t Ä‘áº§u báº±ng kÃ½ tá»± â€œtâ€$grep &quot;minh&quot; /etc/passwd TÃ¬m táº¥t cáº£ cÃ¡c dÃ²ng cÃ³ chá»©a xÃ¢u &quot;minh&quot;$ls -l /etc | grep &quot;^d&quot; Hiá»ƒn thá»‹ táº¥t cáº£ cÃ¡c thÆ° má»¥c con cá»§a /etc 8. Case studyTrÆ°á»ng há»£p mÃ¡y cháº¡y quÃ¡ náº·ng dáº«n Ä‘áº¿n viá»‡c Ä‘Æ¡ mÃ¡yCÃ³ thá»ƒ xem tiáº¿n trÃ¬nh nÃ o Ä‘ang chiáº¿m nhiá»u CPU vÃ  bá»™ nhá»› nháº¥t12345678$ top PID USER PR NI VIRT RES SHR S %CPU %MEM TIME+ COMMAND 7643 minhnv 20 0 2899196 261280 136296 S 15,2 6,7 0:06.87 firefox 5328 minhnv 20 0 1557244 298152 83328 S 8,9 7,6 7:27.92 chrome 6015 minhnv 20 0 1416656 259440 75936 S 8,9 6,6 0:47.91 chrome 7693 minhnv 20 0 2707144 227308 143388 S 7,3 5,8 0:03.79 Web Content 5340 minhnv 20 0 1219988 131676 54040 S 6,6 3,4 0:29.68 chrome 1510 root 20 0 401932 89864 75344 S 6,0 2,3 1:30.73 Xorg LÃºc nÃ y cÃ³ thá»ƒ kill má»™t sá»‘ tiáº¿n tÃ¬nh náº·ng Ä‘i Ä‘á»ƒ cÃ³ thá»ƒ trá»Ÿ vá» tráº¡ng thÃ¡i bÃ¬nh thÆ°á»ng (Ä‘a sá»‘ cÃ¡c tiá»n trÃ¬nh náº·ng Ä‘á»u lÃ  do má»Ÿ cÃ¡c trÃ¬nh duyá»‡t). CÃ¡ch 1:1$ killall firefox CÃ¡ch 2:12$ ps -A | grep firefoxSau Ä‘Ã³ kill tá»«ng tiáº¿n trÃ¬nh má»™t","link":"/2019/11/22/Linux-Process-mangement/"},{"title":"[MongoDB] Update Operators in mongoDB","text":"CÃ¡c toÃ¡n tá»­ update trong mongo cÅ©ng nhÆ° cÃ¡c database khÃ¡c giÃºp báº¡n Ä‘á»‹nh nghÄ©a láº¡i báº£n ghi (or document) hoáº·c nhiá»u báº£n ghi (or documents). ChÃºng ta cÃ¹ng xem xÃ©t mongoDB cÃ³ nhá»¯ng kiá»ƒu cáº­p nháº­t dá»¯ liá»‡u nÃ o vÃ  cÃº phÃ¡p cá»§a nÃ³ ra sao nhÃ© :D 0. CÃº phÃ¡p chung123456789101112db.collection.update( &lt;query&gt;, &lt;update&gt;, { upsert: &lt;boolean&gt;, multi: &lt;boolean&gt;, writeConcern: &lt;document&gt;, collation: &lt;document&gt;, arrayFilters: [ &lt;filterdocument1&gt;, ... ], hint: &lt;document|string&gt; // Available starting in MongoDB 4.2 }) Giáº£i thÃ­ch qua vá» cÃ¡c tham sá»‘: query: Ä‘iá»u kiá»‡n lá»±a chá»n document Ä‘á»ƒ update update: CÃ¡ch thá»©c cáº­p nháº­t láº¡i document (sáº½ Ä‘á» cáº­p pháº§n dÆ°á»›i) CÃ¡c tÃ¹y chá»n trong update: upsert: máº·c Ä‘á»‹nh false. Náº¿u upsert:true, nÃ³ sáº½ thÃªm 1 doucment náº¿u khi update, khÃ´ng document nÃ o trÃ¹ng vá»›i query. CÃ³ thá»ƒ sá»­ dá»¥ng nÃ³ káº¿t há»£p vá»›i $setOnInsert Note: náº¿u query vá»›i index hoáº·c trÆ°á»ng nÃ o Ä‘Ã³ duy nháº¥t, trÃ¡nh sá»­ dá»¥ng upsert:true Ä‘á»ƒ bá»‹ láº·p báº£n ghi @@ multi: update nhiá»u document hay khÃ´ng? writeConcern: mÃ©o hiá»ƒu collation: cho phÃ©p ngÆ°á»i dÃ¹ng chá»‰ Ä‘á»‹nh ra cÃ¡c rule ngÃ´n ngá»¯ cá»¥ thá»ƒ cho viá»‡c so sÃ¡nh string, Ä‘Æ¡n giáº£n nhÆ° lÃ  rule chá»¯ hoa chá»¯ thÆ°á»ng hay trá»ng Ã¢m arrayFilters: xÃ¡c Ä‘á»‹nh pháº§n tá»­ nÃ o trong máº£ng sáº½ Ä‘Æ°á»£c update hint: xÃ¡c Ä‘á»‹nh index Ä‘Æ°á»£c sá»­ dá»¥ng há»— trá»£ query. TÃ¹y chá»n nÃ y Ä‘Æ°á»£c thÃªm tá»« phiÃªn báº£n Mongo 4.2 liÃªn quan Ä‘áº¿n Index 1. CÃ¡c loáº¡i update trong mongo1.1. Cáº­p nháº­t láº¡i cÃ¡c trÆ°á»ng cá»§a 1 documentNáº¿u báº¡n muá»‘n cáº­p nháº­t 1 vÃ i trÆ°á»ng trong Document Ä‘Ã£ tá»“n táº¡i, báº¡n hÃ£y sá»­ dá»¥ng cÃ¡c toÃ¡n tá»­ update Ä‘Æ°á»£c nháº¯c Ä‘á» cáº­p á»Ÿ pháº§n sau:12345db.collection.update( &lt;query&gt;, { $set: { status: &quot;D&quot; }, $inc: { quantity: 2 } }, ...) 1.2. Thay tháº¿ hoÃ n toÃ n documentNáº¿u báº¡n muá»‘n thay tháº¿ hoÃ n toÃ n document Ä‘Ã£ cÃ³ báº±ng 1 document má»›i tÃ­nh vá»›i cÃ¡c trÆ°á»ng má»›i, sá»­ dá»¥ng cÃº phÃ¡p chá»‰ cÃ³ field:value 12345db.collection.update( &lt;query&gt;, { item: &quot;XYZ123&quot;, stock: 10, info: { publisher: &quot;2255&quot;, pages: 150 }, tags: [ &quot;baking&quot;, &quot;cooking&quot; ] } ...) LÆ°u Ã½: - PhÃ©p thay tháº¿ nÃ y sáº½ thay tháº¿ toÃ n bá»™ cÃ¡c trÆ°á»ng cÅ© báº±ng cÃ¡c trÆ°á»ng má»›i Ä‘Æ°á»£c set vÃ o (trá»« _id) - KhÃ´ng thá»ƒ thay tháº¿ Ä‘Æ°á»£c nhiá»u document 1.3. Update vá»›i Aggregation Pipeline12345678db.collection.update( &lt;query&gt;, [ { $set: { status: &quot;Modified&quot;, comments: [ &quot;$misc1&quot;, &quot;$misc2&quot; ] } }, { $unset: [ &quot;misc1&quot;, &quot;misc2&quot; ] } ] ...) Note: The $set and $unsetused in the pipeline refers to the aggregation stages $set and $unset respectively, and not the update operators $set and $unset. 2. CÃ¡c toÃ¡n tá»­ update Reference: https://docs.mongodb.com/manual/reference/operator/update/ 2.1. CÃ¡c toÃ¡n tá»­ update vá»›i trÆ°á»ng (Field Update Operators) TÃªn MÃ´ táº£ $currentDate Set giÃ¡ trá»‹ cá»§a 1 trÆ°á»ng báº±ng ngÃ y hiá»‡n táº¡i, cÃ³ 2 tÃ¹y chá»n lÃ  kiá»ƒu ngÃ y (Date) hoáº·c Timestamp $inc TÄƒng giÃ¡ trá»‹ cá»§a 1 trÆ°á»ng vá»›i 1 giÃ¡ trá»‹ xÃ¡c Ä‘á»‹nh $min Chá»‰ cáº­p nháº­t trÆ°á»ng Ä‘Ã³ náº¿u giÃ¡ trá»‹ Ä‘Ã³ nhá» hÆ¡n giÃ¡ trá»‹ Ä‘Ã£ tá»“n táº¡i. $max TÆ°Æ¡ng tá»± $min $mul NhÃ¢n giÃ¡ trá»‹ cá»§a 1 trÆ°á»ng vá»›i 1 giÃ¡ trá»‹ $rename Äá»•i tÃªn 1 trÆ°á»ng $set Sets the value of a field in a document. $setOnInsert Set giÃ¡ trá»‹ cá»§a 1 trÆ°á»ng náº¿u káº¿t quáº£ cá»§a phÃ©p update lÃ  1 phÃ©p thÃªm document. Sáº½ khÃ´ng cÃ³ áº£nh hÆ°á»Ÿng Ä‘áº¿n cÃ¡c phÃ©p update mÃ  sá»­a Ä‘á»•i documents Ä‘Ã£ tá»“n táº¡i. $unset Removes the specified field from a document. $minVÃ­ dá»¥ document hiá»‡n táº¡i:1{ _id: 1, highScore: 800, lowScore: 200 }GiÃ¡ trá»‹ lowScore hiá»‡n táº¡i trong document Ä‘ang lÃ  200. ToÃ¡n tá»­ $mindÆ°á»›i Ä‘Ã¢y so sÃ¡nh 200 vá»›i giÃ¡ trá»‹ xÃ¡c Ä‘á»‹nh 150 vÃ  cáº­p nháº­t giÃ¡ trá»‹ lowScore lÃ  150 vÃ¬ 150 &lt; 2001db.scores.update( { _id: 1 }, { $min: { lowScore: 150 } } )VÃ  káº¿t quáº£ ta cÃ³:1{ _id: 1, highScore: 800, lowScore: 150 }ToÃ¡n tá»­ tiáº¿p theo láº¡i khÃ´ng cÃ³ áº£nh Æ°á»Ÿng gÃ¬ vÃ¬ 150 &lt; 2501db.scores.update( { _id: 1 }, { $min: { lowScore: 250 } } )Káº¿t quáº£ lÃ :1{ _id: 1, highScore: 800, lowScore: 150 }` &lt;br&gt;(khÃ´ng áº£nh hÆ°á»Ÿng :D) Note: $min cÃ³ thá»ƒ Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ so sÃ¡nh cáº£ kiá»ƒu Date $renameTa xem xÃ©t document hiá»‡n táº¡i nhÆ° sau:123456789101112131415161718{ &quot;_id&quot;: 1, &quot;alias&quot;: [ &quot;The American Cincinnatus&quot;, &quot;The American Fabius&quot; ], &quot;mobile&quot;: &quot;555-555-5555&quot;, &quot;nmae&quot;: { &quot;first&quot; : &quot;george&quot;, &quot;last&quot; : &quot;washington&quot; } },{ &quot;_id&quot;: 2, &quot;alias&quot;: [ &quot;My dearest friend&quot; ], &quot;mobile&quot;: &quot;222-222-2222&quot;, &quot;nmae&quot;: { &quot;first&quot; : &quot;abigail&quot;, &quot;last&quot; : &quot;adams&quot; }},{ &quot;_id&quot;: 3, &quot;alias&quot;: [ &quot;Amazing grace&quot; ], &quot;mobile&quot;: &quot;111-111-1111&quot;, &quot;nmae&quot;: { &quot;first&quot; : &quot;grace&quot;, &quot;last&quot; : &quot;hopper&quot; }} TrÆ°á»ng nmae Ä‘ang bá»‹ viáº¿t sai chÃ­nh táº£, chÃºng ta Ä‘á»•i lÃªn tÃªn thÃ´i1db.students.updateMany( {}, { $rename: { &quot;nmae&quot;: &quot;name&quot; } } ) Note: - NÃ³ update Ä‘Æ°á»£c cáº£ tÃªn trÆ°á»ng trong Embedded Document - Náº¿u update tÃªn 1 trÆ°á»ng khÃ´ng tá»“n táº¡i, nÃ³ sáº½ khÃ´ng lÃ m gÃ¬ cáº£ :D 2.2. CÃ¡c toÃ¡n tá»­ update vá»›i máº£ng (Array Update Operators)Update Operators TÃªn toÃ¡n tá»­ MÃ´ táº£ $ Cáº­p nháº­t pháº§n tá»­ Ä‘áº§u tiÃªn trong máº£ng trÃ¹ng vá»›i Ä‘iá»u kiá»‡n truy váº¥n $[] Cáº­p nháº­t táº¥t cáº£ cÃ¡c pháº§n tá»­ trong máº£ng trÃ¹ng vá»›i Ä‘iá»u kiá»‡n truy váº¥n $[] Cáº­p nháº­t táº¥t cáº£ cÃ¡c pháº§n tá»­ trong máº£ng, cÃ¡i mÃ  trÃ¹ng vá»›i Ä‘iá»u kiá»‡n arrayFilters (trong tÃ¹y chá»n update) vÃ  Ä‘iá»u kiá»‡n truy váº¥n $addToSet ThÃªm pháº§n tá»­ vÃ o 1 máº£ng náº¿u nÃ³ chÆ°a tá»“n táº¡i (dÃ¹ng toÃ¡n tá»­ nÃ y Ä‘á»ƒ cÃ¡c pháº§n tá»­ trong máº£ng lÃ  duy nháº¥t) $pop XÃ³a pháº§n tá»­ Ä‘áº§u tiÃªn hoáº·c cuá»‘i cÃ¹ng cá»§a 1 máº£ng $pull XÃ³a toÃ n bá»™ pháº§n tá»­ cá»§a máº£ng trÃ¹ng vá»›i Ä‘iá»u kiá»‡n xÃ¡c Ä‘á»‹nh $push ThÃªm 1 thÃ nh pháº§n vÃ o 1 máº£ng $pullAll XÃ³a táº¥t cáº£ cÃ¡c giÃ¡ trá»‹ phÃ¹ há»£p vá»›i Ä‘iá»u kiá»‡n tá»« 1 máº£ng Update Operator Modifiers TÃªn toÃ¡n tá»­ MÃ´ táº£ $each Sá»­a toÃ¡n tá»­ $push vÃ  $addToSet Ä‘á»ƒ thÃªm nhiá»u item vÃ o máº£ng update $position Chá»‰nh sá»­a toÃ¡n tá»­ $push Ä‘á»ƒ xÃ¡c Ä‘á»‹nh vá»‹ trÃ­ cÃ¡c thÃ nh pháº§n Ä‘Æ°á»£c thÃªm vÃ o máº£ng $slice Chá»‰nh sá»­a toÃ¡n tá»­ $push Ä‘á»ƒ giá»›i háº¡n kÃ­ch thÆ°á»›c Ä‘Æ°á»£c thÃªm vÃ o máº£ng $sort Chá»‰nh sá»­a toÃ¡n tá»­ $push Ä‘á»ƒ sáº¯p xáº¿p láº¡i cÃ¡c document Ä‘Æ°á»£c lÆ°u trá»¯ trong máº£ng TÃ i liá»‡u tham kháº£o https://docs.mongodb.com/manual/reference/operator/update/ https://docs.mongodb.com/manual/reference/method/db.collection.update/","link":"/2019/09/08/Mongo-Update-Operators-in-mongoDB/"},{"title":"Note chÆ¡i chÆ¡i 1106","text":"Gáº¯n bÃ³ vá»›i má»™t nÆ¡i 3 nÄƒm Ä‘Ã£ coi lÃ  â€œnhÃ â€ Ä‘Æ°á»£c chÆ°a quÃ½ vá»‹. Vá»›i háº¯n lÃ  cÃ³ Ä‘Ã³ áº¡, Ã  mÃ  ká»ƒ ra theo Ä‘uá»•i, bÃ¡m cháº·t hÆ¡n cáº£ Ä‘á»‰a lÃ  5 nÄƒm chá»© bá»™, chá»‹ HR ngÃ¡n ngáº©m :v anh phá»ng váº¥n nháºµn máº·t :v VÃ¹ â€¦ Trá»Ÿ vá» HÃ  Ná»™i nhá»¯ng ngÃ y gáº§n 100 nÄƒm trÆ°á»›c, cá»¥ thá»ƒ lÃ  5 nÄƒm, cuá»‘i xuÃ¢n 2017. Nhá»¯ng ngÃ y mÃ¡t máº», náº¯ng vÃ ng chiáº¿u xiÃªn qua tÃ¡n cÃ¢y, giÃ³ thá»•i vÃ¹ vÃ¹, trá»i xanh mÃ¢y tráº¯ng, chim ca rÃ­u rÃ­t @@. TrÆ°á»ng háº¯n tá»• chá»©c ngÃ y há»™i nghá» nghiá»‡p cho sinh viÃªn. Má»™t cáº­u nhÃ³c nÄƒm 3, Ä‘i hÃ³ng há»›t. á»ª thÃ¬ vá»›i Ã½ nghÄ© â€œtráº» trÃ¢uâ€ Ä‘i chÆ¡i cho vui, nháº­n sá»• vá»›i bÃºt, bÃ¬nh nÆ°á»›c lÃ  chÃ­nh, vÃ¬ cÃ²n lÃ¢u mÃ¬nh má»›i ra trÆ°á»ng, tháº¿ lÃ  Ä‘i Ä‘áº§y Ä‘á»§ cÃ¡c cÃ´ng ty, dáº¡o tá»« táº§ng 2 lÃªn táº§ng 4. QuÃ  cháº¥t Ä‘áº§y balo. HÆ¡n 11h rá»“i, háº¯n Ä‘ang Ä‘á»‹nh vá» thÃ¬ chá»£t Ä‘á»ƒ máº¯t tá»›i cÃ´ng ty F ná» táº§ng 2, hÃ¬nh nhÆ° háº¯n chÆ°a vÃ o. Rá»“i cÅ©ng Ä‘i ná»‘t cho Ä‘á»§ quÃ , vÃ o phá»ng váº¥n. Æ  cÆ¡ mÃ  cháº£ hiá»ƒu sao cÃ´ng ty áº¥y láº¡i cÃ³ sá»©c hÃºt kÃ¬ láº¡ nhÆ° lÃ  má»™t Ä‘á»‹nh má»‡nh, tÃ´i xin kháº³ng Ä‘á»‹nh láº¡i lÃ  Ä‘á»‹nh má»‡nh chá»© khÃ´ng há» cÃ³ má»™t báº¡n ná»¯ nÃ o Ä‘áº·c biá»‡t há»›p há»“n háº¯n, vÃ  Ä‘Ã³ lÃ  nÆ¡i duy nháº¥t háº¯n Ä‘á»ƒ láº¡i thÃ´ng tin. VÃ i ngÃ y sau cÃ³ 1 cuá»™c Ä‘iá»‡n thoáº¡i phá»ng váº¥n trÃªn Keangnam, háº¯n tá»± tin vá»‘n lÃ½ thuyáº¿t Ä‘áº§y bá»¥ng, khá»i cáº§n Äƒn, giá»¯a trÆ°a báº¯t xe bus lÃªn Ä‘Æ°á»ng. Táº¡ch láº§n 1. ChÆ°a buá»“n láº¯m. Táº¡ch cÆ¡ mÃ  háº¯n Ä‘Æ°á»£c nÃ³i chuyá»‡n vá»›i má»™t anh phá»ng váº¥n Ä‘áº§y thÃ¢n thiá»‡n, cá»Ÿi má»Ÿ vÃ  niá»m ná»Ÿ, Ä‘áº·c biá»‡t cÃ³ Ä‘iá»ƒm chung há»c chung trÆ°á»ng vÃ  tháº§y. Äoáº¡n cuá»‘i hai anh em tÃ¡n chuyá»‡n vá» Ä‘iá»ƒm chung Ä‘Ã³. Giá» nghÄ© láº¡i má»›i tháº¥y, cháº¯c do mÃ¬nh cháº£ tráº£ lá»i Ä‘Æ°á»£c gÃ¬ nÃªn anh áº¥y tÃ¬m chá»§ Ä‘á» Ä‘á»ƒ nÃ³i chuyá»‡n cho buá»•i phÃ³ng váº¥n Ä‘á»¡ nhÃ n chÃ¡n =)). Sá»± cá»Ÿi má»Ÿ, nhiá»‡t tÃ¬nh tá»« con ngÆ°á»i nÆ¡i Ä‘Ã¢y cÃ ng lÃ m háº¯n muá»‘n gáº¯n bÃ³ nÆ¡i nÃ y. DÃ¹ táº¡ch nhÆ°ng háº¯n váº«n Ä‘Æ°á»£c táº¡o cÆ¡ há»™i lÃ m thá»±c táº­p sinh tham gia cÃ¡c khoÃ¡ Ä‘Ã o táº¡o táº¡i cÃ´ng ty. HÃ¨ nÄƒm áº¥y Ä‘i thá»±c táº­p vá»›i há»«ng há»±c khÃ­ thá»ƒ Ä‘á»ƒ ra dÃ¡ng cá»§a má»™t ngÆ°á»i Ä‘i lÃ m. NhÆ°ng Ä‘á»i khÃ´ng nhÆ° mÆ¡, hÃ´m Ä‘áº§u háº¯n nghe cÃ¡i lá»‹ch trÃ¬nh Ä‘Ã o táº¡o mÃ  phÃ¡t hoáº£ng, láº¯m cÃ¡i háº¯n chÆ°a nghe tháº¥y bao giá» mÃ  há»c cÃ³ 2,3 ngÃ y hoáº·c 1 tuáº§n. Tá»‘i vá» váº¯t tay lÃªn trÃ¡n, liá»‡u mÃ¬nh cÃ³ chá»n nháº§m nghá» khÃ´ng â€¦.. NhÆ°ng cháº£ hiá»ƒu sao háº¯n váº«n cá»© Ä‘i Ä‘áº¿n cÃ´ng ty, cÃ³ thá»ƒ vÃ¬ cÃ´ng ty cÃ³ Ä‘iá»u hoÃ . QuÃ¡ trÃ¬nh thá»±c táº­p khiáº¿n háº¯n cÃ ng trá»Ÿ nÃªn thÃ­ch mÃ´i trÆ°á»ng áº¥y, má»™t mÃ´i trÆ°á»ng tráº» trung, nÄƒng Ä‘á»™ng (máº·c dÃ¹ háº¯n khÃ´ng pháº£i lÃ  ngÆ°á»i nÄƒng Ä‘á»™ng :v), Ä‘Ã o táº¡o bÃ i báº£n, thoáº£i mÃ¡i, Ä‘á»“ uá»‘ng free, team thÃ¬ trÃ n ngáº­p tiáº¿ng cÆ°á»i, cÃ³ vÃ i bá»‘ nhÃ¢y hÆ¡n cáº£ báº¡n háº¯n á»Ÿ trÆ°á»ng. VÃ  rá»“i háº¯n cÅ©ng lÃ m Ä‘Æ°á»£c má»™t chiáº¿c project Ä‘áº§u tiÃªn trong Ä‘á»i, hÃ­ há»©ng vá»›i káº¿t quáº£, mong chá» Ä‘Æ°á»£c Ä‘Ã¡nh giÃ¡ cao tá»« project Ä‘á»ƒ tiáº¿p tá»¥c gáº¯n bÃ³ nÆ¡i Ä‘Ã¢y. (Project :v: má»i ngÆ°á»i cho star Ä‘i https://github.com/minhnv2306/open-nguyen-van-minh-photo-sharing) NhÆ°ng khÃ´ng, táº¡ch láº§n 2. Thá»±c sá»± buá»“n, mang theo má»™t biá»ƒn nÆ°á»›c máº¯t vá» quÃª táº¯m, nghá»‰ hÃ¨ ná»‘t nhá»¯ng ngÃ y cuá»‘i nÄƒm 3 trong nhá»¯ng ngÃ y Ã­t á»i cÃ²n láº¡i chuáº©n bá»‹ cho nÄƒm 4. SÃ¡u thÃ¡ng trÃ´i nhanh nhÆ° má»™t con giÃ³, chÃ ng trai nÄƒm áº¥y Ä‘Ã£ á»Ÿ nhÃ  Ã´n luyá»‡n thÃªm vÃ  quyáº¿t Ä‘á»‹nh ná»™p tuyá»ƒn láº¡i cÃ´ng ty Ä‘Ã³. Phá»ng váº¥n láº§n 3. Láº§n nÃ y khÃ´ng lÃªn Keangnam ná»¯a, háº¯n Ä‘Æ°á»£c chuyá»ƒn Ä‘á»‹a Ä‘iá»ƒm vá» Tráº§n KhÃ¡t ChÃ¢n. Ã€ ha, háº¯n cÅ©ng nghÄ© thá»±c táº­p chá»— nÃ y khÃ¡ tiá»‡n, cáº¡nh trÆ°á»ng háº¯n há»c. CÅ©ng nhÆ° cÃ¡c láº§n phá»ng váº¥n trÆ°á»›c, háº¯n há»“i há»™p láº¯m, Ä‘áº¿n sá»›m, chuáº©n bá»‹ kÄ© cÃ ng. Táº¡ch thÃªm láº§n ná»¯a. Wtf, chÃ¡n náº£n thá»±c sá»±, háº¯n tá»± há»i báº£n thÃ¢n láº¡i kÃ©m cá»i váº­y sao. Háº¯n buá»“n bÃ£ Ä‘Ãªm quÃªn Äƒn, ngÃ y quÃªn ngá»§. May cÃ³ cÃ¡i Ä‘á»“ Ã¡n khoai kÃ©o láº¡i, háº¯n sá»£ hÃ£i hÆ¡n, lao Ä‘áº§u vÃ o tÃ¬m hiá»ƒu mÃ  quÃªn máº¥t ná»—i tháº¥t vá»ng vá» báº£n thÃ¢n phá»ng váº¥n tá»›i 3 láº§n váº«n táº¡ch â€¦ NhÆ°ng cÅ©ng cÃ³ nhá»¯ng Ä‘Ãªm, háº¯n thao thá»©c vÃ  tráº±n trá»c, khÃ´ng pháº£i vÃ¬ Ä‘Ã³i. LÃºc nÃ y thÃ¬ khÃ´ng cÃ²n suy nghÄ© tráº» trÃ¢u Ä‘i phá»ng váº¥n cho vui hay láº¥y kinh nghiá»‡m ná»¯a rá»“i, háº¿t tuá»•i Äƒn chÆ¡i, háº¯n nghÄ© mÃ¬nh cáº§n cÃ´ng viá»‡c, háº¯n sá»£ cáº£nh mÃ n trá»i chiáº¿u Ä‘áº¥t cáº¡p Ä‘áº¥t thay cÆ¡m. Háº¯n láº¡i Ã´n táº­p láº¡i, bÃ i báº£n hÆ¡n vÃ  cá»¥ thá»ƒ hÆ¡n. Ãp lá»±c cÃ´ng viá»‡c tá»« Ä‘á»™ tuá»•i chÃªnh vÃªnh 23 sao mÃ  ghÃª Ä‘áº¿n tháº¿ =))))))) (ChÃº thÃ­ch: Ä‘oáº¡n trÃªn lÃ  hÆ° cáº¥u, thá»±c ra Ä‘Ãªm khÃ´ng ngá»§ do ngÃ y ngá»§ nhiá»u thÃ´i, luáº­t nhÃ¢n quáº£) Thá»i gian tháº¥m thoáº¯t thoi Ä‘Æ°a, 6 thÃ¡ng ná»¯a láº¡i qua, Ä‘á»“ Ã¡n cá»§a háº¯n cÅ©ng hÃ²m hÃ²m chá» lá»‹ch báº£o vá»‡ â€¦. Láº§n 4 phá»ng váº¥n, mang theo sá»± quyáº¿t tÃ¢m cao hÆ¡n cáº£ nÃºi, khÃ´ng Ä‘Æ°á»£c thÃ¬ vá» quÃª chÄƒn bÃ², trÃ¡nh pháº£i cáº¡p Ä‘áº¥t. Äáº­u láº¡i chÃ­nh Ã´ng phá»ng váº¥n háº¯n 6 thÃ¡ng trÆ°á»›c:- Æ  chÃº nhÃ¬n quen tháº¿ @@- Anh em mÃ¬nh má»›i gáº·p nhau 6 thÃ¡ng trÆ°á»›c chÃ­nh táº¡i phÃ²ng nÃ y anh áº¡. NgÆ°á»i Ä‘áº§u tiÃªn Ä‘Æ°a vÃ o Ä‘á»i. Sau Ä‘Ã³ lÃ  nhá»¯ng chuá»—i ngÃ y Ä‘á»¡ nÆ°á»›c máº¯t hÆ¡n cá»§a háº¯n. Háº¯n phá»ng váº¥n lÃªn vá»‹ trÃ­ má»›i cá»§a cÃ´ng ty, láº¡i lÃ  anh phá»ng váº¥n háº¯n láº§n 1, anh phá»ng váº¥n láº¡i báº£o chÃº nhÃ¬n quen quenâ€¦. Thá»i gian láº¡i cá»© trÃ´i, Ä‘Ã£ gáº§n 3 nÄƒm háº¯n lÃ m viá»‡c táº¡i Ä‘Ã¢y, lÃºc vui cÃ³, lÃºc buá»“n cÅ©ng cÃ³, lÃºc gáº·p bug chá»­i thá» trÆ°á»›c khÃ´ng giá» cÃ³, lÃºc háº¡nh phÃºc 5 nÄƒm trÆ°á»›c khÃ´ng cÃ³, 3 nÄƒm gáº§n Ä‘Ã¢y cÃ³, ghÃ©t Ã´ng phá»ng váº¥n á»Ÿ Tráº§n KhÃ¡t ChÃ¢n trÆ°á»›c cÃ³ giá» khÃ´ng cÃ³ =))), Sun Ä‘Ã£ lÃ m háº¯n thay Ä‘á»•i ráº¥t nhiá»u. Sun* Ä‘Ã£ biáº¿n tá»« 1 cáº­u bÃ© hiá»n lÃ nh, ngÃ¢y thÆ¡ ngÃ y ná» thÃ nh 1 ngÆ°á»i ngÃ¢y thÆ¡ biáº¿t code. Cáº£m Æ¡n Sun*, vÃ  nhá»¯ng con ngÆ°á»i nÆ¡i Ä‘Ã¢y vÃ¬ nhá»¯ng tráº£i nghiá»‡m, vÃ¬ kiáº¿n thá»©c, vÃ¬ vÄƒn hoÃ¡, má»™t â€œgia Ä‘Ã¬nhâ€ tÃ³m láº¡i lÃ  vÃ¬ táº¥t cáº£. Ming","link":"/2021/06/11/Note-choi-choi-1106/"},{"title":"PHPCS and PHP-CS-Fixer","text":"Náº¿u báº¡n muá»‘n gáº·p cÃ¡c váº¥n Ä‘á» vá»›i code convention vÃ  loay hoay tÃ¬m má»™t cÃ´ng cá»¥ nÃ o Ä‘Ã³ hiá»‡u quáº£ giÃºp báº¡n tá»± Ä‘á»™ng kiá»ƒm tra, auto fix cÃ¡c lá»—i Ä‘Ã³, thÃ¬ báº¡n hÃ£y â€¦â€¦ lÃªn Google Ä‘á»ƒ tÃ¬m kiáº¿m giáº£i phÃ¡p. BÃ i viáº¿t sau cÅ©ng lÃ  má»™t gá»£i Ã½ =)) PHPCS PHP_CodeSnifferKhÃ´ng biáº¿t giá»›i thiá»‡u tiáº¿ng Viá»‡t kiá»ƒu gÃ¬ ná»¯a, thÃ´i thÃ¬ láº¥y nguyÃªn máº«u tiáº¿ng TÃ¢y váº­y: PHP_CodeSniffer is a set of two PHP scripts; the main phpcs script that tokenizes PHP, JavaScript and CSS files to detect violations of a defined coding standard, and a second phpcbf script to automatically correct coding standard violations. PHP_CodeSniffer is an essential development tool that ensures your code remains clean and consistent. @anyonegithub.com/squizlabs/PHP_CodeSniffer CÃ i Ä‘áº·tCÃ³ ráº¥t nhiá»u cÃ¡ch cÃ i Ä‘áº·t PHPCS, báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng 2 cÃ¡ch chÃ­nh: Download trá»±c tiáº¿p file Ä‘á»ƒ cháº¡y1234567891011# Download using curlcurl -OL https://squizlabs.github.io/PHP_CodeSniffer/phpcs.pharcurl -OL https://squizlabs.github.io/PHP_CodeSniffer/phpcbf.phar# Or download using wgetwget https://squizlabs.github.io/PHP_CodeSniffer/phpcs.pharwget https://squizlabs.github.io/PHP_CodeSniffer/phpcbf.phar# Then test the downloaded PHARsphp phpcs.phar -hphp phpcbf.phar -h CÃ i Ä‘áº·t qua Composer, báº¡n cÃ³ thá»ƒ cÃ i dÆ°á»›i dáº¡ng global (system-wide)1composer global require &quot;squizlabs/php_codesniffer=*&quot; Sau Ä‘Ã³ hÃ£y cháº¯c cháº¯n ráº±ng thÆ° má»¥c bin cá»§a composer Ä‘Ã£ trong PATH cá»§a báº¡n. GiÃ¡ trá»‹ máº·c Ä‘á»‹nh cá»§a thÆ° má»¥c nÃ y lÃ  ~/.composer/vendor/bin/, nhÆ°ng báº¡n cÃ³ thá»ƒ check giÃ¡ trá»‹ báº¡n cáº§n sá»­ dá»¥ng báº±ng lá»‡nh:1composer global config bin-dir --absolute Äá»‘i vá»›i bash thÃ¬ file Ä‘Ã³ lÃ  .bashrc á»Ÿ thÆ° má»¥c home tá»« lÃ  ~/.bashrc, vá»›i zsh lÃ  file ~/.zshrc. MÃ¬nh dÃ¹ng zsh nÃªn sáº½ thÃªm vÃ o file .zshrc1vi .zshrcThÃªm dÃ²ng nÃ y vÃ o nha:1export PATH=~/.composer/vendor/bin/:$PATHSau Ä‘Ã³ kiá»ƒm tra láº¡i báº±ng echo $PATH ra xem Ä‘Ã£ cÃ³ chÆ°a:1.../home/nguyen.van.minhb/.composer/vendor/bin/:.... Sá»­ dá»¥ngÄá»ƒ sá»­ dá»¥ng, khÃ¡ Ä‘Æ¡n giáº£n, sá»­ dá»¥ng lá»‡nh phpcs káº¿t há»£p file, thÆ° má»¥c báº¡n muá»‘n kiá»ƒm tra:12345678# Check cÃº phÃ¡p vá»›i file$ phpcs /path/to/code/myfile.php# Check cÃº phÃ¡p vá»›i thÆ° má»¥c$ phpcs /path/to/code-directory# Check cÃº phÃ¡p vá»›i cÃ¡c tÃ¹y chá»n config$ phpcs --standard=PSR2 /path/to/code-directory ConfigBáº¡n hoÃ n toÃ n cáº¥u hÃ¬nh cÃ¡c chuáº©n kiá»ƒm tra code mÃ  báº¡n muá»‘n, nhÆ° sá»­ dá»¥ng tab hay space, check cÃ¡c thÆ° muc nÃ o, ignore nhá»¯ng file nÃ o, chuáº©n nÃ o. Sau khi setting PHPCS, máº·c Ä‘á»‹nh nÃ³ sáº½ sá»­ dá»¥ng Ä‘iá»u kiá»‡n PEAR, chuáº©n nÃ y Ä‘Ã£ cÅ©, báº¡n cÃ³ thá»ƒ thay Ä‘á»•i Ä‘iá»u nÃ y báº±ng cÃ¡ch sá»­ dá»¥ng cÃ¡c standard cá»§a cÃ´ng ty Framgia hoáº·c PRS21234phpcs --config-set default_standard PSR2 // Kiá»ƒm tra viá»‡c setting configphpcs --config-showCÃ¡ch thay Ä‘á»•i config nhÆ° váº­y KHÃ”NG KHUYáº¾N KHÃCH, thay vÃ o Ä‘Ã³ báº¡n nÃªn setup phpcs cho tá»«ng project cá»§a báº¡n, sá»­ dá»¥ng cÃ¡c file .phpcs.xml, phpcs.xml, .phpcs.xml.dist, phpcs.xml.dist. CÃ i Ä‘áº·t Framgia PHP StandardsCÃ¡c tiÃªu chuáº©n check code cá»§a PHPCS Ä‘Æ°á»£c Ä‘áº·t trong thÆ° má»¥c ~/.composer/vendor/squizlabs/php_codesniffer/src/Standards. VÃ¬ váº­y náº¿u báº¡n muá»‘n thÃªm 1 tiÃªu chuáº©n check code, báº¡n chá»‰ cáº§n clone nÃ³ vÃ o thÆ° má»¥c nÃ y:1234567// Version 2cd ~/.composer/vendor/squizlabs/php_codesniffer/CodeSniffer/Standardsgit clone -b 0.2 git@github.com:wataridori/framgia-php-codesniffer.git Framgia// Version 3cd ~/.composer/vendor/squizlabs/php_codesniffer/src/Standardsgit clone git@github.com:wataridori/framgia-php-codesniffer.git FramgiaSá»­ dá»¥ng:1phpcs --standard=Framgia /path/to/your/codeKhÃ¡ Ä‘Æ¡n giáº£n nhá»‰ :D TÃ­ch há»£p PHPCS vÃ o Sublime text 3CÃ´ng viá»‡c tiáº¿p theo lÃ  báº¡n nÃªn tÃ­ch há»£p viá»‡c check cÃº phÃ¡p nÃ y trá»±c tiáº¿p vÃ o cÃ¡c editor Ä‘á»ƒ tá»± Ä‘á»™ng phÃ¡t hiá»‡n lá»—i, thay vÃ¬ cá»™t 1 máº¡ch vÃ  láº¡i cháº¡y lá»‡nh phpcs =)) Báº¡n cáº§n cÃ i 2 package trong Subime Text Ä‘á»ƒ Ä‘Æ°á»£c há»— trá»£ viá»‡c nÃ y Sublime Linter (package cha) SublimeLinter-phpcs (package con, cÃ¡c pháº§n nhá» cá»§a Linter) Khá»Ÿi Ä‘á»™ng láº¡i Sublime Text luÃ´n Ä‘á»ƒ táº­n hÆ°á»Ÿng chá»©c nÄƒng siÃªu má»›i nÃ y nhÃ© :v (khá»Ÿi Ä‘á»™ng báº±ng lá»‡nh má»›i Ä‘Æ°á»£c Ã½ @@)12cd project_pathsubl . TÃ­ch há»£p PHPCS vÃ o PHPStormÄá»ƒ tÃ­ch há»£p check phpcs vÃ  cÃ¡c tiÃªu chuáº©n vÃ o PHPStorm, báº¡n cÃ i Ä‘áº·t theo Ä‘Æ°á»ng dáº«n. FIle =&gt; Setting =&gt; Editor =&gt; Inspections =&gt; PHP =&gt; PHP Code sniffer validation (CÃ³ thá»ƒ á»Ÿ trong Quality tools) Sau Ä‘Ã³ báº¡n lá»±a chá»n cÃ¡c cÃ i Ä‘áº·t, hiá»ƒn thá»‹ lá»—i á»Ÿ má»©c warning hay error vÃ  chá»n Coding standard PHPCS FixerÄÃ¢y lÃ  má»™t cÃ´ng cá»¥ giÃºp báº¡n fix code theo cÃ¡c tiÃªu chuáº©n báº¡n muá»‘n CÃ i Ä‘áº·tLocallySiÃªu Ä‘Æ¡n giáº£n, táº£i cÃ¡i file php-cs-fixer.phar vá» rá»“i cháº¡y luÃ´n :D Globally (manual)Äáº§u tiÃªn báº¡n táº£i nÃ³ vá»1$ wget https://cs.symfony.com/download/php-cs-fixer-v2.phar -O php-cs-fixerVáº«n lÃ  táº£i nhÆ°ng xÃ¡c Ä‘á»‹nh thÃªm version1$ wget https://github.com/FriendsOfPHP/PHP-CS-Fixer/releases/download/v2.16.1/php-cs-fixer.phar -O php-cs-fixerCÅ©ng lÃ  táº£i nhÆ°ng dÃ¹ng lá»‡nh khÃ¡c12$ curl -L https://cs.symfony.com/download/php-cs-fixer-v2.phar -o php-cs-fixerThen:12$ sudo chmod a+x php-cs-fixer$ sudo mv php-cs-fixer /usr/local/bin/php-cs-fixerEnd, xong rá»“i Ä‘Ã³, test thÃ´i php-cs-fixer --version Globally (Composer)Äáº§u tiÃªn báº¡n cÅ©ng táº£i nÃ³ dÆ°á»›i dáº¡ng global1$ composer global require friendsofphp/php-cs-fixerThÃªm vÃ o PATH nhÆ° phpcs1$ export PATH=&quot;$PATH:$HOME/.composer/vendor/bin&quot;Xong! Sá»­ dá»¥ngKhÃ´ng khÃ¡c phpcs lÃ  máº¥y :v123$ php php-cs-fixer.phar fix /path/to/dir$ php php-cs-fixer.phar fix /path/to/file$ php php-cs-fixer.phar fix /path/to/project --rules=@PSR2 TÃ­ch há»£p vÃ o Sublime Text 3 Package: PHP CS Fixer Sá»­ dá»¥ngSau khi Ä‘Ã£ cÃ i thÃ nh cÃ´ng rá»“i, má»—i láº§n file báº¡n bá»‹ lá»—i, báº¡n sá»­ dá»¥ng nhÆ° sau:Ctrl + Shift + P vÃ  TÃ¬m kiáº¿m PHP CS Fixer. Tháº­m chÃ­ báº¡n cÃ³ thá»ƒ nhÃ¬n tháº¥y tá»• há»£p phÃ­m táº¯t cá»§a nÃ³ khÃ´ng, áº¥n luÃ´n náº¿u báº¡n Ä‘ang á»Ÿ file lá»—i Ä‘Ã³ cho ngáº§u nhÆ° quáº£ báº§u :D (trÆ°á»ng há»£p nÃ y lÃ  Ctrl + Alt + F) OK, cool ngáº§u nÃ o TÃ­ch há»£p cho PHP StormCÃ¡i nÃ y mÃ¬nh chÆ°a thá»­, báº¡n cÃ³ thá»ƒ tham kháº£o táº¡i link sauhttps://www.jetbrains.com/help/phpstorm/using-php-cs-fixer.html Tá»•ng káº¿t LÆ°u Ã½: Pháº§n tÃ­ch há»£p phpcs vÃ  php-cs-fixer chá»‰ cÃ³ thá»ƒ cÃ i vÃ  hoáº¡t Ä‘á»™ng trÃªn cÃ¡c editor náº¿u nhÆ° mÃ¡y cá»§a báº¡n Ä‘Ã£ cÃ i phpcs, php-cs-fixer á»Ÿ dáº¡ng global (vÃ¬ báº£n cháº¥t tÃ­ch há»£p vÃ o editor cÅ©ng lÃ  cháº¡y cÃ¡c lá»‡nh thá»§ cÃ´ng thÃ´i) Trong quÃ¡ trÃ¬nh cÃ i, náº¿u cÃ³ lá»—i, hÃ£y Ä‘á»c console cá»§a Sublime text 3 Ä‘á»ƒ fix nhÃ© PHPCS vÃ  PHP-CS-Fixer cho ta biáº¿t ráº±ng cÃ¡c ngÃ´n ngá»¯ khÃ¡c hoÃ n toÃ n cÅ©ng cÃ³ cÃ¡c coding standards vÃ  cÅ©ng cÃ³ auto fix tÆ°Æ¡ng tá»±, khi code vá»›i ngÃ´n ngá»¯ nÃ o, báº¡n tÃ¬m kiáº¿m thá»­ xem nhÃ© :D (JS cÃ³ Prettier thÃ¬ pháº£i :3)","link":"/2020/04/06/PHPCS-and-PHPC-Fixer/"},{"title":"PHPCS configuration","text":"File PHPCS config máº«uThÆ° má»¥c config phpcs náº±m á»Ÿ thÆ° má»¥c root dá»± Ã¡n, tÃªn lÃ  .phpcs.xml, phpcs.xml, .phpcs.xml.dist, phpcs.xml.dist Note: If multiple default configuration files are found, PHP_CodeSniffer will select one using the following order: .phpcs.xml, phpcs.xml, .phpcs.xml.dist, phpcs.xml.dist File máº«u: https://raw.githubusercontent.com/squizlabs/PHP_CodeSniffer/master/phpcs.xml.dist 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556&lt;?xml version=&quot;1.0&quot;?&gt;&lt;ruleset name=&quot;Framgia Extended&quot;&gt; &lt;!-- BÆ°á»›c 1: MÃ´ táº£ convention --&gt; &lt;description&gt;Framgia Extended Coding Convention&lt;/description&gt; &lt;!-- BÆ°á»›c 2: Set cÃ¡c thÃ´ng tin thÃªm cho convention thÃ´i --&gt; &lt;arg name=&quot;tab-width&quot; value=&quot;4&quot;/&gt; &lt;arg name=&quot;encoding&quot; value=&quot;UTF-8&quot;/&gt; &lt;config name=&quot;ignore_warnings_on_exit&quot; value=&quot;1&quot;/&gt; &lt;!-- BÆ°á»›c 3: &lt;file&gt; Danh sÃ¡ch cÃ¡c file check convention Ex: Check both app/ and config/ and resources/lang --&gt; &lt;file&gt;./app&lt;/file&gt; &lt;file&gt;./config&lt;/file&gt; &lt;file&gt;./resources/lang&lt;/file&gt; &lt;!-- BÆ°á»›c 4: (tÃ¹y chá»n, cÃ³ thá»ƒ cÃ³ hoáº·c khÃ´ng) &lt;exclude-pattern&gt;: Loáº¡i bá» cÃ¡c Ä‘á»‹nh dáº¡ng file khÃ´ng cháº¡y PHPCS --&gt; &lt;exclude-pattern&gt;*/src/Standards/*/Tests/*\\.(inc|css|js)$&lt;/exclude-pattern&gt; &lt;exclude-pattern&gt;*/tests/Core/*/*Test\\.(inc|css|js)$&lt;/exclude-pattern&gt; &lt;!-- BÆ°á»›c 5: DÃ¹ng rule nÃ o Ä‘á»ƒ kiá»ƒm tra convention, nÃ³ sáº½ cÃ³ cÃ¡c chuáº©n PEAR, PSR1, PSR2, Framgia --&gt; &lt;rule ref=&quot;Framgia&quot;/&gt; &lt;!-- BÆ°á»›c 6: TÃ¹y chá»n, cÃ³ thá»ƒ cÃ³ hoáº·c khÃ´ng? Äoáº¡n sau nÃ y sáº½ lÃ  custom láº¡i cÃ¡c biáº¿n nhÃ©. VÃ­ dá»¥ tag lÃ  4 space, mÃ¬nh khÃ´ng thÃ­ch vÃ  muá»‘n chuyá»ƒn vá» 2 cháº³ng háº¡n Chi tiáº¿t cÃ¡c tham sá»‘ trong property https://github.com/squizlabs/PHP_CodeSniffer/wiki/Customisable-Sniff-Properties#psr12operatorsoperatorspacing --&gt; &lt;rule ref=&quot;Squiz.WhiteSpace.SuperfluousWhitespace&quot;&gt; &lt;properties&gt; &lt;!-- Force checking whitespace on blank lines --&gt; &lt;property name=&quot;ignoreBlankLines&quot; value=&quot;false&quot; /&gt; &lt;/properties&gt; &lt;/rule&gt; &lt;!-- Check space between operator +-*/ --&gt; &lt;rule ref=&quot;Squiz.WhiteSpace.OperatorSpacing&quot;&gt; &lt;properties&gt; &lt;property name=&quot;ignoreNewlines&quot; value=&quot;true&quot; /&gt; &lt;/properties&gt; &lt;/rule&gt; &lt;!-- Line between class method --&gt; &lt;!-- Äoáº¡n code sau cÃ³ Ã½ nghÄ©a lÃ : vá»›i rule FunctionSpacing, thÃ¬ `space` lÃ  1, khÃ´ng cÃ³ `space` nÃ o sau vÃ  trÆ°á»›c hÃ m (giÃ¡ trá»‹ máº·c Ä‘á»‹nh lÃ  bao nhiÃªu mÃ©o biáº¿t) --&gt; &lt;rule ref=&quot;Squiz.WhiteSpace.FunctionSpacing&quot;&gt; &lt;properties&gt; &lt;property name=&quot;spacing&quot; value=&quot;1&quot; /&gt; &lt;property name=&quot;spacingAfterLast&quot; value=&quot;0&quot; /&gt; &lt;property name=&quot;spacingBeforeFirst&quot; value=&quot;0&quot; /&gt; &lt;/properties&gt; &lt;/rule&gt; &lt;!-- Space after type cast, e.g. (string) $response --&gt; &lt;rule ref=&quot;Generic.Formatting.SpaceAfterCast&quot; /&gt;&lt;/ruleset&gt; HÃ£y hiá»ƒu property lÃ  thay Ä‘á»•i cÃ¡c biáº¿n máº·c Ä‘á»‹nh trong rule Ä‘Ã³, náº¿u báº¡n muá»‘n chá»‰nh sá»­a. VÃ­ dá»¥ trÆ°á»ng há»£p gáº§n cuá»‘i, spacing máº·c Ä‘á»‹nh cÃ³ thá»ƒ Ä‘ang lÃ  2, mÃ¬nh custom láº¡i 1 :D NgoÃ i ra trong tá»«ng rule báº¡n cÅ©ng cÃ³ thá»ƒ tuá»³ chá»‰nh check nhá»¯ng file nÃ o123&lt;rule ref=&quot;Generic.PHP.CharacterBeforePHPOpeningTag&quot;&gt; &lt;exclude-pattern&gt;*.phtml&lt;/exclude-pattern&gt;&lt;/rule&gt; Hoáº·c cÃ³ thá»ƒ comment disable má»™t fule trong chÃ­nh file PHP1234567&lt;?php/** * File description * * @tags * @phpcs:disable Standard.Cat.SniffName */ Hoáº·c comment theo hÃ m1234// phpcs:disable Generic.Metrics.CyclomaticComplexityprotected function a(){}Ref: https://github.com/squizlabs/PHP_CodeSniffer/issues/1179#issuecomment-446988725 Docs https://github.com/squizlabs/PHP_CodeSniffer/wiki/Customisable-Sniff-Properties (Ä‘á»c chá»— Pages (13) áº¥y, cháº¯c cÃ³ nhiá»u thá»© báº¡n cáº§n). NgoÃ i ra nÃ³ cÃ²n cÃ³ hÆ°á»›ng dáº«n kiá»ƒm tra PHPCS trÆ°á»›c má»—i láº§n commit vá»›i Git (PreCommit Githooks). HÃ£y xem xÃ©t náº¿u dá»± Ã¡n cá»§a báº¡n cáº§n nhÃ©:https://medium.com/@setkyarwalar/setting-up-phpcs-on-laravel-908bccb82db","link":"/2020/01/10/PHPCS-configuration/"},{"title":"[PHP Excel] PHP - Má»™t vÃ i notes khi lÃ m viá»‡c vá»›i excel,csv file","text":"Tá»•ng há»£p láº¡i má»™t sá»‘ libraries vÃ  kinh nghiá»‡m khi lÃ m viá»‡c vá»›i excel, csv file nÃ o! 1. Some libraries1.1. PhpSpreadsheet Link github: https://github.com/PHPOffice/PhpSpreadsheet PhpSpreadsheet is a library written in pure PHP and providing a set of classes that allow you to read from and to write to different spreadsheet file formats, like Excel and LibreOffice Calc. Library nÃ y há»— trá»£ file Ä‘a dáº¡ng Cung cáº¥p kháº£ nÄƒng load file máº«u, Ä‘iá»n dá»¯ liá»‡u báº±ng cÃ¡ch fill dá»¯ liá»‡u vÃ o cÃ¡c cell khÃ¡ Ä‘Æ¡n giáº£n 1.2. Maatwebsite/excel Link github: https://github.com/Maatwebsite/Laravel-Excel Package chuyÃªn vá» xá»­ lÃ½ file excel vÃ  CSV Há»— trá»£ import, export dÆ°á»›i dá»¯ liá»‡u collection, array, blade view (hÃ£y nhá»› blade view lÃ  dÆ°á»›i dáº¡ng báº£ng nhÃ©) ChÆ°a biáº¿t cÃ¡c export file tá»« file template (cháº¯c cÃ³ Ä‘Ã³) Äá»‹nh dáº¡ng cÃ¡c cá»™t, hÃ ng theo Ã½ vÃ  cÃ³ thá»ƒ má»Ÿ rá»™ng cÃ¡c phÆ°Æ¡ng thá»©c dÆ°á»›i dáº¡ng marco (khÃ´ng pháº£i script marco trong file excel nhÃ© mÃ  lÃ  kháº£ nÄƒng má»Ÿ rá»™ng phÆ°Æ¡ng thá»©c): https://docs.laravel-excel.com/3.1/exports/extending.html 2. Download stream file CSV, Excel Náº¿u báº¡n lÃ m viá»‡c vÃ  cáº§n export file CSV vá»›i ráº¥t nhiá»u dá»¯ liá»‡u (cÃ³ thá»ƒ lá»›n hÆ¡n 100k báº£n ghi). HÃ£y xem xÃ©t cÃ¡ch táº¡o stream Ä‘á»ƒ download file (khÃ´ng cáº§n package nÃ o nhÃ© :D)1234567891011121314151617181920212223242526272829303132333435&lt;?php use Symfony\\Component\\HttpFoundation\\StreamedResponse; Route::get('export', function(){ $response = new StreamedResponse(function(){ // Open output stream $handle = fopen('php://output', 'w'); // Add CSV headers fputcsv($handle, [ 'id', 'name', 'email' ]); // Get all users foreach (User::all() as $user) { // Add a new row with data fputcsv($handle, [ $user-&gt;id, $user-&gt;name, $user-&gt;email ]); } // Close the output stream fclose($handle); }, 200, [ 'Content-Type' =&gt; 'text/csv', 'Content-Disposition' =&gt; 'attachment; filename=&quot;export.csv&quot;', ]); return $response; });?&gt; Nguá»“n: https://medium.com/@barryvdh/streaming-large-csv-files-with-laravel-chunked-queries-4158e484a5a2 Note: CÃ³ thá»ƒ káº¿t há»£p vá»›i chunk Ä‘á»ƒ lÃ m viá»‡c hiá»‡u quáº£ hÆ¡n :D Báº¡n cÃ³ thá»ƒ tham kháº£o package sau Ä‘á»ƒ lÃ m viá»‡c vá»›i stream nÃ y vá»›i dáº¡ng excel filehttps://github.com/box/spout 3. Download file dÆ°á»›i dáº¡ng AJAXÄÃ´i khi Ä‘á»ƒ lÃ m cho á»©ng dá»¥ng trá»Ÿ bÃªn tráº£i nghiá»‡m tá»‘t hÆ¡n, sáº½ hiá»‡n loading khi download file. LÃºc Ä‘Ã³ báº¡n cáº§n sá»­ dá»¥ng AJAX Ä‘á»ƒ thá»±c hiá»‡n download file. Ã tÆ°á»Ÿng sáº½ lÃ  nhÆ° sau: PHP sáº½ váº«n tráº£ vá» dá»¯ liá»‡u file download dÆ°á»›i dáº¡ng stream nhÆ° trÃªn (váº«n set header lÃ  file csv nhÆ° pháº§n 2) BÃªn Javascript gá»i AJAX vÃ  sáº½ nháº­n Ä‘Æ°á»£c file nÃ y dÆ°á»›i dáº¡ng nhá»‹ phÃ¢n. Sau Ä‘Ã³ nÃ³ táº¡o má»™t Ä‘á»‘i tÆ°á»£ng vá»›i tÃªn lÃ  Blob, táº¡o tháº» a Ä‘á»ƒ click download file vÃ  sau Ä‘Ã³ xÃ³a nÃ³ Ä‘i123456789101112131415161718192021222324252627282930313233343536373839404142434445464748&lt;!doctype html&gt;&lt;html&gt;&lt;head&gt; &lt;meta charset=&quot;utf-8&quot;&gt; &lt;title&gt;Download POST Request&lt;/title&gt;&lt;/head&gt;&lt;body&gt;Enter a text and click the button: &lt;input type=&quot;text&quot; id=&quot;content&quot; value=&quot;Text for the generated pdf&quot;&gt;&lt;button id=&quot;download&quot;&gt;Send AJAX Request and download file&lt;/button&gt;&lt;script&gt; document.getElementById('download').addEventListener('click', function () { var content = document.getElementById('content').value; var request = new XMLHttpRequest(); request.open('POST', '../server/', true); request.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded; charset=UTF-8'); request.responseType = 'blob'; request.onload = function() { // Only handle status code 200 if(request.status === 200) { // Try to find out the filename from the content disposition `filename` value var disposition = request.getResponseHeader('content-disposition'); var matches = /&quot;([^&quot;]*)&quot;/.exec(disposition); var filename = (matches != null &amp;&amp; matches[1] ? matches[1] : 'file.pdf'); // The actual download var blob = new Blob([request.response], { type: 'application/pdf' }); var link = document.createElement('a'); link.href = window.URL.createObjectURL(blob); link.download = filename; document.body.appendChild(link); link.click(); document.body.removeChild(link); } // some error handling should be done here... }; request.send('content=' + content); });&lt;/script&gt;&lt;/body&gt;&lt;/html&gt; Trong lÃºc gá»i AJAX Ä‘Ã³ cÃ³ thá»ƒ thÃªm cÃ¡c áº£nh gif loading cho á»©ng dá»¥ng cá»§a báº¡n tá»‘t hÆ¡n, vÃ  khi download xong, táº¯t nÃ³ Ä‘i. Tháº­t tuyá»‡t vá»i pháº£i khÃ´ng nÃ o :D Nguá»“n: https://nehalist.io/downloading-files-from-post-requests/ 4. Macro trong file .xlsm Náº¿u file excel cá»§a báº¡n cÃ³ kÃ¨m macro, hÃ£y load nÃ³ vÃ  lÆ°u nÃ³ dÆ°á»›i dáº¡ng .xlsm Marco gÃ¡n cho 1 áº£nh thÃ¬ sau khi export sáº½ khÃ´ng Ä‘Æ°á»£c tá»± Ä‘á»™ng gÃ¡n (nguyÃªn nhÃ¢n chÆ°a rÃµ). Do Ä‘Ã³ khÃ´ng nÃªn Ä‘á»ƒ macro gÃ¡n cho 1 áº£nh, thay vÃ o Ä‘Ã³ hÃ£y Ä‘á»ƒ áº£nh Ä‘Ã³ lÃ  1 cÃ¡i button thÃ¬ sáº½ hoáº¡t Ä‘á»™ng @@","link":"/2019/12/29/PHP-Excel-PHP-Mot-vai-notes-khi-lam-viec-voi-excel-csv-file/"},{"title":"Má»™t vÃ i cÃ¢u lá»‡nh há»¯u Ã­ch khi sá»­ dá»¥ng Vim","text":"Äá»‘i vá»›i nhá»¯ng ngÆ°á»i má»›i dÃ¹ng Ubuntu, viá»‡c lá»±a chá»n trÃ¬nh chá»‰nh sá»­a vÄƒn báº£n, ngÆ°á»i ta thÆ°á»ng nhá»› tá»›i gedit, sublime text, tÃ¹ tÃ¹ tÃ­ thÃ¬ lÃ  nano. Má»i ngÆ°á»i thÆ°á»ng khÃ´ng thÃ­ch dÃ¹ng vim vÃ¬ Ä‘á»™ phá»©c táº¡p, láº±ng nháº±ng, nhiá»u lá»‡nh khÃ³ nhá»›. Hi vá»ng bÃ i viáº¿t sau sáº½ cÃ³ báº¡n cÃ³ nhiá»u thiá»‡n cáº£m hÆ¡n vá»›i Vim :D So vá»›i má»™t sá»‘ trÃ¬nh chá»‰nh sá»­a vÄƒn báº£n, VIM cÃ³ má»™t sá»‘ lá»£i tháº¿ sau: Báº¡n cÃ³ thá»ƒ chá»‰nh sá»­a cÃ¡c Ä‘oáº¡n vÄƒn báº£n mÃ  khÃ´ng cáº§n dÃ¹ng chuá»™t, chá»‰ sá»­ dá»¥ng bÃ n phÃ­m (tiáº¿t kiá»‡m Ä‘Æ°á»£c táº§m tá»« 150k Ä‘áº¿n 500k :v). Sá»Ÿ há»¯u ráº¥t nhiá»u phÃ­m táº¯t Ä‘a dáº¡ng, Ä‘áº§y Ä‘á»§ giÃºp báº¡n hoÃ n thÃ nh cÃ¡c tÃ¡c vá»¥ láº·p Ä‘i láº·p láº¡i má»™t cÃ¡c nhanh chÃ³ng vÃ  dá»… dÃ ng. Báº¡n trÃ´ng ngáº§u hÆ¡n khi sá»­ dá»¥ng phÃ­m táº¯t nÃ y, chá»‰nh sá»­a vÄƒn báº£n cÅ©ng dÃ¹ng lá»‡nh, bá»¥p bá»¥p Ctrl Shift Shift Ctrl Delete lÃ  xong :v: . Tuy nhiÃªn nÃ³ Ä‘á»“ng nghÄ©a vá»›i viá»‡c báº¡n cáº§n luyá»‡n táº­p Ä‘á»ƒ nhá»› lá»‡nh thÃ¬ má»›i ngáº§u Ä‘Æ°á»£c. Nháº¹. CÃ¹ng má»™t file lá»›n, má»Ÿ báº±ng vim sáº½ nháº¹ hÆ¡n so vá»›i cÃ¡c trÃ¬nh soáº¡n tháº£o khÃ¡c (Ã­t nháº¥t lÃ  so vá»›i gedit). Phá»• biáº¿n: Vim cÃ³ trÃªn cáº£ MAC, Ubuntu vÃ  Windows. Khi triá»ƒn khai cÃ¡c server, viá»‡c remote vÃ o mÃ¡y áº£o, viá»‡c cÃ i Ä‘áº·t gedit haysublime text rÃµ rÃ ng khÃ´ng kháº£ thi mÃ  cáº§n má»™t sá»‘ trÃ¬nh chá»‰nh sá»­a vÄƒn báº£n dÃ²ng lá»‡nh. Vim lÃ  má»™t lá»±a chá»n khÃ´ng há» tá»“i :D. CÃ i Ä‘áº·t(Trong pháº¡m vi bÃ i viáº¿t mÃ¬nh hÆ°á»›ng dáº«n cÃ i Vim trÃªn ubuntu)12$ sudo apt-get update$ sudo apt-get install vimMá»Ÿ 1 file vá»›i vim 1$ vim file.txt CÃ¡c cháº¿ Ä‘á»™ vá»›i VimCháº¿ Ä‘á»™ dÃ²ng lá»‡nhÄÃ¢y lÃ  cháº¿ Ä‘áº§u tiÃªn khi báº¡n khá»Ÿi Ä‘á»™ng VimCháº¿ Ä‘á»™ nÃ y lÃ  nÆ¡i báº¡n phÃ´ diá»…n ká»¹ thuáº­t vá»›i hÃ ng loáº¡t cÃ¡c lá»‡nh vÃ  cÃ¡c phÃ­m táº¯t trong Vim. Vá»›i má»™t ngÆ°á»i dÃ¹ng Vim chuyÃªn nghiá»‡p, Ä‘Ã¢y cÃ³ láº½ lÃ  cháº¿ Ä‘á»™ báº¡n dÃ¹ng nhiá»u nháº¥t. Cháº¿ Ä‘á»™ INSERTCháº¿ Ä‘á»™ nÃ y cho phÃ©p báº¡n chÃ¨n kÃ­ tá»± vÃ o trong vÄƒn báº£n. Cháº¿ Ä‘á»™ VISUALCháº¿ Ä‘á»™ nÃ y cho phÃ©p báº¡n chá»n cÃ¡c vÃ¹ng vÄƒn báº£n Ä‘á»ƒ thao tÃ¡c vá»›i chÃºng (vÃ­ dá»¥ nhÆ° chá»n Ä‘oáº¡n vÄƒn báº£n Ä‘á»ƒ copy, cut hay xÃ³a â€¦). Äá»ƒ chuyá»ƒn qua giá»¯a cÃ¡c cháº¿ Ä‘á»™ nÃ y vá»›i nhau ta sá»­ dá»¥ng cÃ¡c phÃ­m Esc (chuyá»ƒn cháº¿ Ä‘á»™ dÃ²ng lá»‡nh), i Ä‘á»ƒ sang cháº¿ Ä‘á»™ insert vÃ  V hoáº·c v Ä‘á»ƒ chuyá»ƒn sang cháº¿ Ä‘á»™ Visual. Má»™t vÃ i lá»‡nh thao tÃ¡c cÆ¡ báº£n CÃ¡c lá»‡nh lÆ°u vÃ  thoÃ¡t VIM:123456:w - write (save) the file, but don't exit:w !sudo tee % - write out the current file using sudo:wq or :x or ZZ - write (save) and quit:q - quit (fails if there are unsaved changes):q! or ZQ - quit and throw away unsaved changes:wqa - write (save) and quit on all tabs Di chuyá»ƒn chuá»™t: h - Äi qua TRÃI j - Äi xuá»‘ng k - Äi lÃªn l - Äi qua PHáº¢I H - Move to top of screen L - Move to bottom of screen w - Jump forwards to the start of a word W - Jump forwards to the start of a word (words can contain punctuation) e - Jump forwards to the end of a word E - Jump forwards to the end of a word (words can contain punctuation) b - Jump backwards to the start of a word B - Jump backwards to the start of a word (words can contain punctuation) 0 - Jump to the start of the line ^ - Jump to the first non-blank character of the line $ - Jump to the end of the line g_ - Jump to the last non-blank character of the line gg - Go to the first line of the document G - Go to the last line of the document 5gg or 5G - Go to line 5 Ctrl + G: Xem thÃ´ng tin dÃ²ng hiá»‡n táº¡i Cáº¥u hÃ¬nh Cáº¥u hÃ¬nh hiá»ƒn thá»‹ sá»‘ dÃ²ng Ä‘á»ƒ lÃ m viá»‡c12:set number: hiá»ƒn thá»‹ sá»‘ dÃ²ng:set nonumber: áº©n sá»‘ dÃ²ng Lá»‡nh cháº¥m (.)CÃ¢u lá»‡nh giÃºp báº¡n láº·p láº¡i thay Ä‘á»•i trÆ°á»›c Ä‘Ã³. ÄÃ¢y lÃ  má»™t lá»‡nh máº¡nh máº½ vÃ  Ä‘a nÄƒng trong Vim. XÃ©t vÃ­ dá»¥ sau Ä‘á»ƒ hiá»ƒu rÃµ. VÃ­ dá»¥ 1: ThÃªm dáº¥u cháº¥m pháº©y vÃ o file sau:123var foo = 1var bar = 'a'var foobar = foo + barTa sáº½ thÃªm kÃ­ tá»± ; vÃ o dÃ²ng Ä‘áº§u sau Ä‘Ã³ láº·p láº¡i hÃ nh Ä‘á»™ng báº±ng dáº¥u ; (len) Giáº£i thÃ­ch qua 1 chÃºt vá» cÃ¡c lá»‡nh báº¡n sá»­ dá»¥ng A: Chuyá»ƒn vá» cháº¿ Ä‘á»™ cuá»‘i dÃ²ng vÃ  chuyá»ƒn Vim sang cháº¿ Ä‘á»™ insert mode (cÃ²n a lÃ  chuyá»ƒn vá» sau vá»‹ trÃ­ con trá» chuá»™t vÃ  chuyá»ƒn sang cháº¿ Ä‘á»™ insert mode) ;: thÃªm kÃ­ tá»± ; khi á»Ÿ cháº¿ Ä‘á»™ insert mode Esc: chuyá»ƒn vá» cháº¿ Ä‘á»™ dÃ²ng lá»‡nh j: chuyá»ƒn Ä‘áº¿n vá»‹ trÃ­ dÃ²ng sau (nhÆ° trÆ°á»ng há»£p nÃ y lÃ  cuá»‘i dÃ²ng káº¿ tiáº¿p) .: láº·p láº¡i hÃ nh Ä‘á»™ng thÃªm ; j.: chuyá»ƒn Ä‘áº¿n dÃ²ng tiáº¿p theo vÃ  láº·p láº¡i hÃ nh Ä‘á»™ng thÃªm ; NhÆ° váº­y cÃ¢u lá»‡nh . giÃºp báº¡n láº·p láº¡i hÃ nh Ä‘á»™ng thÃªm dáº¥u ; má»™t cÃ¡ch dá»… dÃ ng vÃ  cÃ³ thá»ƒ sá»­ dá»¥ng láº¡i :D. TÃ¬m kiáº¿m vÃ  thay Ä‘á»•i kÃ­ tá»±VÃ­ dá»¥ 2: TÃ¬m kiáº¿m chuá»—i 'content' vÃ  thay nÃ³ báº±ng kÃ­ tá»± 'copy' trong file. Giáº£i quyáº¿t: Sá»­ dá»¥ng lá»‡nh trá»±c tiáº¿pSá»­ dá»¥ng lá»‡nh thay tháº¿ nhÆ° sau á»Ÿ cháº¿ Ä‘á»™ dÃ²ng lá»‡nh1:%s/content/copy/gCÃ¡ch nÃ y nhanh chÃ³ng, tuy nhiÃªn cÃ¢u lá»‡nh ná»™i dung tÃ¬m kiáº¿m (content) khÃ´ng cÃ³ sáº½ cÃ³ thá»ƒ gÃ¢y lá»—i CÃ¡ch thá»§ cÃ´ngCÃ¡ch nÃ y thá»§ cÃ´ng hÆ¡n vÃ  cho phÃ©p báº¡n thay tháº¿ cÃ³ thá»ƒ toÃ n bá»™ ná»™i dung file hoáº·c chá»‰ 'content' nÃ o tÃ¹y Ã½ thÃ nh 'copy' BÆ°á»›c 1: Search /content BÆ°á»›c 2: Di chuyá»ƒn tá»›i ná»™i dung tÃ¬m kiáº¿m: * (Ä‘i Ä‘áº¿n nÆ¡i mÃ  báº¡n muá»‘n thay tháº¿ kÃ­ tá»±) hoáº·c sá»­ dá»¥ng n BÆ°á»›c 3: cw copy &lt;Esc&gt; cw: xÃ³a Ä‘áº¿n háº¿t tá»« vÃ  chuyá»ƒn vim sang cháº¿ Ä‘á»™ insert copy: nháº­p thay tháº¿ kÃ­ tá»± trong cháº¿ Ä‘á»™ insert mode Esc: chuyá»ƒn vá» cháº¿ Ä‘á»™ dÃ²ng lá»‡nh BÆ°á»›c 4: n: Ä‘i Ä‘áº¿n kÃ­ tá»± tiáº¿p theo BÆ°á»›c 5 . : láº·p láº¡i hÃ nh Ä‘á»™ng thay tháº¿ náº¿u báº¡n muá»‘n :D Copy, cut dá»¯ liá»‡uMá»™t vÃ i lá»‡nh sau trong cháº¿ Ä‘á»™ dÃ²ng lá»‡nh há»¯u dá»¥ng cho báº¡n x: xÃ³a cÃ¡c thá»© Ä‘Ã£ chá»n dw - delete (cut) the characters of the word from the cursor position to the start of the next word D - delete (cut) to the end of the line y: copy cÃ¡c dÃ²ng Ä‘Ã£ chá»n d: cut cÃ¡c dÃ²ng Ä‘Ã£ chá»n dd: cut dÃ²ng hiá»‡n táº¡i (cÃ³ thá»ƒ dÃ¹ng Ä‘á»ƒ xÃ³a) yy: copy dÃ²ng hiá»‡n táº¡i p: paste v: chuyá»ƒn sang cháº¿ Ä‘á»™ visual Ä‘á»ƒ chá»n vÄƒn báº£n (chá»n xong nháº¥n y hoáº·c d Ä‘á»ƒ copy hay cut lÃ  tÃ¹y báº¡n) V: chuyá»ƒn sang cháº¿ Ä‘á»™ visual nhÆ°ng bÃ´i Ä‘en theo dÃ²ng 20yy: copy 20 dÃ²ng Ä‘áº§u cá»§a file hiá»‡n táº¡i 20dd: cut 20 dÃ²ng tá»« hiá»‡n táº¡i (cÃ³ thá»ƒ dÃ¹ng Ä‘á»ƒ xÃ³a) Act, Repeat vÃ  ReverseCÃ¡c cÃ¢u lá»‡nh tiáº¿p theo lÃ  cÃ¡c cÃ¢u lá»‡nh giá»‘ng nhÆ° Ctrl Z vÃ  undo trong cÃ¡c trÃ¬nh soáº¡n tháº£o nhÆ° word :D Intent Act Repeat Revert Make a change {edit} . u Scan line for next character f{char} / t{char} ; , Scan line for previous character F{char} / T{char} ; , Scan document for next match /pattern n N Scan document for previous match ?pattern n N Perform substitution :/s/target/replacement &amp; u Execute a sequence of changes qx{changes}q @x u LÃ m viá»‡c nhiá»u file cÃ¹ng lÃºc vá»›i VimPháº§n cuá»‘i cÃ¹ng mÃ¬nh sáº½ hÆ°á»›ng dáº«n cÃ¡c báº¡n sá»­ dá»¥ng Vim Ä‘á»ƒ má»Ÿ nhiá»u file cÃ¹ng 1 lÃºc. Má»Ÿ trÃªn cÃ¹ng má»™t cá»­a sá»•Äá»ƒ má»Ÿ nhiá»u file trÃªn cÃ¹ng má»™t cá»­a sá»•, báº¡n truyá»n thÃªm tham sá»‘ vÃ o vim lÃ  Ä‘Æ°á»£c12$ vim *.txt$ vim file1.txt file2.txtMá»™t sá»‘ lá»‡nh há»¯u Ã­ch:123:ls: xem danh sÃ¡ch cÃ¡c file Ä‘ang Ä‘Æ°á»£c má»Ÿ:bnext: chuyá»ƒn sang file tiáº¿p theo:bprev: chuyá»ƒn sang file trÆ°á»›c Ä‘Ã³ Sau khi Ä‘i qua 1 lÆ°á»£t cÃ¡c file, cÃ³ thá»ƒ sá»­ dá»¥ng Ctrl ^ Ä‘á»ƒ chuyá»ƒn qua cÃ¡c file LÆ°u Ã½: Pháº£i Ä‘i qua file má»›i sá»­ dá»¥ng Ä‘Æ°á»£c Ctrl ^. NguyÃªn nhÃ¢n á»Ÿ Ä‘Ã¢y lÃ  Vim tá»‘i Æ°u, chá»‰ khi Ä‘á»c file nÃ o nÃ³ má»›i load ná»™i dung file Ä‘Ã³ vÃ o bá»™ nhá»›, vÃ¬ váº­y pháº£i má»Ÿ qua thÃ¬ má»›i má»Ÿ láº¡i Ä‘Æ°á»£c. Chi tiáº¿t báº¡n cÃ³ thá»ƒ Ä‘á»c á»Ÿ Tip 37 trong tÃ i liá»‡u tham kháº£o Ä‘á»ƒ hiá»ƒu vá» cÆ¡ cháº¿ load file trong Vim (Buffers vÃ  File :3). Má»Ÿ trÃªn Ä‘a cá»­a sá»•Sá»­ dá»¥ng :vsp hoáº·c :sp náº¿u báº¡n muá»‘n má»Ÿ file sang cá»­a sá»• bÃªn cáº¡nh hoáº·c á»Ÿ dÆ°á»›i, chia Ä‘Ã´i mÃ n hÃ¬nh 123$ vim file1.txt:vsp file2.txt(trong trÆ°á»ng há»£p file2.txt chÆ°a tá»“n táº¡i thÃ¬ nÃ³ sáº½ táº¡o file má»›i) Sá»­ dá»¥ng 2 láº§n ctrl W Ä‘á»ƒ chuyá»ƒn qua láº¡i giá»¯a cÃ¡c file. VÃ­ dá»¥ 3: Copy 20 dÃ²ng Ä‘áº§u cá»§a file cÃ³ sáºµn vÃ o file má»›i tÃªn lÃ  copy.txt 1234567$ vim file1.txt // má»Ÿ file1.txt báº±ng vim:vsp copy.txt // chia Ä‘Ã´i mÃ n hÃ¬nh Ä‘á»ƒ lÃ m viá»‡c 2 file 1 lÃºc2 x Ctrl W // chuyá»ƒn vá» file1.txt20yy // copy 20 dÃ²ng Ä‘áº§u tá»« file1.txt2 x Ctr W // chuyá»ƒn sang file Ä‘Ã­ch: copy.txtp // paste vÃ o thÃ´i:wq // lÆ°u file copy.txt TrÃªn Ä‘Ã¢y lÃ  má»™t vÃ i cÃ¢u lá»‡nh mÃ¬nh hay sá»­ dá»¥ng khi thao tÃ¡c vá»›i VIM. NgoÃ i ra nhÆ° Ä‘Ã£ nÃ³i á»Ÿ trÆ°á»›c, VIM cung cáº¥p ráº¥t ráº¥t nhiá»u tá»• há»£p phÃ­m táº¯t há»¯u dá»¥ng khÃ¡c giÃºp báº¡n thao tÃ¡c nguy hiá»ƒm hÆ¡n. Chi tiáº¿t báº¡n cÃ³ thá»ƒ Ä‘á»c thÃªm cÃ¡c Tip hÆ°á»›ng dáº«n trong tÃ i liá»‡u tham kháº£o TÃ i liá»‡u tham kháº£o Practical Vim LÃ m quen vá»›i Vim trong 5 phÃºt Vim Cheat Sheet","link":"/2019/04/11/Mot-vai-cau-lenh-huu-ich-khi-su-dung-Vim/"},{"title":"Má»™t vÃ i Ä‘iá»u vá» sudo command","text":"Cháº¯c háº³n khi dÃ¹ng Ubuntu, chÃºng ta ai cÅ©ng Ä‘Ã£ tá»«ng gáº·p pháº£i lá»—i kinh Ä‘iá»ƒn â€œPermission deniedâ€. LÃºc Ä‘Ã³, máº·c Ä‘á»‹nh vá»›i 99% ngÆ°á»i Ä‘ang sá»­ dá»¥ng Ubuntu lÃ  sá»­ dá»¥ng lá»‡nh sudo Ä‘á»ƒ giáº£i quyáº¿t váº¥n Ä‘á», má»i váº¥n Ä‘á» Ä‘Æ°á»£c giáº£i quyáº¿t 1 cÃ¡ch Ä‘Æ¡n giáº£n. Trong bÃ i viáº¿t tá»›i mÃ¬nh giá»›i thiá»‡u vá» lá»‡nh sudo nÃ y mÃ  chÃºng ta váº«n sá»­ dá»¥ng háº±ng ngÃ y nhÃ© :D. 0. Tá»•ng quanLá»‡nh sudo, theo hÆ°á»›ng dáº«n tá»« trang man page, nÃ³ Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ thá»±c thi má»™t lá»‡nh nhÆ° má»™t ngÆ°á»i dÃ¹ng khÃ¡c. Detail: http://manpages.ubuntu.com/manpages/xenial/man8/sudo.8.html 2. sudo visudo?ÄÃ¢y lÃ  cÃ¡ch Ä‘á»ƒ chÃºng ta thá»±c hiá»‡n cÃ¡c cáº¥u hÃ¬nh vá»›i lá»‡nh sudo. Trong file nÃ y sáº½ cáº¥u hÃ¬nh Ä‘Æ°á»£c cÃ¡c lá»‡nh sá»­ dá»¥ng sudo, NOPASSWD hoáº·c cÃ³ thá»ƒ cáº¥u hÃ¬nh thá»i gian phiÃªn lÃ m viá»‡c vá»›i lá»‡nh sudo. Chi tiáº¿t nhÆ° tháº¿ nÃ o thÃ¬ mÃ¬nh trÃ¬nh bÃ y chi tiáº¿t trong tá»«ng pháº§n nhÃ©. 3. What is a sudo session?Má»™t phiÃªn lÃ m viá»‡c vá»›i lá»‡nh sudo sáº½ cÃ³ thá»i gian lÃ  15 phÃºt theo máº·c Ä‘á»‹nh. Báº¡n cÃ³ thá»ƒ tÃ¹y chá»‰nh nÃ³ lÃªn bao nhiÃªu phÃºt lÃ  tÃ¹y báº¡n :D1sudo visudoSau Ä‘Ã³ tÃ¬m tá»›i dÃ²ng:1Defaults env_resetVÃ  tÃ¹y chá»‰nh thá»i gian mÃ  báº¡n muá»‘n:1Defaults env_reset,timestamp_timeout=[new-value][new-value] á»Ÿ Ä‘Ã¢y lÃ  sá»‘ phÃºt mÃ  báº¡n muá»‘n cÃ i Ä‘áº·t cho má»—i phiÃªn sá»­ dá»¥ng lá»‡nh sudo. VÃ­ dá»¥ náº¿u báº¡n muá»‘n cÃ i Ä‘áº·t má»—i phiÃªn sudo lÃ  40 phÃºt.1Defaults env_reset,timestamp_timeout=40Easy nhá»‰ :D. Náº¿u báº¡n muá»‘n má»—i láº§n sá»­ dá»¥ng sudo Ä‘á»u pháº£i nháº­p máº­t kháº©u, hÃ£y set giÃ¡ trá»‹ nÃ y vá» 0. Trong trÆ°á»ng há»£p báº¡n muá»‘n má»—i phiÃªn thá»i gian sá»­ dá»¥ng sudo lÃ  vÃ´ táº­n, set giÃ¡ trá»‹ nÃ y vá» -1. Tuy nhiÃªn hÃ£y chÃº Ã½ khi set vá» -1 vÃ¬ nÃ³ gÃ¢y Ä‘iá»ƒm yáº¿u cho há»‡ thá»‘ng cá»§a báº¡n. 4. The sudo passwordMá»—i khi sá»­ dá»¥ng lá»‡nh sudo, báº¡n pháº£i nháº­p máº­t kháº©u. Tuy nhiÃªn khÃ´ng cÃ³ báº¥t cá»© gÃ¬ show máº­t kháº©u cho báº¡n, náº¿u báº¡n tháº¥y Ä‘iá»u Ä‘Ã³ lÃ  khÃ³ chá»‹u, báº¡n cÃ³ thá»ƒ setup Ä‘á»ƒ má»—i láº§n nháº­p máº­t kháº©u sáº½ show lÃªn. Báº¡n hÃ£y tÃ¬m tá»›i dÃ²ng:1Defaults env_resetVÃ  thay tháº¿ nÃ³ lÃ :1Defaults env_reset,pwfeedbackVÃ  káº¿t quáº£ lÃ : 5. No PasswordÄÃ´i khi viá»‡c gÃµ máº­t kháº©u khi sá»­ dá»¥ng sudo gÃ¢y báº¥t tiá»‡n cho báº¡n (nhÆ°ng hÃ£y lÆ°u Ã½, nÃ³ lÃ  báº£o máº­t nhÃ©, viá»‡c sá»­ dá»¥ng No Password nÃ y khÃ´ng khuyáº¿n khÃ­ch, chá»‰ nÃªn sá»­ dá»¥ng cho lá»‡nh khÃ´ng quan trá»ng hoáº·c trong shell script), má»™t sá»‘ cÃ¡ch sau sáº½ giÃºp báº¡n sá»­ dá»¥ng sudo mÃ  khÃ´ng cáº§n máº­t kháº©u. CÃ¡ch 1: Set thá»i gian session trong file cáº¥u hÃ¬nh.CÃ¡ch nÃ y Ä‘Ã£ Ä‘Æ°á»£c Ä‘á» cáº­p á»Ÿ trÃªn, set thá»i gian session sá»­ dá»¥ng sudo command vá» -1. CÃ¡ch nÃ y cá»±c kÃ¬ nguy hiá»ƒm vÃ¬ nÃ³ sáº½ Ã¡p dá»¥ng cho má»i scripts sá»­ dá»¥ng sudo Má»™t cÃ¡ch khÃ¡c mÃ  báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng lÃ  CÃ¡ch 2 CÃ¡ch 2: Sá»­ dá»¥ng ngoáº¡i lá»‡.Ban cÃ³ thá»ƒ táº¡o má»™t vÃ i ngoáº¡i lá»‡ trong file cáº¥u hÃ¬nh sudo command khÃ´ng sá»­ dá»¥ng máº­t kháº©u vá»›i ná»™i dung nhÆ° sau1YOUR_USER_NAME ALL=(ALL:ALL) NOPASSWD:/abs/path/to/your/scriptVá»›i YOUR_USER_NAME lÃ  username cá»§a báº¡n, cÃ³ thá»ƒ xem báº±ng cÃ¡ch sá»­ dá»¥ng lá»‡nh whoami hoáº·c who /abs/path/to/your/script: Ä‘Æ°á»ng dáº«n sá»­ dá»¥ng command cá»§a báº¡n Xem xÃ©t vÃ­ dá»¥ sau má»—i khi báº¡n muá»‘n sá»­ dá»¥ng1sudo apt-get updatemÃ  khÃ´ng cáº§n nháº­p máº­t kháº©u. Äáº§u tiÃªn hÃ£y má»Ÿ file cáº¥u hÃ¬nh cá»§a lá»‡nh sudo lÃªn:1sudo visudoVÃ  thÃªm dÃ²ng1minhnv ALL=(ALL:ALL) NOPASSWD:/usr/bin/apt-get updateOK rá»“i Ä‘Ã³, Ä‘Æ¡n giáº£n nhá»ƒ :D. Viá»‡c cáº¥u hÃ¬nh nhÆ° tháº¿ nÃ y sáº½ cho phÃ©p báº¡n chá»n Ä‘Æ°á»£c nhá»¯ng lá»‡nh nÃ o lÃ  â€œNOPASSWDâ€. CÃ¡ch nÃ y hiá»‡u quáº£ khi báº¡n sá»­ dá»¥ng sudo trong cÃ¡c shell script. HÃ£y thá»­ xem xÃ©t trÆ°á»ng há»£p mÃ¡y báº¡n cÃ i cáº£ nginx vÃ  apache2, vÃ  nginx sáº½ luÃ´n Ä‘Æ°á»£c khá»Ÿi Ä‘á»™ng Æ°u tiÃªn apache2. Báº¡n cáº§n viáº¿t 1 shell script Ä‘á»ƒ Æ°u tiÃªn apache2 hÆ¡n (táº¯t nginx vÃ  báº­t apache2). Váº¥n Ä‘á» lÃ  2 lá»‡nh12service stop nginxservice start apache2nÃ y láº¡i yÃªu cáº§u quyá»n root, vÃ¬ váº­y báº¡n cáº§n cáº¥u hÃ¬nh nÃ³ trong file /etc/sudoers kia :D12minhnv ALL=(ALL:ALL) NOPASSWD:/usr/bin/service startminhnv ALL=(ALL:ALL) NOPASSWD:/usr/bin/service stopRá»“i ngon, giá» triá»ƒn vá»›i shell script thÃ´i nÃ o123#!/bin/shsudo service nginx stop &amp;&amp; sudo service apache2 startFinish!!! TÃ i liá»‡u tham kháº£o https://www.howtoforge.com/tutorial/sudo-beginners-guide/ Man page Use sudo in scripts","link":"/2020/01/09/Mot-vai-dieu-ve-sudo-command/"},{"title":"Part IV: Selected Topics","text":"Trong 3 pháº§n trÆ°á»›c, chÃºng ta Ä‘Ã£ tháº£o luáº­n vá» cÃ¡c pháº§n rá»™ng vá» cÃ¡c kÄ© thuáº­t lÃ m cho code dá»… hiá»ƒu. Trong pháº§n nÃ y, chÃºng ta sáº½ Ã¡p dá»¥ng cÃ¡c kÄ© thuáº­t Ä‘Ã³ vÃ o 1 chá»§ Ä‘á» Ä‘Æ°á»£c chá»n. Äáº§u tiÃªn, chÃºng ta sáº½ tháº£o luáº­n vá» testing - lÃ m sao viáº¿t test hiá»‡u quáº£ vÃ  cÃ³ thá»ƒ Ä‘á»c Ä‘Æ°á»£c cÃ¹ng 1 lÃºc Sau Ä‘Ã³ chÃºng ta sáº½ Ä‘i quan viá»‡c thiáº¿t káº¿ vÃ  thá»±c thi cá»§a cáº¥u trÃºc dá»¯ liá»‡u má»¥c Ä‘Ã­ch Ä‘áº·c biá»‡t (a â€œminute/hour counterâ€) Ä‘á»ƒ xem 1 vÃ­ dá»¥ vá» hiá»‡u nÄƒng, thiáº¿t káº¿ tá»‘t vÃ  tÆ°Æ¡ng tÃ¡c vá»›i kháº£ nÄƒng Ä‘á»c code. Chapter 14: Testing and ReadabilityChapter 15: Designing and Implementing a â€œMinute/Hour Counterâ€","link":"/2020/05/24/Part-5-Selected-Topics/"},{"title":"Part 3: Reorganizing Your Code","text":"Trong pháº§n 2, chÃºng ta Ä‘Ã£ tháº£o luáº­n lÃ m sao Ä‘á»ƒ thay Ä‘á»•i â€œvÃ²ng láº·p vÃ  logicâ€ trong chÆ°Æ¡ng trÃ¬nh cá»§a báº¡n Ä‘á»ƒ lÃ m code cÃ³ thá»ƒ Ä‘á»c. ChÃºng ta mÃ´ táº£ 1 vÃ i ká»¹ thuáº­t yÃªu cáº§u thay Ä‘á»•i cáº¥u trÃºc cá»§a chÆ°Æ¡ng trÃ¬nh theo nhá»¯ng cÃ¡ch nhá». Trong pháº§n nÃ y, chÃºng ta sáº½ bÃ n luáº­n vá» nhá»¯ng thay Ä‘á»•i lá»›n hay báº¡n cÃ³ thá»ƒ lÃ m vá»›i code á»Ÿ má»©c function. Cá»¥ thá»ƒ, chÃºng ta sáº½ khÃ¡m phÃ¡ cÃ¡c cÃ¡ch tá»• chá»©c láº¡i code cá»§a báº¡n: TrÃ­ch xuáº¥t â€œcÃ¡c váº¥n Ä‘á» con khÃ´ng liÃªn quanâ€ cÃ¡i mÃ  khÃ´ng liÃªn quan Ä‘áº¿n má»¥c Ä‘Ã­ch chÃ­nh trong chÆ°Æ¡ng trÃ¬nh cá»§a báº¡n. Sáº¯p xáº¿p láº¡i code cá»§a báº¡n Ä‘á»ƒ nÃ³ chá»‰ lÃ m 1 task 1 lÃºc MÃ´ táº£ code cá»§a báº¡n báº±ng tá»« trÆ°á»›c vÃ  sá»­ dá»¥ng mÃ´ táº£ nÃ y Ä‘á»ƒ giÃºp báº¡n cÃ³ hÆ°á»›ng xá»­ lÃ½ rÃµ rÃ ng Cuá»‘i cÃ¹ng, chÃºng ta sáº½ tháº£o luáº­n cÃ¡ch giáº£i quyáº¿t báº¡n cÃ³ thá»ƒ xÃ³a hoÃ n toÃ n code vÃ  trÃ¡nh viáº¿t nÃ³ trong láº§n Ä‘áº§u tiÃªn - cÃ¡ch tá»‘t nháº¥t Ä‘á»ƒ lÃ m cho code dá»… hiá»ƒu. Chapter 10: Extracting Unrelated SubproblemsChapter 11: One Task at a TimeChapter 12: Turning Thoughts into CodeChapter 13: Writing Less Code","link":"/2020/05/24/Part-3-Reorganizing-Your-Code/"},{"title":"Part 1: Surface-Level Improvements","text":"ChÃºng ta sáº½ nÃ³i Ä‘áº¿n váº¥n Ä‘á» Ä‘áº§u tiÃªn lÃ  cáº£i thiá»‡n surface: chá»n má»™t cÃ¡i tÃªn tá»‘t, viáº¿t comment tá»‘t vÃ  format code gá»n gÃ ng. CÃ¡ch thay Ä‘á»•i nÃ y dá»… Ã¡p dá»¥ng. Báº¡n cÃ³ thá»ƒ lÃ m nÃ³ â€œin placeâ€ (táº¡i chá»—) mÃ  khÃ´ng pháº£i cáº¥u trÃºc láº¡i code hoáº·c thay Ä‘á»•i cÃ¡ch chÆ°Æ¡ng trÃ¬nh cháº¡y. NÃ³ cÅ©ng cÃ³ thá»ƒ cáº£i thiá»‡n nÃ³ ráº¥t nhanh mÃ  khÃ´ng cáº§n máº¥t nhiá»u thá»i gian :D Chá»§ Ä‘á» nÃ y lÃ  ráº¥t quan trá»ng vÃ¬ chÃºng áº£nh hÆ°á»Ÿng tá»›i má»—i dÃ²ng code trong codebase cá»§a báº¡n. Máº·c dÃ¹ má»—i thay Ä‘á»•i dÆ°á»ng nhÆ° lÃ  nhá», tá»•ng há»£p láº¡i, chÃºng sáº½ táº¡o ra má»™t sá»± cáº£i thiá»‡n lá»›n vÃ o codebase. Náº¿u code cá»§a báº¡n cÃ³ 1 cÃ¡i tÃªn tá»‘t, well-written comments vÃ  xÃ³a Ä‘Æ°á»£c cÃ¡c khoáº£ng tráº¯ng, code cá»§a báº¡n sáº½ ráº¥t dá»… Ä‘á»ƒ Ä‘á»c. Táº¥t nhiÃªn, cÃ³ ráº¥t nhiá»u thá»© hÆ¡n ná»¯a á»Ÿ dÆ°á»›i surface level áº£nh hÆ°á»Ÿng Ä‘áº¿n kháº£ nÄƒng Ä‘á»c (vÃ  chÃºng tÃ´i sáº½ khÃ¡m phÃ¡ nÃ³ trong pháº§n sau cá»§a cuá»‘n sÃ¡ch). NhÆ°ng nhá»¯ng tÃ i liá»‡u trong pháº§n nÃ y Ä‘Æ°á»£c Ã¡p dá»¥ng rá»™ng rÃ£i, khÃ´ng tá»‘n nhiá»u cÃ´ng, Ä‘Ã³ lÃ  thá»© Ä‘Ã¢u tiÃªn chÃºng tÃ´i muá»‘n khÃ¡m phÃ¡. Má»¥c lá»¥c cá»§a chÆ°Æ¡ng bao gá»“m cÃ¡c chá»§ Ä‘á»: Chapter 2: Packing Information into NamesChapter 3: Names That Canâ€™t Be MisconstruedChapter 4: AestheticsChapter 5: Knowing What to CommentChapter 6: Making Comments Precise and Compact","link":"/2020/05/24/Part-1-Surface-Level-Improvements/"},{"title":"Part II: Simplifying Loops and Logic","text":"Part II: Simplifying Loops and Logic Trong chÆ°Æ¡ng 1, chÃºng ta Ä‘Ã£ khÃ¡m phÃ¡ cáº£i thiá»‡n vá» máº·t bá» máº·t (nhÃ¬n báº±ng máº¯t) - surface level - cÃ¡ch Ä‘Æ¡n giáº£n Ä‘á»ƒ cáº£i thiá»‡n code cá»§a báº¡n cÃ³ thá»ƒ dá»… Ä‘á»c hÆ¡n mÃ  khÃ´ng cÃ³ quÃ¡ nhiá»u rá»§i ro hay ná»— lá»±c. Trong chÆ°Æ¡ng tiáº¿p theo, chÃºng ta sáº½ xem xÃ©t sÃ¢u hÆ¡n, tháº£o luáº­n vá» â€œvÃ²ng láº·p vÃ  logicâ€ trong code cá»§a báº¡n: kiá»ƒm soÃ¡t luá»“ng, biá»ƒu thá»©c logic vÃ  biáº¿n Ä‘á»ƒ lÃ m code cá»§a báº¡n hoáº¡t Ä‘á»™ng. NhÆ° má»i khi, má»¥c Ä‘Ã­ch cá»§a chÃºng ta lÃ  lÃ m cho cÃ¡c pháº§n nÃ y trong code cá»§a chÃºng ta dá»… hiá»ƒu hÆ¡n. ChÃºng ta sáº½ lÃ m Ä‘iá»u nÃ y báº±ng cÃ¡ch cá»‘ gáº¯ng tá»‘i thiá»ƒu â€œmental baggageâ€ (hÃ nh vi vá» tinh tháº§n) trong code cá»§a báº¡n. Má»—i khi báº¡n nhÃ¬n tháº¥y 1 vÃ²ng lapwj phá»©c táº¡p, 1 biá»ƒu thá»©c khá»•ng lá»“ hoáº·c 1 sá»‘ lÆ°á»£ng lá»›n cÃ¡c biáº¿n, Ä‘iá»u nÃ y thÃªm vÃ o hÃ nh lÃ½ tinh tháº§n trong Ä‘áº§u cá»§a báº¡n. (kiá»ƒu sá»£ luÃ´n rá»“i Ã½ =))). NÃ³ yÃªu cáº§u báº¡n nghÄ© nhiá»u hÆ¡n vÃ  nhá»› nhiá»u hÆ¡n. Äiá»u nÃ y thÃ¬ hoÃ n toÃ n ngÆ°á»£c láº¡i â€œdá»… dÃ ng Ä‘á»ƒ hiá»ƒuâ€. Khi code cá»§a báº¡n cÃ³ quÃ¡ nhiá»u hÃ nh vi áº£nh hÆ°á»Ÿng tinh tháº§n, bug cÃ³ nhiá»u kháº£ nÄƒng khÃ´ng Ä‘Æ°á»£c tÃ¬m ra, code trá»Ÿ nÃªn khÃ³ cÃ³ thá»ƒ thay Ä‘á»•i vÃ  chÃºng ta sáº½ khÃ´ng máº¥y vui váº» khi lÃ m viá»‡c cÃ¹ng nÃ³. Chapter 7: Making Control Flow Easy to ReadChapter 8: Breaking Down Giant ExpressionsChapter 9: Variables and Readability","link":"/2020/05/24/Part-II-Simplifying-Loops-and-Logic/"},{"title":"React boilerplate data flow","text":"React boilerplate lÃ  má»™t á»©ng dá»¥ng React Ä‘Ã£ Ä‘Æ°á»£c cÃ i Ä‘áº·t tÃ­ch há»£p sáºµn redux-saga, thuáº­n tiá»‡n cho viá»‡c phÃ¡t triá»ƒn. ChÃºng ta cÃ¹ng xem xÃ©t luá»“ng dá»¯ liá»‡u, cÃ¡ch táº¡o component, container trong á»©ng dá»¥ng nÃ y nhÃ© :D Táº¡o containerKhi muá»‘n táº¡o 1 component má»›i Ä‘á»ƒ thá»±c hiá»‡n chá»©c nÄƒng, báº¡n cÃ³ thá»ƒ thá»±c hiá»‡n báº±ng cÃ¡ch dÃ¹ng lá»‡nh 1npm run generate container (NÃ³ sáº½ táº¡o Ä‘á»§ cÃ¡c thÆ° má»¥c redux, saga, constant, selector, action vÃ  káº¿t ná»‘i saga cho báº¡n). ÄÄƒng kÃ½ Component nÃ y trong router Ä‘á»ƒ hoáº¡t Ä‘á»™ng nÃ o 12345678910/* containers/App/index.js */...&lt;Switch&gt; &lt;Route exact path=&quot;/&quot; component={HomePage} /&gt; &lt;Route path=&quot;/features&quot; component={FeaturePage} /&gt; &lt;Route path=&quot;/jest&quot; component={JestExample} /&gt;&lt;Route path=&quot;&quot; component={NotFoundPage} /&gt;&lt;/Switch&gt;// Äáº·t trÆ°á»›c not found nhÃ© PropsKhi xá»­ lÃ½ cÃ¡c sá»± kiá»‡n (nhÆ° click button, báº¯t sá»± kiá»‡n thay Ä‘á»•i 1 field nÃ o Ä‘Ã³) Ä‘á»ƒ báº¯n ra cÃ¡c action tá»›i saga, reducer, báº¡n cáº§n sá»­ dá»¥ng nÃ³ nhÆ° cÃ¡c props Ä‘á»ƒ dispatch Ä‘Æ°á»£c sá»± kiá»‡n (trong vÃ­ dá»¥ lÃ  click button) ÄÄƒng kÃ­ nÃ³ vÃ o Ä‘áº§u vÃ o component 1234export function JestExample({ user, onClickButton }) { ... &lt;button onClick={onClickButton}&gt; Click me &lt;/button&gt;} vÃ  Ä‘Äƒng kÃ½ mapDispatchToProps Ä‘á»ƒ dispatch sá»± kiá»‡n 12345678function mapDispatchToProps(dispatch) { return { dispatch, onClickButton: evt =&gt; { dispatch(loadUser()); }, };} Chá»— nÃ y báº¡n cÃ³ thá»ƒ tÃ¹y chá»n báº¯n action cÃ³ qua saga hay khÃ´ng (saga lÃ  middleware, náº¿u cáº§n call API hay lÃ m 1 viá»‡c gÃ¬ Ä‘Ã³ nhÆ° truyá»n thÃªm dá»¯ liá»‡u thÃ¬ hÃ£y dÃ¹ng saga) náº¿u khÃ´ng cÃ³ thá»ƒ truyá»n tháº³ng tá»›i reducer. Quyáº¿t Ä‘á»‹nh cÃ³ qua saga hay khÃ´ng chÃ­nh lÃ  do type cá»§a action loadUser báº¡n truyá»n vÃ o (cÃ³ type Ä‘Ã£ Ä‘Æ°á»£c Ä‘Äƒng kÃ½ á»Ÿ saga hay khÃ´ng?)Action cÃ³ dáº¡ng 12345export function loadUser() { return { type: 'LOAD_USER_SAGA', // type khÃ´ng Ä‘Äƒng kÃ½ trong saga thÃ¬ chuyá»ƒn tá»›i reducer };} Xá»­ lÃ½ saga (tÃ¹y chá»n)Náº¿u action cá»§a báº¡n cÃ³ chuyá»ƒn qua saga, chÃºng ta sáº½ má»Ÿ file saga Ä‘á»ƒ xá»­ lÃ½.Báº¡n cáº§n Ä‘Äƒng kÃ½ saga vÃ  call API, sau Ä‘Ã³ truyá»n action má»›i tá»›i reducer thÃ´i, khÃ¡ Ä‘Æ¡n giáº£n: 1234567891011121314151617181920212223242526272829303132333435363738394041import { call, put, select, takeLatest } from 'redux-saga/effects';import { LOAD_REPOS } from 'containers/App/constants';import { loadedUser } from 'containers/JestExample/actions';import request from 'utils/request';import { makeSelectUsername } from 'containers/HomePage/selectors';/** * Github repos request/response handler */export function* loadUser() { const requestURL = `https://jsonplaceholder.typicode.com/todos/1`; try { // Call our request helper (see 'utils/request') /* Step 1: Call API to get data */ const user = yield call(request, requestURL); console.log('Hello Saga'); /* Step 2: Put received data to reducer with put method Note: action the same the action in saga (include type and data) */ yield put(loadedUser(user)); } catch (err) { console.log(err); // yield put(repoLoadingError(err)); console.log(1); }}/** * Root saga manages watcher lifecycle */export default function* loadUserFromFakeAPI() { // Watches for LOAD_REPOS actions and calls getRepos when one comes in. // By using `takeLatest` only the result of the latest API call is applied. // It returns task descriptor (just like fork) so we can continue execution // It will be cancelled automatically on component unmount yield takeLatest('LOAD_USER_SAGA', loadUser);} ReducerSau khi bÃªn view phÃ¡t action, reducer sáº½ Ä‘Ã³n nháº­n vÃ  xá»­ lÃ½. Trong reducer sáº½ cÃ³ initState: state máº·c Ä‘á»‹nh trong store HÃ m xá»­ lÃ½ action: initState ======&gt; (dá»¯ liá»‡u tá»« ngÆ°á»i dÃ¹ng truyá»n xuá»‘ng hoáº·c láº¥y Ä‘Æ°á»£c tá»« saga) ====&gt; newState tráº£ ngÆ°á»£c vá» view Render state má»›i ra viewSau khi Ä‘Ã£ cÃ³ state má»›i tráº£ vá» tá»« reducer. cÃ´ng viá»‡c cuá»‘i cÃ¹ng lÃ  render state má»›i ra view. Ta sáº½ Ã¡nh xáº¡ state nÃ y thÃ nh props cá»§a Component Ä‘á»ƒ hiá»ƒn thá»‹. NÃ³ sáº½ Ä‘Æ°á»£c thá»±c hiá»‡n qua hÃ m mapStateToProps trong Component. ChÃºng ta sáº½ sá»­ dá»¥ng selector Ä‘á»ƒ thá»±c hiá»‡n viá»‡c Ã¡nh xáº¡ nÃ y: 1234567891011121314151617181920import { createSelector } from 'reselect';import { initialState } from './reducer';/** * Direct selector to the jestExample state domain */const selectJestExampleDomain = state =&gt; state.jestExample || initialState;/** * Other specific selectors */const makeSelectUser = () =&gt; createSelector( selectJestExampleDomain, jestState =&gt; jestState.user, );export default makeSelectJestExample;export { makeSelectUser }; File index.js 1234const mapStateToProps = createStructuredSelector({ jestExample: makeSelectJestExample(), user: makeSelectUser(),}); OK tháº¿ lÃ  state user Ä‘Æ°á»£c chuyá»ƒn thÃ nh props vá»›i tÃªn user trong Component rá»“i Ä‘Ã³. TÃ³m láº¡i luá»“ng dá»¯ liá»‡u sáº½ nhÆ° sauView: dispatch action (dÆ°á»›i dáº¡ng props vÃ  Ä‘Æ°á»£c Ä‘Äƒng kÃ­ trong mapDispatchToProps) ======&gt; Saga (tÃ¹y chá»n): nháº­n action tá»« view, call API vÃ  báº¯n 1 action má»›i tá»›i reducer qua phÆ°Æ¡ng thá»©c put ====&gt; Reducer: xá»­ lÃ½ vá»›i má»—i action vÃ  dá»¯ liá»‡u qua switch/case, tráº£ vá» new State tá»« initState ======&gt; View: nháº­n newState, map nÃ³ thÃ nh props vÃ  render ra view (mapStateToProps) Action sáº½ cÃ³ dáº¡ng 12345678{ type: 'ABC', // data user: { name: 'MinhNV', age: '100', }}","link":"/2019/09/08/React-boilerplate-data-flow/"},{"title":"[SQL] Note 1: GROUP BY, create-update multiple records, Config MySQL","text":"Note láº¡i 1 vÃ i tips khi lÃ m viá»‡c vá»›i MySQL nÃ o!! 1. GROUP BYâ€¦.Cháº¯c háº³n khi lÃ m viá»‡c vá»›i MySQL, chÃºng ta gáº·p ráº¥t nhiá»u GROUP BY vÃ  Ä‘Ã´i khi gáº·p lá»—i vá»›i nÃ³. CÃ¢u lá»‡nh nÃ y nhÃ³m cÃ¡c cá»™t giá»‘ng giÃ¡ trá»‹ vá»›i nhau vÃ o trong cá»™t chung, tÃ³m gá»n láº¡i, nhÆ° â€œtÃ¬m kiáº¿m sá»‘ lÆ°á»£ng khÃ¡ch hÃ ng cho má»—i Ä‘áº¥t nÆ°á»›câ€ Lá»‡nh nÃ y cÅ©ng hay Ä‘Æ°á»£c sá»­ dá»¥ng vá»›i cÃ¡c phÃ©p toÃ¡n gá»™p láº¡i nhÆ° COUNT, MAX, MIN, SUM, AVG Ä‘á»ƒ nhÃ³m káº¿t quáº£ cá»§a táº­p káº¿t quáº£ khi group thÃ nh 1 hoáº·c nhiá»u cá»™t 1.1. CÃº phÃ¡pCÃº phÃ¡p chung cá»§a cÃº phÃ¡p nÃ y Ä‘Æ°á»£c w3schools giá»›i thiá»‡u nhÆ° sau:12345SELECT column_name(s)FROM table_nameWHERE conditionGROUP BY column_name(s)ORDER BY column_name(s);NhÆ° cÃº phÃ¡p chung á»Ÿ trÃªn chÃºng ta cÃ³ thá»ƒ tháº¥y nhá»¯ng cá»™t Ä‘Æ°á»£c group thÃ¬ má»›i cÃ³ thá»ƒ SELECT. Äiá»u nÃ y cÅ©ng dá»… hiá»ƒu, vÃ­ dá»¥ nhÆ° báº¡n thá»±c hiá»‡n láº¥y ra tÃªn cá»§a khÃ¡ch hÃ ng Ä‘Ã³ trong 1 nhÃ³m khÃ¡ch hÃ ng cá»§a má»—i quá»‘c gia, tÃªn há» khÃ¡c nhau, cÃ¢u há»i Ä‘áº·t ra lÃ  chÃºng ta láº¥y tÃªn cá»§a ai? 1.2. ONLY_FULL_GROUP_BY modeTheo trang chá»§ mysql, cháº¿ Ä‘á»™ nÃ y tá»« chá»‘i cÃ¡c truy váº¥n cÃ¡i mÃ  cÃ³ danh sÃ¡ch select, Ä‘iá»u kiá»‡n HAVING hoáº·c ORDER BY cÃ³ cÃ¡c cá»™t káº¿t há»£p tá»« nhÃ³m (nonaggregated columns) khÃ´ng trong GROUP BY hoáº·c khÃ´ng trong cÃ¡c hÃ m (Ä‘á»ƒ xÃ¡c Ä‘á»‹nh duy nháº¥t giÃ¡ trá»‹) bá»Ÿi GROUP BY. VÃ¬ lÃºc Ä‘Ã³, báº¡n láº¥y tÃªn khÃ¡ch hÃ ng nhÆ°ng nÃ³ sáº½ khÃ´ng biáº¿t láº¥y theo tÃªn nÃ o trong cÃ¹ng 1 group vÃ¬ nÃ³ quÃ¡ nhiá»u tÃªn khÃ¡c nhau. Äiá»u Ä‘Ã³ cÃ³ nghÄ©a khi báº¡n truy váº¥n nhÆ° sau sáº½ bá»‹ bÃ¡o lá»—i:12Error Code: 1055. Expression #1 of SELECT list is not in GROUP BY clause and contains nonaggregated column 'posts.id' which is not functionally dependent on columns in GROUP BY clause; this is incompatible with sql_mode=only_full_group_byCháº¿ Ä‘á»™ nÃ y Ä‘Æ°á»£c máº·c Ä‘á»‹nh báº­t ká»ƒ tá»« MySQL 5.7, giÃºp truy váº¥n cá»§a báº¡n chÃ­nh xÃ¡c hÆ¡n, vÃ  tá»‘t hÆ¡n háº¿t báº¡n cÅ©ng nÃªn báº­t nÃ³ náº¿u chÆ°a báº­t. TÃºm cÃ¡i vÃ¡y láº¡i, cÃº phÃ¡p chuáº©n cá»§a GROUP BY lÃ  khi SELECT, ORDER BY, HAVING thÃ¬ cÃ¡c cá»™t cáº§n Ä‘Æ°á»£c trong GROUP BY hoáº·c cÃ¡c hÃ m Ä‘á»ƒ xÃ¡c Ä‘á»‹nh cá»™t duy nháº¥t, do váº­y chÃºng ta nÃªn tuÃ¢n theo.123456789/* Select, having, order by cÃ¡c cá»™t trong GROUP BY cáº§n pháº£i thá»a mÃ£n 1 trong 2 Ä‘iá»u kiá»‡n- CÃ¡c cá»™t Ä‘Æ°á»£c GROUP BY- CÃ¡c cá»™t trong cÃ¡c hÃ m &quot;gá»™p dá»¯ liá»‡u&quot; thÃ nh 1 dá»¯ liá»‡u duy nháº¥t: COUNT, MAX, MIN, SUM, AVG*/SELECT COUNT(CustomerID), CountryFROM CustomersGROUP BY CountryORDER BY COUNT(CustomerID) DESC; 2. CREATE OR UPDATE 1 báº£n ghiNáº¿u báº¡n muá»‘n táº¡o 1 báº£n ghi khi khÃ³a chÆ°a tá»“n táº¡i hoáº·c cáº­p nháº­t nÃ³ náº¿u khÃ³a Ä‘Ã£ tá»“n táº¡i, báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng1INSERT ... ON DUPLICATE KEY UPDATE StatementRef: https://dev.mysql.com/doc/refman/5.7/en/insert-on-duplicate.html https://www.mysqltutorial.org/mysql-insert-or-update-on-duplicate-key-update/ VÃ­ dá»¥:12345INSERT INTO devices(name) VALUES ('Printer') ON DUPLICATE KEY UPDATE name = 'Printer'; 12INSERT INTO t1 (a,b,c) VALUES (1,2,3),(4,5,6) ON DUPLICATE KEY UPDATE c=VALUES(a)+VALUES(b); 3. UPDATE nhiá»u báº£n ghi cÃ¹ng 1 lÃºc vá»›i key khÃ¡c nhauThÃ´ng thÆ°á»ng khi update 10 users vá»›i id khÃ¡c nhau, chÃºng ta sáº½ nghÄ© ngay Ä‘áº¿n viá»‡c cháº¡y 10 cÃ¢u lá»‡nh UPDATE123UPDATE CustomersSET ContactName = 'Alfred Schmidt', City= 'Frankfurt'WHERE CustomerID = 1;ChÃºng ta tháº¥y cÃ¢u lá»‡nh nÃ y chá»‰ cÃ³ thá»ƒ cáº­p nháº­t 1 báº£n ghi vá»›i Ä‘iá»u kiá»‡n ID 1 lÃºc. Hmm, váº­y liá»‡u cÃ³ cÃ¡ch nÃ o thá»±c hiá»‡n 1 cÃ¢u lá»‡nh mÃ  cáº­p nháº­t Ä‘Æ°á»£c 10 báº£n ghi. CÃ¢u tráº£ lá»i lÃ  cÃ³, báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng WHEN vÃ  CASE Ä‘á»ƒ lÃ m viá»‡c nÃ y:123456789101112UPDATE mytableSET key = CASE id WHEN 1 THEN 'key' WHEN 2 THEN 'another_key' WHEN 3 THEN 'some_key'END, value = CASE id WHEN 1 THEN 15 WHEN 2 THEN 25 WHEN 3 THEN 45 ENDWHERE id IN (1, 2, 3)Trong Laravel, báº¡n cÃ³ thá»ƒ cá»¥ thá»ƒ hÃ³a nÃ³ bá»Ÿi hÃ m sau123456789101112131415161718192021public static function updateValues(array $values){ $table = MyModel::getModel()-&gt;getTable(); $cases = []; $ids = []; $params = []; foreach ($values as $id =&gt; $value) { $id = (int) $id; $cases[] = &quot;WHEN {$id} then ?&quot;; $params[] = $value; $ids[] = $id; } $ids = implode(',', $ids); $cases = implode(' ', $cases); $params[] = Carbon::now(); return \\DB::update(&quot;UPDATE `{$table}` SET `value` = CASE `id` {$cases} END, `updated_at` = ? WHERE `id` in ({$ids})&quot;, $params);}Ref: https://github.com/laravel/ideas/issues/575#issuecomment-300731748 Váº­y khi tÃ´i update 1k báº£n ghi hay 1M báº£n ghi, tÃ´i cÅ©ng cÃ³ thá»ƒ sá»­ dá»¥ng lá»‡nh nÃ y. CÃ¢u tráº£ lá»i lÃ  khÃ´ng. CÃ¢u truy váº¥n lÃ  má»™t pháº§n dá»¯ liá»‡u Ä‘Æ°á»£c truyá»n láº¡i giá»¯a client vÃ  mÃ¡y chá»§ SQL, vÃ  lÆ°á»£ng dá»¯ liá»‡u nÃ y Ä‘Æ°á»£c giá»›i háº¡n bá»Ÿi tham sá»‘ max_allowed_packet trong config. Náº¿u báº¡n sá»­ dá»¥ng 1M báº£n ghi, Ä‘á»™ dÃ i cÃ¢u truy váº¥n trÃªn rÃµ rÃ ng ráº¥t nhiá»u dáº«n Ä‘áº¿n lÆ°á»£ng dá»¯ liá»‡u truyá»n giá»¯a client vÃ  mÃ¡y chá»§ SQL tÄƒng vÆ°á»£t quÃ¡ max_allowed_packet, káº¿t quáº£ truy váº¥n sáº½ lÃ  quang tÃ¨o. ThÃ´i thÃ¬ ta cá»© cáº­p nháº­t 10 hoáº·c 100 báº£n ghi 1 lÃºc thÃ´i, nhiá»u hÆ¡n thÃ¬ ta láº¡i chia ra Ä‘á»ƒ update nhiá»u láº§n váº­y :D 4. Äiá»u chá»‰nh config mysqlÄá»ƒ Ä‘iá»u chá»‰nh config MySQL nhÆ° set cÃ¡c mode, Ä‘iá»u chá»‰nh cÃ¡c tham sá»‘, báº¡n cÃ³ thá»ƒ cd vÃ o thÆ° má»¥c /etc12cd /etc/mysqlvi mysql.cnfThÆ° má»¥c nÃ y chÃ­nh lÃ  cÃ¡c cáº¥u hÃ¬nh cá»§a MySQL. Má»Ÿ nÃ³ ra xem cÃ³ gÃ¬ nÃ o:123456789101112131415161718192021## The MySQL database server configuration file.## You can copy this to one of:# - &quot;/etc/mysql/my.cnf&quot; to set global options,# - &quot;~/.my.cnf&quot; to set user-specific options.# # One can use all long options that the program supports.# Run program with --help to get a list of available options and with# --print-defaults to see which it would actually understand and use.## For explanations see# http://dev.mysql.com/doc/mysql/en/server-system-variables.html## * IMPORTANT: Additional settings that can override those from this file!# The files must end with '.cnf', otherwise they'll be ignored.#!includedir /etc/mysql/conf.d/!includedir /etc/mysql/mysql.conf.d/Pháº§n comment giá»›i thiá»‡u khÃ¡ chi tiáº¿t nhá»‰ =)). Pháº§n includedir lÃ  Ä‘Æ°á»ng dáº«n thÆ° má»¥c con cáº¥u hÃ¬nh. Di chuyá»ƒn vÃ o Ä‘Ã³ vÃ  thay Ä‘á»•i cÃ¡c cáº¥u hÃ¬nh báº¡n muá»‘n thÃ´i:1vi mysql.conf.d/mysqld.cnf Náº¿u khÃ´ng thÃ­ch Ä‘iá»u chá»‰nh trá»±c tiáº¿p vÃ o file config, báº¡n cÅ©ng cÃ³ thá»ƒ Ä‘iá»u chá»‰nh qua phiÃªn lÃ m viá»‡c thÃ´i, báº±ng cÃ¡ch sá»­ dá»¥ng cÃ¡c hÃ m trong SQL VÃ­ dá»¥ sau lÃ  Ä‘iá»u chá»‰nh mode nÃ¨1234567/* Xem cÃ¡c mode trong SQL */SELECT @@GLOBAL.sql_mode;SELECT @@SESSION.sql_mode;/* Äiá»u chá»‰nh cÃ¡c mode trong SQL */SET GLOBAL sql_mode = 'modes';SET SESSION sql_mode = 'modes'; Nguá»“n tham kháº£o Äá»“ng Ä‘á»™i â€¦..","link":"/2020/04/03/SQL-Note-1-GROUP-BY-create-update-multiple-records-Config-MySQL/"},{"title":"[Regex] Regex Cheatsheet and Practice","text":"Má»™t vÃ i note cho regex trong nhá»¯ng ngÃ y cuá»‘i nÄƒm 2019 nÃ o!!!! 1. CheatsheetNguá»“n: https://devhints.io/regexp. VÃ  Nguá»“n: http://regextutorials.com/intro.html?Basic%20symbols 2. Má»™t vÃ i note cho regexRegex lÃ  cÃ´ng cá»¥ máº¡nh máº½ chuyÃªn xá»­ lÃ½ chuá»—i. NÃ³ cÃ³ thá»ƒ: Kiá»ƒm tra, validate dá»¯ liá»‡u: kiá»ƒm tra má»™t cÃ¢u cÃ³ chá»©a hoáº·c khÃ´ng chá»©a má»™t tá»«, cá»¥m tá»« nÃ o khÃ´ng, cÃ³ Ä‘Ãºng theo 1 biá»ƒu thá»©c chÃ­nh quy ná»¯a khÃ´ng? Thay tháº¿: thay tháº¿ chuá»—i nÃ y báº±ng má»™t chuá»—i má»›i. CÃ¡i nÃ y khÃ¡ hay vÃ  máº¡nh :D Láº¥y giÃ¡ trá»‹: láº¥y giÃ¡ trá»‹ cÃ¡c chuá»—i sau má»™t biá»ƒu thá»©c chÃ­nh quy 2.1. Symbol repetitionÄÃºng nhÆ° tÃªn gá»i cá»§a nÃ³, cÃ¡c kÃ½ tá»± nÃ y Ä‘áº¡i diá»‡n cho cÃ¡c kÃ­ tá»± sau Ä‘Ã³. CÃ²n Ä‘áº¡i diá»‡n cho 1 hay 0, hay nhiá»u kÃ­ tá»± thÃ¬ phá»¥ thuá»™c vÃ o báº¡n dÃ¹ng kÃ­ tá»± nÃ o nhÃ© :D. CÃ¡c kÃ½ tá»± láº·p láº¡i nhÆ° tháº¿ nÃ y gÃ¢y ra khÃ³ hiá»ƒu cho tÃ´i há»“i má»›i Ä‘á»c. Trong vÃ­ dá»¥ giáº£i thÃ­ch sáº½ nÃ³i vá» \\*. TrÃ¹ng 0 hoáº·c nhiá»u á»Ÿ Ä‘Ã¢y sáº½ hiá»ƒu lÃ  trÃ¹ng vá»›i kÃ­ tá»± trÆ°á»›c nÃ³. Ta xÃ©t vÃ­ dá»¥ \\d\\d*: \\d: kÃ­ tá»± Ä‘áº§u tiÃªn lÃ  sá»‘ \\d* kÃ­ tá»± sau sáº½ cÃ³ 2 kháº£ nÄƒng: Match 0: khÃ´ng cÃ³ gÃ¬ cáº£ Match more: cÃ³ vÃ  vá»›i Ä‘iá»u kiá»‡n táº¥t cáº£ pháº£i lÃ  sá»‘ (more mÃ ) Do Ä‘Ã³ \\d\\d* lÃ  sá»‘ vá»›i Ä‘á»™ dÃ i báº¥t ká»³. Váº­y nÃ³ khÃ¡c gÃ¬ vá»›i \\d* Match 0: khÃ´ng cÃ³ gÃ¬, kÃ­ tá»± trá»‘ng. Thá»±c táº¿ lÃ  cÃ¡c kÃ­ tá»± Ä‘á» Ä‘á» ngÄƒn cÃ¡ch má»—i kÃ½ tá»± (kÃ­ tá»± Ä‘á» Ä‘á» á»Ÿ Ä‘Ã¢y nhÃ© :v https://regex101.com/) Match more: rÃµ rÃ ng trÆ°á»›c há»£p trÃªn khÃ´ng cÃ³ thÃ¬ sá»­ dá»¥ng trÆ°á»ng há»£p nÃ y rá»“i. NÃ³ cÅ©ng lÃ  sá»‘ vá»›i Ä‘á»™ dÃ i báº¥t kÃ¬. NhÆ° váº­y cáº£ \\d* vÃ \\d\\d* Ä‘á»u lÃ  sá»‘ cÃ³ Ä‘á»™ dÃ i báº¥t kÃ¬, \\d* báº¯t cáº£ kÃ­ tá»± rá»—ng vÃ  khÃ´ng nÃªn sá»­ dá»¥ng. Theo tÃ´i khi sá»­ dá»¥ng cÃ¡c kÃ­ tá»± láº·p láº¡i cÃ³ thá»ƒ match 0 (\\* vÃ  ?), khÃ´ng nÃªn Ä‘á»ƒ kÃ­ tá»± trÆ°á»›c nÃ³ Ä‘á»©ngÄ‘á»™c láº­p 1 kÃ½ tá»± khÃ¡c Ä‘á»ƒ trÃ¡nh viá»‡c láº¥y pháº§n match 0 (cÃ¡c kÃ­ tá»± khÃ´ng cÃ³ gÃ¬). \\d*, \\d? =&gt; khÃ´ng nÃªn vÃ¬ nÃ³ láº¥y cáº£ kÃ½ tá»± rá»—ng \\d*minh, s?he =&gt; OK 2.2. Line and word breaks and spaces ^: báº¯t Ä‘áº§u 1 dÃ²ng $: káº¿t thÃºc 1 dÃ²ng \\b: Ä‘áº¡i diá»‡n cáº£ báº¯t Ä‘áº§u vÃ  káº¿t thÃºc 1 tá»« luÃ´n In regular expressions, there are symbols that do not correspond to a character, but to a position. ^ and $ stand for start and end of line. While \\b means a word boundary. Try using ^\\w+ and \\w+$ to match the first and last word in each line. \\b\\w and \\w\\b will match first and last letter in word. Finally, use \\s to match any space symbols whatsoever. CÃ¡i nÃ y dÃ¹ng Ä‘á»ƒ xÃ¡c Ä‘á»‹nh pháº¡m vi báº¡n muá»‘n sá»­ dá»¥ng regex. Báº¡n muá»‘n check cáº£ cÃ¢u thá»a mÃ£n Ä‘iá»u kiá»‡n hay tÃ¬m tá»«ng chuá»—i má»™t thá»a mÃ£n. Váº­y ^[^abc]+$ vÃ  [^abc]+ khÃ¡c nhau cÃ¡i gÃ¬ váº­y? ^[^abc]+$: kiá»ƒm tra cáº£ cÃ¢u khÃ´ng chá»©a a,b,c? =&gt; tráº£ vá» cáº£ cÃ¢u náº¿u phÃ¹ há»£p [^abc]+: kiá»ƒm tra cÃ¡c kÃ½ tá»± trong cÃ¢u, tráº£ vá» cÃ¡c kÃ­ tá»± khÃ´ng chá»©a abc 2.3. Grouping matches and replacingCÃ¡i nÃ y cÅ©ng lÃ  cÃ¡i khÃ¡ hay trong regex. Báº¡n cÃ³ thá»ƒ nhÃ³m cÃ¡c pháº§n trÃ¹ng vá»›i nhau báº±ng cÃ¡ch Ä‘áº·t chÃºng trong dáº¥u (). Sau Ä‘Ã³ báº¡n cÃ³ thá»ƒ tham chiáº¿u Ä‘áº¿n cÃ¡c nhÃ³m nÃ y báº±ng cÃ¡ch sá»­ dá»¥ng \\1,\\2, etc. VÃ­ dá»¥ (\\w)\\1 trÃ¹ng vá»›i 1 vÃ i kÃ­ tá»± Ä‘Æ°á»£c láº·p láº¡i 2 láº§n (\\1 láº·p láº¡i cá»§a \\w vÃ¬ Ä‘Æ°á»£c nhÃ³m vÃ o trong nhÃ³m 1 mÃ ) Äiá»ƒm quan trá»ng nháº¥t lÃ  báº¡n cÃ³ thá»ƒ nhÃ³m cho sá»± thay tháº¿, tham chiáº¿u chÃºng bá»Ÿi sá»‘: $2, $1 â€¦ trong viá»‡c thay tháº¿ cÃ¡c biá»ƒu thá»©c. HÃ£y thá»­ thay tháº¿ format tÃªn nhÆ° dÆ°á»›i Ä‘Ã¢y tá»« John Smith thÃ nh Smith,John báº±ng cÃ¡ch thay tháº¿ (\\w+)\\s(\\w+) báº±ng $2,$1. Tháº­t tuyá»‡t. Náº¿u báº¡n muá»‘n sá»­ dá»¥ng dáº¥u ngoáº·c Ä‘Æ¡n nhÆ°ng khÃ´ng tÃ­nh lÃ  nhÃ³m láº¡i, sá»­ dá»¥ng (?:expression) 2.4. Lookaheads(?=) Ä‘Æ°á»£c gá»i lÃ  lookaheads. abc(?=d) sáº½ trÃ¹ng abc chá»‰ náº¿u nÃ³ Ä‘Æ°á»£c theo sau bá»Ÿi d (hiá»ƒu lÃ  kÃ­ tá»± ngay sau Ä‘Ã³ lÃ  d). ChÃº Ã½ lÃ  d sáº½ khÃ´ng trong giÃ¡ trá»‹ trÃ¹ng (giÃ¡ trá»‹ thá»a mÃ£n chá»‰ lÃ  abc, khÃ´ng pháº£i abcd). Thá»­ sá»­ dá»¥ng\\w+(?=\\.) Ä‘á»ƒ trÃ¹ng vá»›i cÃ¡c tá»« cuá»‘i cÃ¹ng trong 1 cÃ¢u. abc(?!d) sáº½ trÃ¹ng vá»›i abc KHÃ”NG theo sau lÃ  d. Thá»­ sá»­ dá»¥ng \\w+(?!\\.)\\b Ä‘á»ƒ trÃ¹ng vá»›i táº¥t cáº£ cÃ¡c tá»« khÃ´ng pháº£i lÃ  kÃ­ tá»± cuá»‘i cÃ¹ng cá»§a 1 cÃ¢u (káº¿t thÃºc báº±ng dáº¥u cháº¥m). Negative lookahead cÃ³ thá»ƒ check Ä‘Æ°á»£c cáº£ chuá»—i KHÃ”NG chá»©a chuá»—i con nÃ o Ä‘Ã³ :D. VÃ­ dá»¥: use negative lookahead â€˜?!â€™ to check that there is no word â€˜chocolateâ€™ ahead at every position between the start and end of line. HÃ£y nhá»› ráº±ng cÃ¡c lookaheads cÅ©ng khÃ´ng nÃªn Ä‘á»©ng Ä‘á»™c láº­p vÃ¬ â€œChÃº Ã½ lÃ  d sáº½ khÃ´ng trong giÃ¡ trá»‹ trÃ¹ng (giÃ¡ trá»‹ thá»a mÃ£n chá»‰ lÃ  abc, khÃ´ng pháº£i abcd)â€, náº¿u Ä‘á»©ng Ä‘á»™c láº­p nÃ³ báº¯t cáº£ kÃ­ tá»± rá»—ng nhÆ° match 0 Ä‘Ã³. Do váº­y báº¡n muá»‘n báº¯t 1 kÃ­ tá»± khÃ´ng chá»©a abc thÃ¬ khÃ´ng thá»ƒ viáº¿t (?!abc)+ vÃ¬ báº£n thÃ¢n (?!abc) khÃ´ng Ä‘áº¡i diá»‡n kÃ­ tá»± gÃ¬. NÃ³ cáº§n pháº£i cÃ³ kÃ­ tá»± trÆ°á»›c hoáº·c sau Ä‘i kÃ¨m nhÆ° .(?!abc) hay (?!abc). vÃ  2 cÃº phÃ¡p nay thá»±c cháº¥t chá»‰ Ä‘áº¡i diá»‡n cho 1 kÃ­ tá»± (vÃ¬ nháº¯c láº§n 2, hÃ£y nhá»› ráº±ng giÃ¡ trá»‹ lookahead khÃ´ng trong giÃ¡ trá»‹ trÃ¹ng) 3. Regex excercises3.2. BÃ i toÃ¡n láº¥y cÃ¡c nÄƒm trÆ°á»›c 1990Ã tÆ°á»Ÿng: kÃ­ tá»± Ä‘áº§u tiÃªn lÃ  1, kÃ­ tá»± tiáº¿p theo tá»« 0-8, kÃ­ tá»± tiáº¿p theo cÃ³ 2 kháº£ nÄƒng: náº¿u lÃ  9 thÃ¬ kÃ­ tá»± thá»© 4 lÃ  0, náº¿u lÃ  0-8 thÃ¬ kÃ­ tá»± tiáº¿p theo lÃ  tá»« 0-9 =&gt; Biá»ƒu thá»©c regex: .*(1[0-9]([0-8][0-9]|90)\\)). CÃ³ thá»ƒ rÃºt gon [0-9]=&gt;\\d. ta cÃ³ biá»ƒu thá»©c.*(1\\d([0-8]\\d|90))\\) 3.4. Grayscale colorsBÃ i toÃ¡n sá»­ dá»¥ng regex vá»›i sá»± thay tháº¿. BÃ i toÃ¡n tÃ¬m cÃ¡c mÃ u red, green and blue, cÃ¡c mÃ u mÃ  cÃ³ mÃ£ láº·p láº¡i (12 hoáº·c 24 bit) Ã tÆ°á»Ÿng: DÃ¹ng \\1,\\2 Ä‘á»ƒ dÃ¹ng cho cÃ¡c kÃ­ tá»± láº·p láº¡i, nhÃ³m vá»›i nhau báº±ng dáº¥u () Do 2 trÆ°á»ng há»£p 12 hoáº·c 24 bit nÃªn dÃ¹ng {1,2} cho bÃ i toÃ¡n nÃ y The solution is: #([0-9a-fA-F]{1,2})\\1\\1 3.6. Remove repeating wordsMá»™t bÃ i toÃ¡n ná»¯a sá»­ dá»¥ng regex cho sá»± thay tháº¿ chuá»—i hiá»‡u quáº£. BÃ i toÃ¡n sáº½ lÃ  lá»c cÃ¡c tá»« láº·p láº¡i trong cÃ¢u sau: It was a chilly November afternoon. I had just just consummated an unusually hearty dinner, of which the dyspeptic truffe formed not the least important item, and was sitting alone in the dining-room dining-room, with my feet upon the the fender, and at my elbow a small table which I had rolled up to the fire, and upon which were some apologies for dessert, with some miscellaneous bottles bottles of wine, spirit and liqueur. In the morning I had had been reading Gloverâ€™s â€œLeonidasâ€, Wilkieâ€™s Wilkieâ€™s â€œEpigoniadâ€, Lamartineâ€™s â€œPilgrimageâ€, Barlowâ€™s â€œColumbiadâ€, Tuckermannâ€™s â€œSicilyâ€, and Griswoldâ€™s â€œCuriositiesâ€ ; I am willing to confess, therefore, that I now felt a little stupid. Ã tÆ°á»Ÿng: Äáº§u tiÃªn ta pháº£i xem cÃ³ cÃ¡c tá»« nÃ o láº·p láº¡i khÃ´ng. Sá»­ dá»¥ng \\1 Ä‘á»ƒ tÃ¬m cÃ¡c tá»« láº·p, káº¿t há»£p \\b Ä‘á»ƒ lÃ  báº¯t Ä‘áº§u vÃ  káº¿t thÃºc cá»§a 1 tá»«. =&gt; VÄƒn phong khi tÃ¬m tá»« láº·p sáº½ lÃ : báº¯t Ä‘áº§u 1 tá»«, tá»« báº¥t kÃ¬, dáº¥u cÃ¡ch, tá»« tiáº¿p theo cÃ³ pháº£i tá»« Ä‘Ã³ khÃ´ng, káº¿t thÃºc 1 tá»«. =&gt; Biá»ƒu thá»©c regex:\\b(.+)\\s(\\1)\\bThay tháº¿ thÃ¬ easy quÃ¡, thay tháº¿ $1 lÃ  Ä‘Æ°á»£c :D 3.9. Digit commas formattingBÃ i toÃ¡n format dÃ¢n sá»‘ cÃ¡c quá»‘c gia1234567891011Ten Countries with the Highest Population:1 China 13612200002 India 1236800000 3 United States 317121000 4 Indonesia 2376413265 Brazil 201032714 6 Pakistan 184872000 7 Nigeria 173615000 8 Bangladesh 152518015 9 Russia 143600000 10 Japan 127290000Vá» dáº¡ng1234567891011Ten Countries with the Highest Population:1 China 1,361,220,0002 India 1,236,800,000 3 United States 317,121,000 4 Indonesia 237,641,3265 Brazil 201,032,714 6 Pakistan 184,872,000 7 Nigeria 173,615,000 8 Bangladesh 152,518,015 9 Russia 143,600,000 10 Japan 127,290,000Ã tÆ°á»Ÿng: ChÃºng ta sáº½ láº¥y ra nhá»¯ng sá»‘ mÃ  theo sau nÃ³ lÃ  3,6,9â€¦ chá»¯ sá»‘ vÃ  kÃ­ tá»± káº¿t thÃºc lÃ  káº¿t thÃºc tá»« (kiá»ƒu tÃ­nh tá»« cuá»‘i tá»« lÃªn)=&gt; sá»­ dá»¥ng lookahead Thay tháº¿ nÃ³ bá»Ÿi nÃ³ vÃ  dáº¥u , lÃ  Ä‘Æ°á»£c :DKáº¿t quáº£:Replace: \\d(?=(\\d{3})+\\b) with $1, 3.13. Validate AM/PM time formatValid and invalid time: 00:15 AM 7:40 AM 8:51 AM 8:61 AM 09:59 1:00 PM 2:00 PM 19:34 PM Ã tÆ°á»Ÿng: cÃ¡i khÃ³ á»Ÿ Ä‘Ã¢y lÃ  viáº¿t kÃ­ tá»± Ä‘áº¡i diá»‡n cho giá». Giá» cÃ³ thá»ƒ lÃ  1 sá»‘ hoáº·c 2 sá»‘, nhá» hÆ¡n 12. Ta cÃ³ thá»ƒ dÃ¹ng ? Ä‘á»ƒ lÃ m viá»‡c nÃ yThe solution is:\\b(0?\\d|1[0-2]):[0-5]\\d (AM|PM) 3.17. Validate 32 or 24 bit hexadecimal colors White: #ffffff, #ffffffff Black:#000000 #000000ff Semitrnasparent green: #00ff0088 Nonhexadecimal: #00ffhh #agaeffe0 Wrong bytes count:#00ff00f #fffff #888888fff Äá»ƒ sá»­ dá»¥ng Ä‘á»™ dÃ i chÃ­nh xÃ¡c cá»§a 1 chuá»—i, sá»­ dá»¥ng {n} The solution is: #(([0-9a-f]{6})|([0-9a-f]{8}))\\b 3.21. Strings not containing wordTÃ¬m kiáº¿m táº¥t cáº£ cÃ¡c cÃ´ng thá»©c khÃ´ng chá»©a tá»« â€˜chocolateâ€™ Cake 1: sugar, flour, cocoa powder, baking powder, baking soda, salt, eggs, milk, vegetable oil, vanilla extract, chocolate chips Cake 2: cream cheese, sugar, vanilla extract, crescent rolls, cinnamon, butter, honey Cake 3: dark chocolate cake mix, instant chocolate pudding mix, sour cream, eggs, vegetable oil, coffee liqueur Cake 4: flour, baking powder, salt, cinnamon, butter, sugar, egg, vanilla extract, milk, chopped walnuts Cake 5: gingersnap cookies, chopped pecans, butter, cream cheese, sugar, vanilla extract, eggs, canned pumpkin, cinnamon Cake 6: flour, baking soda, sea salt, butter, white sugar, brown sugar, eggs, vanilla extract, chocolate chips, canola oil Cake 7: wafers, cream cheese, sugar, eggs, vanilla extract, cherry pie filling Ã tÆ°á»Ÿng: Sá»­ dá»¥ng lookahead (?!) Ä‘á»ƒ kiá»ƒm tra thÃ´i VÃ¬ nÃ³ lÃ  kiá»ƒm tra cÃ¢u, pháº£i sá»­ dá»¥ng ^ vÃ  $ The solution is: ^(.(?!chocolate))*$ Tá»•ng káº¿t Náº¿u kiá»ƒm tra cáº£ má»™t cÃ¢u, má»™t tá»« cÃ³ phÃ¹ há»£p regex, sá»­ dá»¥ng ^ vÃ  $ hoáº·c \\b, toÃ n náº¿u chá»‰ muá»‘n láº¥y chuá»—i thá»a mÃ£n regex thÃ¬ khÃ´ng cáº§n. CÃ¡c kÃ­ tá»± láº·p láº¡i (Symbol repetition) Ä‘áº¡i diá»‡n cho cÃ¡c kÃ­ tá»± tiáº¿p theo, sá»‘ lÆ°á»£ng cÃ¡c kÃ­ tá»± tiáº¿p theo lÃ  bao nhiÃªu thÃ¬ phá»¥ thuá»™c báº¡n dÃ¹ng kÃ­ tá»± nÃ o. *,\\?,+ hay {} báº£n cháº¥t nhÆ° nhau háº¿t (vÃ­ dá»¥ nhÆ° * tÆ°Æ¡ng Ä‘Æ°Æ¡ng x{0,}) Lookaheads (?=minh), (?!minh) khÃ¡ hay, nÃ³ cho phÃ©p báº¡n check Ä‘Æ°á»£c cáº£ sau 1 tá»« cÃ³ chuá»—i hay khÃ´ng cÃ³ chuá»—i con nÃ o Ä‘Ã³. NhÃ¬n nguy hiá»ƒm váº­y thÃ´i chá»© a(?!abcdef) cÅ©ng chá»‰ Ä‘áº¡i diá»‡n cho 1 kÃ­ tá»±, nÃ³ khÃ¡c vá»›i regex a á»Ÿ chá»— check thÃªm sau a khÃ´ng Ä‘Æ°á»£c chá»©a chuá»—i abcdef Match 0 hay lookaheads khÃ´ng nÃªn Ä‘á»©ng Ä‘á»™c láº­p(\\d*, (?!abc)\\*) vÃ¬ nÃ³ báº¯t cáº£ kÃ­ tá»± rá»—ng (Ä‘á» Ä‘á» :v)) nÃ³ cáº§n káº¿t há»£p thÃªm cÃ¡c kÃ­ tá»± khÃ¡c Ä‘á»ƒ báº¯t chuáº©n hÆ¡n (\\d\\d* hay minh(?!abc)*) \\1, \\2 vÃ  $1, $2, (?:expression) báº¡n cÃ³ thá»ƒ nháº¯c láº¡i chÃºng?? Báº¡n cÃ³ thá»ƒ Ä‘á»‹nh nghÄ©a regex qua 2 cÃ¡ch: cÃ¡c kÃ­ tá»± Ä‘Æ°á»£c phÃ©p sá»­ dá»¥ng [abc] hoáº·c cÃ¡c kÃ­ tá»± khÃ´ng Ä‘Æ°á»£c phÃ©p sá»­ dá»¥ng [^abc], tÃ¹y tá»«ng trÆ°á»ng há»£p mÃ  sá»­ dá»¥ng cho phÃ¹ há»£p nhÃ©. TÃ i liá»‡u tham kháº£o: https://regex101.com/ http://regextutorials.com/intro.html?Basic%20symbols https://devhints.io/regexp","link":"/2019/12/29/Regex-Regex-Cheatsheet-and-Practice/"},{"title":"STRIPE - LiÃªn há»‡ bÃ i toÃ¡n sá»­ dá»¥ng máº¡ng hÃ ng thÃ¡ng vÃ  STRIPE","text":"Äá»‘i vá»›i cÃ¡c há»‡ thá»‘ng thÆ°Æ¡ng máº¡i Ä‘iá»‡n tá»­, viá»‡c sá»­ dá»¥ng cÃ¡c dá»‹ch vá»¥ thanh toÃ¡n trá»±c tuyáº¿n Ä‘Ã£ trá»Ÿ nÃªn phá»• biáº¿n. STRIPE lÃ  má»™t trong sá»‘ Ä‘Ã³ bÃªn cáº¡nh ráº¥t nhiá»u dá»‹ch vá»¥ khÃ¡c nhÆ° PayPal, Payment Asia hay cÃ¡c há»‡ thá»‘ng thanh toÃ¡n ngÃ¢n hÃ ng trong nÆ°á»›c hoáº·c á»©ng dá»¥ng vÃ­ Ä‘iá»‡n tá»­ nhÆ° Momo. CÃ¡c há»‡ thá»‘ng nÃ y cÃ³ vai trÃ² nhÆ° má»™t bÃªn thá»© 3, há»— trá»£ viá»‡c thanh toÃ¡n giá»¯a há»‡ thá»‘ng thÆ°Æ¡ng máº¡i Ä‘iá»‡n tá»­ vÃ  ngÆ°á»i dÃ¹ng, thuáº­n tiá»‡n hÆ¡n cho viá»‡c mua sáº¯m trá»±c tuyáº¿n. BÃ i viáº¿t sáº½ Ä‘Æ°a ra má»™t sá»‘ thÃ nh pháº§n cá»§a STRIPE vÃ  sá»± giáº£i thÃ­ch (hi vá»ng lÃ  dá»… hiá»ƒu :v) giá»¯a cÃ¡c thÃ nh pháº§n nÃ y vá»›i bÃ i toÃ¡n dá»‹ch vá»¥ máº¡ng báº¡n váº«n sá»­ dá»¥ng hÃ ng thÃ¡ng CustomerHÃ£y báº¯t Ä‘áº§u tá»« dá»‹ch vá»¥ Ä‘Äƒng kÃ­ gÃ³i máº¡ng hÃ ng thÃ¡ng nhÃ  báº¡n. Äáº§u tiÃªn báº¡n cáº§n Ä‘Äƒng kÃ­ má»™t tÃ i khoáº£n, má»™t báº£n há»£p Ä‘á»“ng, thÃªm phÆ°Æ¡ng thá»©c thanh toÃ¡n (nhÆ° tráº£ tiá»n máº·t, tráº£ qua ngÃ¢n hÃ ng, hay vÃ­ Ä‘iá»‡n tá»­). Báº¡n tráº£ luÃ´n tiá»n phÃ­ cho thÃ¡ng hoáº·c nÄƒm Ä‘áº§u tiÃªn báº¡n sá»­ dá»¥ng. Vá»›i STRIPE, báº¡n cáº§n táº¡o cho mÃ¬nh má»™t tÃ i khoáº£n stripe. Tiáº¿p Ä‘Ã³ báº¡n cáº§n thÃªm tháº» vÃ  phÆ°Æ¡ng thá»©c thanh toÃ¡n thÃ´ng qua Card API Ä‘á»ƒ tá»« Ä‘Ã³ cÃ³ thá»ƒ thá»±c hiá»‡n cÃ¡c giao dá»‹ch vá»›i STRIPE Product + PriceCÃ¡c nhÃ  máº¡ng sáº½ niÃªm yáº¿t giÃ¡ dá»‹ch vá»¥ bÄƒng thÃ´ng vÃ  báº¡n cÃ³ thá»ƒ tÃ¹y chá»n Ä‘á»ƒ sá»­ dá»¥ng GÃ³i sá»­ dá»¥ng hÃ ng thÃ¡ng bÃ¬nh dÃ¢n: 200k/thÃ¡ng, tá»‘c Ä‘á»™ 3Mbs GÃ³i sá»­ dá»¥ng hÃ ng thÃ¡ng VIP: 300k/thÃ¡ng, tá»‘c Ä‘á»™c 10Mbs GÃ³i sá»­ dá»¥ng theo nÄƒm thÃ´ng dá»¥ng: 2000k/nÄƒm, tá»‘c Ä‘á»™ 3Mbs GÃ³i sá»­ dá»¥ng theo nÄƒm VIP: 3000k/thÃ¡ng, tá»‘c Ä‘á»™ 10Mbs GÃ³i sá»­ dá»¥ng theo lÆ°u lÆ°á»£ng: dÃ¹ng bao nhiÃªu tráº£ báº¥y nhiÃªu â€¦. CÃ¡c gÃ³i dá»‹ch vá»¥ vÃ  giÃ¡ nhÆ° váº­y Ä‘Æ°á»£c STRIPE cá»¥ thá»ƒ thÃ nh Product vÃ  Price STRIPE cung cáº¥p cho báº¡n má»™t mÃ´ hÃ¬nh business vÃ  cÃ¡c dá»‹ch vá»¥ sáº£n pháº©m Ä‘áº·t á»Ÿ cÃ¹ng 1 nÆ¡i. CÃ¡c sáº£n pháº©m - Product (giÃ¡ bÄƒng thÃ´ng) xÃ¡c Ä‘á»‹nh nhá»¯ng gÃ¬ báº¡n bÃ¡n vÃ  giÃ¡ - Prices Ä‘á»ƒ theo dÃµi sá»‘ lÆ°á»£ng vÃ  táº§n suáº¥t tÃ­nh phÃ­. ChÃºng cÃ³ thá»ƒ Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ mua hÃ ng Ä‘á»‹nh ká»³ - hÃ ng ngÃ y, hÃ ng thÃ¡ng, hÃ ng nÄƒm (recurring) hoáº·c mua 1 láº§n vÃ  há»— trá»£ cÃ¡c cáº¥u trÃºc kinh doanh khÃ¡c nhau tá»« cÃ¡c cáº¥p Ä‘áº¿n thanh toÃ¡n dá»±a trÃªn má»©c sá»­ dá»¥ng. Product vÃ  Price lÃ  má»™t thá»±c thá»ƒ cá»‘t lÃµi (core entity) trong Stripe, dÃ¹ng cho cÃ¡c hoáº¡t Ä‘á»™ng subscription (Ä‘Äƒng kÃ­), incoices vÃ  Checkout. CÃ¡c loáº¡i giÃ¡ chi tiáº¿t Stripe há»— trá»£, cÃ³ thá»ƒ xem táº¡i https://stripe.com/docs/billing/prices-guide NhÆ° Ä‘Ã£ nÃ³i á»Ÿ trÃªn, cÃ¡c hoáº¡t Ä‘á»™ng â€œshoppingâ€ cho khÃ¡ch hÃ ng cá»¥ thá»ƒ báº±ng cÃ¡c invoice, subscription vÃ  Checkout. HÃ£y qua nhá»¯ng vÃ­ dá»¥ nhÃ© InvoiceCÃ¡i nÃ y cháº¯c cháº³n cáº§n nÃ³i báº¡n cÅ©ng biáº¿t. Khi mua hÃ ng, chÃºng ta sáº½ cÃ³ hÃ³a Ä‘Æ¡n Invoice Ä‘Æ°á»£c sá»­ dá»¥ng khi báº¡n mua hÃ ng trÃªn STRIPE, nÃ³ cÅ©ng giá»‘ng nhÆ° báº¡n mua cÃ¡c sáº£n pháº©m tá»« siÃªu thá»‹. HÃ³a Ä‘Æ¡n sá»­ dá»¥ng mua cÃ¡c sáº£n pháº©m cÃ¡c phÃ­ má»™t láº§n, cÃ²n vá»›i cÃ¡c phÃ­ Ä‘á»‹nh kÃ¬ báº¡n cÅ©ng cÃ³ thá»ƒ táº¡o. CÃ¡i mÃ  báº¡n cáº§n quan tÃ¢m vá»›i Invoice trong STRIPE tÃ´i nghÄ© lÃ  vÃ²ng Ä‘á»i vÃ  cÃ¡c tráº¡ng thÃ¡i cá»§a chÃºng SubscriptionNáº¿u chá»‰ cÃ³ hÃ³a Ä‘Æ¡n, báº¡n mua cÃ¡c dá»‹ch vá»¥ theo chu kÃ¬, sau 1 thÃ¡ng hay 1 nÄƒm, lÃ m sao há»‡ thá»‘ng cÃ³ thá»ƒ nhá»› Ä‘Æ°á»£c ngÃ y nÃ o báº¡n cáº§n thanh toÃ¡n tiáº¿p theo, Ä‘Ã£ thanh toÃ¡n gáº§n nháº¥t hÃ´m nao hay cÃ¡c thÃ´ng tin gÃ³i dá»‹ch vá»¥ báº¡n Ä‘ang sá»­ dá»¥ng káº¿t thÃºc khi nÃ o? Táº¥t nhiÃªn cÃ¡c nhÃ  máº¡ng pháº£i lÆ°u thÃ´ng tin Ä‘Ã³. Khi báº¡n ná»™p tiá»n cho má»—i thÃ¡ng, báº¡n sáº½ cÃ³ hÃ³a Ä‘Æ¡n, vÃ  Ä‘Æ¡n vá»‹ cung cáº¥p máº¡ng sáº½ lÆ°u thÃ´ng tin cá»§a báº¡n vÃ  cÃ¡c chu kÃ¬ sá»­ dá»¥ng, thanh toÃ¡n tiáº¿p theo. Vá»›i STRIPE báº¡n cÅ©ng cÃ³ thá»ƒ hoÃ n toÃ n lÆ°u cÃ¡c thÃ´ng tin nhÆ° váº­y qua Subscription. Vá»›i subscription, khÃ¡ch hÃ ng thá»±c hiá»‡n thanh toÃ¡n Ä‘á»‹nh kÃ¬ Ä‘á»ƒ cÃ³ quyá»n truy cáº­p vÃ o sáº£n pháº©m. Má»™t subscription cÃ³ váº» khÃ´ng khÃ¡c nhiá»u so vá»›i khi báº¡n mua má»™t chiáº¿c ao phÃ´ng hay chai nÆ°á»›c. Tuy nhiÃªn, Ä‘á»ƒ quáº£n lÃ½ cÃ¡c khoáº£n thanh toÃ¡n subscription, báº¡n cáº§n lÆ°u giá»¯ thÃªm cÃ¡c thÃ´ng tin vá» khÃ¡ch hÃ n cá»§a mÃ¬nh Ä‘á»ƒ cÃ³ thá»ƒ tá»± Ä‘á»™ng tÃ­nh phÃ­ cho há» trong tÆ°Æ¡ng lai vÃ  duy trÃ¬ cÃ¡c quyá»n truy cáº­p thÃ­ch há»£p tÃ­ch há»£p vÃ o sáº£n pháº©m cá»§a báº¡n. RÃµ rÃ ng vá»›i cÃ¡c sáº£n pháº©m cÃ³ giÃ¡ theo chu kÃ¬ nhÆ° váº­y, báº¡n cáº§n sá»­ dá»¥ng subscripton :D Má»™t cÃ¢u há»i Ä‘Æ°á»£c Ä‘áº·t ra lÃ  náº¿u nhÆ° subscription lÃ  cÃ¡c thÃ´ng tin thanh toÃ¡n trong tÆ°Æ¡ng lai, váº­y báº¡n cÃ³ thá»ƒ can thiá»‡p vÃ o cÃ¡c thÃ´ng tin nÃ y. VÃ­ dá»¥ nhÆ° há»§y hoáº·c tÆ°Æ¡ng lai hoáº·c Ä‘á»•i cÃ¡c gÃ³i dá»‹ch vá»¥ khÃ¡c? CÃ¢u tráº£ lá»i táº¥t nhiÃªn lÃ  Ä‘Æ°á»£c! Äáº§u tiÃªn tÃ´i muá»‘n nÃ³i Ä‘áº¿n trÆ°á»ng há»£p há»§y cÃ¡c subscription. Äá»‘i vá»›i há»§y, báº¡n cÃ³ thá»ƒ cÃ³ 2 lá»±a chá»n Há»§y ngay láº­p tá»©c mÃ  khÃ´ng cáº§n chá» Ä‘áº¿n háº¿t thÃ¡ng, khi Ä‘Ã³ sáº½ gá»i Ä‘áº¿n API cancel subscription (há»§y há»£p Ä‘á»“ng luÃ´n, khÃ´ng sá»­ dá»¥ng máº¡ng ná»¯a) Há»§y gÃ³i cÆ°á»›c Ä‘ang sá»­ dá»¥ng sau khi háº¿t chu kÃ¬ thÃ¡ng nÃ y (TÃ´i sáº½ há»§y sau khi háº¿t chu kÃ¬ thÃ¡ng nÃ y). LÃºc Ä‘Ã³ báº¡n sáº½ cáº§n cáº­p nháº­t láº¡i subscription, vá»›i trÆ°á»ng cancel_at_period_end sang true, vÃ  Stripe sáº½ chá» háº¿t chu kÃ¬ sau Ä‘Ã³ má»›i báº¯n 1 sá»± kiá»‡n cancel subscription nÃ y.https://stripe.com/docs/billing/subscriptions/cancel#canceling TrÆ°á»ng há»£p sau lÃ  Ä‘á»•i cÃ¡c gÃ³i dá»‹ch vá»¥. Cháº³ng háº¡n nhÆ° náº¿u báº¡n dÃ¹ng máº¡ng tháº¥y cháº­m quÃ¡, sau 1 thÃ¡ng, báº¡n muá»‘n nÃ¢ng cáº¥p gÃ³i dá»‹ch vá»¥ tá»‘t hÆ¡n trong Price mÃ  há»‡ thá»‘ng cÃ³ cung cáº¥p (nÃ¢ng cáº¥p gÃ³i VIP theo thÃ¡ng) LÃºc Ä‘Ã³ báº¡n cáº§n Ä‘áº¿n nhÃ  máº¡ng vÃ  Ä‘Äƒng kÃ­ gÃ³i dá»‹ch vá»¥ má»›i. Sau Ä‘Ã³ Ä‘Æ¡n vá»‹ nÃ y sáº½ lÆ°u láº¡i thÃ´ng tin Ä‘Ã³ vÃ  cho vÃ o â€œlá»‹ch trÃ¬nhâ€ (schedule) thanh toÃ¡n trong tÆ°Æ¡ng lai hoáº·c Ã¡p dá»¥ng ngay láº­p tá»©c. TÃ¹y vÃ o cÃ¡c lá»±a chá»n cá»§a báº¡n thÃ¬ ngay láº­p tá»©c hoáº·c háº¿t chu kÃ¬ hiá»‡n táº¡i, Ä‘Æ¡n vá»‹ nÃ y sáº½ tÃ­nh phÃ­ cá»§a báº¡n theo má»©c giÃ¡ má»›i Ä‘o. Vá»›i Stripe, nÃ³ lÃ  Subscription Schedule. Subscription Schedule Subscription Schedule Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ tá»± Ä‘á»™ng thay Ä‘á»•i cÃ¡c subscription theo thá»i gian. Báº¡n cÃ³ thá»ƒ táº¡o subscription trá»±c tiáº¿p thÃ´ng qua má»™t schedule hoáº·c báº¡n cÃ³ thá»ƒ thÃªm schedule vÃ o subscription Ä‘Ã£ tá»“n táº¡i. Sá»­ dá»¥ng thuá»™c tÃ­nh phases Ä‘á»ƒ xÃ¡c Ä‘á»‹nh nhá»¯ng thay Ä‘á»•i báº¡n muá»‘n thá»±c hiá»‡n Ä‘á»‘i vá»›i subscription. Sau khi má»™t schedule hoÃ n thÃ nh táº¥t cáº£ cÃ¡c giai Ä‘oáº¡n (phases) cá»§a nÃ³, nÃ³ sáº½ hoÃ n thÃ nh dá»±a thuá»™c tÃ­nh end_behavior cá»§a nÃ³. Náº¿u báº¡n thÃªm 1 subscription schedule vÃ o 1 customer chÆ°a cÃ³ subscription, báº¡n chá»‰ viá»‡c call API thÃ´ng thÆ°á»ng. Trong trÆ°á»ng há»£p báº¡n muá»‘n thÃªm subscription schedule vÃ o 1 subscription Ä‘Ã£ tá»“n táº¡i, sá»­ dá»¥ng Ä‘á»‘i sá»‘ from_subscription . Tuy nhiÃªn khi sá»­ dá»¥ng Ä‘á»‘i sá»‘ nÃ y, má»™t vÃ i Ä‘á»‘i sá»‘ khÃ¡c (nhÆ° cÃ¡c giÃ¡ trá»‹ phase) khÃ´ng thá»ƒ Ä‘Æ°á»£c set. Do Ä‘Ã³ Ä‘á»ƒ táº¡o 1 subscription schedule vá»›i cÃ¡c sá»­a Ä‘á»•i khÃ¡c, chÃºng tÃ´i khuyÃªn báº¡n táº¡o 2 API riÃªng biá»‡t Má»™t lÆ°u Ã½ ná»¯a lÃ  khi sá»­ dá»¥ng from_subscription, schedule subscription sáº½ tráº£ vá» cho báº¡n vá»›i phases[0] lÃ  chu kÃ¬ báº¡n Ä‘ang sá»­ dá»¥ng vÃ  cÃ³ thá»ƒ lÃ  Ä‘ang trong quÃ¡ trÃ¬nh. LÃºc nÃ y, báº¡n khÃ´ng thá»ƒ sá»­a Ä‘á»•i start date cá»§a nÃ³ vÃ  báº¡n cáº§n truyá»n Ä‘Ãºng start date Ä‘Ã£ nháº­n tá»« API create vÃ o Ä‘á»ƒ khÃ´ng bá»‹ lá»—i khi cáº­p nháº­t cÃ¡c phase tiáº¿p theo cho subscription nÃ y. 123456789101112131415161718192021# Náº¿u táº¡o 1 subscription schedule vÃ o 1 subscription Ä‘Ã£ tá»“n táº¡i, báº¡n nÃªn sá»­ dá»¥ng 2 API riÃªng biá»‡t# API táº¡o subscription schedule, sá»­ dá»¥ng Ä‘á»‘i sá»‘ from_subscription vá»›i subscription_id báº¡n muá»‘n thÃªm schedulecurl https://api.stripe.com/v1/subscription_schedules \\ -u xxx: \\ -d from_subscription=sub_IYaJ8M7QOW4GnK# API Ä‘iá»u chá»‰nh láº¡i cho cÃ¡c price trong tÆ°Æ¡ng lai, chu kÃ¬ tiáº¿p theo (Ä‘á»‹nh nghÄ©a trong phases param)curl https://api.stripe.com/v1/subscription_schedules/sub_sched_1I6D5fEgEtsNy26hdAJQh9uQ \\ -u abcdef: \\ -d phases[0][items][0][price]=price_1HXfstEgEtsNy26hBZZiMTrD \\ -d phases[0][items][0][quantity]=1 \\ -d phases[0][proration_behavior]=none \\ // Náº¿u subscripton Ä‘ang cháº¡y trong chu kÃ¬ hiá»‡n táº¡i, start_date á»Ÿ Ä‘Ã¢y pháº£i giá»‘ng vá»›i subscripton -d phases[0][start_date]=1609834070 \\ -d phases[0][end_date]=1610093270 \\ -d phases[1][items][0][price]=price_1HSdCREgEtsNy26hlTiiJf1D \\ -d phases[1][items][0][quantity]=1 \\ -d phases[1][iterations]=1 \\ -d phases[1][start_date]=1610093270 \\ -d phases[1][proration_behavior]=none Create, Update, and Schedule Subscriptions Tham kháº£o thÃªm cÃ¡c trÆ°á»ng há»£p sá»­ dá»¥ng cá»¥ thá»ƒ cá»§a Subscription Schedule: https://stripe.com/docs/billing/subscriptions/subscription-schedules/use-cases Má»™t vÃ i thá»© khÃ¡cWebhookCÅ©ng giá»‘ng nhÆ° Github hay Chatwork, STRIPE cÅ©ng há»— trá»£ webhook giÃºp báº¡n xá»­ lÃ½ cÃ¡c sá»± kiá»‡n trÃªn STRIPE má»™t cÃ¡ch dá»… dÃ ng vÃ  Ä‘á»“ng bá»™ Webhook cá»§a STRIPE cÃ³ thá»ƒ dá»… dÃ ng test trÃªn chÃ­nh mÃ¡y local cá»§a báº¡n thÃ´ng qua STRIPE CLI TestingSTRIPE cung cáº¥p cÃ¡c sá»‘ tháº» vÃ  cÃ¡c thÃ´ng tin khÃ¡c cho phÃ©p báº¡n test cÃ¡c trÆ°á»ng há»£p báº¡n tÃ­ch há»£p STRIPE trong káº¿ hoáº¡ch cá»§a mÃ¬nh (invoice thÃ nh cÃ´ng, invoice lá»—i, subscription thÃ nh cÃ´ng â€¦.). Sá»­ dá»¥ng nÃ³ Ä‘á»ƒ kÃ­ch hoáº¡t cÃ¡c luá»“ng khÃ¡c nhau vÃ  Ä‘áº£m báº£o chÃºng Ä‘Æ°á»£c xá»­ lÃ½ theo Ã½ báº¡n Ref: https://stripe.com/docs/testing TÃ i liá»‡u tham kháº£o Stripe API: https://stripe.com/docs/api Stripe docs: https://stripe.com/docs/billing Viblo: https://viblo.asia/p/dung-thu-stripe-phan-1-maGK7j1D5j2","link":"/2021/01/15/STRIPE-Lien-he-bai-toan-su-dung-mang-hang-thang-va-STRIPE/"},{"title":"Section 11: Deployments &amp; Managing Infrastructure at Scale","text":"TÃ¬m hiá»ƒu má»™t sá»‘ cÃ´ng cá»¥ cho pháº§n Deployment vÃ  quáº£n lÃ½ háº¡ táº§ng nÃ o! CloudFormation Overview - IaaS CloudFormation lÃ  má»™t cÃ¡ch khai bÃ¡o Ä‘á»ƒ phÃ¡c tháº£o CÆ¡ sá»Ÿ háº¡ táº§ng AWS cá»§a báº¡n, cho báº¥t ká»³ tÃ i nguyÃªn nÃ o (háº§u háº¿t chÃºng Ä‘á»u Ä‘Æ°á»£c há»— trá»£). VÃ­ dá»¥ nhÆ° vá»›i template CloudFormation, báº¡n nÃ³i ráº±ng: TÃ´i muá»‘n má»™t security group TÃ´i muá»‘n 2 EC2 instance sá»­ dá»¥ng security group TÃ´i muá»‘n 1 S3 bucket TÃ´i muá»‘n má»™t load balancer (ELB) trÆ°á»›c cÃ¡c thÃ nh pháº§n nÃ y =&gt; VÃ  sau Ä‘Ã³ CloudFormation táº¡o nhá»¯ng thá»© Ä‘Ã³ cho báº¡n, theo Ä‘Ãºng thá»© tá»± vá»›i nhá»¯ng cáº¥u hÃ¬nh chÃ­nh xÃ¡c mÃ  báº¡n Ä‘Ã£ chá»‰ Ä‘á»‹nh Lá»£i Ã­ch cá»§a AWS CloudFormationInfrastructure as code KhÃ´ng cÃ³ tÃ i nguyÃªn nÃ o Ä‘Æ°á»£c táº¡o thá»§ cÃ´ng háº¿t, Ä‘iá»u nÃ y ráº¥t tuyá»‡t vá»i khi báº¡n kiá»ƒm soÃ¡t CÃ¡c thay Ä‘á»•i vá» cÆ¡ sá»Ÿ háº¡ táº§ng Ä‘á»u thÃ´ng qua code :D Chi phÃ­ Má»—i tÃ i nguyÃªn trong stack Ä‘Æ°á»£c gÃ¡n vá»›i má»™t Ä‘á»‹nh danh, do Ä‘Ã³ báº¡n cÃ³ thá»ƒ dá»… dÃ ng xem giÃ¡ cá»§a má»—i stack Báº¡n hoÃ n toÃ n cÃ³ thá»ƒ Æ°á»›c lÆ°á»£ng Ä‘Æ°á»£c giÃ¡ cÃ¡c resource sá»­ dá»¥ng CloudFormation template NgoÃ i ra báº¡n cÃ³ thá»ƒ Ã¡p dá»¥ng chiáº¿n lÆ°á»£c tiáº¿t kiá»‡m: Trong mÃ´i trÆ°á»ng Dev, báº¡n cÃ³ thá»ƒ tá»± Ä‘á»™ng xoÃ¡ cÃ¡c template vÃ o 5PM vÃ  táº¡o láº¡i vÃ o 8AM, tiáº¿t kiá»‡m, khÃ´ng há» cÃ³ tÃ i nguyÃªn nÃ o tá»“n táº¡i tá»« 5PM Ä‘áº¿n 8AM NÄƒng suáº¥t Kháº£ nÄƒng há»§y vÃ  tÃ¡i táº¡o cÆ¡ sá»Ÿ háº¡ táº§ng trÃªn Ä‘Ã¡m mÃ¢y má»™t cÃ¡ch nhanh chÃ³ng Tá»± Ä‘á»™ng táº¡o ra cÃ¡c Diagram vá»›i cÃ¡c template cá»§a báº¡n Láº­p trÃ¬nh thá»§ tá»¥c: Báº¡n khÃ´ng cáº§n sáº¯p xáº¿p thá»© tá»± táº¡o má»™t báº£ng trÃªn DynamoDB hay táº¡i EC2 Instance trÆ°á»›c hoáº·c lÃ m chÃºng cÃ¹ng nhau =&gt; Táº¥t cáº£ Ä‘Ã£ Ä‘Æ°á»£c CloudFormation Ä‘á»§ thÃ´ng minh Ä‘á»ƒ tá»± thá»±c hiá»‡n Äá»«ng phÃ¡t minh láº¡i bÃ¡nh xe Táº­n dá»¥ng cÃ¡c template hiá»‡n cÃ³ trÃªn web! Táº­n dá»¥ng tÃ i liá»‡u Há»— trá»£ (háº§u háº¿t) táº¥t cáº£ cÃ¡c AWS Resource Má»i thá»© chÃºng ta sáº½ tháº¥y trong khÃ³a há»c nÃ y Ä‘á»u Ä‘Æ°á»£c há»— trá»£ Báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng â€œtÃ i nguyÃªn tÃ¹y chá»‰nhâ€ cho cÃ¡c tÃ i nguyÃªn khÃ´ng Ä‘Æ°á»£c há»— trá»£ CloudFormation Stack DesignerVÃ­ dá»¥ cho má»™t WordPress CloudFormation Stack. ChÃºng ta cÃ³ thá»ƒ nhÃ¬n tháº¥y táº¥t cáº£ resources. ChÃºng ta cÅ©ng cÃ³ thá»ƒ tháº¥y quan há»‡ giá»¯a cÃ¡c tÃ i nguyÃªn nÃ y Kiáº¿n trÃºc Ä‘iá»ƒn hÃ¬nh: Web App 3-tier Lab 01: CloudFormation Hands OnBeanstalk OverviewTrÆ°á»›c khi nÃ³i vá» Beanstalk, chÃºng ta hÃ£y cÃ¹ng xem nhá»¯ng váº¥n Ä‘á» cá»§a devepoper vá»›i AWS Developer problems on AWS Quáº£n lÃ½ cÆ¡ sá»Ÿ háº¡ táº§ng Deploying Code Cáº¥u hÃ¬nh táº¥t cáº£ database, load balancers, .. Má»‘i quan tÃ¢m vá» scale VÃ  Äa sá»‘ á»©ng dá»¥ng web Ä‘á»u cÃ³ kiáº¿n trÃºc giá»‘ng nhau (ALB + ASG) RÃµ rÃ ng, táº¥t cáº£ developes muá»‘n lÃ  Ä‘á»ƒ code cá»§a há» cháº¡y! CÃ³ thá»ƒ nháº¥t quÃ¡n trÃªn cÃ¡c á»©ng dá»¥ng, mÃ´i trÆ°á»ng khÃ¡c nhau. BÃ¢y giá» kiáº¿n trÃºc web 3-tier á»Ÿ trÃªn lÃ  má»™t cÃ¡i gÃ¬ Ä‘Ã³ chÃºng ta cÃ³ thá»ƒ dá»… dÃ ng tÃ¡i sáº£n xuáº¥t theo cÃ¡ch thá»§ cÃ´ng. ChÃºng tÃ´i cÅ©ng cÃ³ thá»ƒ tÃ¡i táº¡o nÃ³ trÃªn AWS thÃ´ng qua CloudFormation. NhÆ°ng cÃ³ má»™t cÃ¡ch tá»‘t hÆ¡n. VÃ¬ váº­y, khi báº¡n lÃ  nhÃ  phÃ¡t triá»ƒn trÃªn AWS, báº¡n khÃ´ng muá»‘n quáº£n lÃ½ cÆ¡ sá»Ÿ háº¡ táº§ng. Báº¡n chá»‰ muá»‘n triá»ƒn khai mÃ£, Ä‘Æ°á»£c chá»©? Beanstalk = Platform as a Service (PaaS) (because we just worry about the code) Elastic Beanstalk Elastic Beanstalk lÃ  quan Ä‘iá»ƒm táº­p trung vÃ o nhÃ  phÃ¡t triá»ƒn vá» viá»‡c triá»ƒn khai á»©ng dá»¥ng trÃªn AWS NÃ³ sá»­ dá»¥ng táº¥t cáº£ cÃ¡c thÃ nh pháº§n chÃºng ta tÃ¬m hiá»ƒu trÆ°á»›c Ä‘Ã³: EC2, ASG, ELB, RDS, â€¦ NhÆ°ng táº¥t cáº£ sáº½ Ä‘Æ°á»£c Ä‘áº·t trong 1 view, ráº¥t dá»… hiá»ƒu ChÃºng tÃ´i váº«n cÃ³ toÃ n quyá»n kiá»ƒm soÃ¡t cáº¥u hÃ¬nh Beanstalk lÃ  miá»…n phÃ­, nhÆ°ng báº¡n sáº½ tráº£ tiá»n cho cÃ¡c dá»‹ch vá»¥ á»Ÿ phÃ­a dÆ°á»›i nÃ³ Má»™t sá»‘ lá»£i Ã­ch cá»§a Beanstalk Quáº£n lÃ½ cÃ¡c service Cáº¥u hÃ¬nh cÃ¡c Instance, OS Ä‘Æ°á»£c Beanstalk care Chiáº¿n lÆ°á»£c triá»ƒn khai cÃ³ thá»ƒ Ä‘á»‹nh cáº¥u hÃ¬nh nhÆ°ng Ä‘Æ°á»£c thá»±c hiá»‡n bá»Ÿi Elastic Beanstalk Capacity provisioning Load balancing &amp; auto-scaling Application health-monitoring &amp; responsiveness Just the application code is the responsibility of the developer Ba mÃ´ hÃ¬nh kiáº¿n trÃºc: Triá»ƒn khai Ä‘Æ¡n Instance: Tá»‘t cho cÃ¡c dev LB + ASG: tá»‘t cho cÃ¡c á»©ng dá»¥ng web product or pre-products Chá»‰ ASG: chá»‰ tá»‘t cho cÃ¡c sáº£n pháº©m khÃ´ng pháº£i lÃ  á»©ng dá»¥ng web (workers â€¦) NhÆ° Ä‘Ã£ nÃ³i á»Ÿ trÃªn Beanstalk há»— trá»£ ráº¥t nhiá»u ná»n táº£ng: Go Java SE Java withTomcat .NET on Windows Server with IIS Node.js PHP Python Ruby Packer Builder Tháº­m chÃ­ lÃ  Single Container Docker Multi-Container Docker Preconfigured Docker Hay ká»ƒ cáº£ khÃ´ng há»— trá»£, báº¡n cÃ³ thá»ƒ viáº¿t cÃ¡c platform cho riÃªng báº¡n! Lab 02: Beanstalk Hands OnCodeDeploy OverviewVÃ¬ váº­y CodeDeploys cÅ©ng lÃ  má»™t cÃ¡ch Ä‘á»ƒ chÃºng tÃ´i triá»ƒn khai á»©ng dá»¥ng cá»§a mÃ¬nh má»™t cÃ¡ch tá»± Ä‘á»™ng. BÃ¢y giá» sá»± khÃ¡c biá»‡t mÃ  CodeDeploy dá»… hÆ¡n má»™t chÃºt. NÃ³ khÃ´ng cáº§n pháº£i sá»­ dá»¥ng Beanstalk hoáº·c CloudFormation. Äiá»u nÃ y lÃ  hoÃ n toÃ n Ä‘á»™c láº­p. VÃ  nÃ³ lÃ  má»™t dá»‹ch vá»¥ tiÃªn tiáº¿n, vÃ¬ váº­y tÃ´i thá»±c sá»± khÃ´ng thá»ƒ giá»›i thiá»‡u nÃ³ cho báº¡n, nhÆ°ng Ä‘iá»u báº¡n cáº§n nhá»› lÃ  nÃ³ cho phÃ©p báº¡n nÃ¢ng cáº¥p cáº£ phiÃªn báº£n EC2, á»©ng dá»¥ng cá»§a báº¡n, vÃ  cÃ¡c á»©ng dá»¥ng MÃ¡y chá»§ Táº¡i chá»— (On-Premises Servers) cá»§a báº¡n tá»« phiÃªn báº£n má»™t Ä‘áº¿n phiÃªn báº£n hai, tá»± Ä‘á»™ng tá»« má»™t giao diá»‡n duy nháº¥t. VÃ¬ váº­y, hy vá»ng ráº±ng Ä‘Ã³ lÃ  há»¯u Ã­ch. CodeCommit Overview TrÆ°á»›c khi push code cá»§a á»©ng dá»¥ng lÃªn server, báº¡n cáº§n lÆ°u trá»¯ chÃºng á»Ÿ Ä‘Ã¢u Ä‘Ã³. CÃ¡c developer thÆ°á»ng lÆ°u trá»¯ code trÃªn má»™t repository, sá»­ dá»¥ng Git technology. Má»™t nÆ¡i lÆ°u trá»¯ ná»•i tiáº¿ng lÃ  GitHub, vÃ  báº¡n biáº¿t khÃ´ng, AWS cÅ©ng cÃ³ má»™t sáº£n pháº©m cáº¡nh tranh lÃ  CodeCommit CodeCommit Dá»‹ch vá»¥ kiá»ƒm soÃ¡t mÃ£ nguá»“n vá»›i Git-based repository Dá»… dÃ ng má»i ngÆ°á»i khÃ¡c cá»™ng tÃ¡c code Má»—i khi code thay Ä‘á»•i sáº½ tá»± Ä‘á»™ng Ä‘Æ°á»£c Ä‘Ã¡nh version Lá»£i Ã­ch Fully managed Scalable &amp; highly available Private, Secured, Integrated with AWS CodeBuild Overview Dá»‹ch vá»¥ â€œcode building trÃªn Ä‘Ã¡m mÃ¢yâ€ (cÃ¡i tÃªn nÃ³i lÃªn táº¥t cáº£ :v) BiÃªn dá»‹ch mÃ£ nguá»“n, cháº¡y thá»­ nghiá»‡m vÃ  táº¡o cÃ¡c gÃ³i sáºµn sÃ ng Ä‘Æ°á»£c triá»ƒn khai (vÃ­ dá»¥: CodeDeploy) Lá»£i Ã­ch Fully managed, serverless Continuously scalable &amp; highly available Secure Pay-as-you-go pricing â€“ only pay for the build time CodePipeline Overview ÄÃ¢y lÃ  thÃ nh pháº§n káº¿t ná»‘i giá»¯a code commit vÃ  code build Sáº¯p xáº¿p cÃ¡c bÆ°á»›c khÃ¡c nhau Ä‘á»ƒ mÃ£ tá»± Ä‘á»™ng Ä‘Æ°á»£c Ä‘Æ°a lÃªn production! Code =&gt; Build =&gt; Test =&gt; Provision =&gt; Deploy Basis for CICD (Continuous Integration &amp; Continuous Delivery) Lá»£i Ã­ch Fullymanaged,compatiblewithCodeCommit,CodeBuild,CodeDeploy,ElasticBeanstalk,CloudFormation, GitHub, 3rd-party services (GitHubâ€¦) &amp; custom pluginsâ€¦ Fast delivery &amp; rapid updates CodeArtifact Overview CÃ¡c gÃ³i pháº§n má»m phá»¥ thuá»™c vÃ o nhau Ä‘á»ƒ Ä‘Æ°á»£c xÃ¢y dá»±ng (cÃ²n Ä‘Æ°á»£c gá»i lÃ  phá»¥ thuá»™c mÃ£) vÃ  cÃ¡c gÃ³i pháº§n má»m má»›i Ä‘Æ°á»£c táº¡o\\ LÆ°u trá»¯ vÃ  truy xuáº¥t cÃ¡c phá»¥ thuá»™c nÃ y Ä‘Æ°á»£c gá»i lÃ  quáº£n lÃ½ cÃ¡c artifact Theo cÃ¡ch truyá»n thá»‘ng, báº¡n cáº§n cÃ i Ä‘áº·t vÃ  quáº£n lÃ½ cÃ¡c artifact cá»§a riÃªng mÃ¬nh Vá»›i AWS, CodeArtifact lÃ  pháº§n quáº£n lÃ½ cÃ¡c artifact báº£o máº­t, cÃ³ thá»ƒ má»Ÿ rá»™ng vÃ  tiáº¿t kiá»‡m chi phÃ­ cho quÃ¡ trÃ¬nh phÃ¡t triá»ƒn pháº§n má»m Hoáº¡t Ä‘á»™ng vá»›i cÃ¡c cÃ´ng cá»¥ quáº£n lÃ½ phá»¥ thuá»™c phá»• biáº¿n nhÆ° Maven, Gradle, npm, sá»£i, bá»‡n, pip vÃ  NuGet CÃ¡c nhÃ  phÃ¡t triá»ƒn vÃ  CodeBuild sau Ä‘Ã³ cÃ³ thá»ƒ truy xuáº¥t cÃ¡c phá»¥ thuá»™c trá»±c tiáº¿p tá»« CodeArtifact CodeStar Overview Cung cáº¥p má»™t UI thÃ­ch há»£p nháº¥t Ä‘á»ƒ quáº£n lÃ½ cÃ¡c hoáº¡t Ä‘á»™ng cá»§a pháº§n má»m á»Ÿ má»™t nÆ¡i duy nháº¥t ÄÃ¢y lÃ  â€œcÃ¡ch nhanh chÃ³ngâ€ Ä‘á»ƒ báº¯t Ä‘áº§u thiáº¿t láº­p chÃ­nh xÃ¡c CodeCommit, CodePipeline,CodeBuild, CodeDeploy, Elastic Beanstalk, EC2, v.v. CÃ³ thá»ƒ chá»‰nh sá»­a code â€œin-the-cloudâ€ sá»­ dá»¥ng AWS Cloud 9 Cloud9 Overview AWS Cloud9 is a cloud IDE (Integrated Development Environment) for writing, running and debugging code â€œClassicâ€ IDE (like IntelliJ,Visual Studio Codeâ€¦) are downloaded on a computer before being used Má»™t cloud IDE cÃ³ thá»ƒ Ä‘Æ°á»£c sá»­ dá»¥ng trong trÃ¬nh duyá»‡t web, cÃ³ nghÄ©a lÃ  báº¡n cÃ³ thá»ƒ lÃ m viá»‡c trÃªn cÃ¡c dá»± Ã¡n cá»§a mÃ¬nh tá»« vÄƒn phÃ²ng, nhÃ  riÃªng hoáº·c báº¥t cá»© nÆ¡i nÃ o cÃ³ internet mÃ  khÃ´ng cáº§n thiáº¿t láº­p AWS Cloud9 cÅ©ng cho phÃ©p cá»™ng tÃ¡c mÃ£ trong thá»i gian thá»±c (láº­p trÃ¬nh cáº·p) Lab 03: CodeStar &amp; Cloud9 Hands OnSystems Manager (SSM) Overview GiÃºp báº¡n quáº£n lÃ½ EC2 vÃ  cÃ¡c há»‡ thá»‘ng On-Premises Má»™t dá»‹ch vá»¥ Hybird khÃ¡c Nháº­n thÃ´ng tin chi tiáº¿t vá» hoáº¡t Ä‘á»™ng vá» tÃ¬nh tráº¡ng cÆ¡ sá»Ÿ háº¡ táº§ng cá»§a báº¡n Bao gá»“m hÆ¡n 10 sáº£n pháº©m Nhá»¯ng chá»©c nÄƒng quan trá»ng nháº¥t Tá»± Ä‘á»™ng vÃ¡ lá»—i Ä‘á»ƒ nÃ¢ng cao tÃ­nh tuÃ¢n thá»§ Cháº¡y lá»‡nh trÃªn toÃ n bá»™ nhÃ³m mÃ¡y chá»§ LÆ°u trá»¯ cáº¥u hÃ¬nh tham sá»‘ vá»›i SSM Parameter Store LÃ m viá»‡c vá»›i cáº£ Windows vÃ  Linux OS How Systems Manager works ChÃºng tÃ´i cáº§n cÃ i Ä‘áº·t SSM agent vÃ o cÃ¡c há»‡ thá»‘ng mÃ  chÃºng tÃ´i kiá»ƒm soÃ¡t. Máº·c Ä‘á»‹nh Amazon Linux AMI vÃ  má»™t vÃ i Ubuntu AMI Ä‘Ã£ cÃ³ Náº¿u má»™t phiÃªn báº£n khÃ´ng thá»ƒ Ä‘Æ°á»£c kiá»ƒm soÃ¡t báº±ng SSM, Ä‘Ã³ cÃ³ thá»ƒ lÃ  váº¥n Ä‘á» vá»›i SSM agent! Nhá» tÃ¡c nhÃ¢n SSM, chÃºng tÃ´i cÃ³ thá»ƒ cháº¡y lá»‡nh, vÃ¡ lá»—i vÃ  Ä‘á»‹nh cáº¥u hÃ¬nh mÃ¡y chá»§ cá»§a mÃ¬nh OpsWorks Overview Chef &amp; Puppet giÃºp báº¡n thá»±c hiá»‡n cáº¥u hÃ¬nh mÃ¡y chá»§ tá»± Ä‘á»™ng hoáº·c cÃ¡c hÃ nh Ä‘á»™ng láº·p Ä‘i láº·p láº¡i NÃ³ lÃ m viá»‡c tá»‘t vá»›i EC2 hoáº·c On-Premises VM AWS OpsWorks = Managed Chef &amp; Puppet ÄÃ¢y lÃ  má»™t giáº£i phÃ¡p thay tháº¿ cho SSM Chá»‰ cung cáº¥p cho cÃ¡c tÃ i nguyÃªn AWS tiÃªu chuáº©n EC2 Instances, Databases, Load Balancers, EBS volumesâ€¦ In the exam: Chef or Puppet needed =&gt; AWS OpsWorks OpsWorks Architecture Deployment - Summary CloudFormation: (AWS only) Infrastructure as Code, works with almost all of AWS resources Repeat across Regions &amp; Accounts Beanstalk: (AWS only) Platform as a Service (PaaS), limited to certain programming languages or Docker Deploy code consistently with a known architecture: ex, ALB + EC2 + RDS CodeDeploy (hybrid): deploy &amp; upgrade any application onto servers Systems Manager (hybrid): patch, configure and run commands at scale OpsWorks (hybrid): managed Chef and Puppet in AWS CodeCommit: Store code in private git repository (version controlled) CodeBuild: Build &amp; test code in AWS CodeDeploy: Deploy code onto servers CodePipeline: Orchestration of pipeline (from code to build to deploy) CodeArtifact: Store software packages / dependencies on AWS CodeStar: Unified view for allowing developers to do CICD and code Cloud9: Cloud IDE (Integrated Development Environment) with collab","link":"/2021/05/17/Section-11-Deployments-Managing-Infrastructure-at-Scale/"},{"title":"Section 13: Cloud Integrations","text":"Khi chÃºng tÃ´i báº¯t Ä‘áº§u triá»ƒn khai nhiá»u á»©ng dá»¥ng, cháº¯c cháº¯n chÃºng sáº½ cáº§n giao tiáº¿p vá»›i nhau. Sáº½ cÃ³ 2 kiá»ƒu giao tiáº¿p giá»¯a cÃ¡c á»©ng dá»¥ng. Äá»“ng bá»™ giá»¯a cÃ¡c á»©ng dá»¥ng cÃ³ thá»ƒ cÃ³ váº¥n Ä‘á» náº¿u cÃ³ lÆ°u lÆ°á»£ng truy cáº­p tÄƒng Ä‘á»™t biáº¿n. Äiá»u gÃ¬ sáº½ xáº£y ra náº¿u báº¡n Ä‘á»™t nhiÃªn cáº§n mÃ£ hÃ³a 1000 video nhÆ°ng thÃ´ng thÆ°á»ng chá»‰ lÃ  10? Trong trÆ°á»ng há»£p Ä‘Ã³, tá»‘t hÆ¡n lÃ  báº¡n nÃªn tÃ¡ch cÃ¡c á»©ng dá»¥ng cá»§a mÃ¬nh ra: sá»­ dá»¥ng SQS: queue model sá»­ dá»¥ng SNS: pub/sub model sá»­ dá»¥ng Kinesis: real-time data streaming model (out of scope for the exam) CÃ¡c dá»‹ch vá»¥ nÃ y cÃ³ thá»ƒ má»Ÿ rá»™ng quy mÃ´ Ä‘á»™c láº­p vá»›i á»©ng dá»¥ng cá»§a chÃºng tÃ´i! SQS Overview: Queue SQS = Simple Queue Service ÄÃ¢y lÃ  má»™t trong nhá»¯ng dá»‹ch vá»¥ lÃ¢u nháº¥t cá»§a AWS (khoáº£ng 10 nÄƒm) Dá»‹ch vá»¥ Ä‘Æ°á»£c quáº£n lÃ½ hoÃ n toÃ n (~ serverless), sá»­ dá»¥ng Ä‘á»ƒ tÃ¡ch cÃ¡c á»©ng dá»¥ng Scales from 1 message per second to 10,000s per second LÆ°u trá»¯ message máº·c Ä‘á»‹nh: 4 ngÃ y, tá»‘i Ä‘a 14 ngÃ y KhÃ´ng giá»›i háº¡n sá»‘ lÆ°á»£ng thÆ° cÃ³ thá»ƒ cÃ³ trong hÃ ng Ä‘á»£i Tin nháº¯n sáº½ bá»‹ xÃ³a sau khi ngÆ°á»i tiÃªu dÃ¹ng Ä‘á»c chÃºng Äá»™ trá»… tháº¥p (&lt;10 ms on publish and receive) Consumers share the work to read messages &amp; scale horizontally SQS Ä‘á»ƒ phÃ¢n tÃ¡ch giá»¯a cÃ¡c táº§ng á»©ng dá»¥ng Lab 01: SQS Hands On Create queue =&gt; Standard =&gt; Create luÃ´n. VÃ  chÃºng ta cÃ³ thá»ƒ gá»­i hoáº·c nháº­n message tá»« Ä‘Ã¢y áº¤n Send and receive message. Check receive messages availiable lÃ  2 SNS OverviewNáº¿u báº¡n muá»‘n gá»­i má»™t tin nháº¯n cho nhiá»u ngÆ°á»i nháº­n thÃ¬ sao? The â€œevent publishersâ€ only sends message to one SNS topic As many â€œevent subscribersâ€ as we want to listen to the SNS topic notifications Má»—i ngÆ°á»i Ä‘Äƒng kÃ½ chá»§ Ä‘á» sáº½ nháº­n Ä‘Æ°á»£c táº¥t cáº£ cÃ¡c tin nháº¯n Up to 10,000,000 subscriptions per topic, 100,000 topics limit SNS cÃ³ thá»ƒ HTTP / HTTPS (with delivery retries â€“ how many times) Emails,SMSmessages,MobileNotifications SQS queues (fan-out pattern), Lambda Functions (write-your-own integration) Lab 02: SNS Hands OnKinesis OverviewTrong kÃ¬ thi, táº¥t cáº£ nhá»¯ng gÃ¬ báº¡n cáº§n biáº¿t chá»‰ lÃ  Kinesis = real-time big data streaming Managed service to collect, process, and analyze real-time streaming data at any scale Amazon MQ OverviewSQS, SNS lÃ  cÃ¡c dá»‹ch vá»¥ â€œgá»‘c Ä‘Ã¡m mÃ¢yâ€ vÃ  chÃºng Ä‘ang sá»­ dá»¥ng cÃ¡c giao thá»©c Ä‘á»™c quyá»n tá»« AWS. Trong khi Ä‘Ã³, cÃ¡c á»©ng dá»¥ng truyá»n thá»‘ng cháº¡y táº¡i chá»— cÃ³ thá»ƒ sá»­ dá»¥ng cÃ¡c giao thá»©c má»Ÿ nhÆ°: MQTT, AMQP, STOMP, Openwire, WSS. Khi di chuyá»ƒn sang Ä‘Ã¡m mÃ¢y, thay vÃ¬ thiáº¿t káº¿ láº¡i á»©ng dá»¥ng Ä‘á»ƒ sá»­ dá»¥ng SQS vÃ  SNS, chÃºng ta cÃ³ thá»ƒ sá»­ dá»¥ng Amazon MQ. Amazon MQ = managed Apache ActiveMQ Má»™t vÃ i chÃº Ã½ vá»›i Amazon MQ mÃ  báº¡n nÃªn biáº¿t Amazon MQ khÃ´ng â€œscaleâ€ nhiá»u nhÆ° SQS/SNS Amazon MQ cháº¡y trÃªn má»™t mÃ¡y chuyÃªn dá»¥ng (khÃ´ng pháº£i serverless) Amazon MQ cÃ³ cáº£ tÃ­nh nÄƒng hÃ ng Ä‘á»£i (~SQS) vÃ  topic (~SNS) VÃ¬ váº­y, Amazon MQ sáº½ chá»‰ Ä‘Æ°á»£c sá»­ dá»¥ng vÃ  chá»‰ khi má»™t cÃ´ng ty Ä‘ang di chuyá»ƒn lÃªn Ä‘Ã¡m mÃ¢y vÃ  cáº§n sá»­ dá»¥ng má»™t trong nhá»¯ng giao thá»©c má»Ÿ nÃ y, cháº³ng háº¡n nhÆ°, MQTT AMQP STOMP, vÃ¢n vÃ¢n, vÃ¢n vÃ¢n.Náº¿u khÃ´ng, nÃ³ sáº½ sá»­ dá»¥ng SQS vÃ  SNS bá»Ÿi vÃ¬ há» má»Ÿ rá»™ng quy mÃ´ tá»‘t hÆ¡n ráº¥t nhiá»u. VÃ  chÃºng Ä‘Æ°á»£c tÃ­ch há»£p nhiá»u hÆ¡n vá»›i cÃ¡c dá»‹ch vá»¥ web cá»§a Amazon hÆ¡n lÃ  Amazon MQ. Cloud Integrations Summary SQS: Queue service in AWS Multiple Producers, messages are kept up to 14 days Multiple Consumers share the read and delete messages when done Used to decouple applications in AWS SNS: Notification service in AWS Subscribers:Email,Lambda,SQS,HTTP,Mobileâ€¦ Multiple Subscribers, send all messages to all of them No message retention Kinesis: real-time data streaming, persistence and analysis Amazon MQ: managed Apache MQ in the cloud (MQTT, AMQP.. protocols)","link":"/2021/05/18/Section-13-Cloud-Integrations/"},{"title":"Section 12: Leveraging the AWS Global Infrastructure","text":"Pháº§n nÃ y chÃºng ta cÃ¹ng tÃ¬m hiá»ƒu vá» cÃ¡ch deploy má»™t há»‡ thá»‘ng Global trong AWS! Khoan â€¦.TrÆ°á»›c khi báº¯t Ä‘áº§u tÃ´i muá»‘n Ä‘iá»ƒm qua 1 vÃ i tá»« tiáº¿ng Anh khÃ³ dá»‹ch =)) Edge/ej/: cÃ¡c vá»‹ trÃ­ biÃªn, cáº¡nh rÃ¬a cá»§a má»—i khu vá»±c Edge Location: vá»‹ trÃ­ ngoÃ i cÅ©ng cá»§a cÃ¡c Ä‘á»‹a Ä‘iá»ƒm, cÃ¡c vá»‹ trÃ­ nÃ y gáº§n nhau nháº¥t giá»¯a 2 location khÃ¡c nhau Edge Network Why Global Applications?Má»™t á»©ng dá»¥ng global lÃ  má»™t á»©ng dá»¥ng Ä‘Æ°á»£c deploy á»Ÿ nhiá»u khu vá»±c Ä‘á»‹a lÃ½. VÃ  trÃªn AWS, chÃºng Ä‘Æ°á»£c gá»i lÃ  cÃ¡c Regions vÃ /hoáº·c Edge Locations Giáº£m Ä‘á»™ trá»… â€¢ Äá»™ trá»… lÃ  thá»i gian cáº§n thiáº¿t Ä‘á»ƒ má»™t gÃ³i máº¡ng Ä‘áº¿n mÃ¡y chá»§ Pháº£i máº¥t thá»i gian Ä‘á»ƒ má»™t gÃ³i hÃ ng (packet) tá»« ChÃ¢u Ã Ä‘áº¿n Ä‘Æ°á»£c Hoa Ká»³ Triá»ƒn khai cÃ¡c á»©ng dá»¥ng cá»§a báº¡n gáº§n ngÆ°á»i dÃ¹ng hÆ¡n Ä‘á»ƒ giáº£m Ä‘á»™ trá»…, mang láº¡i tráº£i nghiá»‡m tá»‘t hÆ¡n KhÃ´i phá»¥c sau tháº£m hoáº¡ Náº¿u má»™t khu vá»±c AWS gáº·p sá»± cá»‘ (Ä‘á»™ng Ä‘áº¥t, bÃ£o, ngáº¯t Ä‘iá»‡n, chÃ­nh trá»‹) â€¦ Báº¡n cÃ³ thá»ƒ chuyá»ƒn sang má»™t Region khÃ¡c ngon hÆ¡n mÃ  á»©ng dá»¥ng cá»§a báº¡n váº«n hoáº¡t Ä‘á»™ng Má»™t káº¿ hoáº¡ch DR ráº¥t quan trá»ng Ä‘á»ƒ tÄƒng tÃ­nh kháº£ dá»¥ng cá»§a á»©ng dá»¥ng cá»§a báº¡n Báº£o vá»‡ táº¥n cÃ´ng: cÆ¡ sá»Ÿ háº¡ táº§ng toÃ n cáº§u phÃ¢n tÃ¡n khÃ³ bá»‹ táº¥n cÃ´ng hÆ¡n Global AWS Infrastructure Regions: Äá»ƒ deploy á»©ng dá»¥ng vÃ  cÆ¡ sá»Ÿ háº¡ táº§ng Availability Zones (cháº¥m xanh): Táº¡o ra nhiá»u data centers Edge Locations (Points of Presence) (cháº¥m há»“ng): Cho cÃ¡c ná»™i dung phÃ¢n phá»‘i gáº§n ngÆ°á»i dÃ¹ng hÆ¡n Network: DÃ¢y máº¡ng tráº¯ng :v Xem thÃªm táº¡i: https://aws.amazon.com/about-aws/global-infrastructure/regions_az/ Global Applications in AWS Global DNS: Route 53 Tuyá»‡t vá»i Ä‘á»ƒ Ä‘á»‹nh tuyáº¿n ngÆ°á»i dÃ¹ng Ä‘áº¿n viá»‡c triá»ƒn khai gáº§n nháº¥t vá»›i Ä‘á»™ trá»… Ã­t nháº¥t Tuyá»‡t vá»i cho cÃ¡c chiáº¿n lÆ°á»£c khÃ´i phá»¥c sau tháº£m há»a â€¢ Global Content Delivery Network (CDN): CloudFront NhÃ¢n rá»™ng má»™t pháº§n á»©ng dá»¥ng cá»§a báº¡n Ä‘áº¿n AWS Edge Locations - giáº£m Ä‘á»™ trá»… Cache cÃ¡c request chung - cáº£i thiá»‡n tráº£i nghiá»‡m ngÆ°á»i dÃ¹ng vÃ  giáº£m Ä‘á»™ trá»… â€¢ S3 Transfer Acceleration TÄƒng tá»‘c upload vÃ  download toÃ n cáº§u vÃ o Amazon S3 â€¢ AWS Global Accelerator Cáº£i thiá»‡n tÃ­nh kháº£ dá»¥ng vÃ  hiá»‡u suáº¥t cá»§a á»©ng dá»¥ng toÃ n cáº§u báº±ng cÃ¡ch sá»­ dá»¥ng máº¡ng toÃ n cáº§u AWS Route 53 OverviewÄÃ¢y lÃ  dá»‹ch vá»¥ Ä‘áº§u tiÃªn ráº¥t quan trá»ng chÃºng tÃ´i muá»‘n giá»›i thiá»‡u khi báº¡n muá»‘n deploy má»™t á»©ng dá»¥ng global lÃ  Amazon Route 53 Route 53 is a managed DNS or Domain Name System. And what does the DNS? DNS lÃ  má»™t táº­p há»£p cÃ¡c quy táº¯c vÃ  báº£n ghi giÃºp khÃ¡ch hÃ ng hiá»ƒu cÃ¡ch truy cáº­p mÃ¡y chá»§ thÃ´ng qua URL. Trong AWS, cÃ¡c báº£n ghi phá»• biáº¿n nháº¥t lÃ : www.google.com =&gt; 12.34.56.78 == A record (IPv4) www.google.com =&gt; 2001:0db8:85a3:0000:0000:8a2e:0370:7334 == AAAA IPv6 search.google.com =&gt; www.google.com == CNAME: hostname to hostname example.com =&gt; AWS resource == Alias (ex: ELB, CloudFront, S3, RDS, etcâ€¦) Route 53 - Diagram Route 53 Routing PoliciesChÃºng ta sáº½ tÃ¬m hiá»ƒu thÃªm á»Ÿ level cao hÆ¡n Lab 01: Route 53 Hands OnCloudFront OverviewBÃ¢y giá» hÃ£y nÃ³i vá» CloudFront. CloudFront lÃ  má»™t máº¡ng phÃ¢n phá»‘i ná»™i dung, hoáº·c CDN,vÃ¬ váº­y báº¥t cá»© khi nÃ o báº¡n nhÃ¬n tháº¥y CDN táº¡i ká»³ thi, hÃ£y nghÄ© Ä‘áº¿n CloudFront. NÃ³ cáº£i thiá»‡n hiá»‡u suáº¥t Ä‘á»c báº±ng cÃ¡ch lÆ°u ná»™i dung vÃ o bá»™ nhá»› Ä‘á»‡m cá»§a trang web cá»§a báº¡n táº¡i cÃ¡c vá»‹ trÃ­ cáº¡nh khÃ¡c nhau. VÃ  bá»Ÿi vÃ¬ ná»™i dung cá»§a báº¡n Ä‘Æ°á»£c lÆ°u trá»¯ trÃªn kháº¯p tháº¿ giá»›i, thÃ¬ ngÆ°á»i dÃ¹ng cá»§a báº¡n trÃªn toÃ n tháº¿ giá»›i sáº½ cÃ³ Ä‘á»™ trá»… tháº¥p hÆ¡n, vÃ  Ä‘iá»u nÃ y sáº½ cáº£i thiá»‡n tráº£i nghiá»‡m ngÆ°á»i dÃ¹ng. CloudFront Ä‘Æ°á»£c táº¡o ra tá»« 216 Ä‘iá»ƒm hiá»‡n diá»‡n trÃªn toÃ n cáº§u (Point of Presence), tÆ°Æ¡ng á»©ng vá»›i cÃ¡c vá»‹ trÃ­ cáº¡nh AWS trÃªn kháº¯p tháº¿ giá»›i. VÃ  AWS tiáº¿p tá»¥c thÃªm cÃ¡c vá»‹ trÃ­ Ä‘á»ƒ cáº£i thiá»‡n tráº£i nghiá»‡m ngÆ°á»i dÃ¹ng hÆ¡n ná»¯a á»Ÿ má»i nÆ¡i. NgoÃ i ra nÃ³ cÃ²n giÃºp chá»‘ng táº¥n cÃ´ng DDoS vÃ¬ Ä‘Ã£ Ä‘Æ°á»£c tÃ­ch há»£p Shield, AWS Web Application Firewall CloudFront - Origins S3 bucket PhÃ¢n phá»‘i cÃ¡c file vÃ  cache chÃºng táº¡i cÃ¡c edge Báº£o máº­t nÃ¢ng cao vá»›i CloudFront Origin Access Identity (OAI) CloudFront cÃ³ thá»ƒ Ä‘Æ°á»£c sá»­ dá»¥ng nhÆ° má»™t quyá»n (upload file lÃªn S3) Custom Origin (HTTP) Application Load Balancer EC2 instance S3 website (must first enable the bucket as a static S3 website) Any HTTP backend you want CloudFront at a high level CloudFront â€“ S3 as an Origin CloudFront vs S3 Cross Region Replication CloudFront Global Edge network File Ä‘Æ°á»£c cache vá»›i má»™t TTL (cÃ³ thá»ƒ 1 ngÃ y) ThÃ­ch há»£p cho cÃ¡c ná»™i dung tÄ©nh, pháº£i cÃ³ máº·t á»Ÿ kháº¯p má»i nÆ¡i S3 Cross Region Replication: Pháº£i Ä‘Æ°á»£c thiáº¿t láº­p cho tá»«ng khu vá»±c báº¡n muá»‘n nhÃ¢n rá»™ng CÃ¡c tá»‡p Ä‘Æ°á»£c cáº­p nháº­t gáº§n nhÆ° theo thá»i gian thá»±c Chá»‰ Ä‘á»c Tuyá»‡t vá»i cho ná»™i dung Ä‘á»™ng cáº§n kháº£ dá»¥ng vá»›i Ä‘á»™ trá»… tháº¥p á»Ÿ má»™t sá»‘ khu vá»±c Lab 02: CloudFront Hands OnS3 Transfer AccelerationNhÆ° chÃºng ta biáº¿t NhÃ³m S3 chá»‰ Ä‘Æ°á»£c liÃªn káº¿t vá»›i má»™t region vÃ  vÃ¬ váº­y, Ä‘Ã´i khi báº¡n Ä‘ang tÃ¬m cÃ¡ch chuyá»ƒn cÃ¡c tá»‡p tá»« kháº¯p nÆ¡i trÃªn tháº¿ giá»›i vÃ o má»™t S3 bucket cá»¥ thá»ƒ. VÃ  cÃ³ má»™t cÃ¡ch Ä‘á»ƒ tÄƒng tá»‘c Ä‘á»™ truyá»n báº±ng cÃ¡ch sá»­ dá»¥ng tÃ­nh nÄƒng S3 Transfer Acceleration TÄƒng tá»‘c Ä‘á»™ truyá»n báº±ng cÃ¡ch chuyá»ƒn tá»‡p Ä‘áº¿n má»™t AWS edge location sáº½ chuyá»ƒn tiáº¿p dá»¯ liá»‡u Ä‘áº¿n S3 bucket trong target region Test tool: https://s3-accelerate-speedtest.s3-accelerate.amazonaws.com/en/accelerate-speed-comparsion.html Trang test =&gt; nhanh hÆ¡n 13% AWS Global Accelerator Cáº£i thiá»‡n tÃ­nh kháº£ dá»¥ng vÃ  hiá»‡u suáº¥t cá»§a á»©ng dá»¥ng toÃ n cáº§u báº±ng cÃ¡ch sá»­ dá»¥ng máº¡ng toÃ n cáº§u AWS Táº­n dá»¥ng máº¡ng ná»™i bá»™ AWS Ä‘á»ƒ tá»‘i Æ°u hÃ³a lá»™ trÃ¬nh Ä‘áº¿n á»©ng dá»¥ng cá»§a báº¡n (cáº£i thiá»‡n 60%) AWS Global Accelerator vs CloudFront 2 Anycast IP Ä‘Æ°á»£c táº¡o cho á»©ng dá»¥ng cá»§a báº¡n vÃ  lÆ°u lÆ°á»£ng truy cáº­p Ä‘Æ°á»£c gá»­i qua Edge Locations Edge locations gá»­i lÆ°u lÆ°á»£ng truy cáº­p Ä‘áº¿n á»©ng dá»¥ng cá»§a báº¡n AWS Global Accelerator vs CloudFront Cáº£ hai Ä‘á»u sá»­ dá»¥ng máº¡ng toÃ n cáº§u AWS vÃ  cÃ¡c edge locations cá»§a máº¡ng nÃ y trÃªn kháº¯p tháº¿ giá»›i Cáº£ 2 Ä‘á»u tÃ­ch há»£p AWS Shield Ä‘á»ƒ chá»‘ng DDoS CloudFront â€“ Content Delivery Network Cáº£i thiá»‡n hiá»‡u suáº¥t cho ná»™i dung cÃ³ thá»ƒ lÆ°u vÃ o bá»™ nhá»› cache cá»§a báº¡n (cháº³ng háº¡n nhÆ° hÃ¬nh áº£nh vÃ  video) Content is served at the edge Global Accelerator KhÃ´ng cÃ³ bá»™ nhá»› Ä‘á»‡m, cÃ¡c proxying packets á»Ÿ rÃ¬a tá»›i cÃ¡c á»©ng dá»¥ng Ä‘ang cháº¡y trong má»™t hoáº·c nhiá»u Khu vá»±c AWS. Cáº£i thiá»‡n hiá»‡u suáº¥t cho má»™t loáº¡t cÃ¡c á»©ng dá»¥ng qua TCP hoáº·c UDP Tá»‘t cho cÃ¡c trÆ°á»ng há»£p sá»­ dá»¥ng HTTP yÃªu cáº§u Ä‘á»‹a chá»‰ IP tÄ©nh Tá»‘t cho cÃ¡c trÆ°á»ng há»£p sá»­ dá»¥ng HTTP yÃªu cáº§u chuyá»ƒn Ä‘á»•i dá»± phÃ²ng khu vá»±c nhanh, xÃ¡c Ä‘á»‹nh Seed test: https://speedtest.globalaccelerator.aws AWS Outposts ÄÃ¡m mÃ¢y lai: cÃ¡c doanh nghiá»‡p giá»¯ cÆ¡ sá»Ÿ háº¡ táº§ng táº¡i chá»— cÃ¹ng vá»›i cÆ¡ sá»Ÿ háº¡ táº§ng Ä‘Ã¡m mÃ¢y Do Ä‘Ã³, cÃ³ hai cÃ¡ch xá»­ lÃ½ há»‡ thá»‘ng CNTT: Má»™t cho AWS cloud (sá»­ dá»¥ng AWS console, CLI vÃ  AWS APIs) Má»™t cho cÃ¡c háº¡ táº§ng â€œtáº¡i chá»—â€ AWS Outposts lÃ  â€œgiÃ¡ Ä‘á»¡ mÃ¡y chá»§â€ (server racks) cung cáº¥p cÆ¡ sá»Ÿ háº¡ táº§ng giá»‘ng AWS, dá»‹ch vá»¥, API vÃ  cÃ´ng cá»¥ AWS Ä‘á»ƒ táº¡o cÃ¡c á»©ng dá»¥ng cá»§a riÃªng báº¡n táº¡i chá»— giá»‘ng nhÆ° trong Ä‘Ã¡m mÃ¢y. AWS sáº½ thiáº¿t láº­p vÃ  quáº£n lÃ½ â€œOutposts Racksâ€ trong cÆ¡ sá»Ÿ háº¡ táº§ng táº¡i chá»— cá»§a báº¡n vÃ  báº¡n cÃ³ thá»ƒ báº¯t Ä‘áº§u táº­n dá»¥ng cÃ¡c dá»‹ch vá»¥ AWS táº¡i chá»— Báº¡n chá»‹u trÃ¡ch nhiá»‡m vá» báº£o máº­t váº­t lÃ½ cá»§a Outposts Rack Benefits Kháº£ nÄƒng truy cáº­p vÃ o cÃ¡c há»‡ thá»‘ng táº¡i chá»— vá»›i Ä‘á»™ trá»… tháº¥p Xá»­ lÃ½ dá»¯ liá»‡u cá»¥c bá»™ Data residency Easier migration from on-premises to the cloud Fully managed service Má»™t sá»‘ dá»‹ch vá»¥ hoáº¡t Ä‘á»™ng trÃªn Outposts Leveraging the AWS Global Infrastructure Summary Global DNS: Route 53 Great to route users to the closest deployment with least latency Great for disaster recovery strategies Global Content Delivery Network (CDN): CloudFront Replicate part of your application to AWS Edge Locations â€“ decrease latency Cache common requests â€“ improved user experience and decreased latency S3 Transfer Acceleration Accelerate global uploads &amp; downloads into Amazon S3 AWS Global Accelerator: Improve global application availability and performance using the AWS global network AWS Outposts Deploy Outposts Racks in your own Data Centers to extend AWS services","link":"/2021/05/18/Section-12-Leveraging-the-AWS-Global-Infrastructure/"},{"title":"Section 10: Other Compute Services- ECS, Lambda, Batch, Lightsail","text":"CÃ¹ng tÃ¬m hiá»ƒu má»™t sá»‘ dá»‹ch vá»¥ tÃ­nh toÃ¡n khÃ¡c trong AWS! What is Docker?Docker sáº½ khÃ´ng cÃ³ trong exam, nhÆ°ng Ä‘á»c Ä‘á»ƒ biáº¿t sá»­ dá»¥ng Docker trÃªn AWS ECS, Fargate &amp; ECR OverviewECS ECS = Elastic Container Service Launch Docker containers on Báº¡n chÃ­nh lÃ  ngÆ°á»i cung cáº¥p vÃ  duy trÃ¬, báº£o dÆ°á»¡ng cÆ¡ sá»Ÿ háº¡ táº§ng (chÃ­nh lÃ  cÃ¡c EC2 instances) AWS sáº½ quan tÃ¢m viá»‡c start/stop cÃ¡c instances CÃ³ Ä‘Æ°á»£c tÃ­ch há»£p vá»›i Application Load Balancer Fargate Launch Docker containers on AWS Báº¡n khÃ´ng cáº§n pháº£i cung cáº¥p cÆ¡ sá»Ÿ háº¡ táº§ng (sáº½ khÃ´ng EC2 Instances Ä‘á»ƒ quáº£n lÃ½) - Ä‘Æ¡n giáº£n hÆ¡n! Serverless offering AWS chá»‰ cháº¡y cÃ¡c containers dá»±a trÃªn CPU/RAM báº¡n cáº§n ECR ECR = Elastic Container Registry: NÆ¡i lÆ°u trá»¯ Docker images Private Docker Registry on AWS This is where you store your Docker images so they can be run by ECS or Fargate So remember, ECS versus Fargate versus ECR, thatâ€™s all you need to know going into the exam. Serverless Introduction Serversless vÃ  má»™t kiá»ƒu máº«u má»›i mÃ  táº¡i Ä‘Ã³ developers khÃ´ng pháº£i quáº£n lÃ½ báº¥t kÃ¬ servers nÃ o ná»¯a â€¦ Há» chá»‰ deploy code Há» chá»‰ deploy â€¦ functions! Ban Ä‘áº§u â€¦ Serverles = FaaS (Function as a Service) Serverless Ä‘Æ°á»£c Ä‘i tiÃªn phong bá»Ÿi AWS Lambda nhÆ°ng giá» Ä‘Ã¢y, nÃ³ Ä‘Ã£ bao gá»“m báº¥t cá»© cÃ¡i gÃ¬ cáº§n quáº£n lÃ½: database, messagin, lÆ°u trá»¯ â€¦ Serverless does not mean there are no serversâ€¦ NÃ³ cÃ³ nghÄ©a lÃ  báº¡n khÃ´ng cáº§n quáº£n lÃ½ / cung cáº¥p / vÃ  xem chÃºng Lambda Overview https://www.youtube.com/watch?v=eOBq__h4OJ4 https://aws.amazon.com/lambda/?hp=tile&amp;so-exp=below&amp;ct=fs Why AWS Lamda Lá»£i Ã­ch cá»§a AWS Lambda GiÃ¡ ngon: Tráº£ tiá»n cho má»—i request vÃ  thá»i gian tÃ­nh toÃ¡n Free tier of 1,000,000 AWS Lambda requests and 400,000 GBs of compute time TÃ­ch há»£p vá»›i toÃ n bá»™ bá»™ dá»‹ch vá»¥ AWS Event-Driven (hÆ°á»›ng sá»± kiá»‡n): cÃ¡c functions chá»‰ Ä‘Æ°á»£c gá»i bá»Ÿi AWS khi báº¡n cáº§n TÃ­ch há»£p vá»›i nhiá»u ngÃ´n ngá»¯ láº­p trÃ¬nh GiÃ¡m sÃ¡t dá»… dÃ ng vá»›i AWS CloudWatch Dá»… dÃ ng nháº­n Ä‘Æ°á»£c nhiá»u tÃ i nguyÃªn hÆ¡n cho má»—i chá»©c nÄƒng (lÃªn Ä‘áº¿n 3GB RAM!) TÄƒng RAM cÅ©ng sáº½ cáº£i thiá»‡n CPU vÃ  máº¡ng! AWS Lambda Language SupportLambda cung cáº¥p ráº¥t nhiá»u ngÃ´n ngá»¯ cho báº¡n Node.js (JavaScript) Python Java (Java 8 compatible) C# (.NET Core) Golang C# / Powershell Ruby Custom Runtime API (community supported, example Rust) Lambda Container Image The container image must implement the Lambda Runtime API ECS / Fargate is preferred for running arbitrary Docker imagesExample: Serverless Thumbnail creattion AWS Lambda ExampleEx1: Táº¡o Thumbnail vá»›i áº£nh s3 Ex2: Cron Job Ex3: AWS Lamdba Pricing (very cheap) Báº¡n cÃ³ thá»ƒ xem cÃ¡c thÃ´ng tin giÃ¡ táº¡i https://aws.amazon.com/lambda/pricing/ GiÃ¡ má»—i láº§n gá»i 1.000.000 request Ä‘áº§u tiÃªn lÃ  miá»…n phÃ­ $0.20 cho má»—i 1 triá»‡u request sau Ä‘Ã³ ($0.0000002 cho má»—i request) GiÃ¡ cho má»—i khoáº£ng thá»i gian (tÄƒng dáº§n vá»›i má»—i 100ms) 400,000 GB-seconds of compute time per month if FREE == 400,000 seconds if function is 1GB RAM == 3,200,000 seconds if function is 128 MB RAM After that $1.00 for 600,000 GB-seconds GiÃ¡ AWS Lambda ráº¥t ráº», do Ä‘Ã³ nÃ³ thá»±c sá»± Ä‘Æ°á»£c sá»­ dá»¥ng ráº¥t phá»• biáº¿n :D Lab 01: Lambda Hands OnAPI Gateway Overview BÃ¢y giá» chÃºng ta cÃ¹ng nÃ³i vá» API Gateway. NÃ³ há»¯u Ã­ch vÃ  Ä‘Æ°á»£c sá»­ dá»¥ng khi báº¡n muá»‘n xÃ¢y dá»±ng má»™t serverless API ÄÃ£ Ä‘Æ°á»£c quáº£n lÃ½ toÃ n bá»™ dá»‹ch vá»¥ cho developers Ä‘á»ƒ dá»… dÃ ng táº¡o, publish, báº£o trÃ¬, giÃ¡m sÃ¡t vÃ  báº£o máº­t APIs Serverless vÃ  cÃ³ thá»ƒ má»Ÿ rá»™ng Há»— trá»£ vá»›i cÃ¡c RESTfull APIs vÃ  WebSocket APIs Há»— trá»£ báº£o máº­t, xÃ¡c thá»±c ngÆ°á»i dÃ¹ng, Ä‘iá»u chá»‰nh API, khÃ³a API, giÃ¡m sÃ¡t â€¦ Batch Overview Fully managed batch processing at any scale Efficiently run 100,000s of computing batch jobs on AWS A â€œbatchâ€ job is a job with a star t and an end (opposed to continuous) Batch will dynamically launch EC2 instances or Spot Instances AWS Batch provisions the right amount of compute / memory You submit or schedule batch jobs and AWS Batch does the rest! Batch jobs are defined as Docker images and run on ECS Helpful for cost optimizations and focusing less on the infrastructure Batch vs LamdbaLambda: Time limit Limited runtimes Limited temporary disk space Serverless Batch: No time limit Any runtime as long as itâ€™s packaged as a Docker image Rely on EBS / instance store for disk space Relies on EC2 (can be managed by AWS) Lightsail Overview MÃ¡y chá»§ áº£o, lÆ°u trá»¯, cÆ¡ sá»Ÿ dá»¯ liá»‡u vÃ  máº¡ng GiÃ¡ tháº¥p vÃ  cÃ³ thá»ƒ dá»± Ä‘oÃ¡n Ä‘Æ°á»£c Thay tháº¿ Ä‘Æ¡n giáº£n hÆ¡n Ä‘á»ƒ sá»­ dá»¥ng EC2, RDS, ELB, EBS, Route 53 Má»™t cÃ´ng cá»¥ tuyá»‡t vá»i cho nhá»¯ng ngÆ°á»i Ã­t kinh nghiá»‡m vá»›i cloud CÃ³ thá»ƒ thiáº¿t láº­p thÃ´ng bÃ¡o vÃ  giÃ¡m sÃ¡t tÃ i nguyÃªn Lightsail Use cases: Simple web applications (has templates for LAMP, Nginx, MEAN, Node.jsâ€¦) Websites (templates for WordPress, Magento, Plesk, Joomla) Dev /Test environment CÃ³ tÃ­nh kháº£ dá»¥ng cao nhÆ°ng khÃ´ng auto-scaling, tÃ­ch há»£p AWS háº¡n cháº¿ Cuá»‘i cÃ¹ng, Lightsail cÅ©ng ráº¥t tuyá»‡t náº¿u báº¡n cÃ³ mÃ´i trÆ°á»ng phÃ¡t triá»ƒn vÃ  thá»­ nghiá»‡m trong AWS. CÃ³ má»™t khÃ¡i niá»‡m vá» tÃ­nh kháº£ dá»¥ng cao trong Lightsail nhÆ°ng khÃ´ng cÃ³ tá»± Ä‘á»™ng má»Ÿ rá»™ng quy mÃ´ vÃ  thá»±c sá»± cÃ³ nhá»¯ng tÃ­ch há»£p AWS háº¡n cháº¿. VÃ¬ váº­y, tÃ³m láº¡i, Lightsail thá»±c sá»± lÃ  thá»© mÃ  báº¡n sáº½ khÃ´ng sá»­ dá»¥ng ngÃ y hÃ´m nay nhÆ°ng tá»« gÃ³c Ä‘á»™ kiá»ƒm tra, khi Ä‘i thi, náº¿u báº¡n tháº¥y ai Ä‘Ã³ khÃ´ng cÃ³ kinh nghiá»‡m vá» Ä‘Ã¡m mÃ¢y vÃ  cáº§n báº¯t Ä‘áº§u nhanh chÃ³ng vá»›i má»©c giÃ¡ tháº¥p vÃ  cÃ³ thá»ƒ dá»± Ä‘oÃ¡n Ä‘Æ°á»£c mÃ  khÃ´ng cáº§n Ä‘á»‹nh cáº¥u hÃ¬nh nhiá»u thá»© sáº½ hÃ£y chá»n Lightsail =)), náº¿u khÃ´ng, háº§u nhÆ° luÃ´n lÃ  má»™t cÃ¢u tráº£ lá»i sai. Lab 02: Lightsail Hands OnOther Compute - SummaryBatch allows you to run batch jobs on AWS across a set of managed EC2 instances. And actually, the batch service actually runs on top of the ECS service. Docker: container technology to run applications ECS: run Docker containers on EC2 instances Fargate: Run Docker containers without provisioning the infrastructure â€¢ Serverless offering (no EC2 instances) ECR: Private Docker Images Repository Batch: run batch jobs on AWS across managed EC2 instances Lightsail: predictable &amp; low pricing for simple application &amp; DB stacks","link":"/2021/05/16/Section-10-Other-Compute-Services-ECS-Lambda-Batch-Lightsail/"},{"title":"Section 14: Cloud Monitoring","text":"CÃ¹ng tÃ¬m hiá»ƒu má»™t sá»‘ dá»‹ch vá»¥ giÃ¡m sÃ¡t trÃªn Cloud! CloudWatchAmazon CloudWatch Metrics CloudWatch cung cáº¥p cÃ¡c metrics cho má»i dá»‹ch vá»¥ trong AWS Metric lÃ  má»™t biáº¿n Ä‘á»ƒ giÃ¡m sÃ¡t (CPUUtilization, NetworkInâ€¦) Metric cÃ³ timestamps CÃ³ thá»ƒ táº¡o CloudWatch dashboards cá»§a cÃ¡c metrics VÃ  Ä‘Ã¢y lÃ  vÃ­ dá»¥ vá» CloudWatch Billing metric CÃ¡c Metrics quan trá»ng EC2 instance: CPU Utilization, Status Checks, Network (not RAM) Máº·c Ä‘á»‹nh metrics cho má»—i 5 phÃºt Báº¡n hoÃ n toÃ n cÃ³ thá»ƒ theo dÃµi chi tiáº¿t hÆ¡n nhÆ°ng máº¥t thÃªm phÃ­: metrics cho má»—i 1 phÃºt EBS volumes: Disk Read/Writes S3 bucket: BucketSizeBytes, NumberOfObjects, AllRequests Billing: Total Estimated Charge (only in us-east-1) Service Limits: má»©c Ä‘á»™ báº¡n Ä‘Ã£ vÃ  Ä‘ang sá»­ dá»¥ng 1 dá»‹ch vá»¥ API Custom metrics: Ä‘áº©y lÃªn cÃ¡c metrics mÃ  báº¡n muá»‘n Amazon CloudWatch Alarms Alrms Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ trigger cÃ¡c thÃ´ng bÃ¡o cho má»™t vÃ o metric CÃ¡c alarm action: Auto Scaling: increase or decrease EC2 instances â€œdesiredâ€ count EC2 Actions: stop, terminate, reboot or recover an EC2 instance SNS notifications: send a notification into an SNS topic CÃ¡c tuá»³ chá»n khÃ¡c nhau (láº¥y máº«u, %, max, min,â€¦) CÃ³ thá»ƒ chá»n khoáº£ng thá»i gian Ä‘á»ƒ xÃ¡c Ä‘á»‹nh khi nÃ o sáº½ báº­t alarm VÃ­ dá»¥: Táº¡o má»™t billing alarm trÃªn CloudWatch Billing metric CÃ¡c tráº¡ng thÃ¡i cá»§a Alarm: OK, INSUFFICIENT_DATA, ALARM Lab 01: CloudWatch Metrics &amp; CloudWatch - Alarms Hands On Xem cÃ¡c metric, chá»n 1 metric Ä‘á»ƒ theo dÃµi Táº¡o Alarm (Cáº£ táº¡o Alarm trong Instance EC2 ná»¯a) Create billing alarm CloudWatch Logs Overview Máº·c Ä‘á»‹nh, khÃ´ng cÃ³ logs tá»« EC2 instance Ä‘áº¿n CloudWatch Báº¡n cáº§n cháº¡y 1 CloudWatch agent trÃªn EC2 Ä‘á»ƒ push cÃ¡c file logs mÃ  báº¡n muá»‘n (log á»©ng dá»¥ng, log nginx â€¦) HÃ£y cháº¯c cháº¯n ráº±ng quyá»n IAM lÃ  Ä‘Ãºng The CloudWatch log agent can be setup on-premises too (khÃ´ng nháº¥t thiáº¿t chá»‰ lÃ  EC2) Lab 02: CloudWatch Logs Hands OnCloudWatch Events / EventBridge Schedule: Cron jobs (theo cÃ¡c scheduled scripts) Event Pattern: cÃ¡c sá»± kiá»‡n pháº£n á»©ng láº¡i khi 1 dá»‹ch vá»¥ lÃ m 1 viá»‡c gÃ¬ Ä‘Ã³ Trigger Lambda functions, send SQS/SNS messagesâ€¦ Amazon EventBridge EventBridge lÃ  sá»± phÃ¡t triá»ƒn tiáº¿p theo cá»§a CloudWatch Events Defaukt event bus: Ä‘Æ°á»£c sinh bá»Ÿi cÃ¡c dá»‹ch vá»¥ AWS (CloudWatch Events) Parner event bus: nháº­n cÃ¡c sá»± kiá»‡n tá»« SaaS service hoáº·c á»©ng dá»¥ng (Zendesk, DataDog, Segment, Auth0â€¦) Custom Event bues: cho cÃ¡c á»©ng dá»¥ng cá»§a báº¡n Schema Registry: model event schema EventBridge cÃ³ má»™t tÃªn khÃ¡c Ä‘á»ƒ Ä‘Ã¡nh dáº¥u cÃ¡c kháº£ nÄƒng má»›i TÃªn CloudWatch Events sáº½ Ä‘Æ°á»£c thay tháº¿ vá»›i EventBridge Lab 03: CloudWatch Events / EventBridge Hands On Tá»« CloudWatch =&gt; Events =&gt; Create CHá»n schedule =&gt; Add Targets Ká»‹ch báº£n 2: Táº¡o Event Partern Má»™t user login EC2 thay Ä‘á»•i tráº¡ng thÃ¡i Ká»‹ch báº£n tiáº¿p theo: Event Bridge. Tá»« EventBridge tháº¥y Ä‘Æ°á»£c cÃ¡c rules Ä‘Ã£ táº¡o bÃªn Events CloudTrail Overview Cung cáº¥p quáº£n trá»‹, tuÃ¢n thá»§ vÃ  kiá»ƒm toÃ¡n cho tÃ i khoáº£n AWS cá»§a báº¡n. Máº·c Ä‘á»‹nh CloudTrail Ä‘Ã£ Ä‘Æ°á»£c enabled! Láº¥y lá»‹ch sá»­ cá»§a cÃ¡c sá»± kiá»‡n / API calls Ä‘Æ°á»£c táº¡o trong tÃ i khoáº£n AWS: Console SDK CLI AWS Services CÃ³ thá»ƒ put logs tá»« CloudTrail Ä‘áº¿n CloudWatch Logs hoáº·c S3 Má»™t trail cÃ³ thá»ƒ Ä‘Æ°á»£c Ã¡p dá»¥ng cho Táº¥t cáº£ Regions (máº·c Ä‘á»‹nh) hoáº·c Ä‘Æ¡n Region Náº¿u 1 resource bá»‹ xoÃ¡ trong AWS, hÃ£y Ä‘iá»u tra CloudTrail Ä‘áº§u tiÃªn CloudTrail Diagram CloudTrail Events Quáº£n lÃ½ cÃ¡c sá»± kiá»‡n CÃ¡c thao tÃ¡c Ä‘Æ°á»£c thá»±c hiá»‡n trÃªn cÃ¡c tÃ i nguyÃªn trong tÃ i khoáº£n AWS cá»§a báº¡n VÃ­ dá»¥ Configuring security (IAM AttachRolePolicy) Configuring rules for routing data (Amazon EC2 CreateSubnet) Setting up logging (AWS CloudTrail CreateTrail) Máº·c Ä‘á»‹nh, trails Ä‘Ã£ Ä‘Æ°á»£c cáº¥u hÃ¬nh Ä‘á»ƒ log viá»‡c quáº£n lÃ½ cÃ¡c sá»± kiá»‡n CÃ³ thá»ƒ chia ra: Read Events (cÃ¡c sá»± kiá»‡n khÃ´ng sá»­a Ä‘á»•i láº¡i resources) tá»« cÃ¡c Write Events (cÃ¡c sá»± kiá»‡n sá»­a Ä‘á»•i resource) Data Events: Máº·c Ä‘á»‹nh, data events khÃ´ng Ä‘Æ°á»£c log (bá»Ÿi vÃ¬ toÃ¡n tá»­ volume cao - high volume operations) CÃ¡c hoáº¡t Ä‘á»™ng Amazon S3 á»Ÿ object-level (vÃ­ dá»¥ nhÆ° GetObject, DeleteObject, PutObject) cÃ³ thá»ƒ chia thÃ nh Read and Write Events AWS Lambda function execution activity (the Invoke API) CloudTrail Insights Events: pháº§n tiáº¿p theo sáº½ Ä‘á» cáº­p CloudTrail InsightsBÃ¢y giá» chÃºng ta hÃ£y nÃ³i vá» CloudTrail Insights. ChÃºng ta sá»­ dá»¥ng CloudTrail Ä‘á»ƒ quáº£n lÃ½ cÃ¡c sá»± kiá»‡n vÃ  cÃ³ ráº¥t nhiá»u sá»± kiá»‡n quáº£n lÃ½ trÃªn táº¥t cáº£ cÃ¡c loáº¡i dá»‹ch vá»¥ xáº£y ra ráº¥t nhanh trong tÃ i khoáº£n cá»§a báº¡n, cÃ³ thá»ƒ khÃ¡ khÃ³ Ä‘á»ƒ hiá»ƒu nhá»¯ng gÃ¬ trÃ´ng ká»³ quáº·c, nhá»¯ng gÃ¬ trÃ´ng báº¥t thÆ°á»ng vÃ  nhá»¯ng gÃ¬ khÃ´ng. VÃ  Ä‘Ã¢y lÃ  lÃºc CloudTrail Insights xuáº¥t hiá»‡n. Vá»›i CloudTrail Insights vÃ  báº¡n Ä‘Ã£ kÃ­ch hoáº¡t nÃ³ vÃ  báº¡n pháº£i tráº£ tiá»n cho nÃ³, nÃ³ sáº½ phÃ¢n tÃ­ch cÃ¡c sá»± kiá»‡n cá»§a báº¡n vÃ  cá»‘ gáº¯ng phÃ¡t hiá»‡n hoáº¡t Ä‘á»™ng báº¥t thÆ°á»ng trong tÃ i khoáº£n cá»§a báº¡n. Má»™t sá»‘ hÃ nh Ä‘á»™ng khÃ´ng thÆ°á»ng xuyÃªn cÃ³ thá»ƒ ká»ƒ Ä‘áº¿n Cung cáº¥p tÃ i nguyÃªn khÃ´ng chÃ­nh xÃ¡c ÄÃ¡nh giá»›i háº¡n cho cÃ¡c dá»‹ch vá»¥ Bursts of AWS IAM actions Khoáº£ng cÃ¡ch trong hoáº¡t Ä‘á»™ng báº£o trÃ¬ Ä‘á»‹nh ká»³ CloudTrail Insights phÃ¢n tÃ­ch cÃ¡c sá»± kiá»‡n quáº£n lÃ½ bÃ¬nh thÆ°á»ng Ä‘á»ƒ táº¡o Ä‘Æ°á»ng cÆ¡ sá»Ÿ vÃ  sau Ä‘Ã³ tiáº¿p tá»±c phÃ¢n tÃ­ch cÃ¡c sá»± kiá»‡n write Ä‘á»ƒ detect cÃ¡c hoáº¡t Ä‘á»™ng khÃ´ng thÆ°á»ng xuyÃªn CloudTrail Events Retention CÃ¡c sá»± kiá»‡n Ä‘Æ°á»£c lÆ°u trong 90 ngÃ y trÃªn CloudTrail Äá»ƒ giá»¯ cÃ¡c sá»± kiá»‡n lÃ¢u hÆ¡n, hÃ£y log chÃºng lÃªn S3 vÃ  sá»­ dá»¥ng Athena Lab 03: CloudTrail Hands On Äáº§u tiÃªn vÃ o CloudTrail, nhÃ¬n Ä‘Æ°á»£c toÃ n bá»™ lá»‹ch sá»­ cÃ¡c event cá»§a tÃ i khoáº£n cá»§a báº¡n Ä‘Ã£ thá»±c hiá»‡n trong thá»i gian gáº§n Ä‘Ã¢y Nháº¥n vÃ o Tab Event history TÃ¬m kiáº¿m thá»­ event: TerminateInstances HÃ£y nhÃ¬n tab Insights vÃ  Trails bÃªn sidebar =&gt; Táº¡o 1 Trails Config Ä‘áº©y log lÃªn S3 hoáº·c CloudWatch Logs Event types: Tham kháº£o thÃªm slide Theo dÃµi event tá»« S3, Lambda, all resource hoáº·c resource cá»¥ thá»ƒ Táº¡o xong sáº½ Ä‘Æ°á»£c S3 vÃ  CloudWatch chá»©a cÃ¡c thÃ´ng tin Log Test Trail Táº¡o key pair cho user Xem trong S3 vÃ  CloudWatch Táº¡o Athena table. vÃ o Event histoty =&gt; Create Athena Table. VÃ o service Athena Ä‘á»ƒ xem X-Ray Overview Dá»‹ch vá»¥ giÃºp debugging trÃªn Production, vá»›i cÃ¡ch tá»‘t cÅ©: Test locally ThÃªm log má»i chá»— Deploy láº¡i trÃªn production Äá»‹nh dáº¡ng log giá»¯a cÃ¡c á»©ng dá»¥ng khÃ¡c nhau vÃ  dáº«n Ä‘áº¿n viá»‡c phÃ¢n tÃ­ch log lÃ  khÃ³ Debugging: má»™t khá»‘i lá»›n lÃ  â€œdá»… dÃ ngâ€, vá»›i cÃ¡c dá»‹ch vá»¥ phÃ¢n tÃ¡n thÃ¬ â€œkhÃ³â€ (sá»­ dá»¥ng SQS, SNS phÃ¢n tÃ¡n dá»‹ch vá»¥) KhÃ´ng cÃ³ cÃ¡c views chung cho toÃ n bá»™ kiáº¿n trÃºc cá»§a báº¡n =&gt; Enter: â€¦. AWS X-Ray! AWS X-Ray: Visual analysis of our applicationsÆ¯u Ä‘iá»ƒm cá»§a X-Ray Kháº¯c phá»¥c sá»± cá»‘ hiá»‡u suáº¥t (táº¯c ngháº½n) Hiá»ƒu sá»± phá»¥ thuá»™c trong kiáº¿n trÃºc microservice CÃ¡c váº¥n Ä‘á» vá» dá»‹ch vá»¥ khÃ´ng chÃ­nh xÃ¡c Review request behavior TÃ¬m Ä‘Æ°á»£c cÃ¡c lá»—i vÃ  exceptions Are we meeting time SLA? TÃ´i bá»‹ táº¯c ngháº½n á»Ÿ Ä‘Ã¢u? XÃ¡c Ä‘á»‹nh nhá»¯ng ngÆ°á»i dÃ¹ng bá»‹ áº£nh hÆ°á»Ÿng á» level cao hÆ¡n sáº½ cÃ³ demo cho pháº§n nÃ y Service Health Dashboard Hiá»ƒn thá»‹ táº¥t cáº£ cÃ¡c khu vá»±c, táº¥t cáº£ cÃ¡c dá»‹ch vá»¥ tÃ¬nh tráº¡ng Hiá»ƒn thá»‹ thÃ´ng tin lá»‹ch sá»­ cho má»—i ngÃ y CÃ³ nguá»“n cáº¥p dá»¯ liá»‡u RSS mÃ  báº¡n cÃ³ thá»ƒ Ä‘Äƒng kÃ½ https://status.aws.amazon.com =&gt; High level Personal Health DashboardAWS Personal Health Dashboar. cung cáº¥p cáº£nh bÃ¡o vÃ  hÆ°á»›ng dáº«n kháº¯c phá»¥c khi AWS Ä‘ang gáº·p pháº£i cÃ¡c sá»± kiá»‡n cÃ³ thá»ƒ áº£nh hÆ°á»Ÿng Ä‘áº¿n báº¡n. Trong khi Service Health Dashboard hiá»ƒn thá»‹ tráº¡ng thÃ¡i chung cá»§a cÃ¡c dá»‹ch vá»¥ AWS, Personal Health Dashboard cung cáº¥p cho báº¡n má»™t cÃ¡i nhÃ¬n Ä‘Æ°á»£c cÃ¡ nhÃ¢n hÃ³a vá» hiá»‡u suáº¥t vÃ  tÃ­nh kháº£ dá»¥ng cá»§a cÃ¡c dá»‹ch vá»¥ AWS bÃªn dÆ°á»›i tÃ i nguyÃªn AWS cá»§a báº¡n. Báº£ng Ä‘iá»u khiá»ƒn hiá»ƒn thá»‹ thÃ´ng tin liÃªn quan vÃ  ká»‹p thá»i Ä‘á»ƒ giÃºp báº¡n quáº£n lÃ½ cÃ¡c sá»± kiá»‡n Ä‘ang diá»…n ra vÃ  cung cáº¥p thÃ´ng bÃ¡o chá»§ Ä‘á»™ng Ä‘á»ƒ giÃºp báº¡n láº­p káº¿ hoáº¡ch cho cÃ¡c hoáº¡t Ä‘á»™ng Ä‘Ã£ lÃªn lá»‹ch. ÄÃ¢y lÃ  dá»‹ch vá»¥ Global: https://phd.aws.amazon.com/ Cho biáº¿t sá»± cá»‘ AWS tÃ¡c Ä‘á»™ng trá»±c tiáº¿p Ä‘áº¿n báº¡n vÃ  tÃ i nguyÃªn AWS cá»§a báº¡n nhÆ° tháº¿ nÃ o CÃ¡c hoáº¡t Ä‘á»™ng cáº£nh bÃ¡o, kháº¯c phá»¥c, chá»§ Ä‘á»™ng, theo lá»‹ch trÃ¬nh Monitoring Summary CloudWatch: Metrics: monitor the performance of AWS services and billing metrics Alarms: automate notification, perform EC2 action, notify to SNS based on metric Logs: collect log files from EC2 instances, servers, Lambda functionsâ€¦ Events (or EventBridge): react to events in AWS, or trigger a rule on a schedule CloudTrail: audit API calls made within your AWS account CloudTrail Insights: automated analysis of your CloudTrail Events X-Ray: trace requests made through your distributed applications Service Health Dashboard: status of all AWS services across all regions Personal Health Dashboard: AWS events that impact your infrastructure","link":"/2021/05/22/Section-14-Cloud-Monitoring/"},{"title":"Section 4: IAM - Identity and Access Management","text":"IAM lÃ  viáº¿t táº¯t cá»§a Identity and Access Management, service nÃ y sáº½ cÃ³ pháº¡m vi region lÃ  Global IAM Introduction: Users, Groups, PoliciesUser and Group TÃ i khoáº£n root sáº½ Ä‘Æ°á»£c táº¡o máº·c Ä‘á»‹nh, báº¡n khÃ´ng nÃªn Ä‘Æ°á»£c sá»­ dá»¥ng, cÃ ng khÃ´ng nÃªn chia sáº» cho ai Users: lÃ  má»i ngÆ°á»i trong cÃ¹ng má»™t tá»• chá»©c vÃ  cÃ³ thá»ƒ Ä‘Æ°á»£c nhÃ³m láº¡i. Users trong IAM cÃ³ thá»ƒ khÃ´ng thuá»™c vá» group nÃ o hoáº·c cÅ©ng cÃ³ thá»ƒ thuá»™c vá» nhiá»u group. Tuy nhiÃªn, theo best practice thÃ¬ user váº«n nÃªn thuá»™c Ã­t nháº¥t 1 group Policies: Äá»‹nh nghÄ©a báº¡n Ä‘Æ°á»£c lÃ m gÃ¬ theo cÃ¡c service cá»§a há»‡ thá»‘ng. Máº·c Ä‘á»‹nh AWS cÅ©ng Ä‘Ã£ cÃ³ ráº¥t nhiá»u Policies, báº¡n hoÃ n toÃ n cÃ³ thá»ƒ custom thÃªm theo Ã½ cá»§a mÃ¬nh. Policy cÃ³ thá»ƒ Ä‘Æ°á»£c gÃ¡n vá»›i cáº£ Roles vÃ  Groups Group: chá»‰ chá»©a users, khÃ´ng chá»©a nhÃ³m khÃ¡c Lab 01: IAM Users &amp; Groups Hands On? So why do we create users and why do we create groups? PermissionsUser hoáº·c Groups cÃ³ thá»ƒ Ä‘Æ°á»£c gÃ¡n JSON documents Ä‘Æ°á»£c gá»i trong Policies. Äá»‹nh nghÄ©a cÃ¡c quyá»n cho users Ä‘Æ°á»£c truy cáº­p tÃ i nguyÃªn nÃ o. Permissions cÃ³ thá»ƒ Ä‘Æ°á»£c thá»ƒ hiá»‡n dÆ°á»›i dáº¡ng JSON, hoáº·c giao diá»‡n trÃªn AWS Console. 123456789101112131415161718192021222324{ &quot;Version&quot;: &quot;2012-10-17&quot;, &quot;Statement&quot;: [ { &quot;Effect&quot;: &quot;Allow&quot;, &quot;Action&quot;: &quot;ec2:Describe*&quot;, &quot;Resource&quot;: &quot;*&quot; }, { &quot;Effect&quot;: &quot;Allow&quot;, &quot;Action&quot;: &quot;elasticloadbalancing:Describe*&quot;, &quot;Resource&quot;: &quot;*&quot; }, { &quot;Effect&quot;: &quot;Allow&quot;, &quot;Action&quot;: [ &quot;cloudwatch:ListMetrics&quot;, &quot;cloudwatch:GetMetricStatistics&quot;, &quot;cloudwatch:Describe*&quot; ], &quot;Resource&quot;: &quot;*&quot; } ]} NhÆ° á»Ÿ trÃªn ta cÃ³ thá»ƒ nhÃ¬n tháº¥y má»™t permission Ä‘Æ°á»£c thá»ƒ hiá»‡n dÆ°á»›i dáº¡ng JSON Effect: HÃ nh Ä‘á»™ng Ä‘Æ°á»£c phÃ©p hoáº·c khÃ´ng Action: CÃ¡c actions GET, LIST, DESCRIBE .. Ä‘Æ°á»£c AWS Ä‘á»‹nh nghÄ©a ra Resource: TÃ i nguyÃªn nÃ o HÃ£y cá»‘ gáº¯ng Ä‘áº£m báº£o nguyÃªn táº¯c tá»‘i thiá»ƒu hÃ³a quyá»n truy cáº­p - least privilege principle cho cÃ¡c user báº¡n táº¡o Lab 02: IAM Policies Hands OnPassword Policy + MFAÄá»ƒ Ä‘áº£m báº£o tÃ i khoáº£n cá»§a mÃ¬nh Ä‘Æ°á»£c báº£o máº­t hÆ¡n, hÃ£y sá»­ dá»¥ng Password Policy vÃ  MFA Password Policy lÃ  pháº§n Ä‘Æ°a ra cÃ¡c chÃ­nh sÃ¡ch cho máº­t kháº©u cá»§a tÃ i khoáº£n Ä‘ang sá»­ dá»¥ng: Set a minimum password length Require specific character types: including uppercase letters lowercase letters numbers non-alphanumeric characters Allow all IAM users to change their own passwords Require users to change their password after some time (password expiration) Prevent password re-use Äá»ƒ setting Password Policy, hÃ£y vÃ o IAM =&gt; Account Setting =&gt; Change Password Policy Multi Factor Authentication: giÃºp báº£o máº­t tÃ i khoáº£n nhiá»u lá»›p hÆ¡n. CÃ³ ráº¥t nhiá»u thiáº¿t bá»‹ pháº§n cá»©ng lÆ°u trá»¯ Token tÃ i khoáº£n, tuy nhiÃªn trong hÆ°á»›ng dáº«n, chÃºng ta Ä‘á» cáº­p Ä‘áº¿n cÃ¡c pháº§n má»m Virtual MFA Application (Authy, Duo Mobie, â€¦) Äá»ƒ enable MFA, tá»« mÃ n hÃ¬nh Dashboard, báº¡n cÃ³ thá»ƒ tháº¥y nÃ³ trong pháº§n Security alerts =)) AWS CLIÄáº§u tiÃªn Ä‘á»ƒ cÃ³ thá»ƒ truy cáº­p Ä‘Æ°á»£c AWS, chÃºng tÃ´i Ä‘Æ°a cho báº¡n 3 tÃ¹y chá»n AWS Management Console (protected by password + MFA) AWS Command Line Interface (CLI): protected by access keys AWS Software Developer Kit (SDK) - for code: protected by access keys â€¢ Access Key ID ~= username â€¢ Secret Access Key ~= password Trong Ä‘Ã³ CLI lÃ  má»™t trong sá»‘ cÃ¡c cÃ¡ch tÆ°Æ¡ng tÃ¡c, sá»­ dá»¥ng cÃ¡c cáº·p access keyss Remember: Donâ€™t share your access keys How can users access AWS ?Sá»­ dá»¥ng CLI1234$ aws configure=&gt; Äiá»n cÃ¡c thÃ´ng tin login$ aws iam list-users CloudShell=&gt; TÆ°Æ¡ng Ä‘á»“ng CLI khi báº¡n Ä‘Ã£ configuration IAM Roles for AWS ServicesMá»™t vÃ i cÃ¡c dá»‹ch vá»¥ cá»§a AWS cáº§n thá»±c hiá»‡n cÃ¡c action thay báº¡n. Äá»ƒ lÃ m Ä‘Æ°á»£c viá»‡c Ä‘Ã³, chÃºng ta sáº½ gÃ¡n permission tá»›i cÃ¡c service vá»›i IAM Roles Má»™t vÃ i Roles phá»• biáº¿n báº¡n sáº½ sá»­ dá»¥ng: EC2 Instance Roles Lambda Function Roles Roles for CloudFormation So we need to assign permissions to AWS services and to do so, weâ€™re going to create whatâ€™s called an IAM Role. So these IAM role will be just like a user, but they are intended to be used not by physical people, but instead they will be used by AWS services. VÃ­ dá»¥ nhÆ° role EC2, EC2 Ä‘Ã³ nhÆ° 1 user, cáº¥p role tÆ°Æ¡ng tÃ¡c vá»›i S3 Service (Hoáº·c cÃ¡c dá»‹ch vá»¥ thÃªm nhÆ° CloudWatch,â€¦) IAM Security ToolsIAM Credentials Report (account-level) á» Dashboard chá»n Credential Report A report that lists all your accountâ€™s users and the status of their various credentials IAM Access Advisor (user-level) Users =&gt; Chá»n 1 user cá»¥ thá»ƒ =&gt; Access Advisor Access advisor shows the service permissions granted to a user and when those services were last accessed. You can use this information to revise your policies. Lab 03: IAM Security Tools Hands OnIAM Best Practices Donâ€™t use the root account except for AWS account setup One physical user = One AWS user =&gt; 1 user tháº­t dÃ¹ng 1 tÃ i khoáº£n AWS, báº¡n cÃ³ thá»ƒ táº¡o nhiá»u tÃ i khoáº£n nhÆ°ng Ä‘á»«ng share dÃ¹ng chung Assign users to groups and assign permissions to groups Create a strong password policy Use and enforce the use of Multi Factor Authentication (MFA) Create and use Roles for giving permissions to AWS services Use Access Keys for Programmatic Access (CLI / SDK) Audit permissions of your account with the IAM Credentials Report Never share IAM users &amp; Access Keys Shared Responsibility Model for IAMHiá»ƒu lÃ  IAM cÃ³ nhiá»‡m vá»¥ giÃºp báº¡n lÃ m gÃ¬ =)) AWS =&gt; trÃ¡ch nhiá»‡m pháº§n cá»©ng, háº¡ táº§ngBáº¡n =&gt; sá»­ dá»¥ng nÃ³ nhÆ° tháº¿ nÃ o? IAM Summary Users: mapped to a physical user, has a password for AWS Console Groups: contains users only Policies: JSON document that outlines permissions for users or groups Roles: for EC2 instances or AWS services Security: MFA + Password Policy Access Keys: access AWS using the CLI or SDK Audit: IAM Credential Reports &amp; IAM Access Advisor","link":"/2021/05/04/Section-4-IAM-Identity-and-Access-Management/"},{"title":"Section 6: EC2 Instance Storage","text":"CÃ¹ng tÃ¬m hiá»ƒu má»™t sá»‘ dá»‹ch vá»¥ lÆ°u trá»¯ data cho EC2 EBS Volume An EBS (Elastic Block Store) Volume is a network drive you can attach to your instances while they run NÃ³ cho phÃ©p cÃ¡c instance cá»§a báº¡n duy trÃ¬ dá»¯ liá»‡u, ngay cáº£ khi chÃºng Ä‘Ã£ cháº¥m dá»©t (termination) ChÃºng chá»‰ cÃ³ thá»ƒ gÃ¡n vÃ o 1 instance trong 1 thá»i Ä‘iá»ƒm (CCP level) ChÃºng bá»‹ rÃ ng buá»™c bá»Ÿi má»™t availability zone cá»¥ thá»ƒ Sá»± tÆ°Æ¡ng Ä‘á»“ng: HÃ£y nghÄ© chÃºng nhÆ° lÃ  1 â€œnetwork USB stickâ€ Free tier: 30GB free lÆ°u trá»¯ EBS SSD hoáº·c nháº­n theo má»—i thÃ¡ng NÃ³ lÃ  má»™t network drive (khÃ´ng pháº£i lÃ  drive váº­t lÃ½) NÃ³ sá»­ dá»¥ng máº¡ng Ä‘á»ƒ giao tiáº¿p vá»›i cÃ¡c instance, Ä‘iá»u Ä‘Ã³ cÃ³ nghÄ©a sáº½ cÃ³ Ä‘á»™ trá»… NÃ³ cÃ³ thá»ƒ Ä‘Æ°á»£c detach tá»« 1 EC2 instance vÃ  attach vá»›i 1 EC2 khÃ¡c má»™t cÃ¡ch nhanh chÃ³ng NÃ³ â€œbá»‹ khoÃ¡â€ á»Ÿ 1 Availability Zone (AZ) Má»™t EBS Volume á»Ÿ us-east-1a khÃ´ng thá»ƒ attach vÃ o us-east-1b Äá»ƒ di chuyá»ƒn 1 volume, trÆ°á»›c tiÃªn báº¡n cáº§n táº¡o snapshot cho nÃ³ CÃ³ dung lÆ°á»£ng Ä‘Æ°á»£c cung cáº¥p (size in GBs vÃ  IOPS) Báº¡n sáº½ Ä‘Æ°á»£c láº­p hoÃ¡ Ä‘Æ¡n cho táº¥t cáº£ cÃ¡c dung lÆ°á»£ng Ä‘Æ°á»£c cung cáº¥p Báº¡n cÃ³ thá»ƒ tÄƒng dung lÆ°á»£ng theo thá»i gian Lab 01: EBS Hands OnEBS Snaphots Cho phÃ©p báº¡n táº¡o má»™t báº£n backup (snapshot) EBS volume cá»§a báº¡n táº¡i 1 thá»i Ä‘iá»ƒm KhÃ´ng nháº¥t thiáº¿t báº¡n pháº£i detach volume ra Ä‘á»ƒ táº¡o snapshot nhÆ°ng Ä‘Ã¢y lÃ  lá»i khuyÃªn Vá»›i snapshot, báº¡n cÃ³ thá»ƒ copy volume qua AZ hoáº·c Region Lab 02: EBS Snapshots Hands OnTá»•ng quan vá» AMI AMI = Amazon Machine Image AMI lÃ  má»™t EC2 Instance Ä‘Ã£ Ä‘Æ°á»£c tuá»³ chá»‰nh VÃ­ dá»¥ nhÆ° báº¡n cÃ³ thá»ƒ thÃªm cÃ¡c pháº§n má»m, cáº¥u hÃ¬nh, há»‡ Ä‘iá»u hÃ nh, cÃ¡c chÆ°Æ¡ng trÃ¬nh giÃ¡m sÃ¡t â€¦ vÃ o EC2 Thá»i gian boot/cáº¥u hÃ¬nh nhanh chÃ³ng vÃ¬ táº¥t cáº£ cÃ¡c pháº§n má»m Ä‘Ã£ Ä‘Æ°á»£c â€œÄ‘Ã³ng gÃ³i sáºµnâ€ AMI Ä‘Æ°á»£c build Ä‘á»‘i vá»›i má»™t region cá»¥ thá»ƒ (vÃ  cÃ³ thá»ƒ Ä‘Æ°á»£c copy giá»¯a cÃ¡c regions) Báº¡n cÃ³ thá»ƒ lauch EC2 Instance tá»« Má»™t public AMI: AWS cung cáº¥p AMI cá»§a báº¡n: báº¡n táº¡o ra vÃ  báº£o trÃ¬ nÃ³ Má»™t AWS Marketplace AMI: Má»™t AMI do ai Ä‘Ã³ táº¡o ra vÃ  cÃ³ thá»ƒ bÃ¡n Táº¡o AMI (Tá»« EC2 Instance) Äáº§u tiÃªn báº¡n sáº½ start má»™t EC2 Instance vÃ  tuá»³ chá»‰nh nÃ³ Stop instance nÃ y (Ä‘á»ƒ Ä‘áº£m báº£o toÃ n váº¹n dá»¯ liá»‡u) Build má»™t AMI - báº¡n cÅ©ng cÃ³ thá»ƒ táº¡o EBS Snapshots Lauch cÃ¡c instance tá»« cÃ¡c AMIs EC2 Image Builder ÄÆ°á»£c sá»­ dá»¥ng Ä‘á»ƒ tá»± Ä‘á»™ng táº¡o cÃ¡c Virtual Machines hoáº·c cÃ¡c container images Tá»± Ä‘á»™ng táº¡o, maintain, validate vÃ  test EC2 AMIs Báº¡n cÃ³ thá»ƒ cháº¡y theo má»™t schedule (háº±ng tuáº§n, báº¥t cá»© khi nÃ o cÃ¡c package Ä‘Æ°á»£c cáº­p nháº­t â€¦) ÄÃ¢y lÃ  má»™t dá»‹ch vá»¥ miá»…n phÃ­ (chá»‰ tráº£ tiá»n cho cÃ¡c tÃ i nguyÃªn cÆ¡ báº£n) Lab 04: EC2 Image Builder Hands OnEC2 Instance Store EBS Volumes lÃ  cÃ¡c network drives, ráº¥t tuyá»‡t vá»i nhÆ°ng cÅ©ng cÃ³ nhá»¯ng háº¡n cháº¿ Náº¿u báº¡n cáº§n má»™t á»• cá»©ng (hardware disk) vá»›i hiá»‡u suáº¥t cao, sá»­ dá»¥ng EC2 Instance Store Hiá»‡u suáº¥t I/O tá»‘t hÆ¡n EC2 Instance Store sáº½ máº¥t bá»™ nhá»› náº¿u chÃºng bá»‹ táº¡m dá»«ng (khÃ´ng bá»n vá»¯ng) NÃ³ tá»‘t cho viá»‡c sá»­ dá»¥ng cho cÃ¡c ná»™i dung buffer / cache / scratch data / ná»™i dung táº¡m thá»i NÃ³ cÃ³ rá»§i ro vá»›i dá»¯ liá»‡u náº¿u pháº§n cá»©ng lá»—i Pháº§n backup vÃ  sao lÆ°u lÃ  trÃ¡ch nhiá»‡m cá»§a báº¡n EFS - Elastic File System Managed NFS (network file system) that can be mounted on 100s of EC2 EFS lÃ m viá»‡c vá»›i Linux EC2 Instance trong multi-AZ Highly available, scalable, expensive (3x gp2), pay per use, no capacity planning EBS vs EFS Shared Responsibility Model for EC2 StorageAWS Infrastructure Replication for data for EBS volumes &amp; EFS drives Replacing faulty hardware Ensuring their employees cannot access your data You Setting up backup / snapshot procedures Setting up data encryption Responsibility of any data on the drives Understanding the risk of using EC2 Instance Store Summary EBS volumes: network drives attached to one EC2 instance at a time Mapped to an Availability Zones Can use EBS Snapshots for backups / transferring EBS volumes across AZ AMI: create ready-to-use EC2 instances with our customizations EC2 Image Builder : automatically build, test and distribute AMIs EC2 Instance Store: High performance hardware disk attached to our EC2 instance â€¢ Lost if our instance is stopped / terminated EFS: network file system, can be attached to 100s of instances in a region","link":"/2021/05/08/Section-6-EC2-Instance-Storage/"},{"title":"Section 7: ELB &amp; ASG - Elastic Load Balancing &amp; Auto Scaling Groups","text":"TÃ¬m hiá»ƒu 1 chÃºt vá» ELB vÃ  Auto Scaling Group High Availability, Scalability, Elasticity TÃ­nh má»Ÿ rá»™ng (Scalability) cÃ³ nghÄ©a lÃ  1 á»©ng dá»¥ng / há»‡ thá»‘ng cÃ³ thá»ƒ xá»­ lÃ½ viá»‡c Ä‘Ã¡p á»©ng táº£i tá»‘t hÆ¡n. CÃ³ 2 loáº¡i scale trong AWS Vertical: má»Ÿ rá»™ng theo chiá»u dá»c, tÄƒng pháº§n cá»©ng tá»« t2.micro lÃªn t2.large. Kiá»ƒu scale nÃ y ráº¥t phá»• biáº¿n cho cÃ¡c á»©ng dá»¥ng khÃ´ng phÃ¢n tÃ¡n, nhÆ° database. Horizontal = Elasticity: má»Ÿ rá»™ng theo chiá»u ngang, tÄƒng sá»‘ lÆ°á»£ng instance/systems cho á»©ng dá»¥ng cá»§a báº¡n. NÃ³ thÃ­ch há»£p cho cÃ¡c á»©ng dá»¥ng phÃ¢n tÃ¡n, vÃ  sá»­ dá»¥ng chung cho cÃ¡c á»©ng dá»¥ng web, á»©ng dá»¥ng hiá»‡n Ä‘áº¡i. Scalability is linked but different to High Availability High Availability ThÆ°á»ng Ä‘i Ä‘Ã´i vá»›i viá»‡c má»Ÿ rá»™ng theo chiá»u ngang High Availability cÃ³ nghÄ©a lÃ  cháº¡y á»©ng dá»¥ng / há»‡ thá»‘ng táº¡i Ã­t nháº¥t 2 Availability Zones Má»¥c Ä‘Ã­ch lÃ  tÃ­nh kháº£ dá»¥ng cao, váº«n tá»“n táº¡i dá»¯ liá»‡u máº·c dÃ¹ sá»± cá»‘ á»Ÿ dá»¯ liá»‡u trung tÃ¢m (tháº£m hoáº¡) High Availability &amp; Scalability For EC2 Vertical Scaling: Increase instance size (= scale up / down) From: t2.nano - 0.5G of RAM, 1 vCPU To: u-12tb1.metal â€“ 12.3 TB of RAM, 448 vCPUs Horizontal Scaling: Increase number of instances (= scale out / in) Auto Scaling Group Load Balancer High Availability: Run instances for the same application across multi AZ Auto Scaling Group multi AZ Load Balancer multi AZ Scalability vs Elasticity (vs Agility) Scalability: kháº£ nÄƒng Ä‘Ã¡p á»©ng táº£i lá»›n hÆ¡n báº±ng cÃ¡ch lÃ m cho pháº§n cá»©ng máº¡nh hÆ¡n (má»Ÿ rá»™ng quy mÃ´ - scale up) hoáº·c báº±ng cÃ¡ch thÃªm cÃ¡c nÃºt (má»Ÿ rá»™ng quy mÃ´ - scale out) Elasticity: má»™t khi há»‡ thá»‘ng cÃ³ thá»ƒ má»Ÿ rá»™ng, Ä‘á»™ co giÃ£n cÃ³ nghÄ©a lÃ  sáº½ cÃ³ má»™t sá»‘ â€œauto-scalingâ€ Ä‘á»ƒ há»‡ thá»‘ng cÃ³ thá»ƒ má»Ÿ rá»™ng quy mÃ´ dá»±a trÃªn táº£i. ÄÃ¢y lÃ  â€œcloud-friendlyâ€: tráº£ tiá»n cho má»—i láº§n sá»­ dá»¥ng, phÃ¹ há»£p vá»›i nhu cáº§u, tá»‘i Æ°u hÃ³a chi phÃ­ Agility: (khÃ´ng liÃªn quan Ä‘áº¿n kháº£ nÄƒng má»Ÿ rá»™ng - Ä‘Ã¡nh láº¡c hÆ°á»›ng) cÃ¡c tÃ i nguyÃªn CNTT má»›i chá»‰ cÃ¡ch báº¡n má»™t cÃº nháº¥p chuá»™t, cÃ³ nghÄ©a lÃ  báº¡n giáº£m thá»i gian cung cáº¥p cÃ¡c tÃ i nguyÃªn Ä‘Ã³ cho cÃ¡c nhÃ  phÃ¡t triá»ƒn cá»§a mÃ¬nh tá»« vÃ i tuáº§n xuá»‘ng chá»‰ vÃ i phÃºt. Elastic Load Balancing (ELB)Äáº±ng sau viá»‡c cÃ¢n báº±ng táº£i Ä‘Æ°á»£c quáº£n lÃ½ bá»Ÿi AWS, chÃºng ta sáº½ cÃ³ nhiá»u EC2 Instances Why use a Load Balancer? PhÃ¢n táº£i tá»›i nhiá»u Instance Chá»‰ sá»­ dá»¥ng 1 Ä‘iá»ƒm truy cáº­p (DNS) cho á»©ng dá»¥ng cá»§a báº¡n Seamlessly handle failures of downstream instances Health check thÆ°á»ng xuyÃªn vá»›i cÃ¡c instance cá»§a báº¡n Provide SSL termination (HTTPS) for your websites Kháº£ dá»¥ng vá»›i cÃ¡c zones Why use an Elastic Load Balancer? Má»™t ELB (Elastic Load Balancer) sáº½ lÃ  má»™t quáº£n lÃ½ cho viá»‡c cÃ¢n báº±ng táº£i AWS Ä‘áº£m báº£o ráº±ng nÃ³ sáº½ hoáº¡t Ä‘á»™ng AWS quan tÃ¢m vá»¥ update, báº£o trÃ¬ vÃ  tÃ­nh kháº£ dá»¥ng cao AWS cung cáº¥p chá»‰ 1 vÃ i cáº¥u hÃ¬nh cho báº¡n Sáº½ tá»‘n Ã­t chi phÃ­ hÆ¡n Ä‘á»ƒ thiáº¿t láº­p bá»™ cÃ¢n báº±ng táº£i cá»§a riÃªng báº¡n nhÆ°ng sáº½ tá»‘n nhiá»u cÃ´ng sá»©c hÆ¡n vá» phÃ­a báº¡n (báº£o trÃ¬, tÃ­ch há»£p) 3 loáº¡i cÃ¢n báº±ng táº£i mÃ  AWS cung cáº¥p (cÃ¡c layer tÃ­nh theo TCP method - 7 táº§ng) Application Load Balancer (HTTP / HTTPS only) â€“ Layer 7 Network Load Balancer (ultra-high performance, allows for TCP) â€“ Layer 4 Classic Load Balancer (slowly retiring) â€“ Layer 4 &amp; 7 Classic Load Balancer lÃ  má»™t pháº§n cá»§a tháº¿ há»‡ cÅ© cung cáº¥p tá»« AWS, nÃ³ Ä‘ang dáº§n ngá»«ng hoáº¡t Ä‘á»™ng. NÃ³ cung cáº¥p cÃ¢n báº±ng táº£i Layer 4 vÃ  7 cÃ¹ng 1 lÃºc. VÃ  má»™t ngÃ y Ä‘áº¹p trá»i, AWS Ä‘Ã£ quyáº¿t Ä‘á»‹nh tÃ¡ch Classic Load Balancer thÃ nh hai loáº¡i má»›i hÆ¡n lÃ  Application Load Balance vÃ  Network Load Balancer riÃªng biá»‡t About the Gateway Load Balancer Má»›i Ä‘Æ°á»£c release vÃ o 10/11/2020 ThÃ´ng thÆ°á»ng, pháº£i máº¥t 6 thÃ¡ng Ä‘á»ƒ má»™t dá»‹ch vá»¥ má»›i Ä‘Æ°á»£c Ä‘Æ°a vÃ o ká»³ thi. TÃ´i cÅ©ng khÃ´ng nháº¥t thiáº¿t tin ráº±ng Ä‘Ã¢y sáº½ lÃ  trá»ng tÃ¢m cá»§a ká»³ thi vÃ¬ nÃ³ khÃ¡ nÃ¢ng cao. ThÃªm ná»¯a, pháº§n nÃ y sáº½ tÃ¬m hiá»ƒu trong pháº§n VPC sáº½ há»£p lÃ½ hÆ¡n Lab 01: ALB Hands onAuto Scaling Groups (ASG) OverviewWhatâ€™s an Auto Scaling Group? TrÃªn thá»±c táº¿, táº£i trÃªn web cá»§a báº¡n cÃ³ thá»ƒ thay Ä‘á»•i TrÃªn cloud, báº¡n cÃ³ thá»ƒ táº¡o vÃ  thoÃ¡t khá»i server siÃªu nhanh Má»¥c Ä‘Ã­ch cá»§a Auto Scaling Group: Scale out (thÃªm EC2 Instances) Ä‘á»ƒ phÃ¹ há»£p thÃªm táº£i Scale in (xoÃ¡ EC2 Instance) Ä‘á»ƒ phÃ¹ há»£p vá»›i viá»‡c giáº£m táº£i Cháº¯c cháº¯n ráº±ng chÃºng ta luÃ´n cÃ³ sá»‘ lÆ°á»£ng tá»‘i thiá»ƒu vÃ  tá»‘i Ä‘a sá»‘ lÆ°á»£ng machine Ä‘ang cháº¡y Tá»± Ä‘á»™ng Ä‘Äƒng kÃ­ cÃ¡c instance má»›i vÃ o cÃ¢n báº±ng táº£i Thay tháº¿ cÃ¡c unhealthy instances Cuá»‘i cÃ¹ng, trong trÆ°á»ng há»£p má»™t trong cÃ¡c mÃ¡y chá»§ cá»§a chÃºng tÃ´i trá»Ÿ nÃªn khÃ´ng khá»e máº¡nh, cÃ³ thá»ƒ cÃ³ má»™t lá»—i á»©ng dá»¥ng, thÃ¬ auto scaling group cÃ³ thá»ƒ phÃ¡t hiá»‡n ra nÃ³, cháº¥m dá»©t nÃ³ vÃ  thay tháº¿ báº±ng má»™t Instance â€œkhoáº» máº¡nhâ€ Auto Scaling Group In AWS: ChÃºng tÃ´i cÃ³ kÃ­ch thÆ°á»›c tá»‘i thiá»ƒu, cÃ³ thá»ƒ Ä‘Ã³ lÃ  má»™t phiÃªn báº£n EC2. Sau Ä‘Ã³, cÃ³ má»™t cÃ i Ä‘áº·t Ä‘Æ°á»£c gá»i lÃ  dung lÆ°á»£ng mong muá»‘n, cÅ©ng thÆ°á»ng lÃ  kÃ­ch thÆ°á»›c thá»±c táº¿ cá»§a Auto Scale Group vÃ  cuá»‘i cÃ¹ng, báº¡n cÃ³ thá»ƒ xÃ¡c Ä‘á»‹nh kÃ­ch thÆ°á»›c tá»‘i Ä‘a cá»§a nhÃ³m chia tá»· lá»‡ tá»± Ä‘á»™ng cá»§a báº¡n vÃ  tá»± Ä‘á»™ng ASG cá»§a báº¡n, cÃ³ thá»ƒ má»Ÿ rá»™ng khi cáº§n thiáº¿t hoáº·c má»Ÿ rá»™ng quy mÃ´ khi cáº§n báº±ng cÃ¡ch thÃªm cÃ¡c phiÃªn báº£n EC2 theo thá»i gian vÃ  nÃ³ hoáº¡t Ä‘á»™ng song song vá»›i bá»™ cÃ¢n báº±ng táº£i. Auto Scaling Group in AWS Auto Scaling Group in AWS With Load BalancerTáº¥t nhiÃªn ráº±ng Auto Scaling Group khÃ´ng thá»ƒ hoáº¡t Ä‘á»™ng riÃªng láº», nÃ³ cáº§n káº¿t há»£p Load Balancer Ä‘á»ƒ cÃ¢n báº±ng táº£i cho há»‡ thá»‘ng Lab 02: Auto Scaling Groups (ASG) Hands OnELB SummaryHigh Availability - Scalability - ElasticityIt is very important for you to understand, to which concept corresponds to which features. For example, high availability means that you are having your applications across multiple availability zone. Vertical scaling means that you are increasing the size of an instance, and horizontal scaling that, is that you are increasing the number of instances. Elasticity is the ability to scale up and down based on demand. And agility is the concept of the cloud that is going to be able to make you work faster because you can create and delete resources very very quickly. And now our Load Balancer, our ELB, are allowing us to distribute traffic across backend EC2 instances and the ELB and the EC2 instances can be set across multiple availability zone therefore enabling us to be highly available. TÃ´i hiá»ƒu High Availability: NÃ³i vá» tÃ­nh kháº£ dá»¥ng cá»§a há»‡ thá»‘ng / á»©ng dá»¥ng cho nhiá»u zone Scalability: NÃ³i vá» kháº£ nÄƒng má»Ÿ rá»™ng (cÃ¡c cÃ¡ch Ä‘á»ƒ má»Ÿ rá»™ng á»©ng dá»¥ng). Má»Ÿ rá»™ng theo chiá»u dá»c, tÄƒng pháº§n cá»©ng cho Instance vÃ  má»Ÿ rá»™ng theo chiá»u ngang, tÄƒng sá»‘ lÆ°á»£ng instance (chá»‰ nÃ³i tÄƒng Ä‘á»ƒ Ä‘Ã¡p á»©ng kháº£ nÄƒng má»Ÿ rá»™ng) Elasticity: TÃ­nh co giÃ£n (má»™t pháº§n trong Scalability), kháº£ nÄƒng scale up/down phá»¥ thuá»™c vÃ o nhu cáº§u High Availability =&gt; kháº£ dá»¥ng cho multiple availability zone Scalability: nÃ³i vá» há»‡ thá»‘ng, kháº£ nÄƒng tá»± má»Ÿ rá»™ng (dá»c or ngang) Elasticity: má»™t tÃ­nh cháº¥y, kháº£ nÄƒng scale up/down phá»¥ thuá»™c vÃ o nhu cáº§u Elastic Load Balancers (ELB) Distribute traffic across backend EC2 instances, can be Multi-AZ Supports health checks 3 types: Application LB (HTTP â€“ L7), Network LB (TCP â€“ L4), Classic LB (old) Auto Scaling Groups (ASG) Implement Elasticity for your application, across multiple AZ Scale EC2 instances based on the demand on your system, replace unhealthy Integrated with the ELB","link":"/2021/05/08/Section-7-ELB-ASG-Elastic-Load-Balancing-Auto-Scaling-Groups/"},{"title":"Section 5: EC2 - Elastic Compute Cloud","text":"EC2 lÃ  má»™t trong nhá»¯ng dá»‹ch vá»¥ phá»• biáº¿n nháº¥t Ä‘Æ°á»£c yÃªu cáº§u trong AWS EC2 = Elastic Compute Cloud = Infrastructure as a Service Má»™t vÃ i dá»‹ch vá»¥ liÃªn quan Ä‘áº¿n EC2: Renting virtual machines (EC2) Storing data on virtual drives (EBS) Distributing load across machines (ELB) Scaling the services using an auto-scaling group (ASG) EC2 sizing &amp; configuration options Operating System (OS): Linux or Windows How much compute power &amp; cores (CPU) How much random-access memory (RAM) How much storage space: Network-attached (EBS &amp; EFS) hardware (EC2 Instance Store) Network card: speed of the card, Public IP address Firewall rules: security group Bootstrap script (configure at first launch): EC2 User Data Lab 01. Create an EC2 Instance with EC2 User Datato have a Website Hands OnKhi mÃ  stop rá»“i start láº¡i EC2 thÃ¬ public IP thay Ä‘á»•i cÃ²n private IP thÃ¬ khÃ´ng So this really demonstrates the power of the cloud. While my instance is running, Iâ€™m going to pay for it. And if I stop it, Iâ€™m not going to pay for it And I can terminate my instance at any time I want. I can also request one instance or 100 instances when I want. And so this is really a huge shift in the mindset from traditional IT on-premises. When youâ€™re on-premises, you have to order your servers, get it delivered, you plug it into your infrastructure, and you use them for the next three to five years. But in the cloud, weâ€™re talking about seconds, and you can get rid of it at any time whenever you want. And this huge change, thanks to the cloud, is making IT so flexible that it allows people to run companies with a very, very little IT department. 36. EC2 Instance Types Basicshttps://aws.amazon.com/ec2/instance-types/ General Purpose Compute Optimized Memory Optimized Accelerated Computing Storage Optimized Instance Features Measuring Instance Performance AWS has the following naming convention: m5.2xlarge m: instance class 5: generation (AWS improves them over time) 2xlarge: size within the instance class Compare EC2 Types: https://www.ec2instances.info/ General PurposePhá»¥c vá»¥ tá»‘t cho cÃ¡c cÃ´ng viá»‡c nhÆ° web servers hoáº·c lÆ°u trá»¯ code (code repository) These instances are ideal for applications that use these resources in equal proportions such as web servers and code repositories. Cáº§n cÃ¢n báº±ng giá»¯a: Compute Memory Networking Trong pháº¡m vi khoÃ¡ há»c, chÃºng tÃ´i sáº½ sá»­ dá»¥ng t2.micro nhÆ° lÃ  má»™t General Purpose EC2 instance Compute OptimizedSá»­ dá»¥ng cho cÃ¡c tÃ¡c vá»¥ tÃ­nh toÃ¡n Ä‘Ã²i há»i bá»™ vi xá»­ lÃ½ hiá»‡u suáº¥t cao Batch processing workloads Media transcoding High performance web servers High performance computing (HPC) Scientific modeling &amp; machine learning Dedicated gaming servers Memory OptimizedHiá»‡u suáº¥t nhanh chÃ³ng cho khá»‘i lÆ°á»£ng cÃ´ng viá»‡c xá»­ lÃ½ táº­p dá»¯ liá»‡u lá»›n trong bá»™ nhá»› Má»™t vÃ i trÆ°á»ng há»£p sá»­ dá»¥ng Floating point number calculations Graphic processing Data pattern matching Storage OptimizedSá»­ dá»¥ng cho cÃ¡c tÃ¡c vá»¥ lÆ°u trá»¯ nhiá»u Ä‘Ã²i há»i quyá»n truy cáº­p cao, Ä‘á»c vÃ  ghi tuáº§n tá»± vÃ o cÃ¡c táº­p dá»¯ liá»‡u lá»›n trÃªn bá»™ nhá»› cá»¥c bá»™ (local storage) Má»™t vÃ i trÆ°á»ng há»£p sá»­ dá»¥ng High frequency online transaction processing (OLTP) systems Relational &amp; NoSQL databases Cache for in-memory databases (for example, Redis) Data warehousing applications Distributed file systems Security Groups &amp; Classic Ports OverviewSecurity Group lÃ  khÃ¡i niá»‡m cÆ¡ báº£n vá» network security trÃªn EC2, chÃºng kiá»ƒm soÃ¡t cÃ¡c luá»“ng máº¡ng ra vÃ  vÃ o EC2 Security Group cÃ³ thá»ƒ Ä‘Æ°á»£c gÃ¡n báº±ng Ä‘á»‹a chá»‰ IP hoáº·c tá»« security group Security Group hoáº¡t Ä‘á»™ng tÆ°Æ¡ng tá»± Firewall trÃªn EC2 Instance ChÃºng Ä‘iá»u tiáº¿t Access to Ports Authorised IP ranges â€“ IPv4 and IPv6 Control of inbound network (from other to the instance) Control of outbound network (from the instance to other) Lab 02: Security Groups Hands OnSSH OverviewVá»›i Windows, sáº½ sá»­ dá»¥ng PuttySSH TroubleshootingLab 03: EC2 Instance Roles Demo (IAM Roles)EC2 Instances Purchasing Options On-Demand Instance: sá»­ dá»¥ng cho cÃ¡c cÃ´ng viá»‡c ngáº¯n, chi phÃ­ cÃ³ thá»ƒ Ä‘oÃ¡n trÆ°á»›c Reserved: (MINIMUM 1 year) Reserved Instances: cÃ´ng viá»‡c dÃ i Convertible Reserved Instances: cÃ´ng viá»‡c dÃ i vá»›i instance linh hoáº¡t Scheduled Reserved Instances: example â€“ everyThursday between 3 and 6 pm Spot Instances: cÃ´ng viá»‡c ngáº¯n, ráº», vÃ  cÃ³ thá»ƒ máº¥t instances (Ã­t Ä‘á»™ tin cáº­y hÆ¡n) Dedicated Hosts: Ä‘áº·t toÃ n bá»™ mÃ¡y chá»§ váº­t lÃ½ (physical server) kiá»ƒm soÃ¡t Ä‘Æ°á»£c nÆ¡i Ä‘áº·t instance Dedicated Instances: KhÃ´ng má»™t khÃ¡ch hÃ ng nÃ o khÃ¡c cÃ³ thá»ƒ chia sáº» pháº§n cá»©ng cá»§a báº¡n On-Demand Tráº£ phÃ­ tuá»³ thuá»™c báº¡n sá»­ dá»¥ng Linux: tráº£ má»—i giÃ¢y, sau phÃºt Ä‘áº§u CÃ¡c há»‡ Ä‘iá»u hÃ nh khÃ¡c (nhÆ° Windows): tráº£ theo giá» CÃ³ chi phÃ­ cao nháº¥t nhÆ°ng khÃ´ng pháº£i tráº£ trÆ°á»›c KhÃ´ng cÃ³ cÃ¡c cam káº¿t sá»­ dá»¥ng lÃ¢u dÃ i Khuyáº¿n khÃ­ch vá»›i cÃ´ng viá»‡c short-term (ngáº¯n háº¡n) vÃ  khÃ´ng bá»‹ giÃ¡n Ä‘oáº¡n, nÆ¡i mÃ  báº¡n khÃ´ng thá»ƒ dá»± Ä‘oÃ¡n Ä‘Æ°á»£c á»©ng dá»¥ng sáº½ hoáº¡t Ä‘á»™ng ra sao EC2 Reserved Instances (Instance Ä‘áº·t trÆ°á»›c) Tiáº¿t kiá»‡m 72% chi phÃ­ so vá»›i On-demand Thá»i gian Ä‘áº·t trÆ°á»›c: 1 year = + discount | 3 years = +++ discount Tuá»³ chá»n thanh toÃ¡n: KhÃ´ng tráº£ trÆ°á»›c | Tráº£ trÆ°á»›c 1 pháº§n =+ | Tráº£ trÆ°á»›c háº¿t =++ discount Äáº·t trÆ°á»›c 1 loáº¡i instance cá»¥ thá»ƒ NÃªn dÃ¹ng vá»›i cÃ¡c á»©ng dá»¥ng vá»›i tráº¡ng thÃ¡i á»•n Ä‘á»‹nh (nhÆ° database) Convertible Reserved Instance - Instance Ä‘áº·t trÆ°á»›c cÃ³ thá»ƒ chuyá»ƒn Ä‘á»•i CÃ³ thá»ƒ thay Ä‘á»•i EC2 instance type Giáº£m 45% Schedule Reserved Instance Khá»Ÿi cháº¡y trong khoáº£ng thá»i gian Ä‘áº·t trÆ°á»›c Khi báº¡n yÃªu cáº§u pháº§n nhá» cÃ´ng viá»‡c 1 ngÃ y/tuáº§n/thÃ¡ng Cam káº¿t 1 nÄƒm duy nháº¥t EC2 Spot Instances CÃ³ thá»ƒ chiáº¿t kháº©u tá»›i 90% so vá»›i On-demand CÃ¡c instances cÃ³ thá»ƒ â€œmáº¥tâ€ báº¥t cá»© lÃºc nÃ o náº¿u giÃ¡ cao nháº¥t cá»§a báº¡n nhá» hÆ¡n giÃ¡ hiá»‡n táº¡i cá»§a spot PhiÃªn báº£n tiáº¿t kiá»‡m chi phÃ­ nháº¥t trong AWS Há»¯u Ã­ch cho cÃ¡c cÃ´ng viá»‡c â€œresilient to failureâ€? Batch jobs PhÃ¢n tÃ­ch dá»¯ liá»‡u Xá»­ lÃ½ áº£nh Má»™t vÃ i cÃ´ng viá»‡c phÃ¢n tÃ¡n CÃ´ng viá»‡c vá»›i thá»i gian báº¯t Ä‘áº§u vÃ  káº¿t thÃºc linh hoáº¡t KhÃ´ng thÃ­ch há»£p vá»›i cÃ¡c cÃ´ng viá»‡c vÃ  database quan trá»ng EC2 Dedicated Hosts MÃ¡y chá»§ lÆ°u trá»¯ chuyÃªn dá»¥ng Amazon EC2 lÃ  mÃ¡y chá»§ váº­t lÃ½ cÃ³ dung lÆ°á»£ng phiÃªn báº£n EC2 hoÃ n toÃ n dÃ nh riÃªng cho viá»‡c sá»­ dá»¥ng cá»§a báº¡n. MÃ¡y chá»§ chuyÃªn dá»¥ng cÃ³ thá»ƒ giÃºp báº¡n giáº£i quyáº¿t cÃ¡c yÃªu cáº§u tuÃ¢n thá»§ vÃ  giáº£m chi phÃ­ báº±ng cÃ¡ch cho phÃ©p báº¡n sá»­ dá»¥ng giáº¥y phÃ©p pháº§n má»m rÃ ng buá»™c mÃ¡y chá»§ hiá»‡n cÃ³ cá»§a mÃ¬nh. ÄÆ°á»£c phÃ¢n bá»• vÃ o tÃ i khoáº£n cá»§a báº¡n Ä‘á»ƒ á»©ng trÆ°á»›c 3 nÄƒm Chi phÃ­ ráº¥t Ä‘áº¯t Há»¯u Ã­ch cho cÃ¡c pháº§n má»m cÃ³ mÃ´ hÃ¬nh cáº¥p phÃ©p phá»©c táº¡p (BYOL â€“ Bring Your Own License) Hoáº·c Ä‘á»‘i vá»›i cÃ¡c cÃ´ng ty cÃ³ nhu cáº§u tuÃ¢n thá»§ hoáº·c quáº£n lÃ½ cháº·t cháº½ EC2 Dedicated Instances Instance cháº¡y trÃªn pháº§n cá»©ng dÃ nh riÃªng cho báº¡n CÃ³ thá»ƒ chia sáº» pháº§n cá»©ng vá»›i cÃ¡c instance khÃ¡c trong cÃ¹ng tÃ i khoáº£n KhÃ´ng kiá»ƒm soÃ¡t nÆ¡i Ä‘áº·t instance (cÃ³ thá»ƒ di chuyá»ƒn pháº§n cá»©ng sau khi Start/Stop) Which purchasing option is right for me?HÃ£y coi viá»‡c chá»n EC2 Instance lÃ  viá»‡c book phÃ²ng 1 khÃ¡ch sáº¡n trong chuyáº¿n Ä‘i cá»§a báº¡n. NhÆ° váº­y báº¡n cÃ³ thá»ƒ hÃ¬nh dung nhÆ° sau: On-demand: Ä‘áº¿n vÃ  á»Ÿ láº¡i resort báº¥t cá»© khi nÃ o chÃºng tÃ´i muá»‘n, chÃºng tÃ´i tráº£ toÃ n bá»™ chi phÃ­ Äáº·t trÆ°á»›c (Reserved): nhÆ° lÃªn káº¿ hoáº¡ch trÆ°á»›c vÃ  náº¿u Ä‘á»‹nh á»Ÿ lÃ¢u dÃ i thÃ¬ cÃ³ thá»ƒ Ä‘Æ°á»£c chiáº¿t kháº¥u tá»‘t (kiá»ƒu cÃ³ káº¿ hoáº¡ch thuÃª luÃ´n 1 - 3 nÄƒm Ä‘á»ƒ kinh doanh cháº³ng háº¡n) Instance táº¡i chá»— (Spot Instance): KhÃ¡ch sáº¡n cho phÃ©p má»i ngÆ°á»i Ä‘áº¥u giÃ¡ cÃ¡c phÃ²ng trá»‘ng vÃ  ngÆ°á»i tráº£ giÃ¡ cao nháº¥t sáº½ giá»¯ phÃ²ng. Báº¡n cÃ³ thá»ƒ bá»‹ Ä‘uá»•i ra khá»i phÃ²ng báº¥t cá»© lÃºc nÃ o. Dedicated Hosts: ChÃºng tÃ´i Ä‘áº·t toÃ n bá»™ tÃ²a nhÃ  cá»§a khu nghá»‰ mÃ¡t. So sÃ¡nh vá» giÃ¡ cÃ¡c Instance Summary EC2 Instance: AMI (OS) + Instance Size (CPU + RAM) + Storage + security groups + EC2 User Data Security Groups: Firewall attached to the EC2 instance EC2 User Data: Script launched at the first start of an instance SSH: start a terminal into our EC2 Instances (port 22) EC2 Instance Role: link to IAM roles Purchasing Options: On-Demand, Spot, Reserved (Standard + Convertible + Scheduled), Dedicated Host, Dedicated Instance","link":"/2021/05/04/Section-5-EC2-Elastic-Compute-Cloud/"},{"title":"The special day 0415","text":"2ddbc3bd71845ae67239e8bd8306a0e4bd7af3ccbcf2befca77ff9e4e27ba55089de1b6226ea0b6709e9a9fd9ac31fcc0cd5ac2d65bedec8aeed10590c0a4d061830f18309410c75b5d435d0db0453548d8d3a8359695e21116e73f65449f96c4362069aa8141f414bf734ab7c9569e35334469efc703bdab61984d3b8ed72b7341ae3fc113af5c96ac819265216e9c6ff58d2d9748cd2b42694b45ce73453c3863d0aeb122113a30cfc1efdeb2965f73f5672a0d4ca20f3712d8c4aad5adf0f40483a19be905979ead94038e08de2ed1cec53a0dea72a3f1506fe19b6139c7998559a8ab90ef5228149ce59976a6df66f36c5c82e911afab4c0d836efc0aca2ccc09814734d423d864486cd81b8536c8aaed751bca88434a7e4c517efbf09abc3a7422cb9fc7a7245f08540655fce232fe14fcddafe5fc58d8cc5804d1a31f6561b12671c40c8923e50fdb6c45b67eeb9265c4f9bd98601ea7f70199bde89fc7e157ccfa875f336305fbbcb2e2b9e5749b1610e1e3b94f05c9b9b4203b5e00db696ef89ea2089c110705aaa76d46c80049d62a8a45b3984e2ccb41968d02f8554db442d14a239f438ba57b0a3453069dd9fe925c9a520e0e8ef7816460690cead444f670ba623a0bd16128c236c743ccde811fa9c0f460ea22d1a8d18fe72c38760d98eeffc6884888688421fab21e110bc16f9ad29f3c6c9aac9a3cca322c009d20dc53b627d9827d56c1d26b9285d4cbcb87d25269b69b0b81e97afdebe85000a9c88dfa8b0d4f62969da494da0cffb3e4b878c7086a5ad987827ca56163f1be5b9e2036b370749113770b1127baf5006e19b0ad078dbcc6dbb25d7487fb32c146d62d497210e18295566b181620a5ff20743cf33e4fec8c37571674a8b287aa9918d251c6d6dfccec1f5e94a494eb0ff305532a8df9ea5bea84504bedfe22b75ef723919a06313a16976e24d1f13efc2c4fd55649ed38c1e1732843db8e78db1a4ba25fab93804bc944980e700682689df6612047a528c230e71293c1ed2644d4dba0836139696a6237b2f62ba93d880bb73b17ba9661cda259c35990c9067a94b733ce07012ee20b214f9a9309f426675f44f831fa9bdf559568e7921c1b9198a7a0210a46aee86467d740ce4a372fa08212c4dde71525395a15658bfa88afd14a59fe47a46fa8570663088dcc9a11b3a9e2b929bc60d2b766c521dc59b30db48c67f65a32449769a05bad1dc37ed152bf4c215e1a83e266b79ff22b49e85f8b658bbfba3233731e2451344796bf115bd3f57c79b59d22435b980832dd0dbd74f7c9be276d6b89916577f4d3b0249a218f82d2c25e596518ced697a7957e071cd169c7b6a51b4ee7d34c2d2f031d903cbdb04f3281f84336ac6d0b210a1 Hey, password is required here.","link":"/2021/04/16/The-special-day-0415/"},{"title":"Some notes when I deploy my project to Google Cloud","text":"Má»™t vÃ i note khi deploy á»©ng dá»¥ng trÃªn Compute Engine 1. Cloud SQL Pháº§n nÃ y giÃºp táº¡o database MySQL ká»ƒ cÃ¡c á»©ng dá»¥ng káº¿t ná»‘i Ä‘áº¿n. Má»™t Ä‘iá»ƒm chÃº Ã½ lÃ  Cloud SQL máº·c Ä‘á»‹nh sáº½ khÃ´ng káº¿t ná»‘i vá»›i gÃ¬. Náº¿u báº¡n muá»‘n káº¿t ná»‘i vÃ o Cloud SQL, báº¡n cáº§n thÃªm Ä‘á»‹a chá»‰ IP cá»§a báº¡n vÃ o Cloud SQL Open the navigation menu. Under Storage, click SQL Click the name of the SQL instance that you want to connect Click the Connections tab Click Add network Enter the static IP address of your VM instance Click Done and Save Your SQL instance will now accept connections from your VM instance. Vá»›i mÃ¡y cÃ¡ nhÃ¢n, báº¡n cÃ³ thá»ƒ xem Ä‘á»‹a chá»‰ IP cá»§a mÃ¬nh táº¡i: http://ipv4.whatismyv6.com/ Chi tiáº¿t xem táº¡i Ä‘Ã¢y Káº¿t ná»‘i cÃ¡i nÃ y Ä‘á»ƒ káº¿t ná»‘i vá»›i cÃ¡c tools quáº£n lÃ½ MySQL nhÆ° Workbench Káº¿t ná»‘i Ä‘Æ°á»£c vá»›i VM (xem docs trÃªn trang chá»§ luÃ´n vÃ¬ nÃ³ khÃ¡ ez) 2. ChÃº Ã½ Firewall trÃªn VM instanceMáº·c Ä‘á»‹nh nÃ³ chá»‰ má»Ÿ tcp cá»“ng 80, náº¿u báº¡n muá»‘n deploy cá»•ng khÃ¡c: 81 cháº³ng háº¡n, thÃ¬ cáº§n edit rule nÃ y Äá»ƒ chá»‰nh sá»­a firewall, pháº§n navigation menu, chá»n VPC network =&gt; Firewall rules 3. Lá»—i 500 khi deployLá»—i nÃ y xuáº¥t hiá»‡n do 2 nguyÃªn nhÃ¢n: Báº¡n chÆ°a cáº¥p quyá»n Ä‘á»§ cho thÆ° má»¥c PhiÃªn báº£n PHP Ä‘ang chÆ°a Ä‘Ãºng (phiÃªn báº£n PHP trong Apache2 nhÃ© chá»© khÃ´ng pháº£i lÃ  CLI) 4. Cloud StorageMá»™t lÆ°u Ã½ lÃ  máº·c Ä‘á»‹nh, cÃ¡c file Ä‘ang cÃ³ pháº¡m vi truy cáº­p lÃ  â€œNot publicâ€ Public - object can be accessed or edited by all users on the public internet. Not public - object can be accessed only by approved users. Per object - access to a folderâ€™s contents is set at the object level. Folder may contain publicly accessible objects Äá»ƒ nÃ³ cÃ³ pháº¡m vi public cÃ³ thá»ƒ truy cáº­p á»Ÿ má»i nÆ¡i, chÃºng ta cáº§n Ä‘iá»u chá»‰nh pháº¡m vi truy cáº­p cá»§a filehttps://laravel.com/docs/6.x/filesystem#file-visibility123456789public function storeAvatar($file){ $avtPath = $file-&gt;store('avatars'); # Ref: https://laravel.com/docs/6.x/filesystem#file-visibility Storage::setVisibility($avtPath, 'public'); return substr($avtPath, 8);} 5. Connect Cloud MySQL vá»›i WorkbenchVá» cÆ¡ báº£n, nÃ³ sáº½ nhÆ° sau: Báº¡n thá»±c hiá»‡n Note 1, cung cáº¥p quyá»n káº¿t ná»‘i tá»« Ä‘á»‹a chá»‰ IP cá»§a báº¡n Ä‘áº¿n Cloud MySQL Khi thá»±c hiá»‡n xong bÆ°á»›c 1, chá»‰ cáº§n config nhÆ° cÃ¡c DB khÃ¡c bÃ¬nh thÆ°á»ng thÃ´i Ref: https://cloud.google.com/sql/docs/mysql/admin-tools","link":"/2020/02/06/Some-notes-when-I-deploy-my-project-to-Google-Cloud/"},{"title":"Section 9: Databases &amp; Analytics","text":"LÆ°u trá»¯ dá»¯ liá»‡u ra á»• Ä‘Ä©a (EFS, EBS, EC2 Instance Store, S3) cÃ³ thá»ƒ cÃ³ giá»›i háº¡n riÃªng (giá»›i háº¡n á»Ÿ Ä‘Ã¢y khÃ´ng Ã½ lÃ  size, nhiá»u váº¥n Ä‘á» khÃ¡c) ÄÃ´i khi báº¡n cáº§n lÆ°u trá»¯ dá»¯ liá»‡u ra database, cÃ¡c dá»¯ liá»‡u cÃ³ cáº¥u trÃºc. Báº¡n cáº§n build indexes, lÃ m cho viá»‡c query / search dá»¯ liá»‡u. Báº¡n cÅ©ng cÃ³ thá»ƒ cáº§n Ä‘á»‹nh nghÄ©a cÃ¡c quan há»‡ giá»¯a cÃ¡c táº­p dá»¯ liá»‡u Database Ä‘Æ°á»£c tá»‘i Æ°u cho cÃ¡c má»¥c Ä‘Ã­ch Ä‘Ã³ cÃ¹ng vá»›i nhiá»u chá»©c nÄƒng xá»‹n xÃ² hÆ¡n â€¦. Databases &amp; Shared Responsibility on AWSAWS cung cáº¥p nhiá»u cÃ¡ch quáº£n lÃ½ cho cÃ¡c database khÃ¡c nhau CÃ¡c lá»£i Ã­ch bao gá»“m Cung cáº¥p nhanh chÃ³ng, tÃ­nh kháº£ dá»¥ng cao, má»Ÿ rá»™ng theo chiá»u dá»c vÃ  chiá»u ngang Tá»± Ä‘á»™ng sao lÆ°u, khÃ´i phá»¥c, hoáº¡t Ä‘á»™ng vÃ  nÃ¢ng cáº¥p Báº£n vÃ¡ cÃ¡c há»‡ Ä‘iá»u hÃ nh Ä‘Æ°á»£c quáº£n lÃ½ bá»Ÿi AWS GiÃ¡m sÃ¡t vÃ  cáº£nh bÃ¡o ChÃº Ã½: Ráº¥t nhiá»u cÃ¡c database cÃ³ thá»ƒ cháº¡y trÃªn EC2, nhÆ°ng báº¡n pháº£i tá»± xá»­ lÃ½ kháº£ nÄƒng phá»¥c há»“i, sao lÆ°u, vÃ¡ lá»—i, tÃ­nh sáºµn sÃ ng cao, kháº£ nÄƒng chá»‹u lá»—i, má»Ÿ rá»™ng quy mÃ´ â€¦ RDS &amp; Aurora OverviewRDS viáº¿t táº¯t cá»§a Relational Database Service, Ä‘Æ°á»£c quáº£n lÃ½ DB server sá»­ dá»¥ng SQL lÃ m ngÃ´n ngá»¯ truy váº¥n TrÃªn AWS, nÃ³ bao gá»“m cÃ¡c loáº¡i Postgres MySQL MariaDB Oracle Microsoft SQL Server Aurora (AWS Proprietary database) Æ¯u Ä‘iá»ƒm RDS Cung cáº¥p tá»± Ä‘á»™ng, cÃ¡c báº£n vÃ¡ há»‡ Ä‘iá»u hÃ nh Sao lÆ°u liÃªn tá»¥c vÃ  khÃ´i phá»¥c vá» má»‘c thá»i gian cá»¥ thá»ƒ (KhÃ´i phá»¥c thá»i Ä‘iá»ƒm)! Dashboard giÃ¡m sÃ¡t Äá»c báº£n sao Ä‘á»ƒ cáº£i thiá»‡n hiá»‡u suáº¥t Ä‘á»c Multi AZ setup for DR (Disaster Recovery) Maintenance windows for upgrades Scaling capability (vertical and horizontal) Storage backed by EBS (gp2 or io1) RDS Solution Architecture Amazon AuroraAurora lÃ  cÃ´ng nghá»‡ Ä‘á»™c quyá»n cá»§a AWS (khÃ´ng pháº£i nguá»“n má»Ÿ) PostgreSQL and MySQL are both supported as Aurora DB Aurora lÃ  â€œÄ‘Ã¡m mÃ¢y AWS Ä‘Æ°á»£c tá»‘i Æ°u hÃ³aâ€ vÃ  tuyÃªn bá»‘ cáº£i thiá»‡n hiá»‡u suáº¥t gáº¥p 5 láº§n so vá»›i MySQL trÃªn RDS, hÆ¡n gáº¥p 3 láº§n hiá»‡u suáº¥t cá»§a Postgres trÃªn RDS Bá»™ nhá»› Aurora tá»± Ä‘á»™ng tÄƒng lÃªn 10GB, lÃªn Ä‘áº¿n 64 TB Aurora tá»‘n nhiá»u tiá»n hÆ¡n RDS (hÆ¡n 20%) - nhÆ°ng hiá»‡u quáº£ hÆ¡n KhÃ´ng trong free tier Lab 01: RDS Hands OnRDS Deployments Options: Read Replicas, Multi-AZ, Multi-RegionÄá»c cÃ¡c báº£n sao Scale cÃ¡c báº£n database cá»§a báº¡n Ä‘á»ƒ Ä‘á»c CÃ³ thá»ƒ táº¡o tá»‘i Ä‘a 15 báº£n Read (Read Replicas) Dá»¯ liá»‡u chá»‰ Ä‘Æ°á»£c ghi trÃªn main DB Multi-AZ Chuyá»ƒn Ä‘á»•i dá»± phÃ²ng trong trÆ°á»ng há»£p AZ â€œmáº¥t Ä‘iá»‡nâ€ (tÃ­nh kháº£ dá»¥ng cao) Dá»¯ liá»‡u chá»‰ Ä‘á»c/ghi trÃªn main database CÃ³ thá»ƒ chá»‰ cÃ³ 1 AZ khÃ¡c lÃ m dá»± phÃ²ng Read Replicas: táº¡o báº£n sao (chá»‰ read) Multi A-Z: Chuyá»ƒn Ä‘á»•i dá»± phÃ²ng Multi-Region (Read Replicas) KhÃ´i phá»¥c tháº£m hoa trong trÆ°á»ng há»£p region gáº·p sá»± cá»‘ Hiá»‡u nÄƒng local cho cÃ¡c truy cáº­p toÃ n cáº§u (Ä‘ang hiá»ƒu lÃ  Ä‘Æ°a vá» region phÃ¹ há»£p) Tiáº¿t kiá»‡m chi phÃ­ ElastiCache OverviewBÃ¢y giá» ElastiCache sáº½ há»¯u Ã­ch Ä‘á»ƒ giáº£m táº£i cÆ¡ sá»Ÿ dá»¯ liá»‡u cÃ³ khá»‘i lÆ°á»£ng cÃ´ng viá»‡c Ä‘á»c nhiá»u. Ã tÆ°á»Ÿng lÃ  náº¿u chÃºng ta cÃ³ cÆ¡ sá»Ÿ dá»¯ liá»‡u RDSvÃ  chÃºng tÃ´i Ä‘ang thá»±c hiá»‡n ráº¥t nhiá»u truy váº¥n vá» nÃ³ vÃ  chÃºng luÃ´n lÃ  nhá»¯ng truy váº¥n giá»‘ng nhau, chÃºng tÃ´i Ä‘áº·t má»™t chÃºt Ã¡p lá»±c lÃªn cÆ¡ sá»Ÿ dá»¯ liá»‡u RDS Ä‘Ã³. Thay vÃ o Ä‘Ã³, nhá»¯ng gÃ¬ chÃºng tÃ´i cÃ³ thá»ƒ lÃ m, lÃ  sá»­ dá»¥ng bá»™ nhá»› Ä‘á»‡m Ä‘á»ƒ giáº£m Ã¡p lá»±cra khá»i cÆ¡ sá»Ÿ dá»¯ liá»‡u báº±ng cÃ¡ch Ä‘áº£m báº£o cÃ¡c truy váº¥n Ä‘ang trá»±c tiáº¿p vÃ o cÆ¡ sá»Ÿ dá»¯ liá»‡u trong bá»™ nhá»› cá»§a tÃ´i thÃ´ng qua ElastiCache The same way RDS is to get managed Relational Databasesâ€¦ ElastiCache dÃ¹ng Ä‘á»ƒ quáº£n lÃ­ Redis hoáº·c Memcached Cache lÃ  in-memory database vá»›i hiá»‡u suáº¥t cao, Ä‘á»™ trá»… tháº¥p AWS takes care of OS maintenance / patching, optimizations, setup, configuration, monitoring, failure recovery and backups ElastiCache Solution Architecture - Cache DynamoDB OverviewDynamoDB is one of the flagship product of AWS. ÄÆ°á»£c quáº£n lÃ½ hoÃ n toÃ n vá»›i tÃ­nh kháº£ dá»¥ng cao vá»›i kháº£ nÄƒng nhÃ¢n rá»™ng vá»›i 3 AZ (cÃ¡c DB trÃªn pháº§n nÃ y rÃµ rÃ ng cáº§n tá»± lÃ m, quáº£n lÃ½) NoSQL database - not a relational database Scale vá»›i cÃ¡c cÃ´ng viá»‡c lá»›n, cÆ¡ sá»Ÿ dá»¯ liá»‡u â€œserverlessâ€ HÃ ng triá»‡u yÃªu cáº§u má»—i giÃ¢y, hÃ ng nghÃ¬n tá»· hÃ ng, 100 TB dung lÆ°á»£ng lÆ°u trá»¯ Nhanh chÃ³ng vÃ  nháº¥t quÃ¡n vá» hiá»‡u suáº¥t Äá»™ trá»… mili giÃ¢y 1 chá»¯ sá»‘ - truy xuáº¥t Ä‘á»™ trá»… tháº¥p TÃ­ch há»£p vá»›i IAM Ä‘á»ƒ báº£o máº­t, á»§y quyá»n vÃ  quáº£n trá»‹ Chi phÃ­ tháº¥p vÃ  tÆ°Æ¡ng thÃ­ch kháº£ nÄƒng tá»± má»Ÿ rá»™ng DynamoDB Accelerator - DAX Fully Managed in-memory cache for DynamoDB (Ä‘ang hiá»ƒu lÃ  cache cho DynamoDB Ä‘Ã£ Ä‘Æ°á»£c quáº£n lÃ½ bá»Ÿi AWS) 10x performance improvement - Ä‘á»™ trá»… micro giÃ¢y 1 chá»¯ sá»‘ - khi truy cáº­p báº£ng trong DynamoDB TÃ­nh báº£o máº­t, kháº£ nÄƒng má»Ÿ rá»™ng cao vÃ  tÃ­nh kháº£ dá»¥ng KhÃ¡c vá»›i ElastiCache trong CCP Level (chá»©ng chá»‰ hiá»‡n táº¡i): DAX chá»‰ Ä‘Æ°á»£c sá»­ dá»¥ng vÃ  tÃ­ch há»£p vá»›i DynamoDB, trong khi ElastiCache cÃ³ thá»ƒ Ä‘Æ°á»£c sá»­ dá»¥ng cho cÃ¡c database khÃ¡c Lab 02: DynamoDB Hands OnRedshift Overview Redshift is based on PostgreSQL, but itâ€™s not used for OLTP Itâ€™s OLAP â€“ online analytical processing, xá»­ lÃ½ phÃ¢n tÃ­ch trá»±c tuyáº¿n (phÃ¢n tÃ­ch vÃ  lÆ°u trá»¯ dá»¯ liá»‡u) Load dá»¯ liá»‡u má»—i láº§n má»™t giá», khÃ´ng pháº£i má»—i giÃ¢y 10x better performance than other data warehouses, scale to PBs of data LÆ°u trá»¯ dá»¯ liá»‡u dáº¡ng cá»™t (thay vÃ¬ theo hÃ ng) Massively Parallel Query Execution (MPP), (thá»±c thi truy váº¥n song song hÃ ng loáº¡t) tÃ­nh kháº£ dá»¥ng cao Pay as you go based on the instances provisioned Has a SQL interface for performing the queries BI tools such as AWS Quicksight or Tableau integrate with it EMR OverviewSo EMR is actually not really a database. Itâ€™s to create whatâ€™s called a Hadoop cluster when you wanna do big data on AWS, and a Hadoop cluster is used to analyze and process vast amount of data. EMR stands for â€œElastic MapReduceâ€ EMR helps creating Hadoop clusters (Big Data) to analyze and process vast amount of data The clusters can be made of hundreds of EC2 instances Also supports Apache Spark, HBase, Presto, Flinkâ€¦ EMR takes care of all the provisioning and configuration Auto-scaling and integrated with Spot instances Use cases: data processing, machine learning, web indexing, big dataâ€¦. Athena OverviewAthena is a fully serverless database that has SQL capability. And itâ€™s used for only one thing. Itâ€™s used to query data in Amazon S3. Fully Serverless database with SQL capabilities - Used to query data in S3 Pay per query Output results back to S3 Secured through IAM Use Case: one-time SQL queries, serverless queries on S3, log analytics QuickSight Overview Serverless machine learning-powered business intelligence service to create interactive dashboards(Dá»‹ch vá»¥ thÃ´ng minh machine learning, serverless Ä‘á»ƒ táº¡o cÃ¡c báº£ng Ä‘iá»u khiá»ƒn tÆ°Æ¡ng tÃ¡c) Nhanh chÃ³ng, cÃ³ thá»ƒ má»Ÿ rá»™ng tá»± Ä‘á»™ng, cÃ³ thá»ƒ nhÃºng, vá»›i giÃ¡ má»—i phiÃªn Use cases: Business analytics Building visualizations Perform ad-hoc analysis Get business insights using data Integrated with RDS, Aurora, Athena, Redshift, S3â€¦ DocumentDB Overview Aurora is an â€œAWS-implementationâ€ of PostgreSQL / MySQL â€¦ DocumentDB is the same for MongoDB (which is a NoSQL database) MongoDB is used to store, query, and index JSON data Similar â€œdeployment conceptsâ€ as Aurora Fully Managed, highly available with replication across 3 AZ Aurora storage automatically grows in increments of 10GB, up to 64 TB. Automatically scales to workloads with millions of requests per seconds Amazon Neptune (For Social Network) Fully managed graph database A popular graph dataset would be a social network Users have friends Posts have comments Comments have likes from users Users share and like postsâ€¦ Highly available across 3 AZ, with up to 15 read replicas Build and run applications working with highly connected datasets â€“ optimized for these complex and hard queries Can store up to billions of relations and query the graph with milliseconds latency Highly available with replications across multiple AZs Great for knowledge graphs (Wikipedia), fraud detection, recommendation engines, social networking Amazon QLDBAmazon Managed BlockchainAWS GlueDMS â€“ Database Migration Service Di chuyá»ƒn nhanh chÃ³ng vÃ  an toÃ n cÆ¡ sá»Ÿ dá»¯ liá»‡u sang AWS, cÃ³ kháº£ nÄƒng phá»¥c há»“i, tá»± phá»¥c há»“i CÆ¡ sá»Ÿ dá»¯ liá»‡u nguá»“n váº«n kháº£ dá»¥ng trong quÃ¡ trÃ¬nh di chuyá»ƒn Supports: Di chuyá»ƒn Ä‘á»“ng nháº¥t: vÃ­ dá»¥ nhÆ° Oracle sangOracle Di chuyá»ƒn khÃ´ng Ä‘á»“ng nháº¥t: tá»« Microsoft SQL Server sang Aurora Databases &amp; Analytics Summary in AWS Relational Databases - OLTP: RDS &amp; Aurora (SQL) Differences between Multi-AZ, Read Replicas, Multi-Region In-memory Database: ElastiCache Key/Value Database: DynamoDB (serverless) &amp; DAX (cache for DynamoDB) Warehouse - OLAP: Redshift (SQL) HadoopCluster:EMR Athena: query data on Amazon S3 (serverless &amp; SQL) QuickSight: dashboards on your data (serverless) DocumentDB:â€œAuroraforMongoDBâ€(JSONâ€“NoSQLdatabase) AmazonQLDB: FinancialTransactionsLedger(immutablejournal,cryptographicallyverifiable) â€¢ Amazon Managed Blockchain: managed Hyperledger Fabric &amp; Ethereum blockchains Glue: Managed ETL (Extract Transform Load) and Data Catalog service Database Migration: DMS Neptune:graphdatabase","link":"/2021/05/09/Section-9-Databases-Analytics/"},{"title":"Táº£n máº¡n vá» index trong MySQL","text":"Indexs (Chá»‰ má»¥c - cÅ©ng Ä‘Æ°á»£c gá»i lÃ  â€œkeysâ€ trong MySQL) lÃ  cáº¥u trÃºc dá»¯ liá»‡u lÃ m phÆ°Æ¡ng tiá»‡n lÆ°u trá»¯ Ä‘á»ƒ tÃ¬m cÃ¡c hÃ ng nhanh hÆ¡n. Indexs ráº¥t quan trá»ng Ä‘á»ƒ cÃ³ hiá»‡u suáº¥t tá»‘t vÃ  trá»Ÿ nÃªn quan trá»ng hÆ¡n khi dá»¯ liá»‡u cá»§a báº¡n phÃ¡t triá»ƒn lá»›n hÆ¡n. CÆ¡ sá»Ÿ dá»¯ liá»‡u nhá», táº£i nháº¹ thÆ°á»ng hoáº¡t Ä‘á»™ng tá»‘t ngay cáº£ khi khÃ´ng cÃ³ Ä‘Ãºng cÃ¡ch chá»‰ má»¥c, nhÆ°ng khi táº­p dá»¯ liá»‡u tÄƒng lÃªn, hiá»‡u suáº¥t cÃ³ thá»ƒ giáº£m ráº¥t nhanh. Tháº­t khÃ´ng may, chá»‰ má»¥c thÆ°á»ng bá»‹ lÃ£ng quÃªn hoáº·c hiá»ƒu láº§m, vÃ¬ váº­y láº­p chá»‰ má»¥c kÃ©m lÃ  nguyÃªn nhÃ¢n hÃ ng Ä‘áº§u cá»§a váº¥n Ä‘á» hiá»‡u suáº¥t trong tháº¿ giá»›i thá»±c. CÆ¡ báº£n vá» indexingNÃ³ hoáº¡t Ä‘á»™ng ra saoCÃ¡ch dá»… hiá»ƒu nháº¥t index hoáº¡t Ä‘á»™ng dÆ° lÃ o trong MySQL lÃ  nghÄ© vá» index trong sÃ¡ch. Äá»ƒ tÃ¬m 1 topic cá»¥ thá»ƒ nÃ o trong sÃ¡ch, báº¡n nhÃ¬n má»¥c lá»¥c vÃ  nÃ³ sáº½ nÃ³i cho báº¡n trang nÃ o xuáº¥t hiá»‡n ná»™i dung Ä‘Ã³. Trong MySQL, phÆ°Æ¡ng phÃ¡p lÆ°u trá»¯ sá»­ dá»¥ng index cÅ©ng tÆ°Æ¡ng tá»± váº­y. NÃ³ tÃ¬m kiáº¿m index cá»§a cáº¥u trÃºc dá»¯ liá»‡u nhÆ° 1 giÃ¡ trá»‹. Khi tÃ¬m kiáº¿m trÃ¹ng khá»›p, nÃ³ cÃ³ thá»ƒ tÃ¬m tháº¥y hÃ ng Ä‘Ã³. Khi báº¡n cháº¡y cÃ¢u lá»‡nh:1mysql&gt; SELECT first_name FROM sakila.actor WHERE actor_id = 5; Cá»™t actor_id lÃ  index, bá»Ÿi váº­y MySQL sáº½ sá»­ dá»¥ng index Ä‘á»ƒ tÃ¬m nhá»¯ng hÃ ng cÃ³ actor_id lÃ  5. NÃ³i cÃ¡ch khÃ¡c, nÃ³ thá»±c hiá»‡n tra cá»©u cÃ¡c giÃ¡ trá»‹ trong chá»‰ má»¥c vÃ  tráº£ vá» báº¥t ká»³ hÃ ng nÃ o chá»©a giÃ¡ trá»‹ Ä‘Æ°á»£c chá»‰ Ä‘á»‹nh. CÃ¡c loáº¡i index B-Tree Indexes Äa sá»‘ ká»¹ thuáº­t lÆ°u trá»¯ MySQL Ä‘á»u há»— trá»£ loáº¡i index nÃ y. Ngoáº¡i lá»‡ cá»§a ká»¹ thuáº­t nÃ y lÃ  nÃ³ khÃ´ng há»— trá»£ index vá»›i táº¥t cáº£ cÃ¡c phiÃªn báº£n cho Ä‘áº¿n khi phiÃªn báº£n MySQL 5.1, khi mÃ  báº¯t Ä‘áº§u cho phÃ©p cÃ¡c cá»™t AUTO_INCREMENT Hash index Hash index khÃ´ng Ä‘Æ°á»£c sá»­ dá»¥ng rá»™ng rÃ£i vÃ¬ nÃ³ khÃ´ng tháº¿ Ã¡p dá»¥ng cho nhiá»u trÆ°á»ng há»£p nhÆ° B-Tree Indexs. Hash index cÃ³ 1 sá»‘ Ä‘iá»ƒm máº¡nh sau: ChÃºng chá»‰ Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ so sÃ¡nh báº±ng, sá»­ dá»¥ng cÃ¡c toÃ¡n tá»­ = hoáº·c &lt;=&gt; (nhÆ°ng ráº¥t nhanh). ChÃºng khÃ´ng Ä‘Æ°á»£c sá»­ dá»¥ng cho cÃ¡c toÃ¡n tá»­ so sÃ¡nh, cháº³ng háº¡n nhÆ° &lt; tÃ¬m tháº¥y má»™t pháº¡m vi cÃ¡c giÃ¡ trá»‹. CÃ¡c há»‡ thá»‘ng phá»¥ thuá»™c vÃ o loáº¡i tra cá»©u giÃ¡ trá»‹ Ä‘Æ¡n nÃ y Ä‘Æ°á»£c gá»i lÃ  cÃ¡c cá»­a hÃ ng giÃ¡ trá»‹ khÃ³a chÃ­nh xÃ¡c Ä‘á»ƒ sá»­ dá»¥ng MySQL cho cÃ¡c á»©ng dá»¥ng Ä‘Ã³, hÃ£y sá»­ dá»¥ng cÃ¡c chá»‰ má»¥c bÄƒm báº¥t cá»© khi nÃ o cÃ³ thá»ƒ. ToÃ¡n tá»­ ORDER By khÃ´ng tá»‘i Æ°u Ä‘Æ°á»£c náº¿u sá»­ dá»¥ng hash index MySQL khÃ´ng thá»ƒ xÃ¡c Ä‘á»‹nh khoáº£ng bao nhiÃªu hÃ ng giá»¯a hai giÃ¡ trá»‹ (Ä‘iá»u nÃ y Ä‘Æ°á»£c sá»­ dá»¥ng bá»Ÿi trÃ¬nh tá»‘i Æ°u hÃ³a pháº¡m vi Ä‘á»ƒ quyáº¿t Ä‘á»‹nh sá»­ dá»¥ng chá»‰ má»¥c nÃ o). Äiá»u nÃ y cÃ³ thá»ƒ áº£nh hÆ°á»Ÿng Ä‘áº¿n má»™t sá»‘ truy váº¥n náº¿u báº¡n thay Ä‘á»•i báº£ng MyISAM hoáº·c InnoDB thÃ nh báº£ng MEMOR Ä‘Æ°á»£c láº­p chá»‰ má»¥c bÄƒm. Chá»‰ toÃ n bá»™ khÃ³a cÃ³ thá»ƒ Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ tÃ¬m kiáº¿m má»™t hÃ ng. (Vá»›i chá»‰ má»¥c cÃ¢y B, má»i tiá»n tá»‘ ngoÃ i cÃ¹ng bÃªn trÃ¡i cá»§a khÃ³a Ä‘á»u cÃ³ thá»ƒ Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ tÃ¬m hÃ ng.) Spatial (R-Tree) indexes: Há»— trá»£ tá»‘t cho cÃ¡c á»©ng dá»¥ng liÃªn quan Ä‘áº¿n Ä‘á»‹a lÃ½ MyISAM há»— trá»£ cÃ¡c chá»‰ má»¥c khÃ´ng gian, mÃ  báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng vá»›i cÃ¡c loáº¡i má»™t pháº§n nhÆ° GEOME TRY. KhÃ´ng giá»‘ng nhÆ° cÃ¡c chá»‰ má»¥c B-Tree, cÃ¡c chá»‰ má»¥c khÃ´ng gian khÃ´ng yÃªu cáº§u cÃ¡c má»‡nh Ä‘á» WHERE cá»§a báº¡n hoáº¡t Ä‘á»™ng trÃªn tiá»n tá»‘ ngoÃ i cÃ¹ng bÃªn trÃ¡i cá»§a chá»‰ má»¥c. Há» láº­p chá»‰ má»¥c dá»¯ liá»‡u theo táº¥t cáº£ cÃ¡c kÃ­ch thÆ°á»›c giá»‘ng nhauthá»i gian. Káº¿t quáº£ lÃ , tra cá»©u cÃ³ thá»ƒ sá»­ dá»¥ng báº¥t ká»³ sá»± káº¿t há»£p kÃ­ch thÆ°á»›c nÃ o má»™t cÃ¡ch hiá»‡u quáº£. Tuy nhiÃªn, báº¡n pháº£i sá»­ dá»¥ng cÃ¡c chá»©c nÄƒng cá»§a MySQL GIS, cháº³ng háº¡n nhÆ° MBRCONTAINS (), Ä‘á»ƒ lÃ m viá»‡c nÃ y vÃ  há»— trá»£ MySQL MySQL GIS ráº¥t tuyá»‡t, vÃ¬ váº­y háº§u háº¿t má»i ngÆ°á»i khÃ´ng sá»­ dá»¥ng nÃ³. Giáº£i phÃ¡p tiáº¿p cáº­n cho GIS trong RDBMS mÃ£ nguá»“n má»Ÿ lÃ  PostGIS trong PostgreQuery. (á»©ng dá»¥ng cho cÃ¡c á»©ng dá»¥ng liÃªn quan Ä‘áº¿n Ä‘á»‹a lÃ½) CÃ¡c truy váº¥n sá»­ dá»¥ng indexMultiple-Column IndexesMá»™t báº£ng cÃ³ thá»ƒ chá»n nhiá»u cá»™t lÃ m index. Má»™t chá»‰ má»¥c cÃ³ thá»ƒ bao gá»“m tá»‘i Ä‘a 16 cá»™t. MySQL cÃ³ thá»ƒ sá»­ dá»¥ng cÃ¡c chá»‰ má»¥c nhiá»u cá»™t cho cÃ¡c truy váº¥n kiá»ƒm tra táº¥t cáº£ cÃ¡c cá»™t trong chá»‰ má»¥c hoáº·c cÃ¡c truy váº¥n chá»‰ kiá»ƒm tra cá»™t Ä‘áº§u tiÃªn, hai cá»™t Ä‘áº§u tiÃªn, ba cá»™t Ä‘áº§u tiÃªn, v.v. Náº¿u báº¡n chá»‰ Ä‘á»‹nh cÃ¡c cá»™t theo Ä‘Ãºng thá»© tá»± trong Ä‘á»‹nh nghÄ©a chá»‰ má»¥c, má»™t chá»‰ má»¥c tá»•ng há»£p duy nháº¥t cÃ³ thá»ƒ tÄƒng tá»‘c má»™t sá»‘ loáº¡i truy váº¥n trÃªn cÃ¹ng má»™t báº£ng. TrÆ°á»›c khi nÃ³i vá» cÃ¡c truy váº¥n mÃ  cÃ³ sá»­ dá»¥ng index. TÃ´i muá»‘n nÃ³i qua vá» leftmost prefix. Leftmost prefix dá»‹ch táº¡m sang tiáº¿ng Viá»‡t lÃ  â€œtiá»n tá»‘ trÃ¡i nháº¥tâ€ cá»§a 1 index. NÃ³ Ä‘Æ°á»£c Ã¡p dá»¥ng trong trÆ°á»ng há»£p â€œMultiple-Column Indexesâ€. VÃ­ dá»¥ khi báº¡n táº¡o index: 1234567CREATE TABLE test ( id INT NOT NULL, last_name CHAR(30) NOT NULL, first_name CHAR(30) NOT NULL, PRIMARY KEY (id), INDEX name (last_name,first_name)); ThÃ¬ last_name á»Ÿ Ä‘Ã¢y chÃ­nh lÃ  leftmost prefix cá»§a index cÃ³ tÃªn lÃ  name. Táº¡i sao leftmost láº¡i quan trá»ng nhÆ° váº­y, ta cÃ¹ng xem xÃ©t pháº§n tiáº¿p theo nhÃ©. CÃ¡c truy váº¥n cÃ³ sá»­ dá»¥ng index trong B-TreeChÃ­nh vÃ¬ B-Tree index Ä‘Æ°á»£c sá»­ dá»¥ng phá»• biáº¿n nháº¥t, pháº§n nÃ y tÃ´i sáº½ liá»‡t kÃª cÃ¡c truy váº¥n sá»­ dá»¥ng index trong B-Tree Match the full value Truy váº¥n tÃ¬m Ä‘Ãºng giÃ¡ trá»‹:1SELECT * FROM test WHERE last_name='Widenius'; Match a range of values Táº¥t nhiÃªn trÃ¹ng giÃ¡ trá»‹ trong má»™t khoáº£ng ta thÃ¬ cÃ¡c index cÅ©ng Ä‘Æ°á»£c Ã¡p dá»¥ng (&gt;=, &lt;=, &gt;, &lt;) Match a leftmost prefix Äiá»u nÃ y cho tháº¥y thá»© tá»± index tháº­t sá»± quan trá»ng nhÆ° tháº¿ nÃ o. Náº¿u 1 báº£ng cÃ³ nhiá»u cá»™t trong 1 index, chá»‰ cÃ³ leftmost prefix cÃ³ thá»ƒ Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ tá»‘i Æ°u truy váº¥n. VÃ­ dá»¥ index cá»§a báº¡n cÃ³ 3 cá»™t(col1, col2, col3), chá»‰ thao tÃ¡c trÃªn (col1), (col1, col2), vÃ  (col1, col2, col3) má»›i cÃ³ thá»ƒ giÃºp tá»‘i Æ°u hÃ³a truy váº¥n, thao tÃ¡c trÃªn (col2) hay (col2, col3) hoÃ n toÃ n khÃ´ng cÃ³ Ã½ nghÄ©a:12345SELECT * FROM tbl_name WHERE col1=val1;SELECT * FROM tbl_name WHERE col1=val1 AND col2=val2;SELECT * FROM tbl_name WHERE col2=val2;SELECT * FROM tbl_name WHERE col2=val2 AND col3=val3;NhÆ° truy váº¥n á»Ÿ trÃªn thÃ¬ chá»‰ cÃ³ 2 truy váº¥n Ä‘áº§u Ä‘Ã¡nh index cÃ³ Ã½ nghÄ©a, 2 truy váº¥n sau khÃ´ng Ã¡p dá»¥ng index. Váº­y thÃ¬ col2, col3 cho vÃ o index cÃ³ Ã½ nghÄ©a gÃ¬? NÃ³ sáº½ cÃ³ Ã½ nghÄ©a index trong trÆ°á»ng há»£p bá»• sung truy váº¥n, cáº£i thiá»‡n truy váº¥n nhanh hÆ¡n (trong trÆ°á»ng há»£p truy váº¥n (col1, col2) hoáº·c (col1, col2, col3) Ã½). NhÆ° váº­y quay trá»Ÿ láº¡i vá»›i báº£ng Ä‘Ã£ Ã¡p dá»¥ng tá»« trÃªn, cÃ¡c truy váº¥n sau sáº½ phÃ¡t huy Ä‘Æ°á»£c tÃ¡c dá»¥ng cá»§a index (sá»­ dá»¥ng leftmost prefix): 123456789101112SELECT * FROM test WHERE last_name='Widenius';SELECT * FROM test WHERE last_name='Widenius' AND first_name='Michael';SELECT * FROM test WHERE last_name='Widenius' AND (first_name='Michael' OR first_name='Monty');SELECT * FROM test WHERE last_name='Widenius' AND first_name &gt;='M' AND first_name &lt; 'N'; CÃ²n cÃ¡c truy váº¥n nÃ y thÃ¬ khÃ´ng:12345SELECT * FROM test WHERE first_name='Michael'; -- khÃ´ng sá»­ dá»¥ng leftmostSELECT * FROM test WHERE last_name='Widenius' OR first_name='Michael'; -- dÃ¹ng OR nÃªn cÅ©ng khÃ´ng sá»­ dá»¥ng leftmost (váº¿ sao OR)Do Ä‘Ã³ viá»‡c sáº¯p xáº¿p thá»± tá»± cÃ¡c cá»™t trong index lÃ  ráº¥t quan trá»ng Ä‘á»ƒ láº¥y Ä‘Æ°á»£c leftmost prefix. Match a column prefix Báº¡n cÃ³ thá»ƒ Ã¡p dá»¥ng index Ä‘á»ƒ tÃ¬m nhá»¯ng ngÆ°á»i cÃ³ last_name báº¯t Ä‘áº§u lÃ  â€œJâ€. Háº¡n cháº¿ cá»§a indexNhÆ° Ä‘Ã£ Ä‘á» cáº­p á»Ÿ trÃªn, má»™t sá»‘ truy váº«n sáº½ khÃ´ng sá»­ dá»¥ng index: KhÃ´ng sá»­ dá»¥ng leftmost Náº¿u khÃ´ng sá»­ dá»¥ng leftmost trong truy váº¥n, index sáº½ khÃ´ng phÃ¡t huy Ä‘Æ°á»£c tÃ¡c dá»¥ng cá»§a nÃ³. Ká»¹ thuáº­t lÆ°u trá»¯ khÃ´ng thá»ƒ tá»‘i Æ°u truy váº¥n vá»›i 1 cÃ¡i cá»™t vá»›i cÃ¡c â€œbÃªn pháº£i cá»§a Ä‘iá»u kiá»‡n vá»›i khoáº£ng Ä‘áº§u tiÃªnâ€ (the right of thefirst range condition) Dá»… hiá»ƒu nháº¥t lÃ  thá»­ Ã¡p dá»¥ng vá»›i LIKE. Náº¿u nhÆ° pháº§n trÃªn Ä‘á» cáº­p cÃ³ thá»ƒ truy váº¥n vá»›i ngÆ°á»i dÃ¹ng cÃ³ last_name báº¯t Ä‘áº§u lÃ  â€œJâ€ cÃ³ Ã¡p dá»¥ng index thÃ¬ vá»›i nhá»¯ng truy váº¥n last_name káº¿t thÃºc lÃ â€Jâ€ sáº½ khÃ´ng Ã¡p dá»¥ng index vÃ¬ nÃ³ lÃ  Ä‘iá»u kiá»‡n bÃªn pháº£i. ÄÃ¢y lÃ  má»™t háº¡n cháº¿ khÃ¡ lá»›n cá»§a index.12SELECT * FROM test WHERE last_name LIKE 'J%'; -- Ã¡p dá»¥ng index trong truy váº¥nSELECT * FROM test WHERE last_name LIKE '%J'; -- cÃ²n Ä‘Ã¢y thÃ¬ khÃ´ng Xem truy váº¥n cÃ³ sá»­ dá»¥ng index khÃ´ng?Äá»ƒ xem truy váº¥n cá»§a báº¡n cÃ³ sá»­ dá»¥ng index hay khÃ´ng, báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng lá»‡nh EXPLAIN trong sql. NhÃ¬n vÃ o sá»‘ cá»™t nÃ³ Ä‘Ã£ duyá»‡t vÃ  cá»™t extra, báº¡n cÃ³ thá»ƒ biáº¿t thÃªm thÃ´ng tin há»¯u Ã­ch Ä‘Ã³ :D. VÃ­ dá»¥ sao tÃ´i Ä‘Ã£ táº¡o 20k báº£n ghi user Ä‘á»ƒ truy váº¥n tá»« seed cá»§a Laravel:12345678910111213141516171819&lt;?phpuse Illuminate\\Database\\Seeder;class DatabaseSeeder extends Seeder{ /** * Seed the application's database. * * @return void */ public function run() { // $this-&gt;call(UsersTableSeeder::class); factory(App\\User::class, 20000)-&gt;create()-&gt;each(function ($user) { }); }}VÃ  Ä‘Ã¢y lÃ  truy váº¥n Ä‘á»ƒ test index:12345678910111213141516mysql&gt; explain select * from users where email LIKE &quot;m%&quot;;+----+-------------+-------+------------+-------+--------------------+--------------------+---------+------+------+----------+-----------------------+| id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra |+----+-------------+-------+------------+-------+--------------------+--------------------+---------+------+------+----------+-----------------------+| 1 | SIMPLE | users | NULL | range | users_email_unique | users_email_unique | 1022 | NULL | 1514 | 100.00 | Using index condition |+----+-------------+-------+------------+-------+--------------------+--------------------+---------+------+------+----------+-----------------------+1 row in set, 1 warning (0,00 sec)mysql&gt; explain select * from users where email LIKE &quot;%m&quot;;+----+-------------+-------+------------+------+---------------+------+---------+------+-------+----------+-------------+| id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra |+----+-------------+-------+------------+------+---------------+------+---------+------+-------+----------+-------------+| 1 | SIMPLE | users | NULL | ALL | NULL | NULL | NULL | NULL | 19853 | 11.11 | Using where |+----+-------------+-------+------------+------+---------------+------+---------+------+-------+----------+-------------+1 row in set, 1 warning (0,00 sec)NhÃ¬n qua lÃ  biáº¿t cÃ¡i nÃ o sá»­ dá»¥ng index rá»“i Ä‘Ã³. Index giÃºp ta giáº£m truy váº¥n tá»« duyá»‡t 19853 báº£n ghi xuá»‘ng 1514 báº£n ghi TÃ i liá»‡u tham kháº£o:https://dev.mysql.com/doc/refman/8.0/en/optimization-indexes.html","link":"/2021/08/01/Tan-man-ve-index-trong-MySQL/"},{"title":"[Unit test] PHP Testing Interview","text":"Má»™t cuá»™c phá»ng váº¥n vá»›i PHP Testing giÃºp mÃ¬nh tá»•ng há»£p cÃ¡c Ã½ tÆ°á»Ÿng, cÃ¡ch thá»©c vá» viá»‡c testing vá»›i developer! Giá»›i thiá»‡u automation test, unit test vÃ  integration testMe:: HÃ´m nay lÃ  ngÃ y 11/1, má»™t ngÃ y khÃ´ng khÃ­ láº¡nh trÃ n vá» HÃ  Ná»™i, vÃ¬ váº­y tÃ´i muá»‘n phá»ng váº¥n báº¡n máº¥y cÃ¢u cÃ³ Ä‘Æ°á»£c khÃ´ng PHP Testing? PHP Testing: Táº¥t nhiÃªn, tÃ´i ráº¥t vui vÃ¬ Ä‘Æ°á»£c báº¡n phá»ng váº¥n! Me: TÃ´i cÃ³ nghe vá» Automation Tests, nÃ³ lÃ  cÃ¡i gÃ¬ váº­y? PHP Testing: Dá»‹ch sang tiáº¿ng Viá»‡t nÃ³ lÃ  kiá»ƒm thá»­ tá»± Ä‘á»™ng, hÃ£y hiá»ƒu nÃ³ lÃ  1 pháº§n nhá» trong bá»©c tranh Test rá»™ng. NÃ³ chÃ­nh lÃ  viáº¿t code Ä‘á»ƒ test code. Me: Váº­y nÃ³ Ä‘em láº¡i lá»£i Ã­ch gÃ¬ váº­y? PHP Testing: NÃ³ cÃ³ ráº¥t nhiá»u lá»£i Ã­ch Ä‘Ã³ (náº¿u phÃ¡t triá»ƒn theo Ä‘Ãºng quy trÃ¬nh). NÃ³ cáº¥u trÃºc code cho báº¡n (Ä‘áº·t tÃªn cÃ¡c hÃ m sáºµn cho báº¡n trong test) CÃ³ thá»ƒ tÃ­ch há»£p CI/CD Ä‘á»ƒ tá»± Ä‘á»™ng hÃ³a cÃ¡c quÃ¡ trÃ¬nh merge, deploy. Má»™t Ä‘iá»ƒm máº¡nh cá»§a nÃ³ ná»¯a lÃ  nÃ³ cÃ³ thá»ƒ teamwork, nÃ³ kiá»ƒm tra Ä‘Æ°á»£c Ä‘oáº¡n code cá»§a báº¡n cÃ³ áº£nh hÆ°á»Ÿng Ä‘áº¿n code ngÆ°á»i khÃ¡c khÃ´ng (cÃ¡i nÃ y cá»±c kÃ¬ hay gáº·p khi sá»­a 1 hÃ m mÃ  lÃ m áº£nh hÆ°á»Ÿng Ä‘á»ƒn code cá»§a ngÆ°á»i khÃ¡c nÃ¨). Tá»« Ä‘Ã³ giÃºp báº¡n tÄƒng sá»± tá»± tin trong viá»‡c thay Ä‘á»•i / báº£o trÃ¬ / refactor code =)) Me: Nghe hay quÃ¡ nhá»‰, váº­y developer Ã¡p dá»¥ng nÃ³ vÃ o project nhÆ° tháº¿ nÃ o? PHP Testing: Developer sáº½ Ã¡p dá»¥ng vÃ o project dÆ°á»›i dáº¡ng Unit Test vÃ  Integration test Me: NÃ³ lÃ  cÃ¡i gÃ¬ tháº¿? PHP Testing: Ã€ cÅ©ng khÃ´ng khÃ³ láº¯m Ä‘Ã¢u. Unit Test thÃ¬ Ä‘Æ¡n giáº£n, nÃ³ sáº½ Test tá»«ng function hoáº·c method cá»§a má»™t class, nháº­n Ä‘áº§u vÃ o vÃ  mong chá» (asset) Ä‘áº§u ra Ä‘Ãºng nhÆ° kÃ¬ vá»ng. NÃ³ sáº½ khÃ´ng truy váº¥n database, sá»­ dá»¥ng network, call API, sá»­ dá»¥ng file system. Trong khi Ä‘Ã³ Integration Test lÃ  viá»‡c test tÃ­ch há»£p nhÃ³m cÃ¡c function, cÃ¡c method Ä‘Ã£ káº¿t há»£p láº¡i vá»›i nhau vÃ  thá»±c hiá»‡n cÃ¡c viá»‡c mÃ  cÃ¡c Unit Test khÃ´ng Ä‘Æ°á»£c lÃ m á»Ÿ trÃªn. Me: Unit Test thÃ¬ tÃ´i Ä‘Ã£ hiá»ƒu, nÃ³ test tá»«ng hÃ m má»™t, nhÆ°ng Integration test thÃ¬ tÃ´i chÆ°a rÃµ láº¯m. PHP Testing: TÃ´i láº¥y vÃ­ dá»¥ cho báº¡n nhÃ©, Cháº³ng háº¡n Unit test, test tá»«ng method cá»§a Service vÃ  Controller sá»­ dá»¥ng service thÃ¬ Integration sáº½ test viá»‡c sá»­ dá»¥ng káº¿t há»£p service vÃ  controller thá»±c hiá»‡n cÃ´ng viá»‡c gÃ¬ Ä‘Ã³ nhÆ° táº¡o báº£n ghi. Äáº§u vÃ o sáº½ lÃ  input, sau Ä‘Ã³ thá»±c hiá»‡n Controller nÃ y asset Ä‘áº§u ra nÃ³ Ä‘Ã£ cÃ³ trong DB chÆ°a, nÃ³ Ä‘Æ¡n giáº£n lÃ  hÃ m gá»i nhiá»u hÃ m tÃ­ch há»£p vá»›i nhau thÃ´i :D. Vá»›i nhá»¯ng á»©ng dá»¥ng nhá», sá»‘ lÆ°á»£ng code khÃ´ng quÃ¡ nhiá»u, chÃºng ta cÃ³ thá»ƒ chá»‰ cáº§n thá»±c hiá»‡n integration tests mÃ  sá»­ dá»¥ng database connection, lá»£i Ã­ch lÃ  giáº£m effort mÃ  váº«n giá»¯ Ä‘Æ°á»£c tá»‘c Ä‘á»™ cá»§a cáº£ quÃ¡ trÃ¬nh testing. CÃ¡c thÃ nh pháº§n chung cá»§a má»™t test caseMe: Cáº£m Æ¡n báº¡n, tÃ´i cÅ©ng Ä‘Ã£ hiá»ƒu sÆ¡ sÆ¡ rá»“i. MÃ  trong cÃ¡c test bao gá»“m nhiá»u test cases pháº£i khÃ´ng nhá»‰, nÃ³ cÃ³ pháº£i lÃ  cÃ¡c trÆ°á»ng há»£p kiá»ƒm thá»­, vÃ  khi viáº¿t test cases Ä‘Ã³ thÃ¬ tÃ´i cáº§n nhá»¯ng gÃ¬? PHP Testing: ÄÃºng váº­y cÃ¡c test case chÃ­nh lÃ  cÃ¡c trÆ°á»ng há»£p chÃºng ta sáº½ kiá»ƒm thá»­ trong code. CÃ¡c Test Cases pháº£i Ä‘Æ°á»£c thiáº¿t káº¿ Ä‘á»ƒ cÃ³ thá»ƒ cover Ä‘Æ°á»£c háº¿t cÃ¡c sá»± káº¿t há»£p cá»§a cÃ¡c giÃ¡ trá»‹ inputs cÃ¹ng cÃ¡c Ä‘iá»u kiá»‡n, bao phá»§ háº¿t cÃ¡c nhÃ¡nh if/else. Má»™t Test case sáº½ bao gá»“m 3 pháº§n sau: Arrange: thiáº¿t láº­p tráº¡ng thÃ¡i, khá»Ÿi táº¡o object, giáº£ láº­p mock Act: Cháº¡y unit Ä‘ang cáº§n test (method under test) Assert: So sÃ¡nh expected vá»›i káº¿t quáº£ tráº£ vá»123456789101112public function test_fetches_items_in_array_until_value(){ // Arrange $names = ['Taylor', 'Dayle', 'Matthew', 'Shawn', 'Neil']; // Act $result = array_until('Matthew', $names); // Assert $expected = ['Taylor', 'Dayle']; $this-&gt;assertEquals($expected, $result);} Hoáº·c cÃ³ thá»ƒ phÃ¡t biá»ƒu thÃ nh lá»i vá»›i GIVEN, WHEN, THEN: Given this set of data, when I perform this action, then I expect that response. 123456789101112public function test_fetches_items_in_array_until_value(){ // Given this set of data $names = ['Taylor', 'Dayle', 'Matthew', 'Shawn', 'Neil']; // When I call the until function and specify a value $result = array_until('Matthew', $names); // Then I expect the result should be $expected = ['Taylor', 'Dayle']; $this-&gt;assertEquals($expected, $result);} Testing khi chá»©c nÄƒng phá»¥ thuá»™c bÃªn thá»© 3 hoáº·c lá»›p khÃ¡cMe: Oh, tÃ´i Ä‘Ã£ hiá»ƒu test case. á» trÃªn báº¡n cÃ³ nÃ³i viá»‡c sá»­ dá»¥ng network, gá»i API lÃ m cháº­m test, káº¿t quáº£ khÃ´ng á»•n Ä‘á»‹nh vÃ¬ phá»¥ thuá»™c máº¡ng, khi test truy váº¥n CSDL thÃ¬ lÃ m cháº­m quÃ¡ trÃ¬nh test vÃ  áº£nh hÆ°á»Ÿng Ä‘áº¿n database tháº­t, váº­y gáº·p trÆ°á»ng há»£p nÃ y thÃ¬ chÃºng ta test kiá»ƒu gÃ¬? PHP Testing: Test cÃ´ láº­p (Test Doubles) Me: Báº¡n cÃ³ thá»ƒ nÃ³i rÃµ hÆ¡n khÃ´ng? PHP Testing: Nhá»¯ng pháº§n phá»¥ thuá»™c bÃªn thá»© 3 trong test sáº½ Ä‘Æ°á»£c giáº£ láº­p vÃ¬ náº¿u khÃ´ng giáº£ láº­p, khi cháº¡y test sai ta khÃ´ng biáº¿t sai do code cá»§a test hay do bÃªn thá»© 3. Giáº£ láº­p á»Ÿ Ä‘Ã¢y tá»©c lÃ  thay tháº¿ Object hoáº·c hÃ m phá»¥ thuá»™c bÃªn thá»© 3 báº±ng Object vÃ  hÃ m â€œbáº¯t chÆ°á»›câ€ hÃ nh vi cá»§a real Object vÃ  chÃºng ta cÃ³ thá»ƒ tá»± Ä‘á»‹nh nghÄ©a káº¿t quáº£ tráº£ vá» theo tá»«ng ká»‹ch báº£n test case? Me: ÄÃºng lÃ  má»™t Ã½ tÆ°á»Ÿng tuyá»‡t vá»i, tháº¿ lÃºc nÃ o tÃ´i cÅ©ng giáº£ láº­p cáº£ Object Ã ? PHP Testing: KhÃ´ng Ä‘Ã¢u, nhÆ° tÃ´i nÃ³i á»Ÿ trÃªn Ä‘Ã³, báº¡n cÃ³ thá»ƒ giáº£ láº­p hÃ m hoáº·c cáº£ Object á»©ng vá»›i 2 quan Ä‘iá»ƒm vá» unit test cÃ´ láº­p. Sociable test sáº½ giáº£ láº­p cÃ¡c hÃ m, cÃ¡c methods cháº­m, sá»©c áº£nh hÆ°á»Ÿng lá»›n hoáº·c khÃ´ng thá»ƒ dÃ¹ng trong mÃ´i trÆ°á»ng test: database, network call. VÃ  loáº¡i cÃ²n láº¡i lÃ  Solitary test giáº£ láº­p cáº£ Object luÃ´n, nhÆ° Dependency Injection cháº³ng háº¡n. Me: LÃ m sao Ä‘á»ƒ tÃ´i biáº¿t khi nÃ o sá»­ dá»¥ng Sociable test vÃ  Solitary test? PHP Testing: NhÆ° tháº¿ nÃ y nhÃ©, náº¿u cáº¥u trÃºc code cá»§a báº¡n tá»‘t thÃ¬: Model: nhiá»‡m vá»¥ chÃ­nh lÃ  Ä‘á»ƒ lÆ°u dá»¯ liá»‡u bÃªn trong vÃ  khÃ´ng thá»±c hiá»‡n nhiá»u logic bÃªn trong =&gt; khÃ´ng cáº§n mock, chá»‰ Ä‘Æ¡n giáº£n lÃ  khá»Ÿi táº¡o Ä‘á»‘i tÆ°á»£ng vÃ  truyá»n vÃ o fake data cho nÃ³ Service: nhiá»‡m vá»¥ chÃ­nh lÃ  thá»±c hiá»‡n cÃ´ng viá»‡c, logic =&gt; cáº§n cáº£ 2 loáº¡i trÃªn tÃ¹y vÃ o chá»©c nÄƒng? Me: Hay quÃ¡, báº¡n cÃ³ thá»ƒ cho tÃ´i xem thá»±c hÃ nh vá» viá»‡c giáº£ láº­p nÃ y khÃ´ng? PHP Testing: Táº¥t nhiÃªn rá»“i, giáº£ láº­p nÃ y sáº½ gá»“m 2 khÃ¡i niá»‡m vÃ  Stub vÃ  Mock. Stub (Stub methods) lÃ  giáº£ láº­p hÃ nh vi tá»©c lÃ  cÃ¡c methods vÃ  functions. Báº¡n cÃ³ thá»ƒ giáº£ láº­p hÃ m nÃ y trong 1 láº§n gá»i (láº§n gá»i Ä‘áº§u sáº½ mock, tá»« láº§n sau sáº½ lÃ  methods, functions cÅ©) hay Ã¡p dá»¥ng cho má»i láº§n gá»i:12345678910111213141516171819public function test_order_sends_mail_if_succeeded(){ $mailService = $this-&gt;createMock(MailService::class); $order = new Order('Wine', 'user@localhost', $mailService); // Expect method MailService::send Ä‘Æ°á»£c gá»i duy nháº¥t 1 láº§n, // vá»›i 2 tham sá»‘ lÃ  'user@localhost' vÃ  'Order succeeded!' // Expect cáº§n Ä‘Æ°á»£c viáº¿t trÆ°á»›c khi gá»i method test $mailService-&gt;expects(once()) -&gt;method('send'); -&gt;with( $this-&gt;equalTo('user@localhost'), $this-&gt;equalTo('Order succeeded!') ); $result = $order-&gt;process(); $this-&gt;assertTrue($result);}CÃ²n Mock thÃ¬ giáº£ láº­p tráº¡ng thÃ¡i loáº¡i bá» táº¥t cáº£ logic bÃªn trong method cá»§a object tháº­t vÃ  cÃ³ thá»ƒ thay Ä‘á»•i káº¿t quáº£ tráº£ vá» cá»§a method theo Ã½ muá»‘n1234// Create mock object$product = $this-&gt;createMock(Product::class);// Stub method price, make it return 100$product-&gt;method('getPrice')-&gt;will($this-&gt;returnValue(100));Hai khÃ¡i niá»‡m nÃ y tháº­y mÆ¡ há»“. ÄÃ¢y lÃ  má»™t Ã½ kiáº¿n tÃ´i Ä‘á»c Ä‘Æ°á»£c vÃ  cáº£m tháº¥y dá»… hiá»ƒu: Má»™t Stub khÃ´ng thá»ƒ tráº£ vá» káº¿t quáº£ unit test lÃ  fail bá»Ÿi vÃ¬ báº¡n biáº¿t nhá»¯ng gÃ¬ báº¡n Ä‘ang thá»±c hiá»‡n vÃ  lÃ½ do táº¡i sao báº¡n Ä‘ang thá»±c hiá»‡n nÃ³, NÃ³ Ä‘Æ°á»£c sá»­ dá»¥ng lÃ  Ä‘á»ƒ thay tháº¿ cho má»™t module vÃ  Ä‘Æ°á»£c giáº£ sá»­ lÃ  pháº£i thá»±c hiá»‡n Ä‘Ãºng cÃ¡c nhiá»‡m vá»¥ Ä‘Æ°á»£c giao. Tuy nhiÃªn, Mock object chá»‰ lÃ  má»™t Ä‘á»‘i tÆ°á»£ng mÃ  báº¯t chÆ°á»›c cÃ¡c Ä‘á»‘i tÆ°á»£ng thá»±c sá»±. Náº¿u logic chÃ­nh cá»§a method lÃ  sai thÃ¬ cÃ¡c unit test sáº½ fail ngay cáº£ khi chÃºng ta thiáº¿t láº­p mock object chÃ­nh xÃ¡c. Tá»•ng há»£p 1 sá»‘ Ã½ kiáº¿n trÃªn stackoverflow https://stackoverflow.com/questions/346372/whats-the-difference-between-faking-mocking-and-stubbing https://stackoverflow.com/questions/3459287/whats-the-difference-between-a-mock-stub StyleMocks vs Stubs = Behavioral testing vs State testing PrincipleAccording to the principle of Test only one thing per test, there may be several stubs in one test, but generally there is only one mock. LifecycleTest lifecycle with stubs: Setup - Prepare object that is being tested and its stubs collaborators. Exercise - Test the functionality. Verify state - Use asserts to check objectâ€™s state. Teardown - Clean up resources. Test lifecycle with mocks: Setup data - Prepare object that is being tested. Setup expectations - Prepare expectations in mock that is being used by primary object. Exercise - Test the functionality. Verify expectations - Verify that correct methods has been invoked in mock. Verify state - Use asserts to check objectâ€™s state. Teardown - Clean up resources. SummaryBoth mocks and stubs testing give an answer for the question: What is the result? Testing with mocks are also interested in: How the result has been achieved? ChÃ­nh vÃ¬ thay Ä‘á»•i Object lÃ  Object má»›i, ráº¥t cÃ³ thá»ƒ sinh ra lá»—i náº¿u báº¡n mock logic cá»§a Object sai, Ä‘Ã³ cÃ³ thá»ƒ lÃ  khÃ¡c biá»‡t lá»›n nháº¥t giá»¯a Stub vÃ  Mock. Má»™t Ã½ kiáº¿n khÃ¡c vá» stub, mock, fake. Fake lÃ  giáº£, táº¡o má»™t cÃ¡i gÃ¬ Ä‘Ã³ giáº£, muá»‘n lÃ  gÃ¬ thÃ¬ lÃ  miá»…n lÃ  kiá»ƒu Ä‘Ã³ =)). NÃ³ phá»¥c vá»¥ viá»‡c cÃ¡c hÃ nh vi khÃ´ng mong káº¿t quáº£ tráº£ vá» nhÆ° click button, gá»­i mail, â€¦ Stub - an object that provides predefined answers to method calls. Mock - an object on which you set expectations. Fake - an object with limited capabilities (for the purposes of testing), e.g. a fake web service.Test Double is the general term for stubs, mocks and fakes. But informally, youâ€™ll often hear people simply call them mocks. Me: OK pháº§n network call, API call thÃ¬ tÃ´i Ä‘Ã£ hiá»ƒu, váº­y pháº§n database thÃ¬ sao, chÃºng ta cÅ©ng giáº£ láº­p nhÆ° váº­y?PHP Testing: Ã€ vá»›i database thÃ¬ khÃ´ng nhÃ©. Vá»›i databse, chÃºng ta sáº½ táº¡o ra má»™t mÃ´i trÆ°á»ng má»›i (thÆ°á»ng lÃ  testing) vá»›i database má»›i cÃ³ cáº¥u trÃºc giá»‘ng nhÆ° database dev vÃ  tiáº¿n hÃ nh test dá»¯ liá»‡u trÃªn database Ä‘Ã³. Vá»›i cÃ¡c service bÃªn ngoÃ i ta váº«n nÃªn giáº£ láº­p. Náº¿u trÆ°á»ng há»£p dá»¯ liá»‡u cáº§n cÃ³ 1 vÃ i dá»¯ liá»‡u trÆ°á»›c Ä‘Ã³ báº¡n pháº£i tá»± táº¡o. VÃ­ dá»¥ nhÆ° báº¡n muá»‘n test trÆ°á»ng há»£p xÃ³a 1 báº£n ghi, thÃ¬ trong bÆ°á»›c chuáº©n bá»‹ báº¡n cáº§n táº¡o báº£n ghi Ä‘Ã³ Ä‘Ãºng khÃ´ng nÃ o? Má»™t vÃ i notes khi thá»±c hÃ nh test vá»›i LaravelMe: TÃ´i Ä‘Ã£ hiá»ƒu cÃ¡c khÃ¡i niá»‡m Unit Test vÃ  tháº¥y nÃ³ khÃ¡ thÃº vá»‹ rá»“i Ä‘Ã³, báº¡n cÃ³ thá»ƒ hÆ°á»›ng dáº«n tÃ´i thá»±c hÃ nh trong má»™t framwork nÃ o Ä‘Æ°á»£c khÃ´ng? PHP Testing: Laravel nhÃ© Me: Hehe, tÃ´i lÃ  má»™t master Laravel Ä‘Ã³ :D, thá»±c hÃ nh thÃ´i! PHP Testing: TrÆ°á»›c tiÃªn tÃ´i muá»‘n giá»›i thiá»‡u SETUP VÃ€ TEARDOWN dÃ¹ng Ä‘á»ƒ thiáº¿t láº­p class property, object, env setUp(): Cháº¡y trÆ°á»›c má»—i method test tearDown(): Cháº¡y sau má»—i method test setUpBeforeClass(): Cháº¡y khi báº¯t Ä‘áº§u class test tearDownAfterClass(): Cháº¡y sau khi káº¿t thÃºc class test Tiáº¿p Ä‘Ã³ lÃ  REFLECTION Trong má»™t sá»‘ trÆ°á»ng há»£p chÃºng ta pháº£i truy cáº­p vÃ o private/protected method hoáº·c láº¥y ra cÃ¡c private/protected property cá»§a Ä‘á»‘i tÆ°á»£ng Ä‘á»ƒ thá»±c hiá»‡n assertion Service Container ÄÃ¢y chÃ­nh lÃ  nÆ¡i báº¡n Ä‘Æ°a cÃ¡c DI vÃ o Ä‘á»ƒ test thÃ´ng qua cÃ¡c phÆ°Æ¡ng thá»©c resolve1234567public function test_register_when_valid_email_password_return_success(){ $mailService = $this-&gt;createMock(MailService::class); // Just use fake mail service instead of SES in this test App::instance(MailService::class, $mailService); // ...} @dataProvider Táº¡m dá»‹ch lÃ : 1 test method cÃ³ thá»ƒ cháº¥p nháº­n nhiá»u input khÃ¡c nhau. CÃ¡c tham sá»‘ nÃ y Ä‘Æ°á»£c cung cáº¥p bá»Ÿi method data provider. Báº¡n hÃ£y theo dÃµi 1 sá»‘ vÃ­ dá»¥ Ä‘á»ƒ hiá»ƒu rÃµ cÃ¡ch test hÆ¡n nhÃ©!! Me: Okay. TÃ´i sáº½ luyá»‡n táº­p pháº§n unit test nÃ y Ä‘á»ƒ hiá»ƒu rÃµ hÆ¡n. Cáº£m Æ¡n báº¡n vÃ¬ cuá»™c trÃ² chuyá»‡n nhÃ©! Tá»•ng káº¿t Keyword: Unit Test, Integration Test, Test Doubles, Mock Objects, Stub Methods, Fake, Dependency Injection, Mockery, REFLECTION. Methods: @dataProvider, setUp(), tearDown(), setUpBeforeClass(), tearDownAfterClass(). CÃ¡c khÃ¡i niá»‡m Unit Test tÃ´i tháº¥y khÃ´ng chá»‰ Ã¡p dá»¥ng cho PHP hay Laravel, nÃ³ lÃ  Ã½ tÆ°á»Ÿng chung cho testing Ä‘á»‘i vá»›i Developer. VÃ­ dá»¥ khÃ¡i niá»‡m Unit Test, Test tÃ­ch há»£p hay Test cÃ´ láº­p nhÆ° Stub, Mock, Fake dÃ¹ng ráº¥t nhiá»u trong JEST Ä‘á»ƒ test cÃ¡c framework JS vá»›i Ã½ tÆ°á»Ÿng nhÆ° váº­y. Tháº­m chÃ­ vá»›i testing cho cÃ¡c view báº±ng js, chÃºng ta cÃ²n cÃ³ khÃ¡i niá»‡m snapshot testing cá»±c kÃ¬ hay. Cáº¥u trÃºc cá»§a 1 test case cÃ¹ng váº­y, dÃ¹ test báº±ng ngÃ´n ngá»¯ gÃ¬ Ä‘i chÄƒng ná»¯a cÅ©ng sáº½ cÃ³ 3 pháº§n GIVEN, WHEN, THEN. CÃ¡c hÃ m Ä‘á»ƒ test cÅ©ng váº­y, Laravel cÃ³ setUp(), tearDown(), setUpBeforeClass(), tearDownAfterClass(), Laravel cÃ³ Mockery, cÃ¡c framework JS cÃ³ JEST, Mocha/chai Tháº­t lÃ  tuyá»‡t vá»i pháº£i khÃ´ng nÃ o, há»c Ã½ tÆ°á»Ÿng cÃ¡ch test cá»§a 1 ngÃ´n ngá»¯ ta láº¡i Ã¡p dá»¥ng Ä‘Æ°á»£c cho cÃ¡c ngÃ´n ngá»¯ khÃ¡c. TÃ i liá»‡u tham kháº£o: https://pht.gitlab.io/php-unit-test-slide/#/ https://github.com/framgia/div-high-dev-guidelines/tree/master/ut/php https://github.com/tuanpht/laravel-test-example/blob/master/docs/testing.md https://github.com/mockery/mockery Demo: https://github.com/tuanpht/laravel-test-example","link":"/2020/01/10/Unit-test-PHP-Testing-Interview/"},{"title":"[Unit test] PHP Testing Interview 2","text":"BÃ i viáº¿t tá»•ng há»£p 1 sá»‘ note Ä‘á»ƒ testing vá»›i Má»™t vÃ i packages báº¡n cÃ³ thá»ƒ dÃ¹ng trong unit test. Thao tÃ¡c Database. Private/Protected attributes, methods. Me: Laravel cÃ³ há»— trá»£ Package nÃ o lÃ m viá»‡c vá»›i UnitTest khÃ´ng nhá»‰? PHP Testing: CÃ³ má»™t vÃ i phÆ°Æ¡ng thá»©c sau: Máº·c Ä‘á»‹nh PHP sáº½ cÃ³ sáºµn PHPUnit https://phpunit.readthedocs.io/en/8.5/. NgoÃ i ra báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng packge Mockery thÃªm cho test hiá»‡u quáº£ https://github.com/mockery/mockery. Laravel cÅ©ng cung cáº¥p thÃªm 1 vÃ i phÆ°Æ¡ng thá»©c Ä‘á»ƒ test báº¡n cÃ³ thá»ƒ tham kháº£o: https://laravel.com/docs/6.x/testing Me: Báº¡n cÃ³ thá»ƒ vÃ­ dá»¥ cho tÃ´i khÃ´ng? PHP Testing: Cháº¯c Ä‘a sá»‘ chÃºng ta sáº½ sá»­ dá»¥ng package Mockery. CÃ³ thá»ƒ nÃ³i Stub vÃ  Mock lÃ  2 khÃ¡i niá»‡m Test cÃ´ láº­p Ä‘Æ°á»£c sá»­ dá»¥ng nhiá»u nháº¥t trong pháº§n unit test. Khi mock 1 object báº¡n nÃªn nhá»› PHPUnit cung cáº¥p má»™t phÆ°Æ¡ng thá»©c há»¯u Ã­ch Ä‘Ã³ lÃ  getMockBuilder(), nÃ³ cho phÃ©p báº¡n táº¡o 1 class má»›i thoáº£ mÃ£n Ä‘iá»u kiá»‡n trÃªn ngay khi Ä‘ang cháº¡y test mÃ  khÃ´ng pháº£i táº¡o file má»›i cho má»—i class. VÃ  táº¥t cáº£ cÃ¡c methods cá»§a mock object nÃ y Ä‘á»u tráº£ vá» null. Do Ä‘Ã³ náº¿u báº¡n sá»­ dá»¥ng methods nÃ o cáº§n stub láº¡i Tuy nhiÃªn, cÃ³ 1 ngoáº¡i lá»‡ Ä‘Ã³ lÃ  táº¥t cáº£ method cá»§a mock object Ä‘á»u tráº£ vá» null. Nhá»¯ng method nÃ y Ä‘Æ°á»£c gá»i lÃ  stubs! Stub method lÃ  má»™t method báº¯t chÆ°á»›c hÃ nh vi cá»§a method ban Ä‘áº§u theo 2 tiÃªu chÃ­: cÃ¹ng tÃªn vÃ  cÃ¹ng parameters. Äiá»ƒm khÃ¡c biá»‡t cá»§a stub method lÃ  táº¥t cáº£ code logic bÃªn trong sáº½ bá»‹ loáº¡i bá» (chá»‰ tráº£ vá» giÃ¡ trá»‹ cuá»‘i cÃ¹ng báº¡n mong Ä‘á»£i NhÆ° váº­y: BÃ¢y giá» báº¡n Ä‘Ã£ cÃ³ thá»ƒ overridden giÃ¡ trá»‹ tráº£ vá» cá»§a 1 method báº±ng stub method bÃªn trong unit test. Sá»­ dá»¥ng mock vÃ  stub káº¿t há»£p Ä‘á»ƒ cháº¡y test case vÃ  test Dependency Injection GÃ³c nhÃ¬n cÃ¡ nhÃ¢n vá» Dependency Injection: DI lÃ  cÃ¡ch viáº¿t code ngoÃ i cÃ¡c Æ°u Ä‘iá»ƒm khÃ¡c thÃ¬ nÃ³ cÃ²n Ä‘á»ƒ cÃ³ thá»ƒ testing Ä‘Æ°á»£c, khi Ä‘Ã³ code giáº£m bá»›t sá»± phá»¥ thuá»™c. Chi tiáº¿t Ä‘á»c pháº§n â€œNhÆ°ng táº¡i sao sá»­ dá»¥ng dependency injectionâ€ táº¡i https://viblo.asia/p/php-unit-test-501-su-dung-mock-objects-stub-methods-va-dependency-injection-YWOZryg7KQ0. TÃ³m táº¯t láº¡i Ã½ Ä‘Ã³ thÃ¬ code123456789101112131415public function processPayment(array $paymentDetails){ $transaction = new AuthorizeNetAIM(self::API_ID, self::TRANS_KEY); $transaction-&gt;amount = $paymentDetails['amount']; $transaction-&gt;card_num = $paymentDetails['card_num']; $transaction-&gt;exp_date = $paymentDetails['exp_date']; $response = $transaction-&gt;authorizeAndCapture(); if ($response-&gt;approved) { return $this-&gt;savePayment($response-&gt;transaction_id); } throw new Exception($response-&gt;error_message);} Sáº½ khÃ´ng thá»ƒ test Ä‘Æ°á»£c mÃ  cáº§n chuyá»ƒn vá» DI1234567891011121314public function processPayment(AuthorizeNetAIM $transaction, array $paymentDetails){ $transaction-&gt;amount = $paymentDetails['amount']; $transaction-&gt;card_num = $paymentDetails['card_num']; $transaction-&gt;exp_date = $paymentDetails['exp_date']; $response = $transaction-&gt;authorizeAndCapture(); if ($response-&gt;approved) { return $this-&gt;savePayment($response-&gt;transaction_id); } throw new Exception($response-&gt;error_message);} Khi test DI, báº¡n tá»± khá»Ÿi táº¡o mock object, stub method mÃ  báº¡n dÃ¹ng rá»“i sau Ä‘Ã³ truyá»n nÃ³ vÃ o cÃ¡c class cáº§n test. Má»™t tÃ¹y chá»n khÃ¡c lÃ  DI qua bind() hoáº·c singleton() mÃ  cÃ¡i nÃ y Ã­t dÃ¹ng.1234567891011121314151617181920212223242526272829 public function testProcessPaymentReturnsTrueOnSuccessfulPayment(){ $paymentDetails = [ 'amount' =&gt; 123.99, 'card_num' =&gt; '4111-1111-1111-1111', 'exp_date' =&gt; '03/2013', ]; $payment = new Payment(); $response = new stdClass(); $response-&gt;approved = true; $response-&gt;transaction_id = 123; // Mock object nÃ o $authorizeNet = $this-&gt;getMockBuilder(AuthorizeNetAIM::class) -&gt;setConstructorArgs([Payment::API_ID, Payment::TRANS_KEY]) -&gt;getMock(); // Stub method `authorizeAndCapture` $authorizeNet-&gt;expects($this-&gt;once()) -&gt;method('authorizeAndCapture') -&gt;will($this-&gt;returnValue($response)); // Truyá»n DI $authorizeNet sau khi Ä‘Ã£ giáº£ láº­p thÃ nh cÃ´ng. $result = $payment-&gt;processPayment($authorizeNet, $paymentDetails); $this-&gt;assertTrue($result);} NgoÃ i vÃ­ dá»¥ trÃªn, sau khi mock object, báº¡n cÃ³ thá»ƒ tÃ¬m tháº¥y Stub without Mockery: https://github.com/tuanpht/laravel-test-example/pull/1/files#diff-aac49332ac4c101b14e9115b7a49b742R13-R16 Stub with Mockery: https://github.com/tuanpht/laravel-test-example/pull/1/files#diff-162143d3f08dc0e12b06a6871e8c4f8fR14-R17 Me: Váº­y cÃ²n viá»‡c test cÃ¡c thuá»™c tÃ­nh, methods cÃ³ pháº¡m vi private/protected thÃ¬ sao? PHP Testing: Khi Test cÃ¡c private vÃ  protected methods, properties, báº¡n cáº§n sá»­ dá»¥ng Reflection123456789101112131415161718192021222324/** * Get private/protected property value * $this-&gt;assertEquals('views/home', $this-&gt;getObjectProperty($view, 'file_name')); */public function getObjectProperty($object, $propertyName) { $reflector = new \\ReflectionClass($object); $property = $reflector-&gt;getProperty($propertyName); $property-&gt;setAccessible(true); return $property-&gt;getValue($object);}/** * Call protected/private method of a class. * $this-&gt;invokeObjectMethod($view, 'getData'); */public function invokeObjectMethod($object, $methodName, $parameters = []){ $reflection = new \\ReflectionClass($object); $method = $reflection-&gt;getMethod($methodName); $method-&gt;setAccessible(true); return $method-&gt;invokeArgs($object, $parameters);}Me: Hmm, ngon quÃ¡ nhá»‰, váº­y cÃ²n khi Test vá»›i Database? PHP Testing: Äá»ƒ test vá»›i cÃ¡c thao tÃ¡c database báº¡n cáº§n lÃ m 2 viá»‡c Táº¡o má»™t 1 database má»›i khÃ´ng liÃªn quan gÃ¬ Ä‘áº¿n database cá»§a mÃ´i trÆ°á»ng dev: cÃ³ thá»ƒ lÃ  MySQL hoáº·c SQLite: nhá» gá»n, nhanh chÃ³ng. SQLite nhá» gá»n, xá»­ lÃ½ nhanh nhÆ°ng nÃ³ chá»‰ thÃ­ch há»£p vá»›i cÃ¡c á»©ng dá»¥ng chá»‰ cÃ³ thao tÃ¡c CRUD, vá»›i cÃ¡c á»©ng dá»¥ng thá»±c táº¿ cáº§n JOIN, trigger thÃ¬ nÃ³ khÃ´ng sá»­ dá»¥ng Ä‘Æ°á»£c, vÃ¬ váº­y, cháº¯c háº³n trÃªn thá»±c táº¿ sáº½ sá»­ dá»¥ng MySQL hÆ¡n lÃ  SQLite https://freetuts.net/gioi-thieu-sqlite-sqlite-la-gi-1719.html ÄÃ¢y má»›i chá»‰ lÃ  pháº§n chá»n drive nÃ o. Váº­y pháº§n táº¡o database (migrate) Ä‘Ã¢u? Laravel há»— trá»£ ta lÃ m viá»‡c nÃ y vá»›i trait RefreshDatabase: https://github.com/tuanpht/laravel-test-example/blob/master/tests/Integration/SetupDatabaseTrait.phpTrai nÃ y thá»±c hiá»‡n luÃ´n cáº£ migration Trá» tá»›i Database Ä‘Ã³Viá»‡c trá» tá»›i database Ä‘Ã³ sáº½ lÃ  viá»‡c thay Ä‘á»•i mÃ´i trÆ°á»ng, quyáº¿t Ä‘á»‹nh trong file config:12345&lt;php&gt; &lt;server name=&quot;APP_ENV&quot; value=&quot;testing&quot;/&gt; &lt;!-- APP_KEY for integration http test --&gt; &lt;server name=&quot;APP_KEY&quot; value=&quot;base64:HaoSf5Y02/vR1a1WGy3qfQ/iZhON6PsLkF8QOBr8RyA= &quot; /&gt;&lt;/php&gt; https://github.com/tuanpht/laravel-test-example/blob/master/phpunit.dist.xml#L26. LÃºc nÃ y báº¡n cáº§n thÃªm file cáº¥u hÃ¬nh khi testing vá»›i Ä‘á»‹nh dáº¡ng .env.testing In addition, you may create a .env.testing file in the root of your project. This file will override the .env file when running PHPUnit tests or executing Artisan commands with the --env=testing option. Náº¿u báº¡n sá»­ dá»¥ng SQLite thÃ¬ báº¡n cáº§n thÃªm pháº§n nÃ yBáº¡n sáº½ config trong file nhÆ° váº­y https://github.com/tuanpht/laravel-test-example/pull/2/files#diff-1ef70a974f238d54faeb90eb02582e90R31-R3612345678&lt;!-- Using SQLite in memory database test --&gt;&lt;server name=&quot;DB_CONNECTION&quot; value=&quot;sqlite&quot; /&gt;&lt;server name=&quot;DB_DATABASE&quot; value=&quot;:memory:&quot; /&gt;&lt;server name=&quot;BCRYPT_ROUNDS&quot; value=&quot;4&quot;/&gt;&lt;server name=&quot;CACHE_DRIVER&quot; value=&quot;array&quot;/&gt;&lt;server name=&quot;MAIL_DRIVER&quot; value=&quot;array&quot;/&gt;&lt;server name=&quot;QUEUE_CONNECTION&quot; value=&quot;sync&quot;/&gt;&lt;server name=&quot;SESSION_DRIVER&quot; value=&quot;array&quot;/&gt; TÃ i liá»‡u tham kháº£o: Testing: Getting Started Demo project","link":"/2020/01/25/Unit-test-PHP-Testing-Interview-2/"},{"title":"[Web Server] Apache Notes","text":"BÃ i viáº¿t tá»•ng há»£p 1 vÃ i note giÃºp mÃ¬nh thao tÃ¡c Apache tá»‘t hÆ¡n vÃ o 1 ngÃ y tÃ¬m láº¡i Ä‘Æ°á»£c 2/3 Ä‘Ã´i dÃ©p bá»‹ tháº¥t láº¡c Tá»•ng quanDocs chÃ­nhhttps://httpd.apache.org/docs/2.4/ Apache2 quáº£n lÃ½ 3 thá»© quan trá»ng sites: quáº£n lÃ½ cÃ¡c Virtual Hosts conf: configuration mods: modules á»¨ng vá»›i cÃ¡c thÆ° má»¥c conf-available, mods-availble, sites-available. Äá»ƒ báº­t táº¯t cÃ¡c site, conf, mods sá»­ dá»¥ng lá»‡nh123$ sudo a2enconf/a2disconf [conf_name]$ sudo a2enmod/a2dismod [mod_name]$ sudo a2ensite/a2dissite [virtual_host_site] Server LogsLogs trong apache2 máº·c Ä‘á»‹nh Ä‘Æ°á»£c ghi táº¡i /var/log/apache2/access.log: By default, every request to your web server is recorded in this log file unless Apache is configured to do otherwise. /var/log/apache2/error.log: By default, all errors are recorded in this file. The LogLevel directive in the Apache configuration specifies how much detail the error logs will contain. Port configCÃ¡c cá»•ng trong apache2 Ä‘Æ°á»£c cáº¥u hÃ¬nh trong /etc/apache2/ports.conf. Máº·c Ä‘á»‹nh, chá»‰ cÃ³ 2 cá»•ng Ä‘Æ°á»£c má»Ÿ lÃ  80 (dÃ nh cho cÃ¡c dá»‹ch vá»¥ web http) váº§ 443 (https). Báº¡n cÃ³ thá»ƒ má»Ÿ thÃªm cá»•ng (cÃ¡i nÃ y dÃ¹ng khi báº¡n muá»‘n 1 domain triá»ƒn khai nhiá»u projects khÃ¡ hiá»‡u quáº£ - deploy lÃªn staging cháº³ng háº¡n) báº±ng cÃ¡ch dÃ¹ng thÃªm Listen12Listen 81Listen 82Sau Ä‘Ã³ báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng cá»•ng nÃ y trong Virtual host Ä‘Æ¡n giáº£n123456&lt;VirtualHost 10.0.0.1:81&gt; DocumentRoot &quot;/www/domain&quot;&lt;/VirtualHost&gt;&lt;VirtualHost 10.0.0.1:82&gt; DocumentRoot &quot;/www/other-domain&quot;&lt;/VirtualHost&gt; Má»™t vÃ i modules trong Apache2Táº¥t cáº£ cÃ¡c module trong Apache2 cÃ³ thá»ƒ tÃ¬m kiáº¿m táº¡i: https://httpd.apache.org/docs/2.4/mod/ Má»™t vÃ i modules hay sá»­ dá»¥ng:https://www.digitalocean.com/community/tutorials/how-to-install-configure-and-use-modules-in-the-apache-web-server Rewrite ModuleMá»™t trong nhá»¯ng modules há»¯u Ã­ch trong Apache. Module nÃ y cho phÃ©p báº¡n sinh ra url duy nháº¥t vÃ  dá»… dÃ ng cÃ³ thá»ƒ Ä‘á»c Ä‘Æ°á»£c vá»›i ná»™i dung request trÃªn serverModule nÃ y máº·c Ä‘á»‹nh Ä‘Æ°á»£c cÃ i trÃªn Ubuntu khi Apache Ä‘Æ°á»£c cÃ i Ä‘áº·t nhÆ°ng khÃ´ng Ä‘Æ°á»£c kÃ­ch hoáº¡t. Äá»ƒ báº­t nÃ³ báº¡n cáº§n12sudo a2enmod rewritesudo service apache2 reloadNáº¿u cháº¿ Ä‘á»™ nÃ y bá»‹ disale, khi truy cáº­p vÃ o URL tá»± sinh sáº½ gÃ¢y lá»—i 404 NgoÃ i ra cÃ³ 1 sá»‘ module Ä‘Æ°á»£c sá»­ dá»¥ng ráº¥t nhiá»u trong config cÅ©ng nÃªn quan tÃ¢m mod_authz_core: CÃ¡c tham sá»‘ liÃªn quan Ä‘áº¿n xÃ¡c thá»±c ngÆ°á»i dÃ¹ng (Require) mod_access_compat: Ä‘iá»u khiá»ƒn truy cáº­p cÃ¡c host nÃ o Ä‘Æ°á»£c truy cáº­p vÃ o server $apacha2ctl, $apachectl commandLá»‡nh nÃ y coi nhÆ° lÃ  font end cá»§a há»‡ thá»‘ng Apache HTTP Server. NÃ³ Ä‘Æ°á»£c thiáº¿t káº¿ Ä‘á»ƒ giÃºp quáº£n trá»‹ viÃªn kiá»ƒm soÃ¡t Ä‘Æ°á»£c cÃ¡c chá»©c nÄƒng cháº¡y ngáº§m cá»§a apache2 Kiá»ƒm tra cÃ¡c modules nÃ o Ä‘ang Ä‘ang báº­t trÃªn apache2123$ apache2ctl -t -D DUMP_MODULES OR $ apache2ctl -MXem cÃ¡c thÃ´ng sá»‘ server1$ apache2ctl -SCÃ³ cÃ¡c thÃ´ng tin vá» cÃ¡c host nÃ o, cá»•ng vÃ  cÃ¡c tÃªn host. NgoÃ i ra cÃ²n cÃ³ thÃ´ng tin vá» user vÃ  nhÃ³m user báº¡n cáº§n cáº¥p quyá»n Ä‘á»ƒ truy cáº­p vÃ o á»©ng dá»¥ng cá»§a báº¡n12User: name=&quot;www-data&quot; id=33Group: name=&quot;www-data&quot; id=33vÃ  quyáº¿t Ä‘á»‹nh cáº¥p quyá»n cho ngÆ°á»i dÃ¹ng web-server vÃ o thÆ° má»¥c cá»§a báº¡n12sudo chown www-data:www-data -R storagesudo chown www-data:www-data -R bootstrap/cache CÃ¡c tÃ¹y chá»n cá»§a apache2ctl command12345678910111213141516171819202122232425Usage: /usr/sbin/apache2 [-D name] [-d directory] [-f file] [-C &quot;directive&quot;] [-c &quot;directive&quot;] [-k start|restart|graceful|graceful-stop|stop] [-v] [-V] [-h] [-l] [-L] [-t] [-T] [-S] [-X]Options: -D name : define a name for use in &lt;IfDefine name&gt; directives -d directory : specify an alternate initial ServerRoot -f file : specify an alternate ServerConfigFile -C &quot;directive&quot; : process directive before reading config files -c &quot;directive&quot; : process directive after reading config files -e level : show startup errors of level (see LogLevel) -E file : log startup errors to file -v : show version number -V : show compile settings -h : list available command line options (this page) -l : list compiled in modules -L : list available configuration directives -t -D DUMP_VHOSTS : show parsed vhost settings -t -D DUMP_RUN_CFG : show parsed run settings -S : a synonym for -t -D DUMP_VHOSTS -D DUMP_RUN_CFG -t -D DUMP_MODULES : show all loaded modules -M : a synonym for -t -D DUMP_MODULES -t : run syntax check for config files -T : start without DocumentRoot(s) check -X : debug mode (only one worker, do not detach) Cáº¥u hÃ¬nh virtual hostOverview: https://httpd.apache.org/docs/2.4/vhosts/ CÃ¡c tham sá»‘ cÃ³ Ã½ nghÄ©a gÃ¬ thÃ¬ cÃ³ thá»ƒ tra á»Ÿ Ä‘Ã¢y:https://httpd.apache.org/docs/2.4/mod/core.html#directory ÄÃ¢y lÃ  má»™t file cáº¥u hÃ¬nh virtual host cÆ¡ báº£n, chÃºng ta cÃ¹ng tÃ¬m hiá»ƒu cÃ¡c tham sá»‘ vÃ  Ã½ nghÄ©a cá»§a nÃ³ nhÃ©:12345678910111213&lt;VirtualHost *:80&gt; ServerAdmin admin@laravel-demo.local DocumentRoot /var/www/html/laravel-demo/public ServerName laravel-demo.local ServerAlias www.laravel-demo.local &lt;Directory /var/www/html/laravel-demo/public&gt; AllowOverride All Order allow,deny Allow from all &lt;/Directory&gt; ErrorLog ${APACHE_LOG_DIR}/error.log CustomLog ${APACHE_LOG_DIR}/access.log combined&lt;/VirtualHost&gt; CÃ¡c tham sá»‘ cÆ¡ báº£nServerAdmin: Ä‘á»‹a chá»‰ emainl, cÃ¡i mÃ  server sáº½ dÃ¹ng khi gá»­i message lá»—i tá»›i client. ServerName and ServerAliasTrÆ°á»›c khi tÃ¬m hiá»ƒu 2 tham sá»‘ nÃ y cÃ³ Ã½ nghÄ©a gÃ¬, chÃºng ta hÃ£y xem cÃ¡ch mÃ  Apache xá»­ lÃ½ khi nháº­n 1 request vá»›i virtual host nhÃ©. Sáº½ cÃ³ 2 cÃ¡ch apache2 tÃ¬m kiáº¿m 1 host lÃ  dá»±a vÃ o Name-based or IP-based Virtual Hosts, vÃ  khi cáº¥u hÃ¬nh chÃºng ta cÅ©ng lÃ m nhÆ° váº­y. Name-based vs. IP-based Virtual Hosts IP-based virtual hosts sá»­ dá»¥ng Ä‘á»‹a chá»‰ IP Ä‘á»ƒ káº¿t ná»‘i vÃ  xÃ¡c Ä‘á»‹nh chÃ­nh xÃ¡c virtual host. Do Ä‘Ã³ báº¡n pháº£i chia IP cho má»—i host1234567&lt;VirtualHost 10.0.0.1:80&gt; DocumentRoot &quot;/www/domain&quot;&lt;/VirtualHost&gt;&lt;VirtualHost 10.0.0.2:80&gt; DocumentRoot &quot;/www/otherdomain&quot;&lt;/VirtualHost&gt; NhÆ° vÃ­ dá»¥ trÃªn báº¡n tháº¥y cÃ¡c host Ä‘ang Ä‘Æ°á»£c chia theo Ä‘á»‹a chá»‰ IP. Apache sáº½ duyá»‡t vÃ  virtual host nÃ o trÃ¹ng Ä‘á»‹a chá»‰ IP vÃ  cá»•ng thÃ¬ sáº½ tiáº¿n hÃ nh chá»n virtual host Ä‘Ã³ xá»­ lÃ½ request. Háº¡n cháº¿ cÃ¡ch nÃ y nhÆ° Ä‘Ã£ nÃ³i á»Ÿ trÃªn, má»—i host cáº§n cÃ³ 1 Ä‘á»‹a chá»‰ IP riÃªng Vá»›i name-based virtual hosting, server sáº½ dá»±a vÃ o phÃ­a client Ä‘á»ƒ bÃ¡o lÃªn hostname nhÆ° 1 pháº§n cá»§a HTTP headers. Sá»­ dá»¥ng ká»¹ thuáº­t nÃ y, ráº¥t nhiá»u hosts cÃ³ thá»ƒ dÃ¹ng chung Ä‘á»‹a chá»‰ IP Khi cÃ³ yÃªu cáº§u Ä‘áº¿n, mÃ¡y chá»§ sáº½ tÃ¬m tháº¥y Ä‘á»‘i sá»‘ &lt;Virtualhost&gt; phÃ¹ há»£p nháº¥t (cá»¥ thá»ƒ nháº¥t) dá»±a trÃªn Ä‘á»‹a chá»‰ IP vÃ  cá»•ng Ä‘Æ°á»£c sá»­ dá»¥ng bá»Ÿi yÃªu cáº§u. Náº¿u cÃ³ nhiá»u hÆ¡n má»™t mÃ¡y chá»§ áº£o chá»©a káº¿t há»£p cá»•ng vÃ  Ä‘á»‹a chá»‰ phÃ¹ há»£p nháº¥t nÃ y, Apache sáº½ so sÃ¡nh thÃªm cÃ¡c chá»‰ thá»‹ ServerName vÃ  ServerAlias vá»›i tÃªn mÃ¡y chá»§ cÃ³ trong yÃªu cáº§u. Trong trÆ°á»ng há»£p khÃ´ng gÃ¡n ServerName khi cÃ³ nhiá»u hosts sá»­ dá»¥ng chung Ä‘á»‹a chá»‰ IP vÃ  cá»•ng, server sáº½ gÃ¡n cho nÃ³ 1 tÃªn máº·c Ä‘á»‹nh. TÃªn nÃ y cÃ³ thá»ƒ dáº«n Ä‘áº¿n viá»‡c káº¿t há»£p vá»›i virtual host lá»—i, do Ä‘Ã³ khÃ´ng Ä‘Æ°á»£c khuyáº¿n khÃ­ch. Tá»‘t nháº¥t lÃ  báº¡n nÃªn tá»± Ä‘áº·t tÃªn ServerNam cho server cá»§a mÃ¬nh. Using Name-based Virtual Hosts VÃ­ dá»¥, báº¡n Ä‘ang cÃ³ server vá»›i domain www.example.com vÃ  báº¡n muá»‘n thÃªm 1 virtual host vá»›i other.example.com, vá»›i 2 hosts Ä‘á»u trá» tá»›i cÃ¹ng 1 Ä‘á»‹a chá»‰ IP.1234567891011&lt;VirtualHost *:80&gt; # This first-listed virtual host is also the default for *:80 ServerName www.example.com ServerAlias example.com DocumentRoot &quot;/www/domain&quot;&lt;/VirtualHost&gt;&lt;VirtualHost *:80&gt; ServerName other.example.com DocumentRoot &quot;/www/otherdomain&quot;&lt;/VirtualHost&gt;Má»—i servers muá»‘n cÃ³ thá»ƒ Ä‘Æ°á»£c truy cáº­p báº±ng nhiá»u tÃªn. Äiá»u Ä‘Ã³ hoÃ n toÃ n cÃ³ thá»ƒ vá»›i ServerAlias directive, Ä‘áº·t bÃªn trong &lt;VirtualHost&gt; section. VÃ­ dá»¥: trong khá»‘i &lt;Virtualhost&gt; Ä‘áº§u tiÃªn á»Ÿ trÃªn, chá»‰ thá»‹ ServerAlias chá»‰ ra ráº±ng cÃ¡c tÃªn Ä‘Æ°á»£c liá»‡t kÃª lÃ  cÃ¡c tÃªn khÃ¡c mÃ  má»i ngÆ°á»i cÃ³ thá»ƒ sá»­ dá»¥ng Ä‘á»ƒ xem cÃ¹ng má»™t trang web:1ServerAlias example.com *.example.comvÃ  sau Ä‘Ã³ request tá»« táº¥t cáº£ cÃ¡c host example.com domain sáº½ Ä‘Æ°á»£c xá»­ lÃ½ bá»Ÿi www.example.com virtual host. CÃ¡c kÃ½ tá»± Ä‘áº¡i diá»‡n * vÃ ? cÃ³ thá»ƒ Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ khá»›p tÃªn. CÃ¡c Name-based virtual hosts cho bá»™ &lt;Virtualhost&gt; phÃ¹ há»£p nháº¥t Ä‘Æ°á»£c xá»­ lÃ½ theo thá»© tá»± chÃºng xuáº¥t hiá»‡n trong cáº¥u hÃ¬nh. ServerName hoáº·c ServerAlias phÃ¹ há»£p Ä‘áº§u tiÃªn Ä‘Æ°á»£c sá»­ dá»¥ng, khÃ´ng cÃ³ quyá»n Æ°u tiÃªn khÃ¡c nhau cho cÃ¡c kÃ½ tá»± Ä‘áº¡i diá»‡n (cÅ©ng nhÆ° cho ServerName so vá»›i ServerAlias). CÃ¡c tham sá»‘ sub-directories123AllowOverride AllOrder allow,denyAllow from all CÃ¡c tham sá»‘ Allow, Deny, Order Ä‘á»u náº±m trong mod_access_compat, thÃªm Ä‘Ã³ cÃ²n cÃ³ tham sá»‘ Satisfy dÃ¹ng khi cÃ³ 1 sá»‘ vÃ¹ng cáº§n háº¡n cháº¿ ngÆ°á»i dÃ¹ng truy cáº­p AllowOverrideLoáº¡i Ä‘Æ°á»ng dáº«n cho phÃ©p .htaccess files (tráº£ lá»i cÃ¢u há»i: apache2 load file .htaccess á»Ÿ Ä‘Ã¢u?) CÃº phÃ¡p12345AllowOverride All|None|directive-type [directive-type] ...Vá»›i cÃ¡c giÃ¡ trá»‹ None: .htaccess file sáº½ bá»‹ ignore. Trong trÆ°á»ng há»£p nÃ y, server sáº½ tháº­m chÃ­ khÃ´ng Ä‘á»c Ä‘Æ°á»£c All: file.htaccess á»Ÿ Ä‘Ã¢u cÅ©ng Ä‘Æ°á»£c Allow fromTham sá»‘ nÃ y xÃ¡c Ä‘á»‹nh hosts nÃ o cÃ³ thá»ƒ truy cáº­p vÃ o khu vá»±c trÃªn server Deny fromÃ nghÄ©a ngÆ°á»£c láº¡i vá»›i allow (Allow vÃ  deny cÃ³ thá»ƒ láº¥y tá»« config) OrderSáº¯p xáº¿p Æ°u tiÃªn khi xá»­ lÃ½ request SatisfyMÃ´ táº£: tÃ­ch há»£p giá»¯a host-level access control vÃ  xÃ¡c thá»±c ngÆ°á»i dÃ¹ng CÃ¡c chÃ­nh sÃ¡ch vá» truy cáº­p náº¿u cáº£ Allow vÃ  Require Ä‘Æ°á»£c sá»­ dá»¥ng. Tham sá»‘ cÃ³ thá»ƒ lÃ  All hoáº·c Any. Tham sá»‘ nÃ y há»¯u Ã­ch náº¿u quyá»n truy cáº­p vÃ o 1 sá»‘ khu vá»±c cá»¥ thá»ƒ bá»‹ háº¡n cháº¿, cáº§n cÃ³ thÃ´ng tin xÃ¡c thá»±c Ä‘á»ƒ truy cáº­p cháº³ng háº¡n. VÃ­ dá»¥: náº¿u báº¡n muá»‘n cho phÃ©p má»i ngÆ°á»i trong máº¡ng cá»§a mÃ¬nh cÃ³ quyá»n truy cáº­p khÃ´ng háº¡n cháº¿ vÃ o má»™t pháº§n cá»§a trang web cá»§a báº¡n, nhÆ°ng yÃªu cáº§u nhá»¯ng ngÆ°á»i bÃªn ngoÃ i máº¡ng cá»§a báº¡n cung cáº¥p máº­t kháº©u, báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng má»™t cáº¥u hÃ¬nh tÆ°Æ¡ng tá»± nhÆ° sau:123Require valid-userAllow from 192.168.1Satisfy AnyTrÆ°á»ng há»£p khÃ¡c hay Ä‘Æ°á»£c sá»­ dá»¥ng hÆ¡n Satisfy directive Ä‘á»ƒ ná»›i thÃªm truy cáº­p cho 1 thÆ° má»¥c con12345678&lt;Directory &quot;/var/www/private&quot;&gt; Require valid-user&lt;/Directory&gt;&lt;Directory &quot;/var/www/private/public&quot;&gt; Allow from all Satisfy Any&lt;/Directory&gt;Trong vÃ­ dá»¥ trÃªn, sá»± xÃ¡c thá»±c cáº§n Ä‘Æ°á»£c thá»±c hiá»‡n khi truy cáº­p vÃ o Ä‘Æ°á»ng dáº«n /var/www/private nhÆ°ng láº¡i khÃ´ng cáº§n khi truy cáº­p vÃ o Ä‘Æ°á»ng dáº«n /var/www/private/public Ã kiáº¿n cÃ¡ nhÃ¢n vá» Require vÃ  Allow: Tham sá»‘ require thiÃªn vá» viá»‡c xÃ¡c thá»±c ngÆ°á»i dÃ¹ng Ä‘Æ°á»£c truy cáº­p vÃ o á»©ng dá»¥ng Tham sá»‘ Allow liÃªn quan Ä‘áº¿n hosts nÃ o vÃ  Ä‘á»‹a chá»‰ IP RequireXÃ¡c thá»±c, phÃ¢n quyá»n ngÆ°á»i dÃ¹ng. Chi tiáº¿t Tá»•ng káº¿t Apache quáº£n lÃ½ 3 thá»©: sites (virtual host), conf, modules apache2ctl, apachectl giÃºp thao tÃ¡c apache tá»‘t hÆ¡n nhá» tÆ°Æ¡ng tÃ¡c vá»›i cÃ¡c tiáº¿n trÃ¬nh ngáº§m cá»§a apache vÃ  hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng giao diá»‡n Khi cáº¥u hÃ¬nh virtual host cÃ³ thá»ƒ dÃ¹ng Name-based vs. IP-based Virtual Hosts. Vá»›i IP-based Virtual Hosts yÃªu cáº§u báº¡n cáº§n cÃ³ nhiá»u Ä‘á»‹a chá»‰ IP (khÃ´ng thÃ¬ báº­t nhiá»u host cÅ©ng Ä‘Æ°á»£c, mÃ´i trÆ°á»ng test hoáº·c staging cÃ³ thá»ƒ má»Ÿ nhiá»u host, khi lÃªn product chá»‰ má»Ÿ 80 má»›i lÃ  váº¥n Ä‘á»)Khi cáº¥u hÃ¬nh virtual host hÃ£y tham kháº£o cÃ¡c tham sá»‘ nhÆ° á»Ÿ trÃªn nhÃ© ServerName, ServerAlias, Required, Deny, Allow, Order :D","link":"/2019/11/21/Web-Server-Apache-Note/"},{"title":"Tá»± xÃ¢y dá»±ng image trong Docker","text":"83091c2cfa1f0c3be410cd7dd7d2979d964f32e03c21bc6a27d7b403a53772094a06f0993a210eced9a9a7c21f216a9d5f864c1b6fffb5ca5b5b28b183c50f125b5858be0819860a3816ec5be9a117ffe784892a343697efc9ce5da12c67141ce0bf3f4ba760f1aea590d0adec9c1c8ea72f06ad24a2d302f310e25320aa28acefaf7533f702ae7a44d6b0cff2fff8807b39f7f0636ae5ba1465f0113b0962782760b2ceb6417016273a4cea88698dc7c0b7eff09c7a6deae62adacdaffa26cdfb18fbaf5dd3ce2aa415b8402733ac24825b3291aafaeef61164c1e927a7ecc90ed16f6bf6d3a9b5719df7015a62018aa3061f529e6f9d271af1278f10bb20de7455743e466b8255b03186463f7ef8ca73a85f4c4c6277f9f03cee975fe7cf12e74f8bcefca00daf97f5190123011c4529d13bd3be659091ea99941e347ac852cf5053310bbfa00ebf36e544a185011ca65691c124f9802fd7a9b5a45da328adf38f734cdf88d11f615a25fba909cb7f3e410a18977eb47de3094ad4d86379c524b4cf5d9f6aecaa326ab2b4b17772adc742bc21bb122128b631fc15b746ee1b8c3f7d91c4f7b24446790d97bc027e4b884efc975b6a80f5dfaf52ae3bb88eff993570bd9305f6b41171d56eeffdc076759f03fdc5d31b7b2dffe3ed518d321c5303090548fecebe8104c4d9a6cf486d99965b3ae723c93dfe0b68beb468555cecfa392e3771ce0f64f21db9a071338bb8e207a53340a80be35d550f2dbf12c11c83230a6ffffa0330e8bd029730e849c6e459f539d3a2d0f27d98ff63e70755d2a633f09393e0ad23ec64a30d41943d47763c1cba1ba0c5b057948219a17ca4f2a6815f56457afac27b3a9378df577035051877fb64adc2c7e87e26ff2cf7b0a15c98c8d0440ca826d4e37a234ae871aeba0620988530e7a5b101b3a6d1838cc45a5ca9e26142b66b6fc23248086029af781554a4ce2f70583745259b137271d6b71e7fdadd663c34150ccbe34c17b74608ea3ce2a6dbff87723ae88e17d8e82ef3cba0539f33fea0c81252a3353bdc48f90ebf7ba741271c9d23ffad8898d6cf2a6a45d5cb5647caaf4ff4063cc767ef23dd71ad310ed7b96fcd2feb6e8659fe7343048d88940865bbd97d483583b451b926aba1eb2561009060044682883bffbb59bd65d43fb23fbe91f72bf42bb295d7fc82aef8137a15d1963fc516177c31ff5f77e4c6de3711442803d9d4faaa5119deb2b478d29794130be8ebd3968eea5cb15b67df15b451206c9522e4847c6effbf1f8a0082e61a6c3262a65b88827f9244c2139ec05c290f811b83b6f3bec44df12bc97bfd613ca365bad38f624206690c3fb303272fe8456dfce6457f601228310d9543eef2f9e1f25781312c0ca71849d40ba150b1add17b5e7c1aff794694f44674cda48ea66be46175a8cd66c98cc2346e3dfa240d29082133a37e9f37234b231976be9a88b4a55c32ea6ea7609e0fd21c6b5621e6a1ccd69de668d6da4d9bb707ec7d40b26e78a1c2f91cf7dc840a555cc9768051abe79fc45aa00b461cce6054425fdc494b092cd0265a69533912572201309e30a255a427854d0e0de2fb847035cea724194a536400f67c1ea44b830c778e389bc7d6fd03002e5da5585cda449e59ad374e37af91198e533d4833d00cc6195119666129fdcb9af57efe5921a4bbedfb4cfe3e2f123c4e8bb5836cf769d5dc43120e57283ba2babb83a2745f78b03119de8a11ecf552e0a1893e8880c57e5bbb0b0dbd61f6d7bc1875c6f25cd01429ec5d734e2b9532fbc5b5351bfb1e99096532b647ff743ddf916caefacaafc37c36fbe7c64faee95c283a4eb794339b2c120b3f1e2be20b74e753d89e5fecaa6fffc8a37057bed69ad3b79f713a58282369b71ed71ea6db07253ec8aceddf38ea3fa27ba83be28d979238f86497c327556abb77b488cd55eaca2528811679cfa40e98c4c962b0f0176464940456cfaa67398e3813cd8c2bf69990d8a77b184209ccad6219330728b6fd5dcebf7c0bfbbc726f0e6c17f327bcb1583b2fa760a8a010eef56b75e8ae64e0cb2e45882e699a1ed23d93032cf8f820eb3a22192eec136964570f92cd675bc91467d057544614f042d359647d3533a25e5934b67928133ce487bafdc3a5c32d1f9732dff3804ea750653752bdf90aced75466b9bc87601c1b6a9c15c90e881139ee1cc6db75b042bb78e3cca639daa4dd1d2674ca2650b1b7ef898b339356d0944ece0c412e94e86c43cb98406b4f879c0fe1c4f3a9ecfd9174a3fd2872babd94b0762bda5149c1f8635662a2d294381da2b8099a7bc4b40e8e2fb422374f3f934a05e1534d88731f4d845fa8846d136387e38f8110f9a8fee71d788042774c7a486e10f6f053c3526cb101291eae8ea755139597b492bcba50ce223f2ad8f75b7489c0918f7a13bf39ddd185dbcc559fe161bd8bb02465bea029724cf8109b2253c0c58948affd19e762943d45c06e238f2219dc8aec48525e13f87b1bf9f9d888ef16fd43e228e78a3f895305b04bbf94d2a6fda2094ca72507cc9db52891b2c370f61afd13a646aa7a3979254e45a2594a2db7b9ff8b7b3605aaa05ffed5c03dda605faa79c44e5f0a71fef4b79b342bdbb20ab8341c68cdac90bb86b64b293c82dbcfcaa12459ba82087fcca12530096449269f5ac52eb572a97bd4ed35169cb0dcf3ac7652da2b060937e5b89008e28dda99c3a9618beae1700d01f3a36585a88f687dcef95113f86be480cf1abe36c13466855614a8de2b9ba192b7d6ca55d6b56223b79b1516e62617076e85163ed3504390345f83b9e1cf3526476f1d9f0a1e4b74413206dc626655ba75af8b0f177646f78d3aee1c23720dfd10f656881bbd1bd16bfb9ac068117a744630fc30ee2ee4f131bbee07c10d3bbc1f432d6c7ed8d145d1a4a1cdb53dedfc9e26f10bfc97013c69bc4aa3199cdc11d8d20d7ce229f0e4f7d4e061c890b433b4917e08fcfac343f1b7bb46dfd67142a1b2faf07a8df9bbbc23b7a819e599385d9937f174b33ca64240ef0be852e728520c6af096b14458348c01e6f95a6dd88f22c5f386980fedaccc24bfbb37fd042b1f8ed4dbfc586061d50b4298fb42333b6d5aae852bb6e5d55e9b35682be822f4afbdac4595f564b3f5fc443e34d40c0ba4ed474f842b18bee2126660b249f02dcbc308bd94cf9ed50ce6d4454be242df0a32fcd8c6c851e3fd419b7838846955ea1dfe562dd149e7ba6bb8a27ff489730a910840c4f39dbb5ffb2095e8a931ec5f79707bf7dc093516e46987fb43689ec9aa7f3f7132a68719bab3b31c6497f49c6852bdd154df3666f0c3cd05960ccd6040f12020d6ef7f8c49ad833dcdb10d07613370e85f567ed7f5c4818ab15bc44147dd425c9847cd6ff5e45aeec5691e03d9540a8fd58330316a694130d9ee181cd6b1749798bea81e05b188d81778b0d3da9b5395c249fefc91efa12e5e2630b0447a4d2f6512e0db1a978d0e2103870b91243e747a511679a8f633ed77ff92f6b798f88a2692327497868d05edde03994a7427190c107303ef3fb1cb13003d6cfc5882e5cfaefa75df9a0abe0ec93c0ce5d5ff8cdcf9a20f342baf21e810844f517a8f2bd95b1bfd89aeb8941b1ffefb042983d1cb066bf2199535171d98362af7f1d50dbd66fc0558c0b1bf91df703b8c1dba47df2dc6604a694638e880e9fa46abf71832deb16e4674508cf182f6d79e44f885236f5faa572e1aa166dd62ad8747f12d9f61347f5bcf76079fdf57c38dc2ff4e3f45a51db418cf635f493e5d8f5508d32519c8d050f1c3fd9bd3eab51908b5661795139da12df0bc0a03fab6543bbf23f3baa759aaba8a3d3e9929ef1e92f541fe7fee19109a2b4f87d4a0ea23c0761ff1b41e1876451754ba99fd3d4eed9e15c412ff4340bd94c6eb125b05c31d3e133ca9b3676d68091672ad1a5ea88886b04ec4f94a9c8570049fe91652157d212ab8e3d3a4e19bb21856ba1b9686daae54009854da574e72da0570c9dc923abe0af00dee8a1b87267e80e1a4fb9d7fe174b3bf64315fcd478be8574eeb4a5f216be1a13961d699a5ec782b26eebd3a6584e92280a56c74ed85cbc3148fc166bdb5d6eaeb2e345e26bace94ac0a12fef4ed973a0d1bb57f1ce547fe1af852301ee0b6bab185aea128e99d677225d7276fd15147a58fddd68dacb5eed95eed3dba087e05144732f4b2134d47c0472fbbf63b1e4c00540462673db068608d45decc8fcc71ece8d0ab914a72687c1c7648531d8021b263d6adcac4389fca1f20b07ab6f00533c02ff26b857b59fbfdf0c81d3ee8818a6aaf0733f4bb0cad2ad1af1a2e15c9b68da77aa2c8c5140c1e3e14672fb793499aea8edfca2f4334015f751cf86112951d9b4d887f49892a256afbae2d6e0aab2367446acbda5282ee76e64f1880dd578fd85826259db1c7ef0aa1f4fca7f060f0f471ca9c719b14fd5504fde6e9d5e08f9ab4f48041ad36754b1343a59a89d46a1c32d990cffecbd34183509ccf4ccbd2fb119ab094965616cb10dbe553d04494eb2283adc3808495702a217be0f93f865287d0356360d365c8de2c70c1be8ecb3a080e20be6c0b7815a390e364754b234688575ef9332299ae6338360e2567dac45fbeeda38576524137bb02bd1e5760a83a5b1aef33ade59d77a6c069f4ea319d983b7795a69f3a20f9e7c3f371dd8c7db60e1f6475591a2420f6376fa98e581a60e39c3b547742c73e2dbb673d3d3a00a4ff79e8da6485fe0fd5e2a7a7a054073cbbd4660fc3d9f8a145584c3682eda86d4329352bd7f10cd75c4c365d85fcda6215fee8aa679a365097e1dc98cdbe0ad7fbe115e04cfc2e712c39fe1aceed52ca196e66d12eb6af3853c4e7223bd2728e3de0a56b221c0168f01d4bbb366f81050a47aba68d8f21b9cad0a61160c74cdd5a42d0e6934126781a7d6fbf5d3cb1933d2ba6fa322750881cec3e009ae95236f3d59a2610a67a5d7ebda17ba1daaa01a6d4a720d3f7309cc0556c234217e4ba478d1ddeae2b9ab370db40a7504f8683c52807ee8e86b9bbf8055fda0187200fd1bd14f44898f49b56674890d1358e732414966f4cd423f228c7c8e9e58434e93069e94f2512bf545ec175fe20cd2960db2cf5ec5550210cc4fcb59abd9b6543ef40dc52508e62e19bce113f2a2dca0ca6863cc997eda5132daee20c77c4ecffcc2596500d63cead37649eae7b599376a87ff1523133f995fe80ffd9b22db4b3cb5fe34c87f50b1375c8152bc44995c07e0ec658292cabc48710368e6dfc9485b2d5dde787da817aa0aaeb77f48948b8ecb9a804935d04bdaf755358fe7508595a22b0e6d419db6a05b9cac4a614b3af13e5efc9dac33b9c867813fa2ca7a3fed6ad82f95bdc03f9b83b05ac3f540ddcbdb3d20541ca4bb8178a26bb5d89882a9a57517772fe09b392cee93ea0a7d19695cfa85ebe9b80b30a93beab8c518fe157a0290d6f640d880a916e840be7b0a4fbf117fa4d9fcaf74e4ac73c49be1fa08952ef2f5b103181828682b2c27d0cc175765974efc9b1be50bbef2ee916a17931b000ba938c01af5a21c6cb4e8617b0a853da504f4c5a12054207557a0d4923c79dc6296fa53e5f7500ec9f3d7c3e073db025da8d8794ef3e1668378e2ba9eadcf3e6f55346c5b82d4e0e38921d4a17c720c529ad6fcaafed62857c3f00bd1bac645f22fad4bffd7f2d1407db25740dd1ce17d409a911a8b6fef8bbfc0ac2e46a5fcdd3dcd7a2d4bf22804600352ff393d2ad645213785f6a0f3a5b45f8fb53b46a16bbb18ab48a0153805a82f01926eac4617f613dc84978ea018dcafd80e7a71588d45fbd4bea06d0674c0bdf4089a521ffa5e5003bcf91ed2b26aae206a2272b68b232941f63ec2cb9c1b28fdfea1abcebef2ca8ec2b2c3a13ad019831093e802daaadaa3d4fcd47e8de2292585c15a29397480d4bf6210ea3b107fdcf155f8e4ce0b1d97aed224c4c99ca3e72b7a71795504c906bfbcc65594e8a698339b17327f777e922741586aef5e0576f81c19050b6b14f2c3039074527ac298ba58f2cf989345cb7224d4fb01c0c01a6c7db0b427e9066540b420c8bc1fc24f5807145f3f66c7a18250458ac74decd837c2194f239feb8f83559dbd8c69bf163b6b1a17b69c28017cd4d391320cc84ad23fc52a864f9b0b8cef94ff17c1d67847498da5388c0a78303af76f9132a6cfdbddd1cce4d76830546d5727b017a6f26a14628129bb87f367ca0c2225245dfeac4de7d1a616a9e4b1c9a3be358f72c4681f38017de670bad44523a973029a5fc7162ad5fd1c6ba52db4dd63ad9903e9ed0ceb92164c4f080ac5d1dc8227eb9c6652b7e714423c3a690869d9cc17431f965db83e9b6e78db02dda6c7a1c942be149056735816a8dd240586395f5cec9fb5008fa1a9733b7ed21219df3a06f7876f47e642adcb83081a80fc54615f31d29773381807cda1950628790ee5d754d8291e81e30c950c73113cbabd2f92eec9ae330b6df0bcc53910de09455c8765851379544a9a54188de28ee8d19ea82aff588cc4017f3422382ffa946568953aa11ead4e8230fdfd8c9f9691bb27bd6971e12db4e7d4fe9a73e1077371066779be6c565c988503ae909806d2d83558a0d360de98ed461a854d8bbb8ea32a0cfed960be2630c691cfc3c4491377a14acff3f7f303230acdcefa84fd45c5703c2a05c5c7ec6852c40968149b8332dfd54d4cce68009466dd85411956669c43db2edd89c30efcea7ede577cb5ec6516227fe2f16c6dfa7571eed30efe3e7dd67d8a81e8838f10059b48b112038a5102f9b4049f636885ec1df1b890b80911012835081999eae44365f10a2cfbe468b3c6e37af8919e309c69d299868b8eeae810a26b42b9b0248f00d8fc1173176916232a5fc6ef5fe7bd8256c64a30b3a018589a61ce48bc23a558237c0cb9b9f42e9da49bc77132b8e1129ba402dd564f17543c58d436f6453d9480c95cac00303aa13ecc65e319acaf0ed74e3859cbcdff534393689abf0c1f4e1de945f8bbd815297007d532f08d0f481bde73d6f392eb1a552a2e90029bc73459893dd28c53203038a4a146455055a1a3f38788b23977f1fd7d4327bb2b37781e13b55509f96acebc08aa045530b3d95a48109ae09be81b9693ff9926f055f7e6a3e9e8d15018fed77d20781f749f999f0c981f09072a5ca3a371629791f4bfbb6b9cb29754e6bf9d285e2907a15c00e5f74e8123b6ee584c627706396f76d95007d9d4089517928326c79e21125345ba14f35683dc94c219f67d080c98733335fc28c806f22e2c9e391c5491fcee08e90afb09abfec0f5128a81bccab162805fc6d8d3e352b3b9662b1431056d49c4bdc088ff9f5aa095eadc79370dcd1a3931a09cb812c666df7c3bd02abf184c76771fde24c5fbbee59d68e599aa4d9f21a2721d4581bc655981506d8be9a4e51bdcc038cf28b04a32b5411cb96625f80cede73019046904f9616d6a164dc3cd201e0e605dc90b4795b8621c468ea474b1a20d05fcf5258094c6ce4171fc3a12009e9204b2cb9ffc9a31d898857fc01aa171007b0c078bc66acb4bef02f3a47a0af9bcea2eccd35ec34f31c3efc4ac1c44cbe26957603b318fca160d3d892339c94b80886f9ed34e1d78c95f7662c4a5f16d1da12914750044b50295a05a70fd30e269e7f14f854e66b4f3ac3a1ec30ca33e19069859377b2cfcd48f566dd68573c9cc2e9e59ecec04f38c5327a9d7b72b4e5b54adf20859024619f239c07641fbd6a3b5776e5abf0bff9d07606870ea2d9d1c2748e4ab4c629fe1487c4f2b4337ac4dc349efa5cb326b199cd091205a8731c7ce739946fb9c534bd3fe8edcb43ace79e026852b0a2da50a6b10321d3586217b0ea131da5f8251f76b78163879673a63effed3f8aea104e9447187af3266f02a088b67d4d718b7cd66a1e06f38d69a2ff47cc544a16fc1562d4e838b5cf0244b8576599f72a3b1610e0f02f946983dece49e1ceafbc9f0cfaa467e429c0123bc22acbd70cc3900b8553d164ffe837a124f427b49bcee2cea3617ad5332dd442358f155c9c4b88f100df29408dfac5c7cb916bbb0045dd4bcdc4a588ef117e040b7889c84b20744565ad8e67e599d620062a00a1b357d9df56ff5242af6a7eb6733f774531d152300991ac96866cf648241abbc2d2ebc24db5bd483e676d04f7d3ce93e95ea67689fdb5e8b0ce86fb6195207f42cd4dbd999f57157fa2b5d348f2b4e34a6d07c9345873b701b732a0faa89a832581d4bb7c160a5b8a57dc8695ee04ba7e782ee5e0e72c14ce1a0c4185aa91391354ccdd11911389907471efe0b9f6942ac1d305ae799cb36595077c60a7a7d974ee572b90583297601d2abe37dbf07c2122db6a10e14a1b8ef9bedd721fc615a3172eb7f4270050cf8058d30e867e93da99ac49e57c772e24a908fe18ee216047d408a28a0a1d95729d7b94a7cef75e68025fdc1865452ab14f636955960ee175000b4b2e8c949d84eeee963c6a02af5c67a53e728a25450b0c10f34c69e8a53ffab2c97d4b72af0b60ff119ae799f6cf5a2133a3365e8e6f96a733fa9d4048e5b7dfeec384732c980394d0b74bc87947f13b1c0f12872a9a98769d27ca0aada175559dea35ba3bb5a0be725ac2f22ed053671f06dee55938b763f749fecc1b55bc4224618ee90446945f02f8dadc82af5768dc7a121677a399b25c9371656d9681675dfbc598538384be10f333daf29f5c0774ad83e79e28dcfe9b35fc3e8da81ed9fb5b1843ed8a072048b34293affbf3c7b02f3116af2fd8974cd30bf724a5a0a29c3c2de027804dd6071e4c0b869975dca9d7942ccd0599f382b2afe07729df9982c31ff6eb620a6456ca901e3ca89b32b614486e8c4a5da1045945a83efeb58b05bfcc44eb4ea4f17c1df7d0fb5fe036f98cef8ffe8fcc82b326ce40b098188e5d1ecf78f24465130604245c269edfae52f7facf658f69f56a66c9d8782a542dd8c0b115a716c6f7a9bb5eb9b58509639a938684059fa0cc186c96d6ab859d93236c3091f8b14e19c0d2e4b01df72eeaca27b54eb99331e6d3206ab93062d650cbb6c31a428af98256848dd684ce61a4322873840dfbea2270450b5344b45fb2644198c8ae54ed883de5f91113a102ad8f2982ad4123a9ccaf51ec3d9cea1c6f8bd893216077fd51d9b85d85938f908cdefb71c8247f95f21bb3f1d694dbe1653aff100b24492f4cabac4c9bd0dc3bd1372837bacac8b41d56b18e88555d1dad49686cca3e48a37fe7ca0e50bde93baa0da44352aab6fc202e4e9a683c5288ec3a5b2e2d2adf7ef29b87113e32eb2da0d4d67ca5458eac9f2ca9a18b3b0d8c9dd4ad7c30ffe2592027a6d3716bf79ff45696ba88706290eebb66eaab3e15b677360b7f24fc6271bace01c68b134a44c830548e87fa92c6fdf66cb276faeeb735368e5c0ad4f5c4aa3a6ac8f7242bf7e4e2b15525002155696fc1129f93a0415e7437ec5d6d187823c529de11620f09c57fc376bd1bbdd377931151ee3ef35436b01ff9c2800c2803671f98e6e8549ccc70bd2f9a3bf303c998f9426d8479193ccc255d28ea8d4545453a907c85ab2dd5c33880ce869dd6d67fd9040df742c7215ec71f2737f92163b1fbd9fe1527cd74450b0fcd4d84c169218f0db4ca0a11279b4ed2b2869e8c50d0d9a95f73136418c5fd8cdfea844fe482777cfd867a54a4721524207a4e7b25cd96ee5c2e9fb4b5b54223ac2854e059649ff841bc78895e0e4bc1c56c328b316dd3cc2ea5eac5f026e0f170ea8eefa099d4a774160d3348208ca90fc124d817528793060559983e13e9ff3321b89b3e37b4ab5001db29ff667c91167e75d1f23593c5a68f4938253813fcb44f0c2a152a82f6aea48f363e7498c89abba43809ebac418dd306a1acfbb7d264e74d107209a0759591219724f79dd7c3922aa0b0ac8e48ee9a87f2a7fae5ba7ca2c7041e64372f9dc5b992e866f77bc9f445f12e0780f73672f714835032d143b8d5332780271cc3de6654e1c6d2feb2621d5fafb37621f28c18fb388c0eb1eb246337c1085fe87d43bfa233f4eeec6efdfcd4a25c2ed8ab5970c02aeb5028f82ecb3a18ed790f027eb132f050c9011a55e69f543a0716c56ec97d041101eced554a833b36cd593d51df1151075e7fd219603f850c334bf6b4676d1cc51ae1b0828e5997f0f899b9ab177f5b3b317e5a4164d66b8dd0324b06505b1b086317aa5e2758e96d45ce64d794531ce72e484a7a93cb900e6f255c2a80f7d7d2cbc0f734d7efc69ec2162b51daef4044b18e94bc89b642cc5706d6b47786841a295ede0c6c3f62dc72b1b54af1cce6b58213b3e1fec4d0886d080e8fbd91930f5cd0db84bf45deff54a134db6af00459ed161f63fddb87ded1876599493a2d263eb4801693e557a8593bdd554ce66428455fbf146c940ca889a830a8d3b20a2e2dc6a7b3c3647645a9a05fb9c96114ffe99c4166efd919e8190fdaf6d83ec0e61ea6059bd642eb005d371fbd48752556f3f508b82c62333ec6412373131b7d4380b3324db0117896aae51988d97147fe3afb9d891feb8c5c4ff30baaaf17675bdb48e5c0d515a58b3b8d84daa35dab502f8d37d6c6eed959cbf23f625902ce64862e8f5cdf35d32efdb8323f51ac61c83a5febe7da7db1e4324e85d9041a0a441bb033634b54f413569fa1625fec65ea10d7e5ae748d0090785b79c60fa478e1951bf96a0e0ebfa8046113affb395c8d6ec235a5a697d23f9598f440c168838607fa3a985fa8e21218ccfa46a4cdbf36c8a67738d3b763d6e9585cbefb567573023094e91a97a94a2a8e953da7a6496bd89422437e4eb2f85f11609649bd64c1a48f28a36cbc3e4233a319d4bc304a895038219f084d4ffd53c594f131b00b16e2de98ab6da8ac2e932cfce2fcfbbf8dc8fd52a977a0ac8287de604e32013ff9cdf8cab11fab72760ad46b792ec06bcd5bec2171e7d129bfb8d695ab11b04798d798dcc6a7b6a9e633b80cd5931f52e7d1ce738dbeced4946faca333c7d6e00b5044ffa0a2af5b2a168390adbb07e85fa9933ecaa7dade95b3785ce3994076ee135b8fb6f959268229b2c1187fff451daa899874118a2da19ae3cd71bb2b7ea9661d6acd9e2d77f80d84ac47e27eadd8903a6e4358da43777642281e5e95c0fc05afc7f61556ef835a82a23acc9df9d9ed2272be5e5da3a7c305865b4f7f6ceef2895096484301483f7dcf022d3df01fee3bee80ef4fd39f493f8b31ef194ed5b1def71cbe06efdc73c3ecd5ffb54675cd0561f8d1af3dbac1d5e65e58dd490a0c2889a235f5c4332c7c8b90931394ddfd5a5cc83fc19542e4c08422b1e905eb670fa888d1425f38588dea5f693811109aa051e56a4b42dbc001aec6ab3a672e7ecdbb614ef8e68b64ef05328f95a215626fa391078ecf10024d111bd4b7e187bf1caff8748ae26a6fde39103b3e713812728239b586c623d5ccfc4cbea3e5085bf9bc65184a7366e202380821b314b754cc10cd84a58d1ae36183f648bf983f94310a2f1f54eb8b3da4ecd8cce0e06edda644f86838933c99fd8af670e1ccbe248337f6b82cecc5d49661f46baf2540aef256d4764649c18ef39d189e18dc63774f3b38dd81800f0e7d12bc22799cf029ef0a8ab15d551e8a5478b2b6721170d1946dbd04c7643d35a7cd67a1a795eb51b94dab92632d52ca50926e3f836c0b21605c958d4b7f0bae9998d4777e66f429c37fd449310061da16842f08d723976a083e3c71d4cac437e36ae729543d2e0b412d01e12b2c7140484aa521fd57964f25d8a8ce973bb894c7647c6bc3f274b006c9ff29ddd90cb4138354796020bf8cbbbfc63174efc1a978f7db1cc83ae293ce716c4d602f244fe572e99a6112ec54dab347475dc5e9b23a79c328db741ede5fb972d9158df9aef9dd80caf6969fd4e7b60c776f433fe4caa845859584859f130f9cb5bf866d672e47ebe0c74e92f04a831db3aa5c817de79c7be7e7b605a1ce43100ada60d37e31995d0425d4c77609fcb41b3744d0555ef7255601cb8c2cfa7c82b8ec2adc34f7587d60c9b2073be4c3eaef1a97671efa5ff7d3df17d0b1df9239ecf79737333a3a150760f65aaaba8656c7317794587708be6e19fd112b69d0788484b35263aab32420a8e9d943fbd4a9d618f579e52a7ff91ec13685088e3d0a3f25ce80d87afd9a2bd755d7442e47646208c8fb2c4be204cde71e083bf9a0b5efa1d557b1dec68302a1ed6c1386037ea68c265f6a812db002be768c6ab8de9a95b57cb90243fa4004b19a466fa5c58936352669cfab2dd294b1e5288407c43ea399c276e65b9f21fc37f23a476655658a9b79d6d50c7b5c8c93795fa6150223530ed0a50726679deef57a8065169ea0c7dbf2c166a9f9d6fae9e4127b39db621f498b74ed558a4c8719e900048ec40a41688b621c19a9f0cb6ef7f35b6b4028159ad7cd17795954d8349043c4bcfde5d4c1134881cb0c90ded728d8fb066e9ba104f030929364006cd391e373141e6f2f4ccbae67a38f2c134b0f0a0a3acf12c1712aecce909d278ecc53e2cadbf18ed50932e591974a08989f9d68e0f9d11389a79253ac1cf5b618e45a36c68f5717b72e3f3437ec059c686aaf94d7b94c52a7a1dbcb533a161e42d9b0df407d955f09cd5d8dec8ac5915c17ab44187e84bcc38855c852b510a1fc611b8954e82b2b543394d06ab9b1533639654cd05e71931e3f12e799f9e28dac2e4141ec8db6e2173a8fb69501150e853002442a5a44d7ba06aea80885f721b77a28688cc7f9f2c9cb27959cefac6d144b748853e45c26509e86218cbffecdd75aabbb23d2fae79436cf23c1aa253ea15aa7fa6b30f7771cdfaa85bbfa8219d52d4ed57a3dcfe85a423ee855451064bdab8df5005a5c57965027907282c5c6522aaede168d2529b144ef24d0e00857a3acc5ae43e1725db8938a7109d25865418a8ab24b06e0264917c894b64efa1ccc71786c819d45e971432add8c8c962bb69bf69ec7e61174c2bd95480ec83776d5729213193160155258ffb844d216a752a82b7a7f41ffeaf9e59df89c33fd1f2506f674aa20352109480c51550ef68c60dab2174aa2f6c9720863be502f6292f9320669b6e68318a3b2f11a9657f8d8ba8ab896b5b5aba5c985e297eb288d6412cfe8c4cf6e78db9d6b3dd00761b46042c889b56b86448949f17727ab36cc3497948835880b3fb88f2f20631070d57827d6c4f57b109776d94acc339d5afe8c57edbfd8a0c73b743f51419b75515801c19679588b3dc3a644e51ea85b4add79ac94ac81ae48effbf946433993c4184873f6fbdebce14361cb704916fc7690c634c4b77cf5de56a37ebd2e37ad8b9749440f398e9db20ef77469adaa42d17e68376e5d2c4d02677e5f908d9692bd047be98bd97fa66bd920fb47921aee158d933163df42ff385e7205d8be1bf8ba83b7a8b104ba5ad1f5495094215eade940e7df5b58a645113db5c5e1d9ba569abf54348753a500cae13e061985ab599c63cda994633ee0dd2a710ba99c35b8f12242f76fe1d566928ad8abba8c0853e7d4938234e7ef0ddc23ad7695cd78fe4740865813c1a026c83f4838b0a6ec7fb158466a20c42bb398cb787b94b8a633d644b30e7b6da8f60c9ae17948117799631c880a9807345ff47833b6a1e676e815a63f605290d683f9ef28635c4b2fc003f548476b59607cbd632e20c82aa103d5475881556662b96e31d8194880439d7de0629a83ae6493c0d08be61f0dafd5b4a747aea4b0efaabf4d69ad75d010257ed6d88ae5816916c502fa53394ca1796abc5b1c5bad9780fbf43dd00a1915b80af8645d95f2ba0fd88180aba223f59fd5ce4b157c4012d7dfa7dbd8994927a427cce97876480f7d624458a2965d6930deb0f4cebfe7ddd2a17f15a906429b0ba1ad0afb50c765ad67f272b240e9d4ac0db19724e82eb7ed41d6af88b7b5cc36d42f3866c50ba817abf36894250619aacd793950c7429429d05ef6210387ede68e6ef97ac816337efad31a5c656bc3e3e7e744670098edca93abbbdc40ccb2f08e15bcdf304add2c1a3168302ce7e471c9d83f32febe6ea763bab95aac35464ece37a504980bb3f5f33155de462b9a7bb9345557b177ddefa178350f007edff9416bb60b599feb4924dab0177c6e63faf6d9c38125b175e7f5f9e892027fd89e89ffbbbe874c9cb92693e8a2596217efb5b2467706209667237a6280c18d451742987fc47f7fa04f93d2244af30752debb0ec0e2bb88497c5a80e5b03b7a8b8ea90cbf9c6c2c4681ed5081e8cac57c6926baa281f59070ba724864c55ee2e9e8a9fb56e864c0105cc55c506b49329161ecaf24faec30b945f5bbbd18f4e5e867c9d0b80ffb6c4b68b941cdd6a07705d5a6d716edf7f2b636e5eafcf5d273d2e87b0fd08e792fc47e3ad2fff167f78ec30d6be5642cdb23f1fa467b77abd33b8b5c5062547f90c3b7e837c56466346eba2af7a7db5f027bbe63893c7fc64fa67355a701bb9e3c093e089ea35f7c53161d5750eac3141aed8c7c8b4acea4775f81b122861c0ecdc67e4936f1ae5438a4f7da68b228c362ba7485ce8a6795375c693ff4e0113917fe688a1933fd352efbd0664eb16d0736a526fcfae60efcc4ae0ae080686995a9c0d00d048b4be40a6f0ebeff6ad19a7564efe98e6b37ee619b8c5e9e00662416b09dd621c99ffa9c02d72ea440b186efa24dfe37ecdb15535ad4efe0e0e749e6a5c31f1a5dfd7ee403d8496ab2ae76383b74dc72b80ecf5e3b30a87057a02572ca86d5c0d32d704e48b2af722ed307049be4d9b4f77a4683af28fee536ccd423de2e75f6419310482215b8b58e52f724e0ffbac8dd4e1a6e7f8ab52616305f8ce1328d263445e69fe38dcb46cfad3d1aaedda83c62dc3098c90111c02f00ccd81983a0d6a4885bc0f6d1ea29e31cc5bdf9f7063b74dba41bd4e61c582e66220b64497fd5a39ae1e42ba82ed787b018cd2a09085410a3e8079a61b84a6c375584094bf4fe490bc74a70f4a55626a9b54267d9ef52cc4504ccc1a28117cc50be25e6eec2715fd13ded7ca96f2317b6831063a873cfece1b58dca23b6e12dc106c05d75dd238d57bf0a0632182d265cac3de17f8b551a94e2a00a3393656e1d8d962164366e8a0836c0b787920eec444bd95c0c7499f79500a9db319f8931a3edb1eac19971197cbfa8aafe1edd601a35824ffc1ee3714baad399ed67247d6972f1ae913bef80ec916919688c6581d7f7bdf5837afed158c36ecc06df403603c899c9355fffec5562fa28ba99e0efe1464ffc823fd727ea266622d1f539819219332cda2764ff49f1b4e6350863cfef547d346d1a60b4212a306f2aac25eccabed20279992fc9e8ccda1d42c4f5ab44c6becf52cbfa9ac57955861ce8769ea6a799a120a9a64095176eaecd587a0ed6650d2a53a5611e6bebf5f81b47f0853896383376a833e45e805f6c2fd9da803ace86b43d3d72b070047826fc1444578995941b69b3b0fb7e3c6cfca58de2db0d36dbda794dc91979a7543912290b846c23e1c0024eeeac94674ed4af3f03a537ec44b6f133a933142a0a096f5edcfe26efe254b1782647bbf31b54617b85bd2804d1bd1f5438d944077b5f0d9751d3c1caca7b0b2c803bcf0429a13937419bf04a4a4d93ff76959d421b711cddbb3a1d6d8d030bb9e05f95c348cdd0f16d960a4210fa12ec839e60a9e628889662b77e48b0195ad9412e33e54280fa24e3f622a973186277f653371910eb45307c92f2c9483dd9a95f0592041d9d0477ac07f3922be4c2621f95c87f077261a366d9ff7d54d75c472e807da0ff7750dc9f69b8f07845d5e3719ade7235dcadc54c78ad31e3e71038ee33dd06bcaaf724b43660d490e4db05d1624663d68edfc3ad54a7aa1a284dff6ce834e5e112672e4c600da64db3884e179f96aa06b583baefb710e40d4c2bd3734e530fb053c8ad745388c005aab190258f2731b51cb9a411d89f8ee41ecfaf9beefc426a53b5ad470a0f7acf8537c526a11ad1821984dab66db7e2143aed1966bfe01baded63a18a1736b361b73dc00852787c75299421d762b59192b89a15dff81276d0f068651d8c5e0426cd48adc98c975448d13dbcea8065904819ed5900e5432c80f0c7060ca916568324b1302aec6812f06eff017888ffdb8c3b95457588a7cc90c553df5569d551788c91d78a6598daed11c1448623e1653f63e63249ded743a35c2d93a04b5c5a76b4b7784a77f7724876f34a17c140894b56d757409393ab4a55a890b50883cce20fc9e167b52f7ec30875310c7ea1af548867bd6033c0ec0c0fe0cffb3ce4d7f1ed27bd14bcdcb267065074c6a38b4b7b7e9bbe4599f1ef1f6b68635de7eeead3bb2016761ca5ebcbcc0c6cf4ce5a0b251a05552338b81ac2c2a172b8de4dbce3a7f72c4c68f64c1ab91f990cd3c2ae343c59244240337774be622e23127bf7e9e2866ec9ebb7e3a101426034d485ab6c38f7a840f4584d87d309977cd0fdfb79470dcd29112b03f37e8f009404a2281ae93dd5f20290c876f7e1bb819fb28be6d3100a1159326bf1c675282a7dcaf80d638cb90a88b3b93d47854177991f1af76c766d9e459aadf474795cd7924c7fe764801e320dd23ab2f1f3d945d1d0947666f75780de8ab127e53a9849df77b0f7342c65ebc5f4c8c5e7be5eac049f5558cf3adce5d0bc487b2a325d280d01b1875047dd5d9d3f0577b0fdcb42930a4319a0bd288c34cc709b3bf76b1975b5c5923cbf01ef11d1cc8f45fd1115ad4679481cab1693031be6a4e715b70eb617b9a7fa191a2a2599a89927281a35e3edecff41b731cc2de06dbd1db99492b95debc9c06f545d55a7eaec7e8dbb7b64c3d83b3391efdc48791c5a99b8d32e8f8f1f9bf8a9e9639d031eac0618c53cfbcfe88793b06f738544364bc05136c6a7ad332747d049437638c47a918f46970a4ec2899723edbe80bc5169ac71ffc5b67b47bdeab21a4984fd418c68e42ba2f0d3ced2a6fcc019598840f67627f4b032029f90ad2da96b7a0ed84f63d32b934ef68f55e3ad2d655680314906cc4b633a22652d12a26f087e0e2ea51c1b5e16e574104581adb27eceddcdbc9b9f5e3a583634e2b1112318feba521d8722ee911b33f89cb85f9366656057c01017d7e34afa7cae3453657fc3569d43ea2d6b8d0dda4b358bb2551e8265d3400f2d01b37ac5e196437e44293f62be7e72a9b7790eb1fe83ed3104b4ae5d2588ae264629be61caefc995bef78590c94bd1c4994ee18f08659e0cfbaa2011d796247cab3cf5a750929a3164b9990a4c79b300df52967596e1997b82c97ff512909be7afd568ab47cd0ca6c87b6873fa83e77ecb22620d3e7ab739f8e7bd5ebeab13aa682feecebdfb515faa5e0b859f48164f33bb67a8aad92552d0a3fccfc090329b387e14d0fc5f17e7620ce5989e6c0c2aa38438d22a893f2d788ffb24f520ae87441801305f4c68f725cacaf6bc1a638994b4dca85dbaa1c8b048f658c060c75834f845154f40e08fc5db7b2ceabc295940dacfb52a5408398e3cb8e18e08007f851d154631d34033836e781a3a3767fe36635a076908c2b9944c59d611973ef73bca9d85773ddfd4d6d828d3b416b5ba2bf4d63ad59ae26f84dc28a2668380b752694a2e2b600d41a141217eadcb4f5284f5e58eda78bdde3bd17862d453947b756a3c7db819c317d2f8765af93f06c23b3c0553555a284e77e78be129eb050ede37e146d90d55efc4b62615919d8ff03108c4e437f8f3e3c3b76a10bccd4b2a42def975bd6c2566cd4788b0faa8b260f20105defb701c3335dd610f3a635e98b2b5c019db003e2969a3cef5c7c61a122910a01a9beaa0cd9288a0b96472658dc16df80b686e55fc6e2928c35147731f83e6aeab873e1029019214da8609694bddbe498043f4bfc09e74e213571098893921887708132cf201d7361f49640af3d755c53685f8dd645339983aa2c6ac160debe01dcdc9fe6663989b8d2a150296681379c739735c86e02dfc7e96d8c325bd6d63ad68f30a69f178b2750592e56b2b8c0ad8cbb79055585d072a7827b857947b276c468ed977352eab51cbb6f6e6894f182c4a85cc912038128e1aadc437e170df2b62472b79fac86b232213632c7f72fb4424f3e1762dbb370811d7a1492c9c221fdfab7cd0862a8679f4c52b8b5295b8517094c8fdaf787bffc05336c0d1fc5301940e4fd321aaf0f575ee3e77f5c5cadb546f4f690979acb950a4a2cada886080f674fdcb9761aa35792ca9ff4c64d9a825ba6fdadc78476f78483c09b1899c108524a3c0d9f5aad4d6680c33d7ff7e2cee640b5681f8d9940d6c9be6b33f4215572af46a7e2476f318eb9500d66bd39f5360196e59946aa7e098e4415809e94194e05ed79c711aee28a89e6fc4269096d2f39a85b1a34691123a0095783c8c6a72203c838aa44cba4d0ea32656dd9c147ff95e16cc1a36e7e2c85c72e1e9ac1bbd1fd769906f54610a28786be95750862bb6d570b1f8d76c4b25e531627549e65cf392e18068f4687f5a984774b8e1b3c9468565f22b9328e53745e9fc08d5e06f3e664355348fd082c18f2efeb23287b745016924b88b9111ce5f2404535c94aaa497fc80c5b4284de773742c48d78668ad0f567475dbcc8f68cba39968695dd12f557581ac6bb9a012dedfeca1759c447e217ed2728036e53692ef3d18621052087c0e35afea7da388145644f181aeeb87595ec3baa43b75c188117b11d82c901328cf0a672b737d0abd18e9acf4c4bd4e7ae9d5c6cec6a3d2db6a9ef8b61abe2264fa9233a337e0142e3c0ceea64018a5ed249c81f586297519a4f293076ce95a377bd41597f7566e8ae22d97ef75b3429ac8c6f3738de5da59af20936bbd1e7d86e1c8bf76525cc23699b6ff79e83e87532cc5f19d6ae44a15e03b6a99cb08f6c7d7ee78f225bf62469575c0a591ede8afb228c220cb6e2ad4c8ee9eb26d8e508157bfea26ad0735c195310bd5179f8bd9ad4a7c8d3a3fffea8bb87795bd8deaefc04d17a87c94d57a1397efd28a799b6cb931b078ac2db0215aadd740e83b3c76b409071daa33afda6becef196c676b08b77da4042d4a6c45082df6e35e45e3cdd639688ce4741ac9173cfef24ff251a2955ff71d9554904421aa8ebf0156a85aedb4232777a10d0154c6c3c3f281d25e7e948388e49b1f06af6384194acd7f0b0c360f0c487636fbe1ab104f32cc2b88d720aa6ca1ae6a8368503c90214c6328112ac3ce6d78140fd9531bb294d8e6a273f43df46faf0df0f7b85ac5f4aafd83a940a5a4656806a38038915fd31f96e4ca7c1517dd5e7f7b86d86b5661ce8e88d239b6e8fada355ed58c8a288addad7270cc3443693a56f2f5 Hey, password is required here.","link":"/2020/01/18/Tu-xay-dung-image-trong-Docker/"},{"title":"Tracking execution time, memory usage php script","text":"ChÃºng ta cÃ¹ng xem 1 sá»‘ cÃ¡ch theo dÃµi thá»i gian thá»±c thi vÃ  bá»™ nhá»› sá»­ dá»¥ng trong PHP script nhÃ©! 1. Tracking the script execution timeÄá»ƒ Ä‘o thá»i gian thá»±c thi Ä‘oáº¡n mÃ£ PHP, báº¡n chá»‰ Ä‘Æ¡n giáº£n lÃ  Ä‘o thá»i gian thá»±c trÃªn há»‡ thá»‘ng trÆ°á»›c vÃ  sau khi thá»±c hiá»‡n Ä‘oáº¡n mÃ£ áº¥y. KhÃ¡ Ä‘Æ¡n giáº£n pháº£i khÃ´ng nÃ oHÃ m nÃ o Ä‘á»ƒ láº¥y thá»i gian thá»±c trÃªn há»‡ thá»‘ng váº­y. ÄÃ³ lÃ  hÃ m1microtime()Docs: https://www.w3schools.com/php/func_date_microtime.asp VÃ­ dá»¥:12345678910// place this before any script you want to calculate time$time_start = microtime(true); // sample scriptfor ($i = 0; $i &lt; 1000; $i++) { // do anything}$time_end = microtime(true);Log::info('Tracking excution time of loop: ' . $execution_time); 2. Tracking the memory usageÄá»ƒ thoi dáº½o lÆ°á»£ng bá»™ nhá»› PHP Ä‘Ã£ sá»­ dá»¥ng cho 1 Ä‘oáº¡n script, báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng hÃ m memory_get_usage() AND memory_get_peak_usage() memory_get_usage â€” Returns the amount of memory allocated to PHP memory_get_peak_usage â€” Returns the peak of memory allocated by PHP12345678910// place this before any script you want to calculate time$time_start = microtime(true); // sample scriptfor ($i = 0; $i &lt; 1000; $i++) { // do anything}$time_end = microtime(true);Log::info('Tracking memory usage of loop: ' .number_format(memory_get_usage())); TÃ i liá»‡u tham kháº£o: https://stackoverflow.com/questions/535020/tracking-the-script-execution-time-in-php https://www.php.net/manual/en/function.memory-get-usage.php","link":"/2019/12/30/Tracking-execution-time-memory-usage-php-script/"},{"title":"jQuery Validation Plugin","text":"Má»™t vÃ i notes láº¡i khi lÃ m viá»‡c vá»›i jQuery validation plugin nÃ o! Plugin methodsThÆ° viá»‡n nÃ y cung cáº¥p 3 phÆ°Æ¡ng thá»©c chÃ­nh, sá»­ dá»¥ng chá»§ yáº¿u Ä‘á»ƒ validate dá»¯ liá»‡u: ÄÃ¢y lÃ  pháº§n chÃ­nh cá»§a jQuery validation, chá»‰ cáº§n cÃ³ nÃ³ lÃ  cháº¡y Ä‘Æ°á»£c náº¿u báº¡n khÃ´ng muá»‘n custom gÃ¬, code máº«u Ä‘Æ¡n giáº£n sáº½ nhÆ° sau :D validate(): validate cÃ¡c trÆ°á»ng Ä‘Æ°á»£c chá»n trong form valid():â€“ Kiá»ƒm tra xem validate Ä‘Ã£ Ä‘Ãºng hay chÆ°a, káº¿t quáº£ tráº£ vá» true/false rules(): â€“ Äá»c, thÃªm vÃ  xÃ³a rules cho 1 element. 12345678910111213141516171819202122232425262728$(&quot;#myform&quot;).validate({ rules: { // simple rule, converted to {required:true} name: &quot;required&quot;, // compound rule email: { required: true, email: true } }, messages: { name: &quot;Please specify your name&quot;, email: { required: &quot;We need your email address to contact you&quot;, email: &quot;Your email address must be in the format of name@domain.com&quot; } }, highlight: function(element, errorClass, validClass) { $(element).addClass(errorClass).removeClass(validClass); $(element.form).find(&quot;label[for=&quot; + element.id + &quot;]&quot;) .addClass(errorClass); }, unhighlight: function(element, errorClass, validClass) { $(element).removeClass(errorClass).addClass(validClass); $(element.form).find(&quot;label[for=&quot; + element.id + &quot;]&quot;) .removeClass(errorClass); }}); CÃ¡c tham sá»‘ tÃ¹y chá»n trong phÆ°Æ¡ng thá»©c validate: rules: cÃ¡c rule á»©ng vá»›i tá»«ng trÆ°á»ng trong form messages: thÃ´ng bÃ¡o hiá»‡n lá»—i hightlight, unhighlight: tÃ¹y chá»‰nh highlight vá»›i cÃ¡c trÆ°á»ng lá»—i (thÃªm css hiá»ƒn thá»‹ lá»—i hay gÃ¬ Ä‘Ã³) Sau Ä‘Ã³ má»—i khi submit hoáº·c báº¥t cá»© khi nÃ o báº¡n muá»‘n validate dá»¯ liá»‡u, hÃ£y cháº¡y hÃ m valid() 123$('#my-button').click(function() { $(&quot;#myform&quot;).valid()}) ÄÃ³ lÃ  táº¥t cáº£ nhá»¯ng gÃ¬ báº¡n cáº§n Ä‘á»ƒ cháº¡y validation. Pháº§n sau chá»‰ lÃ  custom cÃ¡c rule vÃ  methods thÃ´i! ValidatorPhÆ°Æ¡ng thá»©c validate() á»Ÿ trÃªn tráº£ vá» cho báº¡n 1 Ä‘á»‘i tÆ°á»£ng Validator vÃ  cÃ³ nhá»¯ng phÆ°Æ¡ng thá»©c public báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng Ä‘á»ƒ tá»± validation hoáº·c thay Ä‘á»•i ná»™i dung form. CÃ¡c phÆ°Æ¡ng thá»©c sáº½ nhÆ° sau: Validator.form() â€“ Validates the form. BÃ¬nh thÆ°á»ng validate cháº¡y khi submit form, báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng phÆ°Æ¡ng thá»©u nÃ y Ä‘á»ƒ cháº¡y báº¥t cá»© khi nÃ o báº¡n muá»‘n hoáº·c kiá»ƒm tra validate. NÃ³ sáº½ tráº£ vá» true náº¿u pass validation vÃ  false náº¿u ngÆ°á»£c láº¡i 123// Giá»‘ng phÆ°Æ¡ng thá»©c valid() nhá»‰var validator = $( &quot;#myform&quot; ).validate();validator.form(); Validator.element() â€“ Validates a single element. 12var validator = $( &quot;#myform&quot; ).validate();validator.element( &quot;#myselect&quot; ) Validator.resetForm() â€“ Resets the controlled form. Validator.showErrors() â€“ Show the specified messages. 1234var validator = $( &quot;#myshowErrors&quot; ).validate();validator.showErrors({ &quot;firstname&quot;: &quot;I know that your firstname is Pete, Pete!&quot;}); Validator.numberOfInvalids() â€“ Returns the number of invalid fields. Validator.destroy() â€“ Destroys this instance of validator. CÃ¡c phÆ°Æ¡ng thá»©c tÄ©nh Ä‘á»ƒ táº¡o má»™t methods: addMethod(): cÃ¡i nÃ y cháº¯c lÃ  Ä‘Æ°á»£c dÃ¹ng nhiá»u nháº¥t - ThÃªm 1 custom validation method 123$.validator.addMethod(&quot;domain&quot;, function(value, element) { return this.optional(element) || /^http:\\/\\/mycorporatedomain.com/.test(value);}, &quot;Please specify the correct domain for your documents&quot;); setDefaults(): Ä‘á»‹nh nghÄ©a láº¡i cÃ¡c cÃ i Ä‘áº·t cho validation 123jQuery.validator.setDefaults({ debug: true}); format(): Thay tháº¿ hiá»ƒn thá»‹ (hiá»ƒn thá»‹ lá»—i cháº³ng háº¡n) List of built-in Validation methodsDanh sÃ¡ch cÃ¡c phÆ°Æ¡ng thá»©c validate, cÃ¡c rule báº¡n Ä‘á»c á»Ÿ trang chá»§ nhÃ© :D required â€“ Makes the element required. remote â€“ Requests a resource to check the element for validity. minlength â€“ Makes the element require a given minimum length. maxlength â€“ Makes the element require a given maximum length. rangelength â€“ Makes the element require a given value range. min â€“ Makes the element require a given minimum. max â€“ Makes the element require a given maximum. range â€“ Makes the element require a given value range. step â€“ Makes the element require a given step. email â€“ Makes the element require a valid email url â€“ Makes the element require a valid url date â€“ Makes the element require a date. dateISO â€“ Makes the element require an ISO date. number â€“ Makes the element require a decimal number. digits â€“ Makes the element require digits only. equalTo â€“ Requires the element to be the same as another one ÄÃ¢y khÃ´ng pháº£i lÃ  toÃ n bá»™ rule. NÃ³ cung cáº¥p thÃªm 1 file additional-methods.js cho phÃ©p báº¡n sá»­ dá»¥ng cÃ¡c tiá»‡n Ã­ch thÃªm cho validate (nhÆ° check extension cá»§a 1 file, kiá»ƒm tra sá»‘ Ä‘iá»‡n thoáº¡i â€¦) accept â€“ Makes a file upload accept only specified mime-types. creditcard â€“ Makes the element require a credit card number. extension â€“ Makes the element require a certain file extension. phoneUS â€“ Validate for valid US phone number. require_from_group â€“ Ensures a given number of fields in a group are complete.â€¦. ChÆ°a háº¿t nhÃ©, báº¡n cÃ³ thá»ƒ tÃ¬m kiáº¿m táº¥t cáº£ cÃ¡c phÆ°Æ¡ng thá»©c thÃªm táº¡i Ä‘Ã¢y:You can find the source code for all additional methods in the GitHub repository. VÃ  báº¡n cÅ©ng cÃ³ thá»ƒ custom láº¡i cÃ¡c phÆ°Æ¡ng thá»©c validate Ä‘Ã£ cÃ³ sáºµn theo Ã½ mÃ¬nh:It is possible to re-define the implementation of the built-in rules using the $.validator.methods property Tá»•ng káº¿t jQuery validation khÃ¡ Ä‘Æ¡n giáº£n, chá»‰ cáº§n phÆ°Æ¡ng thá»©c validate() cho form ThÆ° viá»‡n nÃ y cung cáº¥p cho báº¡n ráº¥t nhiá»u cÃ¡c phÆ°Æ¡ng thá»©c validate máº·c Ä‘á»‹nh. NgoÃ i ra, báº¡n import thÃªm file additional-methods.js Ä‘á»ƒ thÃªm cÃ¡c phÆ°Æ¡ng thá»©c tiá»‡n Ã­ch khÃ¡c cá»§a thÆ° viá»‡n nhÃ©, nhiá»u láº¯m @@. Báº¡n cáº§n validate vá»›i form nhÃ© (cÃ³ tháº» form), khÃ´ng form hÆ¡i khÃ³ Ä‘Ã³ (hiá»‡n táº¡i chÆ°a biáº¿t cÃ¡ch nÃ o)https://stackoverflow.com/questions/15231847/jquery-validation-without-form-tag It is absolutely required that you have tags for the jQuery Validate plugin to function properly, or at all. Náº¿u báº¡n cáº§n validate khi chÆ°a submit hay ajax Ä‘á»ƒ validate, hÃ£y sá»­ dá»¥ng phÆ°Æ¡ng thá»©c valid() 123$('#my-button').click(function() { $(&quot;#myform&quot;).valid()})","link":"/2020/01/09/jQuery-Validation-Plugin/"},{"title":"Visual Basic for Applications (VBA) Notes","text":"BÃ i viáº¿t táº­p trung tá»•ng há»£p láº¡i 1 sá»‘ thá»© tÃ¡c giáº£ há»c Ä‘Æ°á»£c khi lÃ m viá»‡c vá»›i Macro trÃªn MS-Excel VBA stands for Visual Basic for Applications, an event-driven programming language from Microsoft. It is now predominantly used with Microsoft Office applications such as MSExcel, MS-Word and MS-Access. This tutorial teaches the basics of VBA. Each of the sections contain related topics with simple and useful examples. Note: VBA chá»‰ dÃ¹ng cho MSExcel thÃ´i nhÃ©, nÃ³ sáº½ khÃ´ng hoáº¡t Ä‘á»™ng khi báº¡n má»Ÿ file báº±ng cÃ¡c trÃ¬nh chá»‰nh sá»­a vÄƒn báº£n khÃ¡c. 1. Báº­t macroBáº­t cháº¿ Ä‘á»™ DeveloperChá»n File =&gt; Option =&gt; Customize Ribbon vÃ  báº­t cháº¿ Ä‘á»™ Developer lÃªn :D Enable macroChá»n Developer =&gt; Macro Security vÃ  chá»n Enable marco lÃªn. Chi tiáº¿t báº¡n cÃ³ thá»ƒ xem táº¡i: https://www.tutorialspoint.com/vba/vba_excel_macros.htm 2. Hello world!Äá»ƒ táº¡o 1 marco, báº¡n chá»n Visual Basic, kÃ­ch Ä‘Ãºp vÃ o sheet Ä‘Ã³ vÃ  viáº¿t cÃ¡c Ä‘oáº¡n mÃ£ macro thÃ´i. Hoáº·c báº¡n cÅ©ng cÃ³ thá»ƒ nháº¥n vÃ o Macro vÃ  sau Ä‘Ã³ viáº¿t cÃ¡c Ä‘oáº¡n mÃ£ nhÆ° bÃ¬nh thÆ°á»ng. 123Private Sub say_helloworld() MsgBox &quot;Hello world! I am Minh&quot;End Sub Má»™t vÃ i biáº¿n globalKhi báº¡n select má»™t khoáº£ng cell, nÃ³ sáº½ Ä‘Æ°á»£c set vÃ o biáº¿n global Application.Selection vÃ  cÃ³ thá»ƒ truy cáº­p:123456789101112131415161718Sub Macro1()'' Macro1 Macro'' Range(&quot;E1:E8&quot;).Select 'Khi báº¡n select nÃ³ sáº½ lÆ°u giÃ¡ trá»‹ vÃ o biáº¿n global Application.Selection Ä‘á»ƒ foreach á»Ÿ phÃ­a dÆ°á»›i' Dim count As Integer Dim valueEColumns As String For Each cel In Application.Selection.Cells count = count + 1 valueEColumns = postId &amp; cel &amp; &quot;,&quot; Next cel MsgBox valueEColumnsEnd SubCÃ²n nhiá»u biáº¿n global, trong pháº¡m vi hiá»ƒu biáº¿t cá»§a tÃ¡c giáº£ thÃ¬ chá»‰ biáº¿t global nÃ y @@ 3. Debug and breakpointVBA cÃ³ há»— trá»£ breakpoint Ä‘á»ƒ debug. TrÆ°á»›c tiÃªn báº¡n cáº§n báº­t cá»­a sá»• lÃªn Ä‘á»ƒ xem cÃ¡c thÃ´ng tin debug. Cá»­a sá»‘ nÃ y trong VBA lÃ  Locals window. Báº¡n cÃ³ thá»ƒ báº­t nÃ³ á»Ÿ tÃ¹y chá»n View =&gt; Locals window. Má»™t cá»­a sá»• má»›i sáº½ xuáº¥t hiá»‡n dÆ°á»›i Ä‘oáº¡n code cá»§a báº¡n VÃ  khi debug chÃºng ta cÃ³ thá»ƒ Ä‘á»c Ä‘ang cÃ¡c biáº¿n tá»« breakpoint 4. Record macroÄÃ¢y lÃ  má»™t chá»©c nÄƒng há»¯u Ã­ch cá»§a macro cho ngÆ°á»i má»›i báº¯t Ä‘áº§u. CÃ¡c thao tÃ¡c báº¡n thá»±c hiá»‡n trong file excel sáº½ Ä‘Æ°á»£c ghi láº¡i lÃ  sinh ra Ä‘oáº¡n mÃ£ VBA tÆ°Æ¡ng á»©ng. Viá»‡c lÃ m tiáº¿p theo cá»§a báº¡n lÃ  Ä‘á»c hiá»ƒu Ä‘oáº¡n code nÃ y vÃ  customize láº¡i thÃ´i Thao tÃ¡c sáº½ nhÆ° sau BÆ°á»›c 1: Thá»±c hiá»‡n thao tÃ¡c macro Báº¡n áº¥n vÃ o Record macro. Sau Ä‘Ã³ thá»±c hiá»‡n cÃ¡c hÃ nh Ä‘á»™ng vá»›i file excel (tÃ­nh toÃ¡n tá»•ng cÃ¡c cá»™t, copy paste dá»¯ liá»‡u, lá»±a chá»n cá»™t â€¦) Sau khi Ä‘Ã£ thá»±c hiá»‡n sau chá»n Stop macro vÃ  nÃ³ sáº½ lÆ°u Ä‘oáº¡n mÃ£ macro Ä‘Ã³ cho báº¡n BÆ°á»›c 2: Xem macro Äá»ƒ xem Ä‘oáº¡n macro vá»«a sinh ra, báº¡n chá»n Macro. Chá»n tÃªn macro Ä‘Ã³ vÃ  chá»n Edit Xem Ä‘oáº¡n demo sau nha. 5. Cases studyBÃ i toÃ¡n 1: Láº¥y ra giÃ¡ trá»‹ sau khi lá»c dá»¯ liá»‡u.BÃ i toÃ¡n: Cho file excel vá»›i cá»™t A chá»©a id cá»§a há»c sinh cá»§a 1 lá»›p. BÃ i toÃ¡n Ä‘áº·t ra lÃ  sau khi filter dá»¯ liá»‡u (theo lá»›p, theo ngÃ y hoáº·c báº¥t cá»© Ä‘iá»u gÃ¬), hÃ£y hiá»ƒn thá»‹ ra 20 student_id Ä‘áº§u tiÃªn filter Ä‘Æ°á»£c. BÆ°á»›c 1: Sá»­ dá»¥ng Record macroNháº­n tháº¥y sau khi filter cÃ¡c thá»©, báº¡n chá»n copy cáº£ column Ä‘Ã³ thÃ¬ nÃ³ sáº½ chá»‰ láº¥y ra Ä‘Æ°á»£c cÃ¡c giÃ¡ trá»‹ Ä‘Ã£ Ä‘Æ°á»£c filter. Do Ä‘Ã³ ta sáº½ record hÃ nh Ä‘á»™ng copy cá»§a cáº£ column A nÃ y VÃ  Ä‘Ã¢y lÃ  Ä‘oáº¡n mÃ£ nÃ³ sinh ra:123456789Sub Macro1()'' Macro1 Macro'' Columns(&quot;A:A&quot;).Select Selection.CopyEnd SubOK ta chá»‰ táº­n dá»¥ng Ä‘Æ°á»£c 1 dÃ²ng nhá»‰ =)) BÆ°á»›c 2: Chá»‰nh sá»­a Ä‘oáº¡n code Record Ä‘Æ°á»£cNhÆ° Ä‘Ã£ nÃ³i á»Ÿ trÃªn, khi dÃ¹ng Select nÃ³ Ä‘Æ°á»£c lÆ°u giÃ¡ trá»‹ vÃ o global Application.Selection. Viá»‡c tiáº¿p theo lÃ  duyá»‡t Selection nÃ y nhá»‰.TÃ¬m kiáº¿m Google vá»›i cá»¥m tá»« â€œvba for each in selectionâ€ báº¡n sáº½ Ä‘Æ°á»£c hÆ°á»›ng dáº«n nhÆ° sau:1234567891011Dim postId As String Dim count As Integer Columns(&quot;B:B&quot;).Select For Each cel In Application.Selection.Cells count = count + 1 If count &gt; 20 Then Exit For postId = postId &amp; cel &amp; &quot;,&quot; Next cel MsgBox postIdNguá»“n: https://stackoverflow.com/questions/21526863/excel-vba-selected-cells-loop NhÆ°ng khoan Ä‘Ã£, cÃ³ gÃ¬ Ä‘Ã³ sai sai. Äoáº¡n mÃ£ nÃ y cÃ³ váº» láº¥y cáº£ cÃ¡c giÃ¡ trá»‹ trá»‘ng cá»§a 1 cell. NhÆ° váº­y ta pháº£i loáº¡i bá» cÃ¡c giÃ¡ trá»‹ trá»‘ng nÃ y ná»¯a. Tá»« khÃ³a mÃ¬nh tÃ¬m1&quot;vba get value not empty selection&quot;.VÃ  tá»« khÃ³a cao thá»§ hÆ¡n tÃ¬m:1&quot;vba select only visible cells&quot;Táº¥t nhiÃªn tá»« khÃ³a sau sáº½ ra káº¿t quáº£ phÃ¹ há»£p luÃ´n: https://excelribbon.tips.net/T008524_Selecting_Visible_Cells_in_a_Macro.html https://stackoverflow.com/questions/43065610/vba-selecting-visible-cells-after-filtering VÃ  Ä‘Ã¢y lÃ  Ä‘oáº¡n code cuá»‘i cÃ¹ng sau khi loáº¡i bá» cÃ¡c giÃ¡ trá»‹ trá»‘ng:123456789101112131415161718Sub Macro1()'' Macro1 Macro'' Dim postId As String Dim count As Integer Columns(&quot;B:B&quot;).Select For Each cel In Selection.SpecialCells(xlCellTypeConstants) count = count + 1 If count &gt; 20 Then Exit For postId = postId &amp; cel &amp; &quot;,&quot; Next cel MsgBox postIdEnd Sub BÃ i toÃ¡n 2: Macro chuyá»ƒn hÆ°á»›ng Ä‘áº¿n má»™t trang web cho trÆ°á»›c vá»›i trÃ¬nh duyá»‡t máº·c Ä‘á»‹nhVá»›i tá»« khÃ³a1&quot;vba redirect url with default browser&quot;vÃ  Ä‘Ã¢y lÃ  káº¿t quáº£ mÃ¬nh tÃ¬m Ä‘Æ°á»£c:https://stackoverflow.com/questions/3166265/open-an-html-page-in-default-browser-with-vba123Sub Redirect_New_URL() ThisWorkbook.FollowHyperlink (&quot;http://www.google.com&quot;)End Sub TÃ i liá»‡u tham kháº£oVBA Tutorial","link":"/2019/12/30/Visual-Basic-for-Applications-VBA-Notes/"},{"title":"[Web server] Proxy Server","text":"Proxy lÃ  má»™t Internet server lÃ m nhiá»‡m vá»¥ chuyá»ƒn tiáº¿p thÃ´ng tin vÃ  kiá»ƒm soÃ¡t táº¡o sá»± an toÃ n cho viá»‡c truy cáº­p Internet cá»§a cÃ¡c mÃ¡y khÃ¡ch, cÃ²n gá»i lÃ  khÃ¡ch hÃ ng sá»­ dá»¥ng dá»‹ch vá»¥ Internet. Tráº¡m cÃ i Ä‘áº·t proxy gá»i lÃ  proxy server. Proxy hay tráº¡m cÃ i Ä‘áº·t proxy cÃ³ Ä‘á»‹a chá»‰ IP vÃ  má»™t cá»•ng truy cáº­p cá»‘ Ä‘á»‹nh. VÃ­ dá»¥: 123.234.111.222:80. Äá»‹a chá»‰ IP cá»§a proxy trong vÃ­ dá»¥ lÃ  123.234.111.222 vÃ  cá»•ng truy cáº­p lÃ  80. Má»™t tÃ³m táº¯t khÃ¡c vá» Proxy dá»… tiáº¿p cáº­nNguyÃªn táº¯c hoáº¡t Ä‘á»™ng cÆ¡ báº£n cá»§a proxy Server lÃ  : Proxy server xÃ¡c Ä‘á»‹nh nhá»¯ng yÃªu cáº§u tá»« phÃ­a client vÃ  quyáº¿t Ä‘á»‹nh Ä‘Ã¡p á»©ng hay khÃ´ng Ä‘Ã¡p á»©ng, náº¿u yÃªu cáº§u Ä‘Æ°á»£c Ä‘Ã¡p á»©ng, proxy server sáº½ káº¿t ná»‘i tá»›i server tháº­t thay cho client vÃ  tiáº¿p tá»¥c chuyá»ƒn tiáº¿p Ä‘áº¿n nhá»¯ng yÃªu cáº§u tá»« client Ä‘áº¿n server, cÅ©ng nhÆ° Ä‘Ã¡p á»©ng nhá»¯ng yÃªu cáº§u cá»§a server Ä‘áº¿n client. Chá»©c nÄƒng cá»§a proxy GiÃºp nhiá»u mÃ¡y tÃ­nh cá»§a cÃ´ng ty truy cáº­p Internet thÃ´ng qua má»™t mÃ¡y tÃ­nh Ä‘áº¡i diá»‡n cÃ¹ng vá»›i tÃ i khoáº£n truy cáº­p nháº¥t Ä‘á»‹nh, Ä‘áº¡i diá»‡n mÃ¡y tÃ­nh nÃ y Ä‘Æ°á»£c gá»i lÃ  Proxy server. Chá»‰ duy nháº¥t mÃ¡y Proxy nÃ y cáº§n modem vÃ  account truy cáº­p Internet, cÃ¡c mÃ¡y client (cÃ¡c mÃ¡y trá»±c thuá»™c) muá»‘n truy cáº­p Internet qua mÃ¡y nÃ y chá»‰ cáº§n ná»‘i máº¡ng LAN tá»›i mÃ¡y Proxy vÃ  truy cáº­p Ä‘á»‹a chá»‰ yÃªu cáº§u. Nhá»¯ng yÃªu cáº§u cá»§a ngÆ°á»i sá»­ dá»¥ng sáº½ qua trung gian proxy server thay tháº¿ cho server tháº­t sá»± mÃ  ngÆ°á»i sá»­ dá»¥ng cáº§n giao tiáº¿p, táº¡i Ä‘iá»ƒm trung gian nÃ y cÃ´ng ty kiá»ƒm soÃ¡t Ä‘Æ°á»£c má»i giao tiáº¿p tá»« trong cÃ´ng ty ra ngoÃ i Internet vÃ  tá»« Internet vÃ o mÃ¡y cá»§a cÃ´ng ty Tiáº¿t kiá»‡m bÄƒng thÃ´ng vÃ  cáº£i thiá»‡n tá»‘c Ä‘á»™. Sá»­ dá»¥ng Proxy, cÃ´ng ty cÃ³ thá»ƒ cáº¥m nhÃ¢n viÃªn truy cáº­p nhá»¯ng Ä‘á»‹a chá»‰ web khÃ´ng cho phÃ©p, cáº£i thiá»‡n tá»‘c Ä‘á»™ truy cáº­p nhá» sá»± lÆ°u trá»¯ cá»¥c bá»™ cÃ¡c trang web trong bá»™ nhá»› cá»§a proxy server vÃ  giáº¥u Ä‘á»‹nh danh Ä‘á»‹a chá»‰ cá»§a máº¡ng ná»™i bá»™ gÃ¢y khÃ³ khÄƒn cho viá»‡c thÃ¢m nháº­p tá»« bÃªn ngoÃ i vÃ o cÃ¡c mÃ¡y cá»§a cÃ´ng ty. Proxy Server vÃ  Caching: CÃ¡c mÃ¡y chá»§ proxy cÃ³ thá»ƒ lÆ°u vÃ o bá»™ nhá»› cache (lÆ°u má»™t báº£n sao trang web cá»¥c bá»™) cÃ¡c trang web hay truy cáº­p. Äiá»u nÃ y giÃºp tiáº¿t kiá»‡m bÄƒng thÃ´ng cá»§a cÃ´ng ty vÃ  cáº£i thiá»‡n hiá»‡u suáº¥t máº¡ng. Bá»™ lá»c thÃ´ng tin. Äá»‘i vá»›i cÃ¡c nhÃ  cung cáº¥p dá»‹ch vá»¥ Ä‘Æ°á»ng truyá»n Internet: Do Internet cÃ³ nhiá»u lÆ°á»£ng thÃ´ng tin mÃ  theo quan Ä‘iá»ƒm cá»§a tá»«ng quá»‘c gia, tá»«ng chá»§ng tá»™c hay Ä‘á»‹a phÆ°Æ¡ng mÃ  cÃ¡c nhÃ  cung cáº¥p dá»‹ch vá»¥ Internet khu vá»±c Ä‘Ã³ sáº½ phá»‘i há»£p sá»­ dá»¥ng proxy vá»›i ká»¹ thuáº­t tÆ°á»ng lá»­a Ä‘á»ƒ táº¡o ra má»™t bá»™ lá»c gá»i lÃ  firewall proxy nháº±m ngÄƒn cháº·n cÃ¡c thÃ´ng tin Ä‘á»™c háº¡i hoáº·c trÃ¡i thuáº§n phong má»¹ tá»¥c Ä‘á»‘i vá»›i quá»‘c gia, chá»§ng tá»™c hay Ä‘á»‹a phÆ°Æ¡ng Ä‘Ã³. Äá»‹a chá»‰ cÃ¡c website mÃ  khÃ¡ch hÃ ng yÃªu cáº§u truy cáº­p sáº½ Ä‘Æ°á»£c lá»c táº¡i bá»™ lá»c nÃ y, náº¿u Ä‘á»‹a chá»‰ khÃ´ng bá»‹ cáº¥m thÃ¬ yÃªu cáº§u cá»§a khÃ¡ch hÃ ng tiáº¿p tá»¥c Ä‘Æ°á»£c gá»­i Ä‘i, tá»›i cÃ¡c DNS server cá»§a cÃ¡c nhÃ  cung cáº¥p dá»‹ch vá»¥. Firewall proxy sáº½ lá»c táº¥t cáº£ cÃ¡c thÃ´ng tin tá»« Internet gá»­i vÃ o mÃ¡y cá»§a khÃ¡ch hÃ ng vÃ  ngÆ°á»£c láº¡i. Ã nghÄ©a cá»§a proxy Proxy khÃ´ng chá»‰ cÃ³ giÃ¡ trá»‹ bá»Ÿi nÃ³ lÃ m Ä‘Æ°á»£c nhiá»‡m vá»¥ cá»§a má»™t bá»™ lá»c thÃ´ng tin, nÃ³ cÃ²n táº¡o ra Ä‘Æ°á»£c sá»± an toÃ n cho cÃ¡c khÃ¡ch hÃ ng cá»§a nÃ³, firewall Proxy ngÄƒn cháº·n hiá»‡u quáº£ sá»± xÃ¢m nháº­p cá»§a cÃ¡c Ä‘á»‘i tÆ°á»£ng khÃ´ng mong muá»‘n vÃ o mÃ¡y cá»§a khÃ¡ch hÃ ng. Proxy lÆ°u trá»¯ Ä‘Æ°á»£c cÃ¡c thÃ´ng tin mÃ  khÃ¡ch hÃ ng cáº§n trong bá»™ nhá»›, do Ä‘Ã³ lÃ m giáº£m thá»i gian truy tÃ¬m lÃ m cho viá»‡c sá»­ dá»¥ng bÄƒng thÃ´ng hiá»‡u quáº£. Proxy server giá»‘ng nhÆ° má»™t vá»‡ sÄ© báº£o vá»‡ khá»i nhá»¯ng ráº¯c rá»‘i trÃªn Internet. Má»™t Proxy server thÆ°á»ng náº±m bÃªn trong tÆ°á»ng lá»­a, giá»¯a trÃ¬nh duyá»‡t web vÃ  server tháº­t, lÃ m chá»©c nÄƒng táº¡m giá»¯ nhá»¯ng yÃªu cáº§u Internet cá»§a cÃ¡c mÃ¡y khÃ¡ch Ä‘á»ƒ chÃºng khÃ´ng giao tiáº¿p trá»±c tiáº¿p Internet. NgÆ°á»i dÃ¹ng sáº½ khÃ´ng truy cáº­p Ä‘Æ°á»£c nhá»¯ng trang web khÃ´ng cho phÃ©p (bá»‹ cáº¥m). Má»i yÃªu cáº§u cá»§a mÃ¡y khÃ¡ch pháº£i qua Proxy server, náº¿u Ä‘á»‹a chá»‰ IP cÃ³ trÃªn proxy, nghÄ©a lÃ  website nÃ y Ä‘Æ°á»£c lÆ°u trá»¯ cá»¥c bá»™, trang nÃ y sáº½ Ä‘Æ°á»£c truy cáº­p mÃ  khÃ´ng cáº§n pháº£i káº¿t ná»‘i Internet, náº¿u khÃ´ng cÃ³ trÃªn Proxy server vÃ  trang nÃ y khÃ´ng bá»‹ cáº¥m, yÃªu cáº§u sáº½ Ä‘Æ°á»£c chuyá»ƒn Ä‘áº¿n server tháº­t, DNS serverâ€¦ vÃ  ra Internet. Proxy server lÆ°u trá»¯ cá»¥c bá»™ cÃ¡c trang web thÆ°á»ng truy cáº­p nháº¥t trong bá»™ Ä‘á»‡m Ä‘á»ƒ giáº£m chi phÃ­ káº¿t ná»‘i, giÃºp tá»‘c Ä‘á»™ duyá»‡t web nhanh hÆ¡n. Proxy server báº£o vá»‡ máº¡ng ná»™i bá»™ khá»i bá»‹ xÃ¡c Ä‘á»‹nh bá»Ÿi bÃªn ngoÃ i báº±ng cÃ¡ch mang láº¡i cho máº¡ng hai Ä‘á»‹nh danh: má»™t cho ná»™i bá»™, má»™t cho bÃªn ngoÃ i. Äiá»u nÃ y táº¡o ra má»™t â€œbÃ­ danhâ€ Ä‘á»‘i vá»›i tháº¿ giá»›i bÃªn ngoÃ i vÃ  gÃ¢y khÃ³ khÄƒn Ä‘á»‘i vá»›i náº¿u ngÆ°á»i dÃ¹ng â€œtá»± tung tá»± tÃ¡câ€ hay cÃ¡c hacker muá»‘n xÃ¢m nháº­p trá»±c tiáº¿p mÃ¡y tÃ­nh nÃ o Ä‘Ã³. CÃ¡ch sá»­ dá»¥ng proxy hiá»‡u quáº£Do cÃ¡c proxy cÃ³ quy mÃ´ bá»™ nhá»› khÃ¡c nhau vÃ  sá»‘ lÆ°á»£ng ngÆ°á»i Ä‘ang sá»­ dá»¥ng proxy nhiá»u-Ã­t khÃ¡c nhau, Proxy server hoáº¡t Ä‘á»™ng quÃ¡ táº£i thÃ¬ tá»‘c Ä‘á»™ truy cáº­p Internet cá»§a khÃ¡ch hÃ ng cÃ³ thá»ƒ bá»‹ cháº­m. Máº·t khÃ¡c má»™t sá»‘ website khÃ¡ch hÃ ng cÃ³ Ä‘áº§y Ä‘á»§ Ä‘iá»u kiá»‡n nhÃ¢n thÃ¢n Ä‘á»ƒ Ä‘á»c, nghiÃªn cá»©u nhÆ°ng bá»‹ tÆ°á»ng lá»­a cháº·n khÃ´ng truy cáº­p Ä‘Æ°á»£c thÃ¬ biá»‡n phÃ¡p Ä‘á»•i proxy Ä‘á»ƒ truy cáº­p lÃ  Ä‘iá»u cáº§n thiáº¿t nháº±m Ä‘áº£m báº£o cÃ´ng viá»‡c. Do Ä‘Ã³ ngÆ°á»i sá»­ dá»¥ng cÃ³ thá»ƒ chá»n proxy server Ä‘á»ƒ sá»­ dá»¥ng cho riÃªng mÃ¬nh. CÃ³ cÃ¡c cÃ¡ch chá»n lá»±a cho ngÆ°á»i sá»­ dá»¥ng. Sá»­ dá»¥ng proxy máº·c Ä‘á»‹nh cá»§a nhÃ  cung cáº¥p dá»‹ch vá»¥ (Internet), trÆ°á»ng há»£p nÃ y ngÆ°á»i sá»­ dá»¥ng khÃ´ng cáº§n Ä‘iá»n Ä‘á»‹a chá»‰ IP cá»§a proxy vÃ o cá»­a sá»• Internet option cá»§a trÃ¬nh duyá»‡t trong mÃ¡y cá»§a mÃ¬nh. Sá»­ dá»¥ng proxy server khÃ¡c (pháº£i tráº£ phÃ­ hoáº·c miá»…n phÃ­) thÃ¬ pháº£i Ä‘iá»n Ä‘á»‹a chá»‰ IP cá»§a proxy server vÃ o cá»­a sá»• Internet option cá»§a trÃ¬nh duyá»‡t. PhÃ¢n loáº¡i ProxyCaching Proxy ServerCaching lÃ  báº£o quáº£n cÃ¡c yÃªu cáº§u (request) cá»§a client vá»›i sá»± giÃºp Ä‘á»¡ cÃ¹a cÃ¡c ná»™i dung Ä‘Ã£ Ä‘Æ°á»£c lÆ°u trá»¯ tá»« cÃ¡c yÃªu cáº§u trÆ°á»›c Ä‘Ã³ (previous request). KhÃ´ng cÃ³ sá»± liÃªn há»‡ theo danh nghÄ©a server Web Proxy Proxy nháº¯m Ä‘áº¿n má»¥c tiÃªu World Wide Web Ä‘Æ°á»£c gá»i lÃ  Web proxy Web proxy Server nhÆ° lÃ  web cache Anonymizing Proxy ServerAnonymizing Proxy Server cá»‘ gáº¯n Ä‘á»ƒ áº©n danh khi lÆ°á»›t web Hostile ProxyÄÆ°á»£c sá»­ dá»¥ng Ä‘á»ƒ nghe trá»™m trÃªn Ä‘Æ°á»ng truyá»n dá»¯ liá»‡u giá»¯a mÃ¡y client vÃ  web Intercepting Proxy Server NÃ³ lÃ  sá»± káº¿t há»£p proxy server vá»›i má»™t gateway ThÆ°á»ng Ä‘Æ°á»£c sá»­ dá»¥ng trong cÃ¡c doanh nghiá»‡p, cÃ¡c quáº£n trá»‹ muá»‘n Ã¡p Ä‘áº·t cÃ¡c chÃ­nh sÃ¡ch cá»§a policy lÃªn ngÆ°á»i dÃ¹ng Forced ProxyLÃ  sá»± káº¿t há»£p cÃ¡c chÃ­nh sÃ¡ch cá»§a intercepting vÃ  non-intercepting Open proxy serverNÃ³ lÃ  má»™t proxy cÃ³ thá»ƒ Ä‘Æ°á»£c sá»­ dá»¥ng bá»Ÿi báº¥t ká»³ ngÆ°á»i dÃ¹ng Internet Split Proxy ServerSplit proxy lÃ  má»™t proxy bá»• sung nhÆ° lÃ  2 chÆ°Æ¡ng trÃ¬nh Ä‘Æ°á»£c cÃ i Ä‘áº·t trÃªn 2 mÃ¡y tÃ­nh khÃ¡c nhau Reverse Proxy Server LÃ  má»™t proxy server Ä‘Æ°á»£c cÃ i Ä‘áº·t trÃªn cÃ¡c phÃ¢n vÃ¹ng cá»§a má»™t hoáº·c nhiá»u web server Má»™t reverse proxy cÃ³ thá»ƒ luÃ¢n chuyá»ƒn request cho nhiá»u server cÃ¹ng lÃºc. CircumventorCircumventor lÃ  má»™t phÆ°Æ¡ng phÃ¡p defeating bloking polices, Ä‘Æ°á»£c triá»ƒn khai thá»±c hiá»‡n báº±ng cÃ¡c proxy server. Háº§u háº¿t cÃ¡c circumventor cÅ©ng lÃ  cÃ¡c proxy server Transparent proxyTransparent proxy lÃ  má»™t proxy khÃ´ng sá»¯a Ä‘á»•i request hoáº·c response ngoÃ i nhá»¯ng gÃ¬ Ä‘Æ°á»£c yÃªu cáº§u cho proxy authentication vÃ  identification. NÃ³ lÃ m viá»‡c trÃªn port 80. Non Transparent Proxy Non-Transparent Proxy lÃ  má»™t proxy lÃ m thay Ä‘á»•i request hoáº·c response Ä‘á»ƒ cung cáº¥p thÃªm má»™t vÃ i dá»‹ch vá»¥ Ä‘áº¿n ngÆ°á»i dÃ¹ng Web request Ä‘Æ°á»£c gá»­i trá»±c tiáº¿p Ä‘áº¿n proxy server báº¥t ká»ƒ nÃ³ cÃ³ nguá»“n gá»‘c tá»« Ä‘Ã¢u. Socks Proxy Sock lÃ  má»™t chuáº©n IETF (Internet Engineering Task Force) NÃ³ giá»‘ng nhÆ° má»™t há»‡ thá»‘ng proxy cÃ³ há»— trá»£ cÃ¡c á»©ng dá»¥ng proxy aware CÃ¡c SOCK package bao gá»“m hoáº·c chá»©a cÃ¡c thÃ nh pháº§n sau: 1 SOCK server cho viá»‡c xÃ¡c Ä‘á»‹nh há»‡ Ä‘iá»u hÃ nh 1 chÆ°Æ¡ng trÃ¬nh client nhÆ° lÃ : FTP, telnet hoáº·c trÃ¬nh duyá»‡t 1 client thÆ° viá»‡n cho cÃ¡c SOCK CÃ¡c sock proxy server khÃ´ng cho phÃ©p cÃ¡c thÃ nh pháº§n bÃªn ngoÃ i thu tháº­p thÃ´ng tin cá»§a client Ä‘Ã£ táº¡o ra request Server Proxy miá»…n phÃ­ CÃ¡c cuá»™c táº¥n cÃ´ng sá»­ dá»¥ng hÃ ng ngÃ n proxy server trÃªn tháº¿ giá»›i nÃªn khÃ³ mÃ  trace Ä‘Æ°á»£c HÃ ng ngÃ n proxy server miá»…n phÃ­ cÃ³ sáºµn trÃªn Internet Search vá»›i tá»« khÃ³a â€œfree proxy serversâ€ trÃªn Google Má»™t vÃ i thá»© trong Ä‘Ã³ cÃ³ thá»ƒ lÃ  má»™t â€œhoneypotâ€ (táº¡m dá»‹ch lÃ  Máº¯t Ong) nháº±m báº¯t quáº£ tang cÃ¡c hacker Sá»­ dá»¥ng cÃ¡c proxy server cÃ³ thá»ƒ truy ra mask. Vá»›i kinh nghiá»‡m Ã­t á»i cá»§a mÃ¬nh, tÃ¡c giáº£ chá»‰ biáº¿t sá»­ dá»¥ng Reverse Proxy Server trong cÃ¡c cáº¥u hÃ¬nh Apache2 Äá»c thÃªm Quáº£n trá»‹ máº¡ng Viettelidc Wikipedia","link":"/2020/05/31/Web-server-Proxy-Server/"},{"title":"Chapter 11: One Task at a Time","text":"Code lÃ m ráº¥t nhiá»u thá»© 1 lÃºc ráº¥t khÃ³ hiá»ƒu. A khá»‘i Ä‘Æ¡n cá»§a code cÃ³ thá»ƒ khá»Ÿi táº¡o Ä‘á»‘i tÆ°á»£ng má»›i, lÃ m sáº¡ch dá»¯ liá»‡u, phÃ¢n tÃ­ch inputs vÃ  Ã¡p dá»¥ng logic, táº¥t cáº£ cÃ¹ng 1 lÃºc. Náº¿u táº¥t cáº£ code Ä‘an xem vá»›i nhau, nÃ³ sáº½ khÃ³ Ä‘á»ƒ hiá»ƒu hÆ¡n lÃ  má»—i â€œtaskâ€ Ä‘Æ°á»£c báº¯t Ä‘áº§u vÃ  tá»± hoÃ n thÃ nh. K E Y I D E ACode should be organized so that itâ€™s doing only one task at a time. NÃ³i cÃ¡ch khÃ¡c, chÆ°Æ¡ng nÃ y Ä‘á» cáº­p Ä‘áº¿n váº¥n Ä‘á» â€œphÃ¢n máº£nhâ€ code cá»§a báº¡n. Theo dÃµi biá»ƒu Ä‘á»“ bÃªn dÆ°á»›i Ä‘á»ƒ minh há»a quÃ¡ trÃ¬nh nÃ y: biá»ƒu Ä‘á»“ bÃªn trÃ¡i chá»‰ ra cÃ¡c Ä‘oáº¡n mÃ£ khÃ¡c nhau mÃ  1 pháº§n cá»§a code Ä‘ang lÃ m vÃ  Ä‘oáº¡n mÃ£ bÃªn pháº£i chá»‰ ra cÃ¡c Ä‘oáº¡n code giá»‘ng nhau sau khi nÃ³ Ä‘Æ°á»£c tá»• chá»©c lÃ m 1 task 1 lÃºc. Báº¡n cháº¯c háº³n Ä‘Ã£ nghe lá»i khuyÃªn â€œhÃ m chá»‰ nÃªn lÃ m 1 thá»©â€. Lá»i khuyÃªn cá»§a chung tÃ´i tÆ°Æ¡ng tá»± váº­y, nhÆ°ng nÃ³ khÃ´ng luÃ´n luÃ´n nÃ³i vá» ranh giá»›i cá»§a hÃ m. Cháº¯c cháº¯n, phÃ¡ vá»¡ cÃ¡c hÃ m lá»›n vÃ o nhiá»u hÃ m nhá» cÃ³ thá»ƒ tá»‘t. NhÆ°ng tháº­m chÃ­ náº¿u báº¡n khÃ´ng lÃ m váº­y, báº¡n cÃ³ thá»ƒ tá»• chá»©c code trong cÃ¡c hÃ m lá»›n Ä‘á»ƒ nÃ³ cáº£m tháº¥y cÃ³ cÃ¡c logic riÃªng biá»‡t cho tá»«ng pháº§n. ÄÃ¢y lÃ  quÃ¡ trÃ¬nh chÃºng ta sá»­ dá»¥ng Ä‘á»ƒ táº¡o â€œone task at a timeâ€: Liá»‡t kÃª ra táº¥t cáº£ cÃ¡c â€œtaskâ€ báº¡n cá»§a báº¡n Ä‘ang lÃ m. ChÃºng ta sá»­ dung tá»« â€œtaskâ€ ráº¥t lá»ng láº»o - no cÃ³ thá»ƒ nhá» nháº¥t cÃ³ thá»ƒ nhÆ° â€œÄ‘áº£m báº£o object nÃ y lÃ  há»£p lá»‡â€ hoáº·c mÆ¡ há»“ nhÆ° â€œthá»±c hiá»‡n vÃ²ng láº·p qua má»—i node cá»§a cÃ¢yâ€. Thá»­ tÃ¡ch cÃ¡c task nÃ y nhiá»u nháº¥t báº¡n cÃ³ thá»ƒ Ä‘Æ°a vÃ o trong cÃ¡c hÃ m khÃ¡c nhau hoáº·c Ã­t nháº¥t lÃ  trong cÃ¡c pháº§n mÃ£ khÃ¡c nhau. Trong chÆ°Æ¡ng nÃ y, chÃºng tÃ´i sáº½ chá»‰ cho báº¡n 1 sá»‘ vÃ­ dá»¥ Ä‘á»ƒ lÃ m viá»‡c nÃ y Tasks Can Be SmallGiáº£ Ä‘á»‹nh báº¡n Ä‘ang cÃ³ 1 pháº§n voting cho 1 blog, ngÆ°á»i dÃ¹ng cÃ³ thá»ƒ â€œUpâ€ hoáº·c â€œDownâ€. CÃ¡c Ä‘iá»ƒm sáº½ Ä‘Æ°á»£c tÃ­nh lÃ  má»—i vote â€œUpâ€ thÃ¬ +1 vÃ  má»—i â€œDownâ€ thÃ¬ -1. CÃ³ 1 tráº¡ng thÃ¡i ngÆ°á»i dÃ¹ng cÃ³ thá»ƒ vote nhÆ° hÃ¬nh sau áº£nh hÆ°á»Ÿng Ä‘áº¿n Ä‘iá»ƒm cá»§a báº¡n Khi ngÆ°á»i dÃ¹ng click 1 button báº¡n thay Ä‘á»•i Ä‘iá»ƒm báº±ng Ä‘oáº¡n JavaScript sau:1vote_changed(old_vote, new_vote); // each vote is &quot;Up&quot;, &quot;Down&quot;, or &quot;&quot;HÃ m cáº­p nháº­t tá»•ng Ä‘iá»ƒm sá»‘ vÃ  lÃ m viá»‡c vá»›i cáº·p old_vote/new_vote nhÆ° sau:123456789101112131415var vote_changed = function (old_vote, new_vote) { var score = get_score(); if (new_vote !== old_vote) { if (new_vote === 'Up') { score += (old_vote === 'Down' ? 2 : 1); } else if (new_vote === 'Down') { score -= (old_vote === 'Up' ? 2 : 1); } else if (new_vote === '') { score += (old_vote === 'Up' ? -1 : 1); } } set_score(score);};Máº·c dÃ¹ code nhÃ¬n khÃ¡ ngáº¯n nhÆ°ng nÃ³ Ä‘ang lÃ m nhiá»u viá»‡c. CÃ³ ráº¥t nhiá»u chi tiáº¿t phá»©c táº¡p vÃ  khÃ³ Ä‘á»ƒ nÃ³i xem lÆ°á»›t qua cÃ³ báº¥t kÃ¬ lá»—i, chÃ­nh táº£ hoáº·c cÃ¡c lá»—i khÃ¡c khÃ´ng? Äoáº¡n code nÃ y cÃ³ váº» nhÆ° chá»‰ cáº§n lÃ m 1 viá»‡c (cáº­p nháº­t Ä‘iá»ƒm sá»‘) nhÆ°ng thá»±c táº¿ nÃ³ Ä‘ang lÃ m 2 thá»© cÃ¹ng 1 lÃºc: old_vote vÃ  new_vote Ä‘ang Ä‘Æ°á»£c â€œparsedâ€ vÃ o giÃ¡ trá»‹ sá»‘ score Ä‘ang Ä‘Æ°á»£c cáº­p nháº­t ChÃºng ta cÃ³ thá»ƒ dá»… dÃ ng Ä‘á»c hÆ¡n báº±ng cÃ¡ch giáº£i quyáº¿t má»—i viá»‡c trÃªn riÃªng láº». Äoáº¡n code dÆ°á»›i Ä‘Ã¢y giáº£i quyáº¿t nhiá»‡m vá»¥ Ä‘áº§u tiÃªn, chuyá»ƒn giÃ¡ trá»‹ vote thÃ nh sá»‘:12345678910var vote_value = function (vote) { if (vote === 'Up') { return +1; } if (vote === 'Down') { return -1; } return 0;};BÃ¢y giá» pháº§n cÃ²n láº¡i cá»§a code lÃ  xá»­ nhiá»‡m vá»¥ thá»© 2, cáº­p nháº­t Ä‘iá»ƒm:1234567var vote_changed = function (old_vote, new_vote) { var score = get_score(); score -= vote_value(old_vote); // remove the old vote score += vote_value(new_vote); // add the new vote set_score(score);};NhÆ° báº¡n cÃ³ thá»ƒ tháº¥y, phiÃªn báº£n code nÃ y tá»‘n Ã­t ná»— lá»±c vá» máº·t tinh tháº§n hÆ¡n Ä‘á»ƒ tá»± nhá»§ ráº±ng nÃ³ hoáº¡t Ä‘á»™ng As you can see, this version of the code takes a lot less mental effort to convince yourself that it works. =)) ÄÃ¢y lÃ  1 pháº§n lá»›n lÃ m code â€œdá»… dÃ ng Ä‘á»ƒ hiá»ƒuâ€. Extracting Values from an ObjectChÃºng tÃ´i Ä‘Ã£ tá»«ng cÃ³ 1 sá»‘ Ä‘á»‹nh dáº¡ng JavaScript Ä‘á»ƒ Ä‘á»‹nh dáº¡ng 1 vá»‹ trÃ­ cá»§a user thÃ nh 1 chuá»—i thÃ¢n thiá»‡n â€œCity, Country nhÆ° â€œSanta Monica, USAâ€ or â€œParis, France.â€. ChÃºng ta nháº­n vÃ o 1 tá»« Ä‘iá»ƒn location_info vá»›i nhiá»u cáº¥u trÃºc dá»¯ liá»‡u. Táº¥t cáº£ cÃ¡i chÃºng ta chá»n lÃ  â€œCityâ€ vÃ  â€œCountryâ€ tá»« táº¥t cáº£ cÃ¡c trÆ°á»ng vÃ  ná»‘i chÃºng láº¡i vá»›i nhau. HÃ¬nh sau minh hoáº¡t vÃ­ dá»¥ input/output: CÃ³ váº» nÃ³ Ä‘Æ¡n giáº£n cho Ä‘áº¿n lÃºc nÃ y, nhÆ°ng pháº§n báº«y á»Ÿ Ä‘Ã¢y lÃ  má»™t hoáº·c táº¥t cáº£ 4 giÃ¡ trá»‹ nÃ y cÃ³ thá»ƒ thiáº¿u. ÄÃ¢y lÃ  cÃ¡ch chÃºng ta trao Ä‘á»•i vá»›i Ä‘iá»u nÃ y: Khi chá»n â€œCityâ€ chÃºng ta Æ°u tiÃªn chá»n â€œLocalityNameâ€ (city/town) náº¿u cÃ³ sáºµn, sau Ä‘Ã³ lÃ  â€œSubAdministrativeAreaNameâ€ (larger city/county), sau Ä‘Ã³ lÃ  â€œAdministrativeAreaNameâ€ (state/territory). Náº¿u cáº£ 3 giÃ¡ trá»‹ Ä‘á»u thiáº¿u, â€œCityâ€ sáº½ nháº­n giÃ¡ trá»‹ Ä‘áº§u vÃ o lÃ  â€œMiddle-of-Nowhereâ€ Náº¿u â€œCountryNameâ€ thiáº¿u, â€œPlanet Earthâ€ sáº½ Ä‘Æ°á»£c sá»­ dá»¥ng lÃ m máº·c Ä‘á»‹nh. ÄÃ¢y lÃ  Ä‘oáº¡n code chÃºng ta viáº¿t Ä‘á»ƒ thá»±c hiá»‡n task trÃªn:1234567891011121314151617var place = location_info[&quot;LocalityName&quot;]; // e.g. &quot;Santa Monica&quot;if (!place) { place = location_info[&quot;SubAdministrativeAreaName&quot;]; // e.g. &quot;Los Angeles&quot;}if (!place) { place = location_info[&quot;AdministrativeAreaName&quot;]; // e.g. &quot;California&quot;}if (!place) { place = &quot;Middle-of-Nowhere&quot;;}if (location_info[&quot;CountryName&quot;]) { place += &quot;, &quot; + location_info[&quot;CountryName&quot;]; // e.g. &quot;USA&quot;} else { place += &quot;, Planet Earth&quot;;}return place;Cháº¯c cháº¯n nÃ³ hÆ¡i lá»™n xá»™n, nhÆ°ng nÃ³ hoáº¡t Ä‘á»™ng tá»‘t. NhÆ°ng 1 vÃ i ngÃ y sau, chÃºng ta cáº§n cáº£i thiá»‡n váº¥n Ä‘á» nÃ y: Ä‘á»‘i vá»›i vá»‹ trÃ­ tá»« United States, chÃºng tÃ´i muá»‘n hiá»ƒn thá»‹ state thay vÃ¬ conntry (hoÃ n toÃ n kháº£ thi). Do Ä‘Ã³ thay vÃ¬ â€œSSanta Monica, USAâ€ nÃ³ sáº½ tráº£ vá» â€œSanta Monica, Californiaâ€ Äá»ƒ thÃªm tÃ­nh nÄƒng nÃ y vÃ o pháº§n code trÆ°á»›c sáº½ lÃ m cho nÃ³ xáº¥u Ä‘i ráº¥t nhiá»u. Applying â€œOne Task at a Timeâ€Thay vÃ¬ uá»‘n Ä‘oáº¡n mÃ£ nÃ y theo Ã½ chÃºng ta, chÃºng ta hÃ£y dá»«ng láº¡i vÃ  nháº­n ra nÃ³ Ä‘ang thá»±c hiá»‡n quÃ¡ nhiá»u task trong cÃ¹ng 1 lÃºc: TrÃ­ch xuáº¥t giÃ¡ trá»‹ tá»« tá»« Ä‘iá»ƒn location_info Duyá»‡t qua 1 thá»© tá»± trÃªn cho â€œCityâ€ vÃ  máº·c Ä‘á»‹nh lÃ  â€œMiddle-of-Nowhereâ€ náº¿u nÃ³ khÃ´ng tÃ¬m tháº¥y gÃ¬ Nháº­n â€œCountryâ€ vÃ  sá»­ dá»¥ng â€œPlanet Earthâ€ náº¿u khÃ´ng cÃ³ giÃ¡ trá»‹ Cáº­p nháº­t place Thay vÃ¬ Ä‘Ã³, chÃºng ta viáº¿t láº¡i Ä‘oáº¡n code ban Ä‘áº§u Ä‘á»ƒ giáº£i quyáº¿t má»—i váº¥n Ä‘á» Ä‘á»™c láº­p Nhiá»‡m vá»¥ Ä‘áº§u tiÃªn (trÃ­ch xuáº¥t giÃ¡ trÃ­ tá»« tá»« Ä‘iá»ƒn) dá»… dÃ ng giáº£i quyáº¿t:1234var town = location_info[&quot;LocalityName&quot;]; // e.g. &quot;Santa Monica&quot;var city = location_info[&quot;SubAdministrativeAreaName&quot;]; // e.g. &quot;Los Angeles&quot;var state = location_info[&quot;AdministrativeAreaName&quot;]; // e.g. &quot;CA&quot;var country = location_info[&quot;CountryName&quot;]; // e.g. &quot;USA&quot;Äáº¿n Ä‘iá»ƒm nÃ y, chÃºng tÃ´i Ä‘Ã£ sá»­ dá»¥ng location_info vÃ  khÃ´ng pháº£i nhá»› nhiá»u vÃ  cÃ¡c keys khÃ´ng trá»±c quan. Thay vÃ o Ä‘Ã³, chÃºng ta Ä‘Ã£ cÃ³ nhá»¯ng biáº¿n Ä‘Æ¡n giáº£n Ä‘á»ƒ lÃ m viá»‡c cÃ¹ng. Tiáº¿p theo, chÃºng tÃ´i Ä‘Ã£ tÃ¬m ra cÃ¡i â€œná»­a thá»© 2â€ cá»§a giÃ¡ trá»‹ tráº£ vá» sáº½ nhÆ°:12345678// Start with the default, and keep overwriting with the most specific value.var second_half = &quot;Planet Earth&quot;;if (country) { second_half = country;}if (state &amp;&amp; country === &quot;USA&quot;) { second_half = state;}TÆ°Æ¡ng tá»±, chÃºng tÃ´i tÃ¬m â€œfirst halfâ€:12345678910var first_half = &quot;Middle-of-Nowhere&quot;;if (state &amp;&amp; country !== &quot;USA&quot;) { first_half = state;}if (city) { first_half = city;}if (town) { first_half = town;}Cuá»‘i cÃ¹ng chÃºng ta ná»‘i cÃ¡c thÃ´ng tin láº¡i vá»›i nhau:1return first_half + &quot;, &quot; + second_half; HÃ¬nh minh há»a cá»§a chÆ°Æ¡ng trÃ¬nh chá»‘ng phÃ¢n máº£nh á»Ÿ Ä‘áº§u chÆ°Æ¡ng nÃ y thá»±c sá»± lÃ  má»™t Ä‘áº¡i diá»‡n cho giáº£i phÃ¡p ban Ä‘áº§u vÃ  phiÃªn báº£n má»›i nÃ y. ÄÃ¢y lÃ  minh há»a tÆ°Æ¡ng tá»±, vá»›i nhiá»u chi tiáº¿t Ä‘Æ°á»£c Ä‘iá»n vÃ o: NhÆ° báº¡n cÃ³ thá»ƒ tháº¥y, 4 tasks trong giáº£i phÃ¡p thá»© 2 Ä‘Ã£ Ä‘Æ°á»£c phÃ¢n máº£nh vÃ o khu vá»±c riÃªng biá»‡t. Another ApproachKhi tÃ¡i cáº¥u trÃºc code, cÃ³ nhiá»u cÃ¡ch Ä‘á»ƒ lÃ m nÃ³ vÃ  trÆ°á»ng há»£p nÃ y cÅ©ng khÃ´ng pháº£i lÃ  ngoáº¡i lá»‡. Má»™t khi báº¡n Ä‘Ã£ tÃ¡ch 1 vÃ i tasks, code sáº½ dá»… hiá»ƒu hÆ¡n vÃ  báº¡n cáº§n tiáº¿p tá»¥c tÃ¬m cÃ¡ch tá»‘t hÆ¡n Ä‘á»ƒ tÃ¡i cáº¥u trÃºc nÃ³. VÃ­ dá»¥, dá»… dÃ ng hÆ¡n khi loáº¡t cÃ¢u lá»‡nh if yÃªu cáº§u 1 vÃ i sá»± cáº­n trá»ng Ä‘á»c Ä‘á»ƒ viáº¿t náº¿u má»—i trÆ°á»ng há»£p hoáº¡t Ä‘á»™ng cÃ³ chÃ­nh xÃ¡c hay khÃ´ng? Thá»±c táº¿ cÃ³ 2 nhiá»‡m vá»¥ con Ä‘ang diá»…n ra Ä‘á»“ng thá»i trong Ä‘oáº¡n code nÃ y: Duyá»‡t qua danh sÃ¡ch cÃ¡c biáº¿n vÃ  chá»n cÃ¡i Ä‘Æ°á»£c Æ°u tiÃªn nháº¥t tá»“n táº¡i. Sá»­ dá»¥ng 1 danh sÃ¡ch khÃ¡c, tÃ¹y thuá»™c vÃ o quá»‘c gia lÃ  â€œUSAâ€ NhÃ¬n láº¡i, báº¡n cÃ³ thá»ƒ tháº¥y code trÆ°á»›c Ä‘Ã³ cÃ³ logic â€œif USAâ€ Ä‘an xem vá»›i pháº§n logic cÃ²n láº¡i. Thay vÃ o Ä‘Ã³, chÃºng ta cÃ³ thá»ƒ xá»­ lÃ½ USA vÃ  non-USA riÃªng biá»‡t:1234567891011var first_half, second_half;if (country === &quot;USA&quot;) { first_half = town || city || &quot;Middle-of-Nowhere&quot;; second_half = state || &quot;USA&quot;;} else { first_half = town || city || state || &quot;Middle-of-Nowhere&quot;; second_half = country || &quot;Planet Earth&quot;;}return first_half + &quot;, &quot; + second_half; A Larger ExampleChÃºng tÃ´i xÃ¢y dá»±ng 1 há»‡ thá»‘ng web-crawling, 1 hÃ m vá»›i tÃªn UpdateCounts() Ä‘Æ°á»£c gá»i vÃ  tÄƒng cÃ¡c thá»‘ng kÃª khÃ¡c nhau sau má»—i trang web Ä‘Æ°á»£c download:12345void UpdateCounts(HttpDownload hd) { counts[&quot;Exit State&quot; ][hd.exit_state()]++; // e.g. &quot;SUCCESS&quot; or &quot;FAILURE&quot; counts[&quot;Http Response&quot;][hd.http_response()]++; // e.g. &quot;404 NOT FOUND&quot; counts[&quot;Content-Type&quot; ][hd.content_type()]++; // e.g. &quot;text/html&quot;} Well, Ä‘Ã¢y lÃ  cÃ¡ch mÃ  chÃºng tÃ´i mong muá»‘n nhÃ¬n tháº¥y cá»§a code! Äáº·c biá»‡t Ä‘á»‘i tÆ°á»£ng HttpDownload khÃ´ng cÃ³ phÆ°Æ¡ng thá»©c nÃ o hiá»ƒn thá»‹ á»Ÿ Ä‘Ã¢y. Thay vÃ o Ä‘Ã³, HttpDownload lÃ  1 class ráº¥t lá»›n vÃ  phá»©c táº¡p, vá»›i nhiá»u class lá»“ng nhau vÃ  chÃºng ta pháº£i tá»± tÃ¬m ra cÃ¡c giÃ¡ trá»‹ Ä‘Ã³. Äá»ƒ lÃ m cho má»i thá»© tá»‡ hÆ¡n, Ä‘Ã´i khi cÃ¡c giÃ¡ trá»‹ nÃ y bá»‹ thiáº¿u hoÃ n toÃ n - trong trÆ°á»ng há»£p nÃ y chÃºng ta chá»‰ sá»­ dá»¥ng giÃ¡ trá»‹ máº·c Ä‘á»‹nh â€œunknownâ€ VÃ¬ táº¥t cáº£ code vá»›i nhau, code thá»±c sá»± cÃ³ váº» hÆ¡i há»—n Ä‘á»™n:1234567891011121314151617181920212223242526272829303132333435// WARNING: DO NOT STARE DIRECTLY AT THIS CODE FOR EXTENDED PERIODS OF TIME.void UpdateCounts(HttpDownload hd) { // Figure out the Exit State, if available. if (!hd.has_event_log() || !hd.event_log().has_exit_state()) { counts[&quot;Exit State&quot;][&quot;unknown&quot;]++; } else { string state_str = ExitStateTypeName(hd.event_log().exit_state()); counts[&quot;Exit State&quot;][state_str]++; } // If there are no HTTP headers at all, use &quot;unknown&quot; for the remaining elements. if (!hd.has_http_headers()) { counts[&quot;Http Response&quot;][&quot;unknown&quot;]++; counts[&quot;Content-Type&quot;][&quot;unknown&quot;]++; return; } HttpHeaders headers = hd.http_headers(); // Log the HTTP response, if known, otherwise log &quot;unknown&quot; if (!headers.has_response_code()) { counts[&quot;Http Response&quot;][&quot;unknown&quot;]++; } else { string code = StringPrintf(&quot;%d&quot;, headers.response_code()); counts[&quot;Http Response&quot;][code]++; } // Log the Content-Type if known, otherwise log &quot;unknown&quot; if (!headers.has_content_type()) { counts[&quot;Content-Type&quot;][&quot;unknown&quot;]++; } else { string content_type = ContentTypeMime(headers.content_type()); counts[&quot;Content-Type&quot;][content_type]++; }}NhÆ° báº¡n cÃ³ thá»ƒ tháº¥y, ráº¥t nhiá»u code vÃ  ráº¥t nhiá»u logic vÃ  tháº­m chÃ­ 1 vÃ i dÃ²ng code Ä‘Ã£ láº·p láº¡i. KhÃ´ng há» vui váº» gÃ¬ khi Ä‘á»c Ä‘oáº¡n code nÃ y. Äáº·c biá»‡t, Ä‘oáº¡n code nÃ y cÃ³ thá»ƒ chuyá»ƒn qua chuyá»‡n láº¡i giá»¯a cÃ¡c nhiá»‡m vá»¥ khÃ¡c nhau. á» Ä‘Ã¢y cÃ³ cÃ¡c nhiá»‡m vá»¥ khÃ¡c nhau xen káº½ trong code: Sá»­ dá»¥ng â€œunknownâ€ lÃ m giÃ¡ trá»‹ máº·c Ä‘á»‹nh cho má»—i key. PhÃ¡t hiá»‡n xem nhá»¯ng thÃ nh pháº§n nÃ o cá»§a HttpDownload Ä‘ang thiáº¿u. TrÃ­ch xuáº¥t giÃ¡ trá»‹ vÃ  chuyá»ƒn nÃ³ thÃ nh string Cáº­p nháº­t counts[] ChÃºng ta cÃ³ thá»ƒ cáº£i thiá»‡n Ä‘oáº¡n code báº±ng cÃ¡ch phÃ¢n tÃ¡ch 1 vÃ i tasks nÃ y ra thÃ nh cÃ¡c pháº§n riÃªng trong code:12345678910111213141516171819202122void UpdateCounts(HttpDownload hd) { // Task: define default values for each of the values we want to extract string exit_state = &quot;unknown&quot;; string http_response = &quot;unknown&quot;; string content_type = &quot;unknown&quot;; // Task: try to extract each value from HttpDownload, one by one if (hd.has_event_log() &amp;&amp; hd.event_log().has_exit_state()) { exit_state = ExitStateTypeName(hd.event_log().exit_state()); } if (hd.has_http_headers() &amp;&amp; hd.http_headers().has_response_code()) { http_response = StringPrintf(&quot;%d&quot;, hd.http_headers().response_code()); } if (hd.has_http_headers() &amp;&amp; hd.http_headers().has_content_type()) { content_type = ContentTypeMime(hd.http_headers().content_type()); } // Task: update counts[] counts[&quot;Exit State&quot;][exit_state]++; counts[&quot;Http Response&quot;][http_response]++; counts[&quot;Content-Type&quot;][content_type]++; }NhÆ° báº¡n cÃ³ thá»ƒ tháº¥y, Ä‘oáº¡n code nÃ y gá»“m 3 khu vá»±c vá»›i cÃ¡c má»¥c Ä‘Ã­ch sau: Äá»‹nh nghÄ©a giÃ¡ trá»‹ máº·c Ä‘á»‹nh cho 3 keys chÃºng ta quan tÃ¢m TrÃ­ch xuáº¥t giÃ¡ trá»‹, náº¿u tá»“n táº¡i, vá»›i má»—i keys nÃ y, chuyá»ƒn chÃºng thÃ nh chuá»—i Cáº­p nháº­t counts cho má»—i key/value Äiá»u tá»‘t nháº¥t tÃ¡ch chÃºng ra thÃ nh cÃ¡c khu vá»±c riÃªng biá»‡t lÃ  chÃºng cÃ´ láº­p vá»›i cÃ¡c pháº§n khÃ¡c - trong khi báº¡n Ä‘ang Ä‘á»c 1 khu vá»±c, báº¡n khÃ´ng nghÄ© vá» khu vá»±c khÃ¡c. Báº¡n cÃ³ thá»ƒ nháº­n tháº¥y ráº±ng chÃºng ta Ä‘Ã£ liá»‡t kÃª ra 1 tasks, nhÆ°ng chÃºng ta cÃ³ thá»ƒ chá»‰ tÃ¡ch biá»‡t chá»‰ 3 trong sá»‘ chÃºng. Äiá»u nÃ y hoÃ n toÃ n á»•n: cÃ¡c tasks mÃ  báº¡n liá»‡t kÃª ban Ä‘áº§u chá»‰ lÃ  cÃ¡c Ä‘iá»ƒm khá»Ÿi Ä‘áº§u. Tháº­m chÃ­ tÃ¡ch má»™t sá»‘ trong sá»‘ chÃºng cÃ³ thá»ƒ giÃºp má»i thá»© ráº¥t nhiá»u, nhÆ° nÃ³ Ä‘Ã£ lÃ m á»Ÿ Ä‘Ã¢y Further ImprovementsPhiÃªn báº£n code má»›i Ä‘Ã£ cáº£i thiá»‡n Ä‘Æ°á»£c cÃ¡c váº¥n Ä‘á» tá»« Ä‘oáº¡n code ban Ä‘áº§u. ChÃºng ta tháº¥y ráº±ng tháº­m chÃ­ chÃºng ta khÃ´ng cáº§n pháº£i táº¡o cÃ¡c hÃ m khÃ¡c Ä‘á»ƒ thá»±c hiá»‡n viá»‡c dá»n dáº¹p code. NhÆ° chÃºng tÃ´i Ä‘Ã£ nháº¯c Ä‘áº¿n tá»« trÆ°á»›c Ä‘Ã³, Ã½ tÆ°á»Ÿng â€œone task at timeâ€ cÃ³ thá»ƒ giÃºp báº¡n dá»n sáº¡ch mÃ£ báº¥t ká»ƒ cÃ¡ ranh giá»›i cá»§a hÃ m. Tuy nhiÃªn chÃºng tÃ´i Ä‘Ã£ cáº£i thiá»‡n Ä‘oáº¡n code nÃ y theo cÃ¡ch khÃ¡c, báº±ng cÃ¡ch sá»­ dá»¥ng 3 hepler:12345void UpdateCounts(HttpDownload hd) { counts[&quot;Exit State&quot;][ExitState(hd)]++; counts[&quot;Http Response&quot;][HttpResponse(hd)]++; counts[&quot;Content-Type&quot;][ContentType(hd)]++;}CÃ¡c hÃ m nÃ y sáº½ trÃ­ch xuáº¥t cÃ¡c giÃ¡ trá»‹ tÆ°Æ¡ng á»©ng hoáº·c tráº£ vá» â€œunknownâ€, vÃ­ dá»¥:1234567string ExitState(HttpDownload hd) { if (hd.has_event_log() &amp;&amp; hd.event_log().has_exit_state()) { return ExitStateTypeName(hd.event_log().exit_state()); } else { return &quot;unknown&quot;; }}CÃ¡ch xá»­ lÃ½ thay tháº¿ nÃ y khÃ´ng cáº§n Ä‘á»‹nh nghÄ©a 1 vÃ i biáº¿n. VÃ  nhÆ° chÃºng tÃ´i Ä‘Ã£ nháº¯c Ä‘áº¿n trong Chapter 9, Variables and Readability, nhá»¯ng biáº¿n giá»¯ cÃ¡c giÃ¡ trá»‹ trung gian nÃªn Ä‘Æ°á»£c loáº¡i bá» hoÃ n toÃ n. Trong giáº£i phÃ¡p nÃ y, chÃºng tÃ´i Ä‘Ã£ Ä‘Æ¡n giáº£n â€œcáº¯tâ€ cÃ¡c váº¥n Ä‘á» vÃ o trong cÃ¡c Ä‘Æ°á»ng dáº«n khÃ¡c nhau. Cáº£ 2 giáº£i phÃ¡p Ä‘á»u dá»… Ä‘á»c vÃ  chÃºng yÃªu cáº§u ngÆ°á»i Ä‘á»c nghÄ© vá» 1 task trong 1 thá»i Ä‘iá»ƒm. SummaryChÆ°Æ¡ng nÃ y minh há»a 1 ká»¹ thuáº­t Ä‘Æ¡n giáº£n Ä‘á»ƒ tá»• chá»©c láº¡i code cá»§a báº¡n: lÃ m 1 task trong 1 thá»i Ä‘iá»ƒm. Náº¿u báº¡n cÃ³ cÃ¡c Ä‘oáº¡n code khÃ³ Ä‘á»c, hÃ£y thá»­ liá»‡t kÃª nhÆ°ng task nÃ³ Ä‘ang lÃ m. Má»™t vÃ i tasks nÃ y cÃ³ thá»ƒ dá»… dÃ ng Ä‘Æ°á»£c tÃ¡ch thÃ nh cÃ¡c hÃ m (hoáº·c lá»›p) riÃªng biá»‡t. CÃ¡c tasks khÃ¡c cÃ³ thá»ƒ trá»Ÿ thÃ nh â€œÄ‘oáº¡n vÄƒnâ€ trong 1 hÃ m Ä‘Æ¡n. TÃ¡ch cÃ¡c pháº§n chi tiáº¿t cÃ¡c task Ä‘ang thá»±c hiá»‡n khÃ´ng quan trá»ng báº±ng thá»±c táº¿ chÃºng Ä‘Ã£ Ä‘Æ°á»£c tÃ¡ch biá»‡t ra. Pháº§n khÃ³ nháº¥t lÃ  mÃ´ táº£ Ä‘Æ°á»£c chÃ­nh xÃ¡c táº¥t cáº£ cÃ¡c thá»© chÆ°Æ¡ng trÃ¬nh cá»§a báº¡n Ä‘ang thá»±c hiá»‡n. The exact details of how you separate these tasks isnâ€™t as important as the fact that theyâ€™re separated. The hard part is accurately describing all the little things your program is doing.","link":"/2020/05/24/Chapter-11-One-Task-at-a-Time/"},{"title":"Chapter 14: Testing and Readability","text":"Trong chÆ°Æ¡ng nÃ y, chÃºng tÃ´i sáº½ chá»‰ cho báº¡n má»™t sá»‘ kÄ© thuáº­t Ä‘Æ¡n giáº£n Ä‘á»ƒ viáº¿t cÃ¡c test sáº¡ch sáº½ vÃ  hiá»‡u quáº£. Testing Ä‘á»‹nh nghÄ©a khÃ¡c nhau vá»›i nhá»¯ng ngÆ°á»i khÃ¡c nhau. Trong chÆ°Æ¡ng nÃ y, chÃºng tÃ´i sá»­ dá»¥ng â€œtestâ€ cÃ³ nghÄ©a lÃ  má»™t vÃ i code mÃ  má»¥c Ä‘Ã­ch duy nháº¥t cá»§a nÃ³ lÃ  kiá»ƒm tra hÃ nh vi cá»§a 1 pháº§n (â€œrealâ€) cá»§a code khÃ¡c. ChÃºng tÃ´i sáº½ táº­p trung vÃ o viá»‡c khÃ­a cáº¡nh kháº£ nÄƒng Ä‘á»c cá»§a test vÃ  khÃ´ng nÃ³i sÃ¢u báº¡n nÃªn viáº¿t test code trÆ°á»›c khi viáº¿t code thá»±c sá»± (â€œtest-driven developmentâ€) hoáº·c khÃ¡i cáº¡nh vá» sá»± phÃ¡t triá»ƒn cá»§a test â€œRealâ€ code vs â€œtestâ€ code :D Make Tests Easy to Read and MaintainNÃ³ cÃ³ vai trÃ² quan trá»ng nhÆ° viáº¿t code thá»±c sá»±. CÃ¡c coders khÃ¡c sáº½ thÆ°á»ng nhÃ¬n cÃ¡c test code nhÆ° cÃ¡c dáº¡ng tÃ i liá»‡u khÃ´ng chÃ­nh thá»©c cá»§a cÃ¡ch real code lÃ m viá»‡c vÃ  nÃªn Ä‘Æ°á»£c sá»­ dá»¥ng. Do Ä‘Ã³, cÃ¡c test dá»… Ä‘á»c, ngÆ°á»i dÃ¹ng sáº½ dá»… hiá»ƒu hÆ¡n hÃ nh vi thá»±c sá»± cá»§a code K E Y I D E ATest code should be readable so that other coders are comfortable changing or adding tests. Khi test code lá»›n vÃ  Ä‘Ã¡ng sá»£, Ä‘Ã¢y lÃ  1 vÃ i thá»© sáº½ xáº£y ra: Coders ngáº¡i sá»­a Ä‘á»•i real code. Oh, chÃºng tÃ´i khÃ´ng muá»‘n lÃ m báº©n Ä‘oáº¡n code nÃ y - cáº­p nháº¥t táº¥t cáº£ cÃ¡c test sáº½ lÃ  1 cÆ¡n Ã¡c má»™ng! Coders khÃ´ng muá»‘n thÃªm cÃ¡c new tests khi há» thÃªm code má»›i. VÃ  theo thá»i gian, cÃ ng ngÃ y cÃ¡c Ã­t module cá»§a báº¡n Ä‘Æ°á»£c test vÃ  báº¡n khÃ´ng cÃ²n tá»± tin vá»›i má»i viá»‡c. Thay vÃ¬ Ä‘Ã³, báº¡n muá»‘n khuyáº¿n khÃ­ch ai Ä‘Ã³ (trá»« báº¡n) lÃ m viá»‡c vá»›i code Ä‘Æ°á»£c thoáº£i mÃ¡i vá»›i test code. ChÃºng nÃªn cÃ³ thá»ƒ Ä‘á»c vÃ  cháº©n Ä‘oÃ¡n Ä‘Æ°á»£c táº¡i sao cÃ³ 1 sá»± thay Ä‘á»•i Ä‘ang khÃ¡ vá»¡i test Ä‘Ã£ tá»“n táº¡i vÃ  cáº£m giÃ¡c nhÆ° thÃªm cÃ¡c tests má»›i lÃ  viá»‡c dá»… dÃ ng. Whatâ€™s Wrong with This Test?Trong codebase cá»§a chÃºng tÃ´i, chÃºng tÃ´i cÃ³ 1 hÃ m sáº¯p xáº¿p vÃ  lá»c danh sÃ¡ch káº¿t quáº£ tÃ¬m kiáº¿m Ä‘Ã£ Ä‘Æ°á»£c ghi láº¡i. ÄÃ¢y lÃ  khai bÃ¡o hÃ m:12// Sort 'docs' by score (highest first) and remove negative-scored documents.void SortAndFilterDocs(vector&lt;ScoredDocument&gt;* docs);Äoáº¡n code Test hÃ m nÃ y sáº½ nhÆ° sau:123456789101112131415161718192021void Test1() { vector&lt;ScoredDocument&gt; docs; docs.resize(5); docs[0].url = &quot;http://example.com&quot;; docs[0].score = -5.0; docs[1].url = &quot;http://example.com&quot;; docs[1].score = 1; docs[2].url = &quot;http://example.com&quot;; docs[2].score = 4; docs[3].url = &quot;http://example.com&quot;; docs[3].score = -99998.7; docs[4].url = &quot;http://example.com&quot;; docs[4].score = 3.0; SortAndFilterDocs(&amp;docs); assert(docs.size() == 3); assert(docs[0].score == 4); assert(docs[1].score == 3.0); assert(docs[2].score == 1);}CÃ³ Ã­t nháº¥t 8 váº¥n Ä‘á» khÃ¡c nhau trong Ä‘oáº¡n test code nÃ y. Trong pháº§n cuá»‘i cá»§a chÆ°Æ¡ng, báº¡n sáº½ cÃ³ thá»ƒ tÃ¬m vÃ  sá»­a chÃºng Making This Test More ReadableNhÆ° lÃ  1 nguyÃªn táº¯c chung thiáº¿t káº¿, báº¡n nÃªn áº©n nhá»¯ng chi tiáº¿t Ã­t quan trá»ng tá»« ngÆ°á»i dÃ¹ng, Ä‘á»ƒ nhá»¯ng pháº§n chi tiáº¿t quan trá»ng ná»•i báº­t lÃªn. Äoáº¡n test code tá»« pháº§n trÆ°á»›c rÃµ rÃ ng vi pháº¡m nguyÃªn táº¯c nÃ y. Má»—i pháº§n chi tiáº¿t cá»§a test á»Ÿ ngay phÃ­a trÆ°á»›c vÃ  trung tÃ¢m lÃ  cÃ¡c chi tiáº¿t vá»¥n váº·t khÃ´ng quan trá»ng setting cho vector&lt;ScoredDocument&gt;. Äa sá»‘ Ä‘oáº¡n code trong vÃ­ dá»¥ liÃªn quan Ä‘áº¿n url, score, vÃ  docs[] cÃ¡i mÃ  chá»‰ nÃ³i chi tiáº¿t má»™t object trong C++ Ä‘Æ°á»£c thiáº¿t láº­p nhÆ° tháº¿ nÃ o mÃ  khÃ´ng nÃ³i vá» test nÃ y Ä‘ang lÃ m gÃ¬ á»Ÿ má»©c level cao. Do Ä‘Ã³, bÆ°á»›c Ä‘áº§u tiÃªn Ä‘á»ƒ loáº¡i bá» Ä‘iá»u nÃ y, báº¡n nÃªn táº¡o 1 helper nhÆ° sau:1234void MakeScoredDoc(ScoredDocument* sd, double score, string url) { sd-&gt;score = score; sd-&gt;url = url;}Sá»­ dá»¥ng hÃ m nÃ y, test code cá»§a chÃºng ta trá»Ÿ nÃªn gá»n hÆ¡n 1 chÃºt:123456789void Test1() { vector&lt;ScoredDocument&gt; docs; docs.resize(5); MakeScoredDoc(&amp;docs[0], -5.0, &quot;http://example.com&quot;); MakeScoredDoc(&amp;docs[1], 1, &quot;http://example.com&quot;); MakeScoredDoc(&amp;docs[2], 4, &quot;http://example.com&quot;); MakeScoredDoc(&amp;docs[3], -99998.7, &quot;http://example.com&quot;); ...}NhÆ°ng nÃ³ váº«n chÆ°a Ä‘á»§ tá»‘t - váº«n cÃ²n nhiá»u chi tiáº¿t khÃ´ng quan trá»ng. VÃ­ dá»¥, Ä‘á»‘i sá»‘ â€œhttp://example.com&quot;. NÃ³ luÃ´n luÃ´n giá»‘ng nhau vÃ  URL chÃ­nh xÃ¡c nhÆ° váº­y khÃ´ng quan trá»ng - nÃ³ chá»‰ nÃªn lÃ  cÃ¡c giÃ¡ trá»‹ Ä‘iá»n vÃ o ScoredDocument Má»™t thá»© khÃ´ng quan trá»ng khÃ¡c chÃºng ta buá»™c pháº£i xem xÃ©t lÃ  docs.resize(5) vÃ  &amp;docs[0], &amp;docs[1],.... HÃ£y thay Ä‘á»•i hepler Ä‘á»ƒ lÃ m nhiá»u viá»‡c hÆ¡n, vÃ  gá»i lÃ  AddScoredDoc():123456void AddScoredDoc(vector&lt;ScoredDocument&gt;&amp; docs, double score) { ScoredDocument sd; sd.score = score; sd.url = &quot;http://example.com&quot;; docs.push_back(sd);}Sá»­ dá»¥ng hÃ m nÃ y, test code cá»§a chÃºng ta tháº­m chÃ­ gá»n hÆ¡n:12345678void Test1() { vector&lt;ScoredDocument&gt; docs; AddScoredDoc(docs, -5.0); AddScoredDoc(docs, 1); AddScoredDoc(docs, 4); AddScoredDoc(docs, -99998.7); ...}Äoáº¡n code Ä‘Ã£ tá»‘t hÆ¡n nhÆ°ng váº«n khÃ´ng Ä‘Ã¡p á»©ng yÃªu cáº§u vÃ o vá» kháº£ nÄƒng Ä‘á»c vÃ  viáº¿t test. Náº¿u báº¡n muá»‘n thÃªm test khÃ¡c vá»›i 1 táº­p cÃ¡c tÃ i liá»‡u ghi Ä‘iá»ƒm, nÃ³ yÃªu cáº§u ráº¥t nhiá»u copy vÃ  paste. Liá»‡u chÃºng ta cÃ³ thá»ƒ cáº£i thiá»‡n váº¥n Ä‘á» nÃ y? Creating the Minimal Test StatementÄá»ƒ cáº£i thiá»‡n váº¥n Ä‘á» test code nÃ y, hÃ£y sá»­ dá»¥ng kÄ© thuáº­t tá»« Chapter 12, Turning Thoughts into Code.. HÃ£y mÃ´ táº£ cÃ¡i mÃ  test cá»§a chÃºng ta Ä‘ang cá»‘ lÃ m báº±ng tiáº¿ng Anh:12We have a list of documents whose scores are [-5, 1, 4, -99998.7, 3]. AfterSortAndFilterDocs(), the remaining documents should have scores of [4, 3, 1], in that order.NhÆ° báº¡n cÃ³ thá»ƒ tháº¥y, khÃ´ng 1 chá»— nÃ o trong mÃ´ táº£ nÃ y chÃºng ta nháº¯c Ä‘áº¿n vector&lt;ScoredDocument&gt;. Máº£ng cá»§a Ä‘iá»ƒm khÃ´ng quan trá»ng á»Ÿ Ä‘Ã¢y. Vá» Ã½ tÆ°á»Ÿng, test code cá»§a chÃºng ta sáº½ nhÆ° sau:1CheckScoresBeforeAfter(&quot;-5, 1, 4, -99998.7, 3&quot;, &quot;4, 3, 1&quot;);ChÃºng tÃ´i cÃ³ thá»ƒ lÃ m ná»•i báº­t lÃªn váº¥n Ä‘á» cá»§a test nÃ y xuá»‘ng 1 dÃ²ng code! Äiá»u nÃ y khÃ´ng hiáº¿m. Báº£n cháº¥t cá»§a háº§u háº¿t cÃ¡c test lÃ  lÃ m ná»•i lÃªn Ä‘á»‘i vá»›i input/trÆ°á»ng há»£p nÃ y, mong chá» hÃ nh vi/ouput nÃ y. VÃ  nhiá»u láº§n, má»¥c Ä‘Ã­ch nÃ y cÃ³ thá»ƒ mÃ´ táº£ chá»‰ trong 1 dÃ²ng. ThÃªm vÃ o Ä‘Ã³ copy ráº¥t ngáº¯n gá»n vÃ  dá»… Ä‘á»c, giá»¯ cÃ¡c test cá»§a báº¡n ngáº¯n vÃ  thá»±c sá»± ráº¥t dá»… dÃ ng Ä‘á»ƒ thÃªm nhiá»u test cases. Implementing Custom â€œMinilanguagesâ€Nháº­n tháº¥y ráº±ng CheckScoresBeforeAfter() nháº­n vÃ o 1 Ä‘á»‘i sá»‘ chuá»—i mÃ´ táº£ máº£ng cÃ¡c Ä‘iá»ƒm. Trong cÃ¡c phiÃªn báº£n gáº§n nháº¥t cá»§a C++, báº¡n cÃ³ thá»ƒ truyá»n máº£ng nhÆ° sau:1CheckScoresBeforeAfter({-5, 1, 4, -99998.7, 3}, {4, 3, 1});VÃ¬ chÃºng tÃ´i khÃ´ng lÃ m Ä‘iá»u Ä‘Ã³ á»Ÿ thá»i Ä‘iá»ƒm hiá»‡n táº¡i, chÃºng tÃ´i Ä‘áº·t Ä‘iá»ƒm sá»‘ trong 1 chuá»—i, phÃ¢n tÃ¡ch báº±ng dáº¥u pháº©y. Vá»›i cÃ¡ch lÃ m nÃ y CheckScoresBeforeAfter() cáº§n pháº£i phÃ¢n tÃ­ch Ä‘á»‘i sá»‘ chuá»—i nÃ y NÃ³i chung, viá»‡c xÃ¡c Ä‘á»‹nh má»™t ngÃ´n ngá»¯ tÃ¹y chá»‰nh cÃ³ thá»ƒ lÃ  má»™t cÃ¡ch máº¡nh máº½ Ä‘á»ƒ thá»ƒ hiá»‡n nhiá»u thÃ´ng tin trong má»™t khoáº£ng trá»‘ng nhá». CÃ¡c vÃ­ dá»¥ khÃ¡c bao gá»“m printf() vÃ  cÃ¡c thÆ° viá»‡n biá»ƒu thá»©c chÃ­nh quy. Trong trÆ°á»ng há»£p nÃ y, viáº¿t 1 vÃ i helper Ä‘á»ƒ phÃ¢n tÃ­ch danh sÃ¡ch sá»‘ phÃ¢n tÃ¡ch báº±ng dáº¥u pháº©y khÃ´ng quÃ¡ khÃ³. HÃ m CheckScoresBeforeAfter() sáº½ nhÆ° sau:123456void CheckScoresBeforeAfter(string input, string expected_output) { vector&lt;ScoredDocument&gt; docs = ScoredDocsFromString(input); SortAndFilterDocs(&amp;docs); string output = ScoredDocsToString(docs); assert(output == expected_output);}VÃ  Ä‘á»ƒ cho Ä‘áº§y Ä‘á»§, Ä‘Ã¢y lÃ  hepler chuyá»ƒn Ä‘á»•i giá»¯a string vÃ  vector&lt;ScoredDocument&gt;1234567891011121314151617181920212223vector&lt;ScoredDocument&gt; ScoredDocsFromString(string scores) { vector&lt;ScoredDocument&gt; docs; replace(scores.begin(), scores.end(), ',', ' '); // Populate 'docs' from a string of space-separated scores. istringstream stream(scores); double score; while (stream &gt;&gt; score) { AddScoredDoc(docs, score); } return docs;}string ScoredDocsToString(vector&lt;ScoredDocument&gt; docs) { ostringstream stream; for (int i = 0; i &lt; docs.size(); i++) { if (i &gt; 0) stream &lt;&lt; &quot;, &quot;; stream &lt;&lt; docs[i].score; } return stream.str();}DÆ°á»ng nhÆ° cÃ³ nhiá»u code trong láº§n nhÃ¬n Ä‘áº§u tiÃªn, nhÆ°ng nhá»¯ng gÃ¬ nÃ³ lÃ m cho báº¡n vÃ  vÃ´ cÃ¹ng máº¡nh máº½. VÃ¬ báº¡n cÃ³ thá»ƒ viáº¿t toÃ n bá»™ test chá»‰ vá»›i 1 lá»i gá»i CheckScoresBeforeAfter(), báº¡n sáº½ cÃ³ xu hÆ°á»›ng thÃªm Ä‘Æ°á»£c nhiá»u test hÆ¡n (nhÆ° chÃºng tÃ´i sáº½ lÃ m trong pháº§n sau cá»§a chÆ°Æ¡ng nÃ y) Making Error Messages Readable Äoáº¡n code trÆ°á»›c Ä‘áº¹p rá»“i, nhÆ°ng váº«n cÃ²n váº¥n Ä‘á» á»Ÿ chá»— assert(output == expected_output) lá»—i? NÃ³ sáº½ Ä‘Æ°a ra thÃ´ng bÃ¡o lá»—i nhÆ° sau:12Assertion failed: (output == expected_output), function CheckScoresBeforeAfter, file test.cc, line 37.Cháº¯c cháº¯n, náº¿u báº¡n nhÃ¬n tháº¥y lá»—i nÃ y, báº¡n sáº½ tá»± há»i, GiÃ¡ trá»‹ cá»§a ouput vÃ  expected_output lÃ  gÃ¬? Using Better Versions of assert()May máº¯n thay, Ä‘a sá»‘ cÃ¡c ngÃ´n ngá»¯ vÃ  thÆ° viá»‡n Ä‘á»u cÃ³ phiÃªn báº£n â€œtinh viâ€ hÆ¡n cá»§a hÃ m assert() báº¡n cÃ³ thá»ƒ dÃ¹ng. Thay vÃ¬ viáº¿t:1assert(output == expected_output);báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng thÆ° viá»‡n Boost C++:1BOOST_REQUIRE_EQUAL(output, expected_output)BÃ¢y giá», náº¿u test lá»—i, báº¡n sáº½ nháº­n Ä‘Æ°á»£c 1 thÃ´ng bÃ¡o chi tiáº¿t nhÆ° sau:12test.cc(37): fatal error in &quot;CheckScoresBeforeAfter&quot;: critical check output == expected_output failed [&quot;1, 3, 4&quot; != &quot;4, 3, 1&quot;]vá»›i nhiá»u thÃ´ng tin há»¯u Ã­ch hÆ¡n. Báº¡n nÃªn sá»­ dá»¥ng cÃ¡c phÆ°Æ¡ng thá»©c há»¯u Ã­ch nÃ y Ä‘á»ƒ assert() khi chÃºng kháº£ dá»¥ng. NÃ³ sáº½ tráº£ vá» cho báº¡n má»—i test khi lá»—i. BETTER ASSERT() IN OTHER LANGUAGESTrong Python, built-in assert a == b sáº½ táº¡o ra lá»—i thÃ´ng bÃ¡o nhÆ°:123File &quot;file.py&quot;, line X, in &lt;module&gt; assert a == bAssertionErrorThay vÃ o Ä‘Ã³ báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng phÆ°Æ¡ng thá»©c assertEqual() trong module unittest:12345678910import unittestclass MyTestCase(unittest.TestCase): def testFunction(self): a = 1 b = 2 self.assertEqual(a, b)if __name__ == '__main__': unittest.main()Sáº½ táº¡o ra thÃ´ng bÃ¡o lá»—i nhÆ°:123File &quot;MyTestCase.py&quot;, line 7, in testFunction self.assertEqual(a, b)AssertionError: 1 != 2Vá»›i má»—i ngÃ´n ngá»¯ báº¡n Ä‘ang sá»­ dá»¥ng, cÃ³ thá»ƒ cÃ³ cÃ¡c library/framework (vÃ­ dá»¥ XUnit) cÃ³ thá»ƒ giÃºp báº¡n. It pays to know your libraries Hand-Crafted Error MessagesSá»­ dá»¥ng BOOST_REQUIRE_EQUAL(), báº¡n cÃ³ thá»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o lá»—i Ä‘áº¹p hÆ¡n:1output == expected_output failed [&quot;1, 3, 4&quot; != &quot;4, 3, 1&quot;]Tuy nhiÃªn thÃ´ng bÃ¡o nÃ y váº«n cÃ³ thá»ƒ Ä‘Æ°á»£c cáº£i thiá»‡n. VÃ­ dá»¥, sáº½ há»¯u Ã­ch hÆ¡n khi nhÃ¬n tháº¥y input gá»‘c cÃ¡i mÃ  Ä‘ang nháº­n lá»—i. Ã tÆ°á»Ÿng thÃ¬ thÃ´ng bÃ¡o lá»—i sáº½ lÃ  cÃ¡i gÃ¬ Ä‘Ã³ nhÆ°:1234CheckScoresBeforeAfter() failed, Input: &quot;-5, 1, 4, -99998.7, 3&quot; Expected Output: &quot;4, 3, 1&quot; Actual Output: &quot;1, 3, 4&quot; Náº¿u Ä‘Ã³ lÃ  thá»© mÃ  báº¡n muá»‘n, thá»­ viáº¿t nÃ³ thÃ´i!123456789void CheckScoresBeforeAfter(...) { ... if (output != expected_output) { cerr &lt;&lt; &quot;CheckScoresBeforeAfter() failed,&quot; &lt;&lt; endl; cerr &lt;&lt; &quot;Input: \\&quot;&quot; &lt;&lt; input &lt;&lt; &quot;\\&quot;&quot; &lt;&lt; endl; cerr &lt;&lt; &quot;Expected Output: \\&quot;&quot; &lt;&lt; expected_output &lt;&lt; &quot;\\&quot;&quot; &lt;&lt; endl; cerr &lt;&lt; &quot;Actual Output: \\&quot;&quot; &lt;&lt; output &lt;&lt; &quot;\\&quot;&quot; &lt;&lt; endl; abort(); } Vá» máº·t tÃ¢m lÃ½, cÃ¡c thÃ´ng bÃ¡o lá»—i nÃªn há»¯u Ã­ch nháº¥t cÃ³ thá»ƒ. ÄÃ´i khi, hiá»ƒn thá»‹ cÃ¡c thÃ´ng bÃ¡o báº±ng cÃ¡ch xÃ¢y dá»±ng láº¡i 1 â€œcustom assertâ€ lÃ  cÃ¡ch tá»‘t nháº¥t Ä‘á»ƒ lÃ m viá»‡c nÃ y. Choosing Good Test InputsCÃ³ 1 nghá»‡ thuáº­t chá»n giÃ¡ trá»‹ cho cÃ¡c Ä‘áº§u vÃ o tá»‘t Ä‘á»‘i vá»›i cÃ¡c test cá»§a báº¡n. Nhá»¯ng cÃ¡i chÃºng ta cÃ³ ngay bÃ¢y giá» cÃ³ váº» hÆ¡i khÃ³ hiá»ƒu1CheckScoresBeforeAfter(&quot;-5, 1, 4, -99998.7, 3&quot;, &quot;4, 3, 1&quot;); LÃ m sao Ä‘á»ƒ chÃºng ta chá»n cÃ¡c giÃ¡ trá»‹ Ä‘áº§u vÃ o tá»‘t? CÃ¡c good inputs nÃªn test triá»‡t Ä‘á»ƒ Ä‘Æ°á»£c code. NhÆ°ng chÃºng cÅ©ng nÃªn Ä‘Æ¡n giáº£n Ä‘á»ƒ dá»… Ä‘á»c. KEY IDEAIn general, you should pick the simplest set of inputs that completely exercise the code. VÃ­ dá»¥, giáº£ Ä‘á»‹nh báº¡n vá»«a má»›i viáº¿t:1CheckScoresBeforeAfter(&quot;1, 2, 3&quot;, &quot;3, 2, 1&quot;);Máº·c dÃ¹ test nÃ y Ä‘Æ¡n giáº£n, nÃ³ khÃ´ng test hÃ nh vi â€œlá»c cÃ¡c Ä‘iá»ƒm sá»‘ Ã¢mâ€ cá»§a hÃ m SortAndFilterDocs(). Náº¿u cÃ³ 1 bug trong pháº§n nÃ y cá»§a code, input nÃ y khÃ´ng kÃ­ch hoáº¡t nÃ³. á» 1 chiá»u hÆ°á»›ng khÃ¡c, giáº£ Ä‘á»‹nh báº¡n viáº¿t test nhÆ°:12CheckScoresBeforeAfter(&quot;123014, -1082342, 823423, 234205, -235235&quot;, &quot;823423, 234205, 123014&quot;);CÃ¡c giÃ¡ trá»‹ nÃ y phá»©c táº¡p khÃ´ng cáº§n thiáº¿t. (VÃ  chÃºng tháº­m chÃ­ khÃ´ng kiá»ƒm tra kÄ© Ä‘Æ°á»£c code) Simplifying the Input ValuesVáº­y chÃºng ta cÃ³ thá»ƒ cáº£i thiá»‡n input nÃ y vá»›i giÃ¡ trá»‹ nÃ o?1CheckScoresBeforeAfter(&quot;-5, 1, 4, -99998.7, 3&quot;, &quot;4, 3, 1&quot;);Well, thá»© Ä‘áº§u tiÃªn báº¡n cÃ³ thá»ƒ nháº­n tháº¥y lÃ  giÃ¡ trá»‹ ráº¥t â€œá»“n Ã oâ€ -99998.7. GiÃ¡ trá»‹ nÃ y chá»‰ cÃ³ nghÄ©a â€œmá»™t vÃ i sá»‘ Ã¢mâ€ do Ä‘Ã³ Ä‘á»ƒ Ä‘Æ¡n giáº£n, nÃ³ nÃªn chá»‰ lÃ  -1 (Náº¿u -99998.7 thÃ¬ nÃªn cÃ³ nghÄ©a lÃ  â€œmá»™t sá»‘ ráº¥t Ã¢mâ€, mÃ  ká»ƒ cáº£ nhÆ° váº­y, má»™t giÃ¡ trá»‹ tá»‘t hÆ¡n cá»§a nÃ³ nÃªn Ä‘Æ°á»£c sáº¯c nÃ©t thÃ nh -1e100) KEY IDEAPrefer clean and simple test values that still get the job done. Nhá»¯ng giÃ¡ trá»‹ khÃ¡c trong test cá»§a chÃºng ta cÅ©ng khÃ´ng quÃ¡ tá»‡, nhÆ°ng trong khi chÃºng ta á»Ÿ Ä‘Ã¢u, chÃºng ta cÃ³ thá»ƒ giáº£m chÃºng thÃ nh cÃ¡c sá»‘ nguyÃªn Ä‘Æ¡n giáº£n nháº¥t cÃ³ thá»ƒ. NgoÃ i ra, chá»‰ cáº§n 1 giÃ¡ trá»‹ Ã¢m lÃ  cáº§n Ä‘á»ƒ test viá»‡c giÃ¡ trá»‹ Ã¢m bá»‹ loáº¡i bá». ÄÃ¢y lÃ  phiÃªn báº£n má»›i cá»§a test:1CheckScoresBeforeAfter(&quot;1, 2, -1, 3&quot;, &quot;3, 2, 1&quot;);ChÃºng ta Ä‘Ã£ Ä‘Æ¡n giáº£n hÃ³a cÃ¡c giÃ¡ trá»‹ cá»§a test mÃ  khÃ´ng há» giáº£m hiá»‡u quáº£ Ä‘i :D LARGE â€œSMASHERâ€ TESTS(TÃ´i Ä‘ang hiá»ƒu lÃ  khÃ´ng nÃªn test cÃ¡c giÃ¡ trá»‹ khá»§ng, thay vÃ o Ä‘Ã³ hiá»‡u quáº£ hÆ¡n lÃ  xÃ¢y dá»±ng nÃ³ theo chÆ°Æ¡ng trÃ¬nh) Cháº¯c cháº¯n cÃ³ nhá»¯ng giÃ¡ trá»‹ trong cÃ¡c test cá»§a báº¡n chá»‘ng láº¡i viá»‡c Ä‘áº§u vÃ o lá»›n, Ä‘iÃªn rá»—. VÃ­ dá»¥, báº¡n cÃ³ thá»ƒ bá»‹ cÃ¡m dá»— bá»Ÿi cÃ¡c test nhÆ°:12CheckScoresBeforeAfter(&quot;100, 38, 19, -25, 4, 84, [lots of values] ...&quot;, &quot;100, 99, 98, 97, 96, 95, 94, 93, ...&quot;);Nhá»¯ng Ä‘áº§u vÃ o lá»›n nhÆ° váº­y lÃ  1 pháº§n cÃ´ng viá»‡c tá»‘t Ä‘á»ƒ tÃ¬m ra lá»—i nhÆ° cÃ¡c lá»—i trÃ n sá»‘ hoáº·c cÃ¡c lá»—i khÃ¡c báº¡n khÃ´ng mong Ä‘á»£i. NhÆ°ng code nhÆ° váº­y lÃ  lá»›n vÃ  Ä‘Ã¡ng sá»£ Ä‘á»ƒ nhÃ¬n vÃ o vÃ  khÃ´ng hoÃ n toÃ n hiá»‡u quáº£ trong viá»‡c stress-testing code. Thay vÃ o Ä‘Ã³, sáº½ hiá»‡u cá»§a hÆ¡n Ä‘á»ƒ xÃ¢y dá»±ng Ä‘áº§u vÃ o 1 Ä‘áº§u vÃ o lá»›n theo chÆ°Æ¡ng trÃ¬nh, khá»Ÿi táº¡o 1 giÃ¡ trá»‹ lá»›n cá»§a 100.000 giÃ¡ trá»‹. Multiple Tests of FunctionalityThay vÃ¬ chá»‰ xÃ¢y dá»±ng 1 Ä‘áº§u vÃ o Ä‘Æ¡n â€œhoÃ n háº£oâ€ Ä‘á»ƒ xem xÃ©t kÄ© lÆ°á»¡ng code, nÃ³ thÆ°á»ng dá»… dÃ ng hÆ¡n, hiá»‡u quáº£ hÆ¡n vÃ  dá»… Ä‘á»c hÆ¡n Ä‘á»ƒ viáº¿t nhiá»u bÃ i kiá»ƒm tra nhá» hÆ¡n. Má»—i test nÃªn Ä‘áº©y vÃ o code cá»§a báº¡n 1 hÆ°á»›ng nháº¥t Ä‘á»‹nh vÃ  thá»­ tÃ¬m lá»—i cá»¥ thá»ƒ. VÃ­ dá»¥ Ä‘Ã¢y lÃ  4 tests cho SortAndFilterDocs():1234CheckScoresBeforeAfter(&quot;2, 1, 3&quot;, &quot;3, 2, 1&quot;); // Basic sortingCheckScoresBeforeAfter(&quot;0, -0.1, -10&quot;, &quot;0&quot;); // All values &lt; 0 removedCheckScoresBeforeAfter(&quot;1, -2, 1, -2&quot;, &quot;1, 1&quot;); // Duplicates not a problemCheckScoresBeforeAfter(&quot;&quot;, &quot;&quot;); // Empty input OK Tháº­m chÃ­ cÃ³ nhiá»u test báº¡n cÃ³ thá»ƒ viáº¿t náº¿u báº¡n muá»‘n kiá»ƒm tra chi tiáº¿t. CÃ³ cÃ¡c test tÃ¡ch biá»‡t cÅ©ng lÃ m nÃ³ dá»… Ä‘á»c vá»›i cÃ¡c ngÆ°á»i tiáº¿p theo lÃ m viá»‡c vá»›i code. Náº¿u ai Ä‘Ã³ tÃ¬nh cá» gáº·p 1 lá»—i, test lá»—i sáº½ xÃ¡c Ä‘á»‹nh cÃ­nh xÃ¡c test nÃ o lá»—i Naming Test FunctionsTest code lÃ  thÆ°á»ng Ä‘Æ°á»£c tá»• chá»©c vÃ o trong hÃ m - má»™t cho má»—i phÆ°Æ¡ng thá»©c vÃ /hoáº·c tÃ¬nh huá»‘ng báº¡n Ä‘ang test. VÃ­ dá»¥, Ä‘oáº¡n code test SortAndFilterDocs() trong 1 hÃ m tÃªn lÃ  Test1():123void Test1() { ...} Chá»n 1 cÃ¡i tÃªn tá»‘t cho 1 hÃ m test cÃ³ váº» táº» nháº¡t vÃ  khÃ´ng liÃªn quan, nhÆ°ng Ä‘á»«ng vÃ¬ tháº¿ mÃ  chá»n nhá»¯ng cÃ¡i tÃªn khÃ´ng cÃ³ nhiá»u Ã½ nghÄ©a nhÆ° Test1(), Test2() hoáº·c tÆ°Æ¡ng tá»±. Thay vÃ¬ Ä‘Ã³ báº¡n nÃªn sá»­ dá»¥ng 1 cÃ¡i tÃªn mÃ´ táº£ chi tiáº¿t vá» test. Cá»¥ thá»ƒ, nÃ³ ráº¥t tiá»‡n dá»¥ng náº¿u ai Ä‘Ã³ Ä‘á»c test code cá»§a báº¡n mÃ  cÃ³ thá»ƒ tÃ¬m ra: Class Ä‘ang Ä‘Æ°á»£c test (náº¿u cÃ³) HÃ m Ä‘ang Ä‘Æ°á»£c test Váº¥n Ä‘á» hoáº·c bug Ä‘ang Ä‘Æ°á»£c test. Má»™t cÃ¡ch tiáº¿p cáº­n Ä‘Æ¡n giáº£n Ä‘á»ƒ khá»Ÿi táº¡o 1 tÃªn hÃ m test tá»‘t lÃ  chá»‰ cáº§n káº¿t há»£p cÃ¡c thÃ´ng tin láº¡i vá»›i nhau, cÃ³ thá»ƒ sá»­ dá»¥ng prefix â€œTest_â€ VÃ­ dá»¥, thay vÃ¬ Ä‘áº·t tÃªn nÃ³ lÃ  Test1(), chÃºng ta cÃ³ thá»ƒ sá»­ dá»¥ng format Test_&lt;FunctionName&gt;():123void Test_SortAndFilterDocs() { ...}TÃ¹y thuá»™c vÃ o má»©c Ä‘á»™ chi tiáº¿t cá»§a test, báº¡n nÃªn cÃ¢n nháº¯c viá»‡c tÃ¡ch cÃ¡c hÃ m test ra thÃ nh má»—i váº¥n Ä‘á» Ä‘á»ƒ test. Báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng Test_&lt;FunctionName&gt;_&lt;Situation&gt;() format:123456789void Test_SortAndFilterDocs_BasicSorting() { ...}void Test_SortAndFilterDocs_NegativeValues() { ...}...Äá»«ng lo láº¯ng lÃ  cÃ³ cÃ¡c tÃªn dÃ i vÃ  lá»™n xá»™n á»Ÿ Ä‘Ã¢y. ÄÃ¢y khÃ´ng pháº£i lÃ  1 hÃ m chÃºng ta sáº½ gá»i trong codebase, do Ä‘Ã³ lÃ½ do Ä‘á»ƒ trÃ¡nh 1 tÃªn dÃ i khÃ´ng Ã¡p dá»¥ng á»Ÿ Ä‘Ã¢y. CÃ¡c tÃªn hÃ m test hoáº¡t Ä‘á»™ng nhÆ° 1 comment. VÃ  nhÆ° váº­y, náº¿u 1 test lá»—i, Ä‘a sá»‘ cÃ¡c frameworks sáº½ in tÃªn hÃ m assert lá»—i ra, do Ä‘Ã³ má»™t tÃªn hÃ m rÃµ rÃ ng sáº½ ráº¥t há»¯u Ã­ch á»Ÿ Ä‘Ã¢y. ChÃº Ã½ ráº±ng náº¿u báº¡n Ä‘ang sá»­ dá»¥ng 1 framework testing, cÃ³ thá»ƒ cÃ³ nhá»¯ng nguyÃªn táº¯c vÃ  conventions vá» tÃªn cá»§a cÃ¡c phÆ°Æ¡ng thá»©c. VÃ­ dá»¥, unittest Python module mong Ä‘á»£i tÃªt cá»§a cÃ¡c phÆ°Æ¡ng thá»©c test báº¯t Ä‘áº§u vá»›i â€œtestâ€. Khi nÃ³i Ä‘áº¿n viá»‡c Ä‘áº·t tÃªn cho cÃ¡c hÃ m helper trong test code, sáº½ há»¯u Ã­ch Ä‘á»ƒ lÃ m ná»•i báº­t lÃªn hÃ m nÃ y cÃ³ tá»± lÃ m má»™t vÃ i assert nÃ o khÃ´ng hay nÃ³ chá»‰ lÃ  má»™t helper test-unaware thÃ´ng thÆ°á»ng. VÃ­ dá»¥, trong chÆ°Æ¡ng nÃ y, má»™t vÃ o hepler Ä‘Æ°á»£c gá»i nhÆ° assert() vá»›i tÃªn Check()â€¦NhÆ°ng hÃ m AddScoredDoc() Ä‘Æ°á»£c Ä‘áº·t tÃªn chá»‰ lÃ  1 helper thÃ´ng thÆ°á»ng. What Was Wrong with That Test?á» pháº§n Ä‘áº§u cá»§a chÆ°Æ¡ng, chÃºng tÃ´i Ä‘Ã£ tuyÃªn bá»‘ ráº±ng cÃ³ Ã­t nháº¥t 8 thá»© Ä‘ang sai vá»›i test nÃ y:123456789101112131415161718192021void Test1() { vector&lt;ScoredDocument&gt; docs; docs.resize(5); docs[0].url = &quot;http://example.com&quot;; docs[0].score = -5.0; docs[1].url = &quot;http://example.com&quot;; docs[1].score = 1; docs[2].url = &quot;http://example.com&quot;; docs[2].score = 4; docs[3].url = &quot;http://example.com&quot;; docs[3].score = -99998.7; docs[4].url = &quot;http://example.com&quot;; docs[4].score = 3.0; SortAndFilterDocs(&amp;docs); assert(docs.size() == 3); assert(docs[0].score == 4); assert(docs[1].score == 3.0); assert(docs[2].score == 1);}BÃ¢y giá» chÃºng ta sáº½ tÃ¬m hiá»ƒu 1 vÃ i kÄ© thuáº­t Ä‘á»ƒ viáº¿t tests tá»‘t hÆ¡n, hÃ£y nháº­n dáº¡ng chÃºng: Test ráº¥t dÃ i vÃ  Ä‘áº§y Ä‘á»§ cÃ¡c chi tiáº¿t khÃ´ng quan trá»ng. Báº¡n cÃ³ thá»ƒ mÃ´ táº£ thá»© mÃ  test nÃ y Ä‘ang lÃ m trong 1 cÃ¢u, do Ä‘Ã³ cÃ¡c lá»‡nh trong test nÃ y khÃ´ng nÃªn quÃ¡ dÃ i. ThÃªm 1 test khÃ¡c khÃ´ng pháº£i dá»…. Khi báº¡n cáº§n copy/paste/modify, cÃ i mÃ  sáº½ lÃ m cho code dÃ i hÆ¡n vÃ  yÃªu cáº§u Ä‘áº§y Ä‘á»§ báº£n sao. ThÃ´ng Ä‘iá»‡p test lá»—i khÃ´ng há»¯u Ã­ch. Náº¿u 1 test lá»—i, nÃ³ sáº½ nÃ³i ráº±ng Assertion failed: docs.size() == 3, cÃ¡i mÃ  khÃ´ng cho báº¡n Ä‘á»§ thÃ´ng tin Ä‘á»ƒ debug thÃªm Test Ä‘ang cá»‘ gáº¯ng test má»i thá»© trong 1 lÃºc. NÃ³ Ä‘ang cá»‘ gáº¯ng test cáº£ lá»c sá»‘ Ã¢m vÃ  chá»©c nÄƒng sáº¯p xáº¿p. NÃ³ sáº½ dá»… Ä‘á»c hÆ¡n náº¿u phÃ¡ vá»¡ vÃ o trong nhiá»u tests. Äáº§u vÃ o test khÃ´ng Ä‘Æ¡n giáº£n. Cá»¥ thá»ƒ, Ä‘iá»ƒm vÃ­ dá»¥ -9998.7 â€œá»“n Ã oâ€ vÃ  nháº­n sá»± chÃº Ã½ máº·c dá»« nÃ³ khÃ´ng pháº£i vÃ  1 vÃ i Ã½ nghÄ©a cá»§a cÃ¡c giÃ¡ trá»‹ Ä‘áº·c biá»‡t. GiÃ¡ trá»‹ cá»§a 1 sá»‘ Ã¢m Ä‘Æ¡n giáº£n hÆ¡n sáº½ lÃ  Ä‘á»§. CÃ¡c input cá»§a test khÃ´ng thá»±c hiá»‡n kiá»ƒm tra kÄ© lÆ°á»¡ng Ä‘Æ°á»£c code. VÃ­ dá»¥, nÃ³ khÃ´ng test trÆ°á»ng há»£p Ä‘iá»ƒm lÃ  0 (Báº¡n cáº§n pháº£i xem tÃ i liá»‡u Ä‘á»ƒ biáº¿t ráº±ng nÃ³ cÃ³ filter hay khÃ´ng?) NÃ³ khÃ´ng test cÃ¡c Ä‘áº§u vÃ o cá»±c Ä‘oáº¡n khÃ¡c, nhÆ° 1 vector trá»‘ng, 1 vector lá»›n hoáº·c 1 Ä‘iá»ƒm láº·p láº¡i. TÃªn Test1() khÃ´ng cÃ³ nhiá»u Ã½ nghÄ©a - tÃªn nÃªn mÃ´ táº£ chá»©c nÄƒng vÃ  váº¥n Ä‘á» Ä‘ang test. Test-Friendly DevelopmentMá»™t vÃ i code dá»… dÃ ng Ä‘á»ƒ test hÆ¡n code khÃ¡c. Code lÃ½ tÆ°á»Ÿng Ä‘á»ƒ test lÃ  cÃ³ giao diá»‡n Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a mÃ  mÃ  khÃ´ng cÃ³ nhiá»u tráº¡ng thÃ¡i hoáº·c â€œsetupâ€ khÃ¡c vÃ  khÃ´ng cÃ³ nhiá»u dá»¯ liá»‡u áº©n Ä‘á»ƒ kiá»ƒm tra. Náº¿u báº¡n viáº¿t code vÃ  báº¡n biáº¿t sáº½ viáº¿t test cho nÃ³ sau Ä‘Ã³, má»™t thá»© vui váº» sáº½ diá»…n ra: báº¡n báº¯t Ä‘áº§u thiáº¿t káº¿ code Ä‘á»ƒ dá»… dÃ ng test!. May máº¯n thay, coding theo cÃ¡ch nÃ y cÅ©ng cÃ³ nghÄ©a báº¡n táº¡o code tá»‘t hÆ¡n thÃ´ng thÆ°á»ng. Thiáº¿t káº¿ Test-friendly thÆ°á»ng 1 cÃ¡ch tá»± nhiÃªn sáº½ dáº«n Ä‘áº¿n code tá»• chá»©c tá»‘t hÆ¡n, vá»›i cÃ¡c pháº§n riÃªng biá»‡t lÃ m nhá»¯ng thá»© riÃªng biá»‡t TEST-DRIVEN DEVELOPMENTTest-driven development (TDD) lÃ  cÃ¡ch láº­p trÃ¬nh khi mÃ  báº¡n sáº½ xÃ¢y dá»±ng cÃ¡c tests trÆ°á»›c khi báº¡n viáº¿t code thá»±c táº¿. Nhá»¯ng ngÆ°á»i Ä‘á» xuáº¥t TDD tin tÆ°á»Ÿng ráº±ng quÃ¡ trÃ¬nh nÃ y cáº£i thiá»‡n sÃ¢u sáº¯c cháº¥t lÆ°á»£ng cÃ¡c Ä‘oáº¡n nontest code hÆ¡n nhiá»u so vá»›i náº¿u báº¡n viáº¿t cÃ¡c tests sau khi viáº¿t code. ÄÃ¢y lÃ  1 chá»§ Ä‘á» tranh luáº­n sÃ´i ná»•i mÃ  chÃºng tÃ´i khÃ´ng Ä‘i sÃ¢u vÃ o. Ãt nháº¥t, chÃºng tÃ´i Ä‘Ã£ tÃ¬m tháº¥y ráº±ng, chá»‰ cáº§n giá»¯ cÃ¡c testing trong khi viáº¿t code sáº½ giÃºp code tá»‘t hÆ¡n. NhÆ°ng mÃ  báº¥t ká»ƒ cho báº¡n triá»ƒn khai TDD, káº¿t quáº£ cuá»‘i cÃ¹ng lÃ  báº¡n cÃ³ code Ä‘á»ƒ test cÃ¡c code khÃ¡c. Má»¥c Ä‘Ã­ch cá»§a chÆ°Æ¡ng nÃ y lÃ  giÃºp báº¡n táº¡o cÃ¡c test dá»… Ä‘á»c vÃ  dá»… viáº¿t. Trong táº¥t cáº£ cÃ¡c cÃ¡ch Ä‘á»ƒ chia 1 chÆ°Æ¡ng trÃ¬nh vÃ o trong lá»›p vÃ  phÆ°Æ¡ng thá»©c,nhá»¯ng cÃ¡ch tÃ¡ch rá»i nháº¥t thÆ°á»ng dá»… test nháº¥t. NÃ³i 1 cÃ¡ch khÃ¡c, hÃ£y nÃ³i chÆ°Æ¡ng trÃ¬nh cá»§a báº¡n ráº¥t káº¿t ná»‘i vá»›i nhau, vá»›i 1 vÃ o phÆ°Æ¡ng thá»©c Ä‘Æ°á»£c gá»i giá»¯a cÃ¡c lá»›p vÃ  nhiá»u tham sá»‘ cho táº¥t cáº£ cÃ¡c phÆ°Æ¡ng thá»©c. ChÆ°Æ¡ng trÃ¬nh Ä‘Ã³ khÃ´ng chá»‰ cÃ³ code khÃ³ hiá»ƒu mÃ  test code cÅ©ng xáº¥u xÃ­ vÃ  khÃ³ Ä‘á»c, khÃ³ viáº¿t. CÃ³ nhiá»u thÃ nh pháº§n â€œbÃªn ngoÃ iâ€ (cÃ¡c biáº¿n global cáº§n Ä‘Æ°á»£c khá»Ÿi táº¡o, thÆ° viá»‡n hoáº·c file cáº¥u hÃ¬nh cáº§n Ä‘Æ°á»£c load) cÃ¹ng lÃ m nÃ³ khÃ³ chá»‹u hÆ¡n Ä‘á»ƒ viáº¿t tests. NÃ³i chung, náº¿u báº¡n Ä‘ang thiáº¿t káº¿ code cá»§a báº¡n vÃ  nháº­n ra Hnn, tháº­t lÃ  1 cÆ¡n Ã¡c má»™ng Ä‘á»ƒ test, Ä‘Ã¢y lÃ  1 lÃ½ do tá»‘t Ä‘á»ƒ dá»«ng vÃ  suy nghÄ©a láº¡i cÃ¡c thiáº¿t káº¿. Báº£ng 14-1 chá»‰ ra 1 vÃ i cÃ¡c testing Ä‘iá»ƒn hÃ¬nh vÃ  cÃ¡c váº¥n Ä‘á» vá» thiáº¿t káº¿. TABLE 14-1. Characteristics of less testable code, and how this leads to problems with design Characteristic Testability problem Design problem Use of global variables All the global state needs to reset for every test (otherwise, different tests can interfere with each other). Hard to understand which functions have what side effects. Canâ€™t think about each function in isolation; need to consider the whole program to understand if everything works. Code depends on a lot of external components Itâ€™s harder to write any tests because thereâ€™s so much scaffolding to set up first. Tests are less fun to write, so people avoid writing tests. System is more likely to fail when one of the dependencies fails. Itâ€™s harder to understand what impact any given change might make. Itâ€™s harder to refactor classes. System has more failure modes and recovery paths to think about. Code has nondeterministic behavior Tests are flaky and unreliable. Tests that occasionally fail end up being ignored. The program is more likely to have race conditions or other nonreproducible bugs. The program is harder to reason about. Bugs in production are very difficult to track down and fix Trong 1 chiá»u hÆ°á»›ng khÃ¡c, náº¿u báº¡n cÃ³ 1 thiáº¿t káº¿ code dá»… dÃ ng Ä‘á»ƒ viáº¿t test, Ä‘Ã³ lÃ  1 dáº¥u hiá»‡u tá»‘t. Báº£ng 14-2 chá»‰ ra 1 vÃ i lá»£i Ã­ch cá»§a testing vÃ  cÃ¡c Ä‘áº·c Ä‘iá»ƒm thiáº¿t káº¿. TABLE 14-2. Characteristics of more testable code, and how this leads to good design Characteristic Testability problem Design problem Classes have little or no internal state Tests are easier to write because there is less setup needed to test a method and less hidden state to inspect. Classes with less state are simpler and easier to understand. Classes/functions only do one thing Fewer test cases are required to fully test it. Smaller/simpler components are more modular, and the system is generally more decoupled. Classes depend on few other classes; high decoupling Each class can be tested independently (much easier than testing multiple classes at once). System can be developed in parallel. Classes can be easily modified or removed without disrupting the rest of the system Functions have simple, well-defined interfaces There are well-defined behaviors to test for. Simple interfaces take less work to test. Interfaces are easier for coders to learn and are more likely to be reused. Going Too FarNÃ³ cÅ©ng cÃ³ thá»ƒ táº­p trung quÃ¡ nhiá»u thá»© trong test. ÄÃ¢y lÃ  1 vÃ i vÃ­ dá»¥: Hi sinh kháº£ nÄƒng Ä‘á»c real code Ä‘á»ƒ cho phÃ©p test. Thiáº¿t káº¿ real code Ä‘á»ƒ cÃ³ thá»ƒ test Ä‘Æ°á»£c sáº½ lÃ  váº¥n Ä‘á» win-win: real code trá»Ÿ nÃªn Ä‘Æ¡n giáº£n vÃ  nhiá»u pháº§n tÃ¡ch rá»i vÃ  cÃ¡c test cá»§a báº¡n cÅ©ng dá»… viáº¿t. NhÆ°ng náº¿u báº¡n pháº£i chÃ¨n nhiá»u cÃ¡c Ä‘Æ°á»ng á»‘ng xáº¥u xÃ­ vÃ o real code Ä‘á»ƒ báº¡n cÃ³ thá»ƒ test Ä‘Æ°á»£c, thÃ¬ cÃ³ gÃ¬ Ä‘Ã³ sai sai á»Ÿ Ä‘Ã¢y. Bá»‹ Ã¡m áº£nh vá» 100% pháº¡m vi test. Testing láº§n Ä‘áº§u 90% code cá»§a báº¡n thÆ°á»ng lÃ m viá»‡c Ã­t hÆ¡n 10% cuá»‘i. 10% cuá»‘i cÃ³ thá»ƒ liÃªn quan Ä‘áº¿n giao diá»‡n ngÆ°á»i dÃ¹ng, hoáº·c Ä‘Æ°a ra cÃ¡c trÆ°á»ng há»£p lá»—i, mÃ  cÃ¡i giÃ¡ cá»§a bug khÃ´ng thá»±c sá»± code vÃ  cÃ¡c ná»— lá»±c Ä‘á»ƒ test nÃ³ cÅ©ng khÃ´ng Ä‘Ã¡ng. Sá»± tháº­t lÃ  báº¡n khÃ´ng bao giá» cÃ³ pháº¡m vi test 100%. Náº¿u nÃ³ khÃ´ng pháº£i lÃ  1 lá»—i bá»‹ bá» qua, nÃ³ cÃ³ thá»ƒ lÃ  1 chá»©c nÄƒng bá»‹ bá» qua hoáº·c báº¡n khÃ´ng nháº­n ra Ä‘Æ°á»£c ráº±ng spec Ä‘Ã£ Ä‘Æ°á»£c thay Ä‘á»•i. TÃ¹y thuá»™c vÃ o lá»—i cá»§a báº¡n tá»‘n kÃ©m nhÆ° tháº¿ nÃ o, sáº½ cÃ³ Ä‘iá»ƒm thÃº vá»‹ vá» thá»i gian phÃ¡t triá»ƒn Ä‘Ã¡ng ká»ƒ Ä‘á»ƒ dÃ nh cho test code. Náº¿u báº¡n Ä‘ang xÃ¢y dá»±ng nguyÃªn máº«u 1 trang website, nÃ³ cÃ³ thá»ƒ khÃ´ng Ä‘Ã¡ng Ä‘á»ƒ viáº¿t 1 vÃ i test code nÃ o cáº£. Máº·t khÃ¡c, náº¿u báº¡n Ä‘ang viáº¿t 1 bá»™ Ä‘iá»u khiá»ƒn cho tÃ u vÅ© trá»¥ hoáº·c cÃ¡c thiáº¿t bá»‹ y táº¿, testing cÃ³ thá»ƒ lÃ  má»¥c tiÃªu chÃ­nh cá»§a báº¡n. HÃ£y Ä‘á»ƒ testing cÃ³ trong cÃ¡ch phÃ¡t triá»ƒn sáº£n pháº©m. ChÃºng ta Ä‘Ã£ tháº¥y cÃ¡c tÃ¬nh huá»‘ng trong Ä‘Ã³ thá»­ nghiá»‡m, vá»‘n chá»‰ lÃ  má»™t khÃ­a cáº¡nh cá»§a dá»± Ã¡n, chi phá»‘i toÃ n bá»™ dá»± Ã¡n. Thá»­ nghiá»‡m trá»Ÿ thÃ nh má»™t loáº¡i tháº§n Ä‘Æ°á»£c xoa dá»‹u, vÃ  cÃ¡c láº­p trÃ¬nh viÃªn chá»‰ tráº£i qua cÃ¡c nghi thá»©c vÃ  chuyá»ƒn Ä‘á»™ng mÃ  khÃ´ng nháº­n ra ráº±ng thá»i gian ká»¹ thuáº­t quÃ½ giÃ¡ cá»§a há» cÃ³ thá»ƒ Ä‘Æ°á»£c chi tiÃªu tá»‘t hÆ¡n á»Ÿ nÆ¡i khÃ¡c. SummaryTrong test code, kháº£ nÄƒng Ä‘á»c lÃ  ráº¥t quan trá»ng. Náº¿u test cá»§a báº¡n dá»… Ä‘á»c, chÃºng sáº½ dá»… viáº¿t, má»i ngÆ°á»i sáº½ thÃªm Ä‘Æ°á»£c nhiá»u. CÅ©ng nhÆ° váº­y, náº¿u báº¡n thiáº¿t káº¿ real code dá»… test, code cá»§a báº¡n sáº½ cÃ³ 1 thiáº¿t káº¿ tá»•ng thá»ƒ tá»‘t hÆ¡n. ÄÃ¢y lÃ  1 vÃ i Ä‘iá»ƒm Ä‘á»ƒ cáº£i thiá»‡n test cá»§a báº¡n á» má»©c cao nháº¥t cá»§a má»—i test nÃªn ngáº¯n gá»n nháº¥t cÃ³ thá»ƒ, lÃ½ tÆ°á»Ÿng nháº¥t, má»—i test input/ouput cÃ³ thá»ƒ mÃ´ táº£ trong 1 dÃ²ng code. Náº¿u test cá»§a báº¡n lá»—i, nÃ³ nÃªn báº¯n ra 1 thÃ´ng Ä‘iá»‡p lá»—i lÃ m cho lá»—i dá»… dÃ ng tÃ¬m ra vÃ  sá»­a Sá»­ dá»¥ng cÃ¡c input test Ä‘Æ¡n giáº£n nháº¥t kiá»ƒm tra code cá»§a báº¡n TÃªn cÃ¡c hÃ m test cáº§n Ä‘áº§y Ä‘á»§ mÃ´ táº£ vÃ  rÃµ rÃ ng cho má»—i test. Thay vÃ¬ tÃªn Test1(), sá»­ dá»¥ng 1 cÃ¡i tÃªn nhÆ° Test_&lt;FunctionName&gt;_&lt;Situation&gt;. VÃ  trÃªn háº¿t, lÃ m cho viá»‡c sá»­a Ä‘á»•i vÃ  thÃªm 1 test dá»… dÃ ng.","link":"/2020/05/24/Chapter-14-Testing-and-Readability/"},{"title":"Chapter 15: Designing and Implementing a â€œMinute&#x2F;Hour Counterâ€","text":"HÃ£y xem 1 cáº¥u trÃºc dá»¯ liá»‡u Ä‘Æ°á»£c sá»­ dá»¥ng trong code production thá»±c táº¿: má»™t â€œminute/hour counterâ€. ChÃºng tÃ´i sáº½ Ä‘Æ°a ra cho báº¡n quÃ¡ trÃ¬nh tá»± suy nghÄ© tá»± nhiÃªn cá»§a 1 kÄ© sÆ° cÃ³ thá»ƒ tráº£i qua, Ä‘áº§u tiÃªn thá»­ giáº£i quyáº¿t váº¥n Ä‘á» vÃ  sao Ä‘Ã³ cáº£i thiá»‡n hiá»‡u nÄƒng cá»§a nÃ³ vÃ  thÃªm cÃ¡c chá»©c nÄƒng. Quan trá»ng nháº¥t, chÃºng ta sáº½ cá»‘ gáº¯ng Ä‘á»ƒ code dá»… Ä‘á»c , sá»­ dá»¥ng cÃ¡c nguyÃªn táº¯c trong cuá»‘n sÃ¡ch nÃ y. ChÃºng tÃ´i cÃ³ thá»ƒ cÃ³ má»™t sá»‘ lÆ°á»£t sai trÃªn Ä‘Æ°á»ng Ä‘i hoáº·c pháº¡m sai láº§m khÃ¡c. HÃ£y xem náº¿u báº¡n cÃ³ thá»ƒ lÃ m theo vÃ  báº¯t Ä‘Æ°á»£c chÃºng. The ProblemChÃºng ta cáº§n theo dÃµi sá»‘ lÆ°á»£ng bytes cá»§a 1 web server Ä‘Æ°á»£c truyá»n trong 1 phÃºt vÃ  trong 1 giá». ÄÃ¢y lÃ  1 váº¥n Ä‘á» khÃ¡c Ä‘Æ¡n giáº£n, nhÆ°ng nhÆ° báº¡n sáº½ tháº¥y, giáº£i quyáº¿t nÃ³ hiá»‡u quáº£ lÃ  1 thá»­ thÃ¡ch thÃº vá»‹. HÃ£y báº¯t Ä‘áº§u báº±ng viá»‡c Ä‘á»‹nh nghÄ©a class interface. Defining the Class InterfaceÄÃ¢y lÃ  phiÃªn báº£n Ä‘áº§u tiÃªn cá»§a chÃºng ta vá»›i class interface trong C++:1234567891011class MinuteHourCounter { public: // Add a count void Count(int num_bytes); // Return the count over this minute int MinuteCount(); // Return the count over this hour int HourCount();};TrÆ°á»›c khi chÃºng ta thá»±c thÆ° lá»›p nÃ y, hÃ£y xem vá» tÃªn vÃ  comment náº¿u cÃ³ 1 vÃ i thá»© gÃ¬ Ä‘Ã³ chÃºng ta muá»‘n thay Ä‘á»•i. Improving the NamesTÃªn MinuteHourCounter khÃ¡ tá»‘t. NÃ³ rÃµ rÃ ng, cá»¥ thá»ƒ vÃ  dá»… Ä‘á»c. Trong lá»›p nÃ y, phÆ°Æ¡ng thá»©c MinuteCount() vÃ  HourCount() cÅ©ng há»£p lÃ½. Báº¡n cÅ©ng cÃ³ thá»ƒ gá»i nÃ³ lÃ  GetMinuteCount() vÃ  GetHourCount() nhÆ°ng khÃ´ng giÃºp Ã­ch Ä‘Æ°á»£c nhiá»u. NhÆ° chÃºng tÃ´i Ä‘Ã£ nÃ³i á»Ÿ chÆ°Æ¡ng 3 Names That Canâ€™t Be Misconstrued, â€œgetâ€ ngá»¥ Ã½ â€œlightweight accessorâ€ (kiá»ƒu theo tÃ¡c nháº¹ nhÃ ng thÃ´i) vá»›i nhiá»u ngÆ°á»i. VÃ  nhÆ° báº¡n tháº¥y, sá»± thá»±c thi nÃ y khÃ´ng nháº¹ nhÃ ng, do Ä‘Ã³ tá»‘t nháº¥t lÃ  bá» â€œgetâ€ Ä‘i. PhÆ°Æ¡ng thá»©c tÃªn Count() thÃ¬ cÃ³ váº¥n Ä‘á». ChÃºng tÃ´i Ä‘Ã£ há»i Ä‘á»“ng nghiá»‡p lÃ  há» nghÄ© Count() sáº½ lÃ m gÃ¬ Ã  1 sá»‘ ngÆ°á»i Ä‘Ã£ nghÄ© nÃ³ lÃ  â€œtráº£ vá» tá»•ng sá»‘ Ä‘áº¿m trong má»i lÃºcâ€. TÃªn nÃ y cÃ³ 1 chÃºt pháº£n trá»±c giÃ¡c (khÃ´ng cÃ³ Ã½ Ä‘á»‹nh chÆ¡i chá»¯). Váº¥n Ä‘á» lÃ  Count vá»«a lÃ  danh tá»« vá»«a lÃ  Ä‘á»™ng tá»« vÃ  cÃ³ thá»ƒ nghÄ©a lÃ  cáº£ â€œTÃ´i muá»‘n Ä‘áº¿m sá»‘ máº«u báº¡n Ä‘Ã£ tháº¥yâ€ hoáº·c â€œTÃ´i muá»‘n báº¡n Ä‘áº¿m máº«u nÃ yâ€. ÄÃ¢y lÃ  1 vÃ i tÃªn thay tháº¿ cÃ³ thá»ƒ cÃ¢n nháº¯c vá»›i Count():â€¢ Increment()â€¢ Observe()â€¢ Record()â€¢ Add() Increment() cÃ³ thá»ƒ gÃ¢y hiá»ƒu nháº§m vÃ¬ nÃ³ cÃ³ Ã½ lÃ  giÃ¡ trá»‹ nÃ y chá»‰ tÄƒng (trong trÆ°á»ng há»£p cá»§a chÃºng ta, sá»‘ giá» giao Ä‘á»™ng theo thá»i gian)Observe() okay, nhÆ°ng hÆ¡i mÆ¡ há»“.Record() cÅ©ng vá»«a lÃ  danh tá»«, vá»«a lÃ  Ä‘á»™ng tá»«, khÃ´ng tá»‘t láº¯m.Add() thÃº vá»‹ vÃ¬ nÃ³ vá»«a cÃ³ nghÄ©a â€œthÃªm sá»‘ nÃ yâ€ hoáº·c â€œthÃªm 1 danh sÃ¡ch cá»§a dá»¯ liá»‡uâ€ - trong trÆ°á»ng há»£p cá»§a chÃºng ta, nÃ³ lÃ  1 chÃºt cá»§a cáº£ 2 do Ä‘Ã³ váº«n hoáº¡t Ä‘á»™ng. Do Ä‘Ã³ chÃºng ta sáº½ Ä‘á»•i tÃªn phÆ°Æ¡ng thá»©c thÃ nh void Add(int num_bytes) NhÆ°ng Ä‘á»‘i sá»‘ vá»›i tÃªn num_bytes quÃ¡ cá»¥ thá»ƒ. ÄÃºng, trÆ°á»ng há»£p sá»­ dá»¥ng chÃ­nh cá»§a chÃºng ta lÃ  Ä‘áº¿m cá»‘ bytes nhÆ°ng MinuteHourCounter khÃ´ng cáº§n biáº¿t Ä‘iá»u Ä‘Ã³. ChÃºng ta cÃ³ thá»ƒ sá»­ dá»¥ng nhiá»u tÃªn chung hÆ¡n nhÆ° delta nhÆ°ng khÃ¡i niá»‡m delta thÆ°á»ng Ä‘Æ°á»£c sá»­ dá»¥ng cho cáº£ sá»‘ Ã¢m, vÃ  Ä‘Ã³ lÃ  Ä‘iá»u chÃºng ta khÃ´ng muá»‘n. TÃªn count nÃªn Ä‘Æ°á»£c sá»­ dá»¥ng - nÃ³ Ä‘Æ¡n giáº£n, chung hÆ¡n vÃ  ngá»¥ Ã½ lÃ  â€œkhÃ´ng Ã¢mâ€. NgoÃ i ra, nÃ³ cÃ²n cho phÃ©p chÃºng ta lÃ©n lÃºt sá»­ dá»¥ng tá»« â€œcountâ€ trong má»™t bá»‘i cáº£nh Ã­t mÆ¡ há»“ hÆ¡n. 15.2.2. Improving the CommentsÄÃ¢y lÃ  class interface chÃºng ta cÃ³ cho Ä‘áº¿n thá»i Ä‘iá»ƒm hiá»‡n táº¡i:1234567891011class MinuteHourCounter {public: // Add a count void Add(int count); // Return the count over this minute int MinuteCount(); // Return the count over this hour int HourCount();};HÃ£y xem má»—i comment vÃ  cáº£i thiá»‡n chÃºng. Xem xÃ©t comment Ä‘áº§u tiÃªn:12// Add a countvoid Add(int count);Comment nÃ y hoÃ n toÃ n dÆ° thá»«a - nÃ³ nÃªn Ä‘Æ°á»£c xÃ³a hoáº·c cáº£i thiá»‡n. ÄÃ¢y lÃ  phiÃªn báº£n cáº£i thiá»‡n cá»§a nÃ³:1234// Add a new data point (count &gt;= 0).// For the next minute, MinuteCount() will be larger by +count.// For the next hour, HourCount() will be larger by +count.void Add(int count);BÃ¢y giá» xem xÃ©t comment cho MinuteCount():12// Return the count over this minuteint MinuteCount();Khi chÃºng tÃ´i há»i Ä‘á»“ng nghiá»‡p ráº±ng comment nÃ y cÃ³ nghÄ©a lÃ  gÃ¬, cÃ³ 2 sá»± giáº£i thÃ­ch mÃ¢u thuáº«n: Tráº£ vá» sá»‘ Ä‘áº¿m trong Ä‘á»“ng há»“, nhÆ° lÃ  12:13pm Tráº£ vá» sá»‘ Ä‘áº¿m trong 60 giÃ¢y, báº¥t ká»ƒ ranh giá»›i phÃºt Ä‘á»“ng há»“.CÃ¡ch hiá»ƒu thá»­ 2 lÃ  Ä‘Ãºng cÃ¡i mÃ  nÃ³ Ä‘ang hoáº¡t Ä‘á»™ng. Do Ä‘Ã³ Ä‘á»ƒ khÃ´ng bá»‹ hiá»ƒu nháº§m, chÃºng ta sáº½ thÃªm mÃ´ táº£ comment:12// Return the accumulated count over the past 60 seconds.int MinuteCount(); (TÆ°Æ¡ng tá»±, báº¡n hoÃ n toÃ n cÃ³ thá»ƒ cáº£i thiá»‡n comment cho HourCount()) ÄÃ¢y lÃ  Ä‘á»‹nh nghÄ©a lá»›p sau táº¥t cáº£ thay Ä‘á»•i cho Ä‘áº¿n thá»i Ä‘iá»ƒm hiá»‡n táº¡i, vá»›i cÃ¡c comment class-level:1234567891011121314// Track the cumulative counts over the past minute and over the past hour.// Useful, for example, to track recent bandwidth usage.class MinuteHourCounter { // Add a new data point (count &gt;= 0). // For the next minute, MinuteCount() will be larger by +count. // For the next hour, HourCount() will be larger by +count. void Add(int count); // Return the accumulated count over the past 60 seconds. int MinuteCount(); // Return the accumulated count over the past 3600 seconds. int HourCount();};(Äá»ƒ ngáº¯n gá»n, chÃºng tÃ´i sáº½ bá» láº¡i comment nÃ y tá»« bÃ¢y giá») GETTING AN OUTSIDE PERSPECTIVEBáº¡n Ä‘Ã£ nháº­n tháº¥y ráº±ng Ä‘Ã£ cÃ³ 1 vÃ i trÆ°á»ng há»£p chÃºng ta cháº¡y cÃ¡c thá»© bá»Ÿi Ä‘á»“ng nghiá»‡p. Há»i há» Ä‘á»ƒ cÃ³ 1 vÃ i quan Ä‘iá»ƒm bÃªn ngoÃ i lÃ  cÃ¡ch tá»‘t Ä‘á»ƒ kiá»ƒm tra xem code cá»§a báº¡n cÃ³ â€œuser-friendlyâ€ chÆ°a. Cá»‘ gáº¯ng cá»Ÿi má»Ÿ vá»›i nhá»¯ng áº¥n tÆ°á»£ng Ä‘áº§u tiÃªn cá»§a há», vÃ¬ nhá»¯ng ngÆ°á»i khÃ¡c cÃ³ thá»ƒ cÃ³ thá»ƒ Ä‘i Ä‘áº¿n káº¿t luáº­n tÆ°Æ¡ng tá»±. VÃ  â€œngÆ°á»i khÃ¡câ€ á»Ÿ Ä‘Ã¢y cÃ³ thá»ƒ lÃ  chÃ­nh báº¡n 6 thÃ¡ng tá»›i :D. Attempt 1: A Naive SolutionTiáº¿p tá»¥c giáº£i quyáº¿t váº¥n Ä‘á». ChÃºng ta sáº½ báº¯t Ä‘áº§u vá»›i 1 giáº£i phÃ¡p Ä‘Æ¡n giáº£n: chá»‰ giá»¯ danh sÃ¡ch sá»± kiá»‡n thá»i gian:12345678910111213141516class MinuteHourCounter { struct Event { Event(int count, time_t time) : count(count), time(time) {} int count; time_t time; }; list&lt;Event&gt; events; public: void Add(int count) { events.push_back(Event(count, time())); } ...};ChÃºng tÃ´i cÃ³ thá»ƒ Ä‘áº¿m qua sá»± kiá»‡n gáº§n Ä‘Ã¢y nháº¥t náº¿u cáº§n:1234567891011121314151617181920212223class MinuteHourCounter { ... int MinuteCount() { int count = 0; const time_t now_secs = time(); for (list&lt;Event&gt;::reverse_iterator i = events.rbegin(); i != events.rend() &amp;&amp; i-&gt;time &gt; now_secs - 60; ++i) { count += i-&gt;count; } return count; } int HourCount() { int count = 0; const time_t now_secs = time(); for (list&lt;Event&gt;::reverse_iterator i = events.rbegin(); i != events.rend() &amp;&amp; i-&gt;time &gt; now_secs - 3600; ++i) { count += i-&gt;count; } return count; }}; Is the Code Easy to Understand?Máº·c dÃ¹ giáº£i phÃ¡p lÃ  â€œÄ‘Ãºngâ€ nhÆ°ng cÃ³ 1 vÃ i váº¥n Ä‘á» quanh viá»‡c Ä‘á»c code: VÃ²ng láº·p for cÃ³ 1 chÃºt láº¯m má»“m =)). Nhiá»u ngÆ°á»i Ä‘á»c sáº½ pháº£i cháº­m láº¡i Ä‘Ã¡ng ká»ƒ trong khi há» Ä‘ang Ä‘á»c pháº§n nÃ y cá»§a code (Ã­t nháº¥t há» nÃªn váº­y, náº¿u há» cháº¯c cháº¯c ráº±ng chá»— nÃ y khÃ´ng cÃ³ 1 vÃ i lá»—i) MinuteCount() vÃ  HourCount() gáº§n nhÆ° giá»‘ng há»‡t. Báº¡n nÃªn lÃ m code nhá» honwn náº¿u chÃºng bá»‹ láº·p code. Chi tiáº¿t nÃ y cá»±c kÃ¬ quan trá»ng vÃ¬ viá»‡c giáº£m thiá»ƒu code lÃ  tÆ°Æ¡ng Ä‘á»‘i phá»©c táº¡p (Tá»‘t hÆ¡n lÃ  cÃ³ táº¥t cáº£ cÃ¡c code khÃ³ cÃ³ giá»›i háº¡n trong 1 chá»—) An Easier-to-Read VersionCode cá»§a MinuteCount() vÃ  HourCount() giá» chá»‰ khÃ¡c nhau háº±ng sá»‘ (60 vs 3600). TÃ¡i cáº¥u trÃºc mÃ£ rÃµ rÃ ng, thÃªm helper Ä‘á»ƒ xá»­ lÃ½ cáº£ 2 trÆ°á»ng há»£p:12345678910111213141516171819202122232425262728class MinuteHourCounter { list&lt;Event&gt; events; int CountSince(time_t cutoff) { int count = 0; for (list&lt;Event&gt;::reverse_iterator rit = events.rbegin(); rit != events.rend(); ++rit) { if (rit-&gt;time &lt;= cutoff) { break; } count += rit-&gt;count; } return count; } public: void Add(int count) { events.push_back(Event(count, time())); } int MinuteCount() { return CountSince(time() - 60); } int HourCount() { return CountSince(time() - 3600); }};CÃ³ 1 vÃ i Ä‘iá»ƒm Ä‘Ã¡ng ká»ƒ trong Ä‘oáº¡n mÃ£ má»›i nÃ y. Äáº§u tiÃªn lÃ  CountSince() nháº­n vÃ o 1 Ä‘á»‘i sá»‘ cutoff tuyá»‡t Ä‘á»‘i hÆ¡n lÃ  nháº­n vÃ o 1 secs_ago tÆ°Æ¡ng Ä‘á»‘i vá»›i giÃ¡ trá»‹ (60 hoáº·c 3600). Máº·c dÃ¹ cÃ¡ch nÃ y váº«n lÃ m viá»‡c, nhÆ°ng cÃ¡ch nÃ y lÃ m CountSince() cÃ³ 1 cÃ´ng viá»‡c dá»… dÃ ng hÆ¡n 1 chÃºt. Thá»© 2 lÃ  viá»‡c Ä‘áº·t tÃªn vÃ²ng láº·p tá»« i thÃ nh rit. TÃªn i thÆ°á»ng Ä‘Æ°á»£c sá»­ dá»¥ng cho chá»‰ sá»‘ sá»‘ nguyÃªn. ChÃºng tÃ´i suy ngáº«m sá»­ dá»¥ng tÃªn it, lÃ  chung cho vÃ²ng láº·p. NhÆ°ng trÆ°á»ng há»£p nÃ y chÃºng tÃ´i Ä‘ang cÃ³ 1 vÃ²ng láº·p ngÆ°á»£c láº¡i vÃ  thá»±c táº¿ nÃ y quan trá»ng cho sá»± Ä‘Ãºng Ä‘áº¯n cá»§a code. Báº±ng cÃ¡ch cÃ³ pháº§n tiá»n tá»‘ tÃªn biáº¿n vá»›i r, nÃ³ thÃªm 1 Ä‘á»‘i xá»©ng thoáº£i mÃ¡i cho cÃ¡c cÃ¢u lá»‡nh kiá»ƒu rit != events.rend(). Cuá»‘i cÃ¹ng, chÃºng tÃ´i trÃ­ch xuáº¥t Ä‘iá»u kiá»‡n rit-&gt;time &lt;= cutoff khá»i vÃ²ng láº·p vÃ  lÃ m nÃ³ tÃ¡ch biá»‡t if. Táº¡i sao? Bá»Ÿi vÃ¬ cÃ¡c vÃ²ng láº·p â€œtruyá»n thá»‘ngâ€ cÃ³ dáº¡ng for(begin; end; advance) dá»… Ä‘á»c. NgÆ°á»i Ä‘á»c cÃ³ thá»ƒ hiá»ƒu ngay láº­p tá»©c nÃ³ Ä‘ang â€œÄ‘i qua táº¥t cáº£ cÃ¡c pháº§n tá»­â€ vÃ  khÃ´ng nghá»‰ nhiá»u vá» nÃ³. Performance ProblemsMáº·c dÃ¹ chÃºng ta Ä‘Ã£ cáº£i thiá»‡n Ä‘Æ°á»£c tháº©m má»¹ cá»§a code, nhÆ°ng cÃ¡ch thiáº¿t káº¿ nÃ y váº«n cÃ³ 2 váº¥n Ä‘á» vá» hiá»‡u nÄƒng: NÃ³ chá»‰ tiáº¿p tá»¥c phÃ¡t triá»ƒn.Class nÃ y giá»¯ toÃ n bá»™ sá»± kiá»‡n nÃ³ tá»«ng tháº¥y - nÃ³ sá»­ dá»¥ng 1 bá»™ nhá»› khÃ´ng giá»›i háº¡n. LÃ½ tÆ°á»Ÿng, MinuteHourCounter nÃªn tá»± Ä‘á»™ng Ä‘Æ°á»£c xÃ³a cÃ¡c sá»± kiá»‡n cÃ¡i mÃ  cÅ© hÆ¡n 1 giá» sau vÃ¬ chÃºng khÃ´ng cáº§n thiáº¿t ná»¯a. MinuteCount() and HourCount() are too slow.PhÆ°Æ¡ng thá»©c CountSince() cáº§n O(n) láº§n, vá»›i n lÃ  sá»‘ Ä‘iá»ƒm dá»¯ liá»‡u trong cá»­a sá»• thá»i gian liÃªn quan. TÆ°á»Ÿng tÆ°á»£ng ráº±ng server hiá»‡u nÄƒng cao gá»i Add() hÃ ng trÄƒm láº§n má»—i giÃ¢y. Má»—i láº§n gá»i HourCount() sáº½ pháº£i Ä‘áº¿m qua 1 triá»‡u Ä‘iá»ƒm. Vá» lÃ½ tÆ°á»Ÿng, MinuteHourCounter nÃªn giá»¯ biáº¿n separate minute_count vÃ  hour_count, Ä‘á»‹nh kÃ¬ vá»›i má»—i láº§n gá»i Add(). Attempt 2: Conveyor Belt DesignChÃºng tÃ´i cáº§n thiáº¿t káº¿ Ä‘á»ƒ giáº£i quyáº¿t cáº£ 2 váº¥n Ä‘á» trÃªn XÃ³a dá»¯ liá»‡u khÃ´ng cáº§n thiáº¿t LuÃ´n cáº­p nháº­t minute_count vÃ  hour_count ÄÃ¢y lÃ  cÃ¡ch mÃ  chÃºng tÃ´i sáº½ lÃ m: ChÃºng tÃ´i sáº½ sá»­ dá»¥ng list nhÆ° 1 bÄƒng chuyá»n. Khi data má»›i Ä‘áº¿n vÃ  1 cÃ¡i káº¿t thÃºc, chÃºng tÃ´i sáº½ thÃªm vÃ o tá»•ng. VÃ  khi dá»¯ liá»‡u quÃ¡ cÅ©, nÃ³ Ä‘Ã£ â€œrÆ¡i raâ€ khá»i Ä‘áº§u kia vÃ  chÃºng tÃ´i trá»« Ä‘i tá»•ng sá»‘ cá»§a chÃºng tÃ´i. CÃ³ 1 vÃ i cÃ¡ch chÃºng tÃ´i cÃ³ thá»ƒ thá»±c thi thiáº¿t káº¿ dÃ¢y chuyá»n nÃ y. Má»™t cÃ¡ch lÃ  duy trÃ¬ 2 danh sÃ¡ch Ä‘á»™c láº­p, 1 cho past minute, 1 cho past hour. Khi 1 sá»± kiá»‡n má»›i Ä‘áº¿n, nÃ³ thÃªm 1 báº£n copy vÃ o cáº£ 2 danh sÃ¡ch CÃ¡ch nÃ y khÃ¡ Ä‘Æ¡n giáº£n, nhÆ°ng nÃ³ khÃ´ng hiá»‡u quáº£ vÃ¬ nÃ³ táº¡o ra 2 báº£n copy cho má»—i sá»± kiá»‡n. Má»™t cÃ¡ch khÃ¡c Ä‘á»ƒ duy trÃ¬ 2 lists nÆ¡i mÃ  sá»± kiá»‡n Ä‘Æ°á»£c khá»Ÿi táº¡o vÃ o list Ä‘áº§u tiÃªn (the â€œlast minute eventsâ€) vÃ  sau Ä‘Ã³ sáº½ cho Äƒn vÃ o danh sÃ¡ch thá»© 2 (the â€œlast hour [nhÆ°ng khÃ´ng pháº£i minute cuá»‘i cÃ¹ng nhÃ©] eventsâ€) Thiáº¿t káº¿ theo dÃ¢y chuyá»ƒn â€œ2 giai Ä‘oáº¡nâ€ dÆ°á»ng nhÆ° hiá»‡u quáº£ hÆ¡n, do Ä‘Ã³ sáº½ thá»±c thi cÃ¡i nÃ y. Implementing the Two-Stage Conveyor Belt DesignHÃ£y báº¯t Ä‘áº§u báº±ng cÃ¡ch liá»‡t kÃª cÃ¡c thÃ nh pháº§n cá»§a class:1234567class MinuteHourCounter { list&lt;Event&gt; minute_events; list&lt;Event&gt; hour_events; // only contains elements NOT in minute_events int minute_count; int hour_count; // counts ALL events over past hour, including past minute};Äiá»ƒm máº¥u chá»‘t cá»§a thiáº¿t káº¿ bÄƒng chuyá»n nÃ y lÃ  cÃ³ thá»ƒ â€œdá»‹ch chuyá»ƒnâ€ cÃ¡c sá»± kiá»‡n khi thá»i gian trÃ´i qua, do Ä‘Ã³ cÃ¡c sá»± kiá»‡n di chuyá»ƒn tá»« minute_events tá»›i hour_events vÃ  minute_count vÃ  hour_count nháº­n cÃ¡c cáº­p nháº­t phÃ¹ há»£p. Äá»ƒ lÃ m Ä‘iá»u nÃ y, chÃºng ta sáº½ táº¡o 1 phÆ°Æ¡ng thá»©c helper tÃªn lÃ  ShiftOldEvents(). Má»™t khi chÃºng ta cÃ³ phÆ°Æ¡ng thá»©c nÃ y, pháº§n cÃ²n láº¡i cá»§a lá»›p nÃ y khÃ¡ dá»… thá»±c thi:12345678910111213141516171819void Add(int count) { const time_t now_secs = time(); ShiftOldEvents(now_secs); // Feed into the minute list (not into the hour list--that will happen later) minute_events.push_back(Event(count, now_secs)); minute_count += count; hour_count += count;}int MinuteCount() { ShiftOldEvents(time()); return minute_count;}int HourCount() { ShiftOldEvents(time()); return hour_count;}RÃµ rÃ ng, chÃºng ta Ä‘Ã£ trÃ¬ hoÃ£n Ä‘Æ°á»£c táº¥t cáº£ cÃ¡c cÃ´ng viá»‡c báº©n thá»‰u vÃ o ShiftOldEvents():1234567891011121314151617181920// Find and delete old events, and decrease hour_count and minute_count accordingly.void ShiftOldEvents(time_t now_secs) { const int minute_ago = now_secs - 60; const int hour_ago = now_secs - 3600; // Move events more than one minute old from 'minute_events' into 'hour_events' // (Events older than one hour will be removed in the second loop.) while (!minute_events.empty() &amp;&amp; minute_events.front().time &lt;= minute_ago) { hour_events.push_back(minute_events.front()); minute_count -= minute_events.front().count; minute_events.pop_front(); } // Remove events more than one hour old from 'hour_events' while (!hour_events.empty() &amp;&amp; hour_events.front().time &lt;= hour_ago) { hour_count -= hour_events.front().count; hour_events.pop_front(); }} Are We Done?ChÃºng ta Ä‘Ã£ giáº£i quyáº¿t 2 váº¥n Ä‘á» liÃªn quan Ä‘áº¿n hiá»‡u nÄƒng, vÃ  giáº£i phÃ¡p nÃ y Ä‘Ã£ hoáº¡t Ä‘á»™ng. Vá»›i nhiá»u á»©ng dá»¥ng, giáº£i phÃ¡p nÃ y lÃ  Ä‘á»§ tá»‘t. NhÆ°ng váº«n cÃ³ 1 sá»‘ thiáº¿u sÃ³t. Äáº§u tiÃªn, thiáº¿u káº¿ thÃ¬ ráº¥t khÃ´ng linh hoáº¡t. Giáº£ sá»­ báº¡n muá»‘n tiáº¿p tá»¥c Ä‘áº¿m trong 24h qua. Äiá»u nÃ y yÃªu cáº§u thay Ä‘á»•i nhiá»u trong code. VÃ  nhÆ° báº¡n cÃ³ thá»ƒ tháº¥y ShiftOldEvents() lÃ  1 hÃ m khÃ¡ náº·ng, vá»›i sá»± tÆ°Æ¡ng tÃ¡c tinh táº¿ giá»¯a dá»¯ liá»‡u phÃºt vÃ  giá». Thá»© 2, lá»›p nÃ y cÃ³ 1 bá»™ nhá»› khÃ¡ lá»›n. Giáº£ sá»­ báº¡n cÃ³ 1 server high-traffic gá»i Add() 100 láº§n má»—i giÃ¢y. VÃ¬ chÃºng ta giá»¯ táº¥t cáº£ cÃ¡c dá»¯ liá»‡u trong 1h qua, Ä‘oáº¡n code nÃ y sáº½ káº¿t thÃºc vÃ  yÃªu cáº§u táº§m 5M bá»™ nhá»› NÃ³i chung, khi Add() thÆ°á»ng xuyÃªn Ä‘Æ°á»£c gá»i, chÃºng ta sáº½ cáº§n nhiá»u bá»™ nhá»› hÆ¡n. TrÃªn mÃ´i trÆ°á»ng sáº£n pháº©m, thÆ° viá»‡c sá»­ dá»¥ng bá»™ nhá»› lá»›n, khÃ´ng thá»ƒ Ä‘oÃ¡n trÆ°á»›c lÃ  khÃ´ng tá»‘t. LÃ½ tÆ°á»Ÿng, MinuteHourCounter sáº½ sá»­ dá»¥ng 1 lÆ°á»£ng bá»™ nhá»› nháº¥t Ä‘á»‹nh mÃ  khÃ´ng quan tÃ¢m hÃ m nÃ y Ä‘Æ°á»£c gá»i bao nhiÃªu láº§n. Attempt 3: A Time-Bucketed DesignBáº¡n cÃ³ thá»ƒ nháº­n tháº¥y, cáº£ 2 cÃ¡ch thá»±c thi trÃªn cÃ³ 1 bug nhá». ChÃºng ta sá»­ dá»¥ng time_t Ä‘á»ƒ lÆ°u timestamp, cÃ¡i mÃ  lá»¯u trá»¯ sá»‘ giÃ¢y dÆ°á»›i dáº¡ng 1 sá»‘ nguyÃªn. VÃ¬ Ä‘iá»u lÃ m trÃ²n nÃ y MinuteCount() thá»±c sá»± tráº£ vá» gÃ¬ Ä‘Ã³ giá»¯a 59 vÃ  60 giÃ¢y, dá»±a vÃ o khi nÃ o báº¡n gá»i nÃ³. VÃ­ dá»¥ náº¿u 1 sá»± kiá»‡n diá»…n ra táº¡o time = 0.99 giÃ¢y, thá»i gian tráº£ vá» Ä‘Æ°á»£c lÃ m trÃ²n lÃ  0s. VÃ  náº¿u báº¡n gá»i MinuteCount() táº¡i time = 60.1 giÃ¢y, nÃ³ sáº½ tráº£ vá» tá»•ng cÃ¡c sá»± kiá»‡n cÃ³ t=1,2,3,...60. Do Ä‘Ã³ sá»± kiá»‡n Ä‘áº§u tiÃªn sáº½ bá»‹ máº¥t, máº·c dÃ¹ vá» máº·t kÄ© thuáº­t Ä‘ang cháº­m hÆ¡n 1 phÃºt. Trung bÃ¬nh, MinuteCount() sáº½ tráº£ vá» 59.5s giÃ¡ trá»‹ cá»§a dá»¯ liá»‡u. VÃ  HourCount() sáº½ tráº£ vá» 3599.5s giÃ¡ trá»‹ dá»¯ liá»‡u (má»™t lá»—i khÃ´ng Ä‘Ã¡ng ká»ƒ). ChÃºng ta cÃ³ thá»ƒ sá»­a lá»—i nÃ y báº±ng cÃ¡ch sá»­ dá»¥ng 1 thá»i gian vá»›i subsecond granularity. NhÆ°ng má»™t cÃ¡ch thÃº vá»‹, Ä‘a sá»‘ á»©ng dá»¥ng sá»­ dá»¥ng 1 MinuteHourCounter khÃ´ng cáº§n má»©c Ä‘á»™ chÃ­nh xÃ¡c á»Ÿ láº§n nhÃ¬n Ä‘áº§u tiÃªn. ChÃºng ta sáº½ khai thÃ¡c sá»± tháº­t nÃ y vá»›i 1 MinuteHourCounter má»›i, cÃ¡i mÃ  nhanh hÆ¡n nhiá»u mÃ  sá»­ dá»¥ng Ã­t khÃ´ng gian hÆ¡n. ÄÃ³ lÃ  sá»± Ä‘Ã¡nh Ä‘á»•i Ä‘á»™ chÃ­nh xÃ¡c cho hiá»‡u nÄƒng sáº½ ráº¥t xá»©ng Ä‘Ã¡ng. á»¶ tÆ°á»Ÿng chÃ­nh lÃ  káº¿t há»£p táº¥t cáº£ cÃ¡c sá»± kiá»‡n trong 1 cá»­a sá»• nhá» láº¡i vá»›i nhau, vÃ  tÃ³m táº¯t cÃ¡c sá»± kiá»‡n nÃ y vá»›i 1 tá»•ng sá»‘ duy nháº¥t. VÃ­ dá»¥ cÃ¡c Sá»± kiá»‡n trong 1 phÃºt qua cÃ³ thá»ƒ Ä‘Æ°á»£c thÃªm vÃ o trong 60 xÃ´ rá»i ráº¡c, Ä‘á»™ rá»™ng lÃ  1 giÃ¢y. CÃ¡c sá»± kiá»‡n trong 1 giá» qua cÃ³ thá»ƒ Ä‘Æ°á»£c thÃªm vÃ o 60 cÃ¡c xÃ´ rá»i ráº¡c, Ä‘á»™ rá»™ng lÃ  1 phÃºt. Sá»­ dá»¥ng cÃ¡c xÃ´ nhÆ° hÃ¬nh trÃªn, phÆ°Æ¡ng thá»©c MinuteCount() vÃ  HourCount() sáº½ chÃ­nh xÃ¡c cho 1 pháº§n trÃªn 60, Ä‘iá»u nÃ y lÃ  há»£p lÃ½. Náº¿u cáº§n nhiá»u Ä‘á»™ chÃ­nh xÃ¡c hÆ¡n, nhiá»u buckets cÃ³ thá»ƒ Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ Ä‘á»•i láº¥y dung lÆ°á»£ng bá»™ nhá»› lá»›n hÆ¡n. NhÆ°ng thá»© quan trá»ng nháº¥t cÃ¡c thiáº¿t káº¿ nÃ y Ä‘Ã£ sá»­a Ä‘Æ°á»£c, sá»­ dá»¥ng bá»™ nhá»› Ä‘oÃ¡n trÆ°á»›c Ä‘Æ°á»£c. Implementing the Time-Bucketed DesignThá»±c thi theo cÃ¡c thiáº¿t káº¿ nÃ y chá»‰ cÃ³ 1 lá»›p sáº½ táº¡o nhiá»u code phá»©c táº¡p cÃ¡i mÃ  khÃ³ Ä‘á»ƒ nhá»›. Thay vÃ o Ä‘Ã³, chÃºng tÃ´i sáº½ theo lá»i khuyÃªn trong Chapter 11, One Task at a Time vÃ  táº¡o ra cÃ¡c lá»›p riÃªng biá»‡t Ä‘á»ƒ xá»­ lÃ½ cÃ¡c pháº§n khÃ¡c nhau cá»§a váº¥n Ä‘á». Äá»ƒ báº¯t Ä‘áº§u, táº¡o 1 lá»›p tÃ¡ch biá»‡t Ä‘á»ƒ Ä‘áº¿m khoáº£ng thá»i gian duy nháº¥t (nhÆ° giá» trÆ°á»›c). ChÃºng tÃ´i sáº½ gá»i nÃ³ lÃ  TrailingBucketCounter. ÄÃ¢y thá»±c cháº¥t lÃ  1 phiÃªn báº£n chung cá»§a MinuteHourCounter xá»­ lÃ½ chá»‰ 1 khoáº£ng thá»i gian:1234567891011// A class that keeps counts for the past N buckets of time.class TrailingBucketCounter { public: // Example: TrailingBucketCounter(30, 60) tracks the last 30 minute-buckets of time. TrailingBucketCounter(int num_buckets, int secs_per_bucket); void Add(int count, time_t now); // Return the total count over the last num_buckets worth of time int TrailingCount(time_t now);}; Báº¡n cÃ³ thá»ƒ tá»± há»i táº¡i sao Add() vÃ  TrailingCount() yÃªu cáº§u thá»i gian hiá»‡n táº¡i (time_t_now) nhÆ° 1 Ä‘á»‘i sá»‘ - Táº¡i sao nÃ³ khÃ´ng chá»‰ Ä‘Æ¡n giáº£n lÃ  tá»± gá»i current time()","link":"/2020/05/24/Chapter-15-Designing-and-Implementing-a-%E2%80%9CMinute-Hour-Counter%E2%80%9D/"},{"title":"Chapter 2: Packing Information into Names","text":"Báº¥t cá»© khi nÃ o báº¡n Ä‘ang Ä‘áº·t tÃªn cho 1 biáº¿n, 1 hÃ m hoáº·c 1 lá»›p, cÃ³ ráº¥t nhiá»u nguyÃªn lÃ½ giá»‘ng nhau Ä‘Æ°á»£c Ã¡p dá»¥ng. ChÃºng tÃ´i thÃ­ch nghÄ© vá» tÃªn nhÆ° 1 comment nhá». Tháº­m chÃ­ nÃ³ khÃ´ng xuáº¥t hiá»‡n á»Ÿ nhiá»u chá»—, báº¡n cÃ³ thá»ƒ truyá»n táº£i nhiá»u thÃ´ng tin báº±ng cÃ¡ch chá»n 1 cÃ¡i tÃªn tá»‘t. KEY IDEAPack information into your names. Ráº¥t nhiá»u tÃªn chÃºng ta nhÃ¬n tháº¥y lÃ  mÆ¡ há»“, nhÆ° tmp. Tháº­m chÃ­ nhá»¯ng tá»« dÆ°á»ng mÃ  chÃºng ta nhÃ¬n cÃ³ váº» há»£p lÃ½ nhÆ° size hoáº·c get cÅ©ng khÃ´ng Ä‘Ã³ng gÃ³i nhiá»u thÃ´ng tin. ChÆ°Æ¡ng nÃ y sáº½ chá»‰ ra cho báº¡n lÃ m sao Ä‘á»ƒ chá»n 1 tÃªn Ä‘á»ƒ lÃ m Ä‘iá»u Ä‘Ã³. ChÆ°Æ¡ng nÃ y Ä‘Æ°á»£c tá»• chá»©c vá»›i 6 chá»§ Ä‘á» cá»¥ thá»ƒ: Chá»n 1 tá»« chuyÃªn biá»‡t TrÃ¡nh cÃ¡c tÃªn chung chung (hoáº·c biáº¿t khi nÃ o nÃªn sá»­ dá»¥ng chÃºng) Sá»­ dá»¥ng cÃ¡c tÃªn cá»¥ thá»ƒ thay vÃ¬ cÃ¡c tÃªn trá»«u tÆ°á»£ng. ÄÃ­nh thÃªm cÃ¡c thÃ´ng tin vÃ o tÃªn, báº±ng cÃ¡ch sá»­ dá»¥ng 1 háº­u tá»‘ hoáº·c tiá»n tá»‘. Quyáº¿t Ä‘á»‹nh Ä‘á»™ dÃ i cá»§a tÃªn nÃªn Ä‘Æ°á»£c sá»­ dá»¥ng Sá»­ dá»¥ng Ä‘á»‹nh dáº¡ng tÃªn Ä‘á»ƒ Ä‘Ã³ng gÃ³i thÃªm cÃ¡c thÃ´ng tin. Chá»n cÃ¡c tá»« cá»¥ thá»ƒ, xÃ¡c Ä‘á»‹nhMá»™t pháº§n Ä‘Ã³ng gÃ³p â€œÄ‘Æ°a thÃªm thÃ´ng tin vÃ o tÃªnâ€ lÃ  chá»n cÃ¡c tá»« vá»›i nghÄ©a xÃ¡c Ä‘á»‹nh vÃ  trÃ¡nh nhá»¯ng tá»« â€œtrá»‘ngâ€. VÃ­ dá»¥ tá»« Get lÃ  ráº¥t khÃ´ng rÃµ nghÄ©a trong vÃ­ dá»¥:12def GetPage(url): ...Tá»« Get khÃ´ng nÃ³i láº¥y á» local cache, tá»« DB hay tá»« Internet. Náº¿u láº¥y tá»« Internet, má»™t cÃ¡i tÃªn xÃ¡c Ä‘á»‹nh hÆ¡n sáº½ nÃªn lÃ  FetchPage()or DownloadPage() TÆ°Æ¡ng tá»± vÃ­ dá»¥ vá»›i Size(). Thay vÃ o Ä‘Ã³ cÃ¡c tÃªn sau sáº½ rÃµ nghÄ©a hÆ¡n Height(), NumNodes(), or MemoryBytes(). Stop cÅ©ng nÃªn láº¥y tÃªn lÃ  Pause() or Resume() or Kill(). TÃ¬m cÃ¡c tá»« cÃ³ nhiá»u â€œmÃ u sáº¯câ€ Äá»«ng tiáº¿t kiá»‡m sá»­ dá»¥ng cÃ¡c tá»« Ä‘á»“ng nghÄ©a hay nhá» báº¡n bÃ¨ gá»£i Ã½ má»™t cÃ¡i tÃªn hay ho hÆ¡n. Tiáº¿ng Anh lÃ  má»™t ngÃ´n ngá»¯ Ä‘a dáº¡ng, tha há»“ tá»« cho báº¡n lá»±a chá»n Ä‘á»ƒ giáº£i quyáº¿t cÃ¡c váº¥n Ä‘á» cá»§a báº¡n. Má»™t vÃ i tá»« trong tiáº¿ng Anh â€œgiÃ u mÃ u sáº¯câ€ báº¡n cÃ³ thá»ƒ xem xÃ©t sá»­ dá»¥ng trong ngá»¯ cáº£nh cá»§a mÃ¬nh: Word Alternatives send deliver, dispatch, announce, distribute, route find search, extract, locate, recover start launch, create, begin, open make create, set up, build, generate, compose, add, new Trong PHP, cÃ³ 1 hÃ m vá»›i chuá»—i lÃ  explode(). ÄÃ¢y lÃ  1 cÃ¡i tÃªn nhiá»u mÃ u sáº¯c vÃ  nÃ³ váº½ ra 1 bÆ°á»›c tranh tá»‘t Ä‘á»ƒ ngáº¯t 1 cÃ¡i gÃ¬ Ä‘Ã³ vÃ o tá»«ng pháº§n, nhÆ°ng lÃ m sao Ä‘á»ƒ phÃ¢n biá»‡t Ä‘Æ°á»£c nÃ³ vá»›i split()? (Hai hÃ m nÃ y lÃ  khÃ¡c nhau nhÆ°ng khÃ³ Ä‘á»ƒ chá»‰ ra Ä‘iá»ƒm khÃ¡c nhau giá»¯a chÃºng dá»±a vÃ o tÃªn). KEY IDEAItâ€™s better to be clear and precise than to be cute. TrÃ¡nh cÃ¡c tÃªn chung chung nhÆ° tmp, retvalTÃªn kiá»ƒu tmp, retval (return value) vÃ  foo Ä‘Æ°á»£c hiá»ƒu lÃ  â€œTao khÃ´ng nghÄ© ra Ä‘Æ°á»£c tÃªnâ€. Thay vÃ o Ä‘Ã³ sá»­ dá»¥ng má»™t tÃªn trá»‘ng nhÆ° váº­y, hÃ£y chá»n 1 cÃ¡i tÃªn mÃ´ táº£ giÃ¡ trá»‹ vÃ  má»¥c Ä‘Ã­ch cá»§a Ä‘á»‘i tÆ°á»£ng :D123456var euclidean_norm = function (v) { var retval = 0.0; for (var i = 0; i &lt; v.length; i += 1) retval += v[i] * v[i]; return Math.sqrt(retval);};Táº¡m thá»i sá»­ dá»¥ng retval khi báº¡n khÃ´ng thá»ƒ nghÄ© Ä‘Æ°á»£c 1 cÃ¡i tÃªn tá»‘t hÆ¡n cho giÃ¡ trá»‹ tráº£ vá». NhÆ°ng retval khÃ´ng chá»©a nhiá»u thÃ´ng tin khÃ¡c ngoÃ i â€œTÃ´i lÃ  1 giÃ¡ trá»‹ tráº£ vá»â€ (cÃ¡i mÃ  Ä‘Æ°á»£c sá»­ dá»¥ng hiá»ƒn nhiÃªn á»Ÿ má»i chá»—). Má»™t cÃ¡i tÃªn tá»‘t hÆ¡n mÃ´ táº£ má»¥c Ä‘Ã­ch cá»§a biáº¿n hoáº·c giÃ¡ trá»‹ nÃ³ chá»©a. Trong trÆ°á»ng há»£p nÃ y, biáº¿n lÃ  lÅ©y thá»«a tá»•ng hÃ¬nh vuÃ´ng cá»§a v. Do Ä‘Ã³, má»™t cÃ¡i tÃªn tá»‘t hÆ¡n lÃ  sum_squares. Äiá»u nÃ y cÅ©ng thÃ´ng bÃ¡o má»¥c Ä‘Ã­ch cá»§a biáº¿n trÆ°á»›c vÃ  cÃ³ thá»ƒ giÃºp báº¡n báº¯t lá»—i náº¿u cÃ³. Cháº³ng háº¡n, hÃ£y tÆ°á»Ÿng tÆ°á»£ng náº¿u bÃªn trong vÃ²ng láº·p vÃ´ tÃ¬nh:1retval += v[i];Lá»—i nÃ y sáº½ rÃµ rÃ ng hÆ¡n náº¿u sá»­ dá»¥ng tÃªn lÃ  sum_squares:1sum_squares += v[i]; // Where's the &quot;square&quot; that we're summing? Bug! ADVICEThe name retval doesnâ€™t pack much information. Instead, use a name that describes the variableâ€™s value. tmpXem xÃ©t vÃ­ dá»¥ cÆ¡ báº£n vá» hoÃ¡n Ä‘á»•i 2 biáº¿n:12345if (right &lt; left) { tmp = right; right = left; left = tmp;}Trong cÃ¡c trÆ°á»ng há»£p nhÆ° váº­y, tmp láº¡i hoÃ n toÃ n á»•n. Má»¥c Ä‘Ã­ch duy nháº¥t cá»§a biáº¿n lÃ  lÆ°u trá»¯ táº¡m thá»i, vá»›i vÃ²ng Ä‘á»i chá»‰ cÃ³ 1 vÃ i dÃ²ng. TÃªn tmp truyá»n Ä‘áº¡t Ã½ nghÄ©a cá»¥ tháº¿ vá»›i ngÆ°á»i Ä‘á»c - Ä‘Ã¢y lÃ  biáº¿n khÃ´ng cÃ³ nhiá»‡m vá»¥ khÃ¡c. NÃ³ khÃ´ng Ä‘Æ°á»£c truyá»n vÃ o hÃ m khÃ¡c hoáº·c Ä‘Æ°á»£c reset hoáº·c sá»­ dá»¥ng láº¡i nhiá»u láº§n. NhÆ°ng trong trÆ°á»ng há»£p nÃ y, tmp Ä‘Æ°á»£c sá»­ dá»¥ng vÃ¬ sá»± lÆ°á»i biáº¿ng:12345String tmp = user.name();tmp += &quot; &quot; + user.phone_number();tmp += &quot; &quot; + user.email();...template.set(&quot;user_info&quot;, tmp);Máº·c dÃ¹ biáº¿n nÃ y cÃ³ vÃ²ng Ä‘á»i ngáº¯n, lÆ°u trá»¯ giÃ¡ trá»‹ táº¡m thá»i nhÆ°ng Ä‘Ã¢y khÃ´ng pháº£i lÃ  nhiá»‡m vá»¥ chÃ­nh, pháº§n quan trá»ng nháº¥t cá»§a nÃ³. Thay vÃ o Ä‘Ã³, 1 cÃ¡i tÃªn nhÆ° user_info sáº½ cÃ³ tÃ­nh mÃ´ táº£ hÆ¡n Trong trÆ°á»ng há»£p sau, tmp nÃªn Ä‘Æ°á»£c sá»­ dá»¥ng, nhÆ°ng chá»‰ lÃ  1 pháº§n:123tmp_file = tempfile.NamedTemporaryFile()...SaveData(tmp_file, ...)Nháº­n tháº¥y ráº±ng, chÃºng tÃ´i sá»­ dá»¥ng biáº¿n tmp_file vÃ  khÃ´ng chá»‰ lÃ  tmp vÃ¬ nÃ³ lÃ  1 Ä‘á»‘i tÆ°á»£ng file. TÆ°á»Ÿng tÆ°á»£ng náº¿u báº¡n chá»‰ gá»i nÃ³ lÃ  tmp:1SaveData(tmp, ...)Chá»‰ nhÃ¬n vÃ o 1 dÃ²ng code, khÃ´ng rÃµ rÃ ng lÃ  tmp lÃ  1 file, 1 filename hoáº·c tháº­m chÃ­ cÃ³ thá»ƒ lÃ  dá»¯ liá»‡u Ä‘Æ°á»£c ghi. ADVICEThe name tmp should be used only in cases when being short-lived and temporary is the most important fact about that variable. VÃ²ng láº·pCÃ¡c biáº¿n i,j,k Ä‘á»ƒ mÃ´ táº£ cho chÃºng ta lÃ  nÃ³ Ä‘ang á»Ÿ vÃ²ng láº·p. Máº·c dÃ¹ cÃ¡c tÃªn nÃ y lÃ  chung chung nhÆ°ng chÃºng ta sáº½ hiá»ƒu lÃ  â€œI am an iterator.â€ (trÃªn thá»±c táº¿ báº¡n cÃ³ thá»ƒ dÃ¹ng tÃªn nÃ y vá»›i má»¥c Ä‘Ã­ch khÃ¡c, nhÆ°ng nhÆ° tháº¿ cÃ³ thá»ƒ gÃ¢y nháº§m láº«n, Ä‘á»«ng lÃ m váº­y!!!) NhÆ°ng Ä‘Ã´i khi liá»‡u cÃ³ tÃªn nÃ o tá»‘t hÆ¡n i, j, k. Xem xÃ©t vÃ­ dá»¥ sau12345for (int i = 0; i &lt; clubs.size(); i++) for (int j = 0; j &lt; clubs[i].members.size(); j++) for (int k = 0; k &lt; users.size(); k++) if (clubs[i].members[k] == users[j]) cout &lt;&lt; &quot;user[&quot; &lt;&lt; j &lt;&lt; &quot;] is in club[&quot; &lt;&lt; i &lt;&lt; &quot;]&quot; &lt;&lt; endl;Trong khá»‘i if members[] vÃ  users[] Ä‘ang sá»­ dá»¥ng sai chá»‰ sá»‘. Bug kiá»ƒu nÃ y ráº¥t khÃ³ tÃ¬m bá»Ÿi nhá»¯ng dÃ²ng mÃ£ cÃ³ váº» tá»‘t kiá»ƒu nhÆ°:1if (clubs[i].members[k] == users[j])Trong trÆ°á»ng há»£p nÃ y, sá»­ dá»¥ng má»™t cÃ¡i tÃªn tá»‘t hÆ¡n cÃ³ thá»ƒ giÃºp Ã­ch. Thay vÃ¬ chá»n (i,j,k) báº¡n cÃ³ thá»ƒ chá»n tÃªn khÃ¡c nhÆ° (club_i, members_i, users_i) hoáº·c cÃ´ Ä‘á»ng hÆ¡n tÃ­ thÃ¬ lÃ  (ci , mi , ui ). Khi Ä‘Ã³ cÃ¡c dÃ²ng trÃªn sáº½ lÃ 1if (clubs[ci].members[ui] == users[mi]) # Bug! First letters don't match up. =&gt; bug roÃ iChÃºng ta dá»… dÃ ng sá»­a thÃ nh:1if (clubs[ci].members[mi] == users[ui]) # OK. First letters match. Quyáº¿t Ä‘á»‹nh vá» cÃ¡c tÃªn chung chungNhÆ° báº¡n Ä‘Ã£ tháº¥y, má»™t vÃ i trÆ°á»ng há»£p sá»­ dá»¥ng cÃ¡c tÃªn chung chung lÃ  há»¯u Ã­ch. ADVICEIf youâ€™re going to use a generic name like tmp, it, or retval, have a good reason for doing so. Ráº¥t nhiÃªu láº§n, chÃºng Ä‘Æ°á»£c láº¡m dá»¥ng cho sá»± lÆ°á»i biáº¿ng. Äiá»u nÃ y thÃ¬ dá»… hiá»ƒu - khi khÃ´ng cÃ³ tÃªn nÃ o tá»‘t hÆ¡n trong Ä‘áº§u, dá»… hÆ¡n lÃ  chá»‰ sá»­ dá»¥ng cÃ¡c tÃªn khÃ´ng cÃ³ nhiá»u Ã½ nghÄ©a nhÆ° foo vÃ  tiáº¿p tá»¥c. NhÆ°ng náº¿u báº¡n cÃ³ 1 thÃ³i quen lÃ  dÃ nh ra vÃ i giÃ¢y Ä‘á»ƒ nghÄ© 1 cÃ¡i tÃªn tá»‘t, báº¡n sáº½ tÃ¬m tháº¥y â€œbáº¯p cÆ¡ vá» Ä‘áº·t tÃªnâ€ cá»§a báº¡n sáº½ lÃªn nhanh chÃ³ng :D Æ¯u tiÃªn cÃ¡c tÃªn cá»¥ thá»ƒ hÆ¡n lÃ  cÃ¡c tÃªn trá»«u tÆ°á»£ng Khi Ä‘áº·t tÃªn cho biáº¿n, hÃ m hoáº·c cÃ¡c thÃ nh pháº§n khÃ¡c, mÃ´ táº£ nÃ³ cá»¥ thá»ƒ hÆ¡n lÃ  1 thá»© trá»«u tÆ°á»£ng. VÃ­ dá»¥, giáº£ sá»­ báº¡n cÃ³ 1 phÆ°Æ¡ng thá»©c ná»™i bá»™ tÃªn lÃ  ServerCanStart(), cÃ¡i mÃ  kiá»ƒm tra xem server cÃ³ thá»ƒ nghe 1 cá»•ng TCP/IP khÃ´ng? TÃªn ServerCanStart() lÃ  1 cÃ¡i gÃ¬ Ä‘Ã³ trá»«u tÆ°á»£ng. Má»™t cÃ¡i tÃªn cá»¥ thá»ƒ hÆ¡n sáº½ lÃ  CanListenOnPort(). TÃªn mÃ´ táº£ trá»±c tiáº¿p cÃ¡i phÆ°Æ¡ng thá»©c sáº½ lÃ m. Hai vÃ­ dá»¥ tiáº¿p theo minh há»a sÃ¢u hÆ¡n pháº§n nÃ y. Example: DISALLOW_EVIL_CONSTRUCTORSÄÃ¢y lÃ  vÃ­ dá»¥ trong codebase cá»§a Google. Trong C++, náº¿u báº¡n khÃ´ng Ä‘á»‹nh nghÄ©a má»™t hÃ m táº¡o sao chÃ©p hoáº·c toÃ¡n tá»­ gÃ¡n cho class cá»§a mÃ¬nh, má»™t toÃ¡n tá»­ máº·c Ä‘á»‹nh sáº½ Ä‘Æ°á»£c cung cáº¥p. Máº·c dÃ¹ tiá»‡n dá»¥ng, cÃ¡c phÆ°Æ¡ng thá»©c nÃ y cÃ³ thá»ƒ dá»… dÃ ng rÃµ rÃ¬ bá»™ nhá»› vÃ  cÃ¡c rá»§i ro khÃ¡c vÃ¬ chÃºng thá»±c thi cÃ¡c â€œbehind the scenesâ€ á»Ÿ nÆ¡i mÃ  chÃºng ta khÃ´ng nháº­n ra. Káº¿t quáº£ lÃ , Google cÃ³ 1 quy Æ°á»›c disallow hÃ m táº¡o â€œtÃ¡c quÃ¡iâ€ nÃ y, sá»­ dá»¥ng 1 marco:123456class ClassName { private: DISALLOW_EVIL_CONSTRUCTORS(ClassName); public: ...};Marco Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a nhÆ° sau:123#define DISALLOW_EVIL_CONSTRUCTORS(ClassName) \\ ClassName(const ClassName&amp;); \\ void operator=(const ClassName&amp;);Báº±ng cÃ¡ch Ä‘áº·t marco nÃ y vÃ o private, 2 phÆ°Æ¡ng thá»©c nÃ y trá»Ÿ thÃ nh private do Ä‘Ã³ báº¡n khÃ´ng thá»ƒ sá»­ dá»¥ng tháº­m chÃ­ chá»‰ lÃ  vÃ´ tÃ¬nh TÃªn DISALLOW_EVIL_CONSTRUCTORS khÃ´ng pháº£i lÃ  1 cÃ¡i tÃªn tá»‘t. Sá»­ dá»¥ng tá»« â€œevilâ€ lÃ  1 cÃ¡i tÃªn khÃ´ng rÃµ rÃ ng vÃ  cÃ²n gÃ¢y tranh cÃ£i. Quan trá»ng hÆ¡n, nÃ³ khÃ´ng rÃµ rÃ ng cÃ¡i gÃ¬ marco Ä‘ang disallow. NÃ³ disallows phÆ°Æ¡ng thá»©c operator=(), tháº­m chÃ­ khÃ´ng pháº£i lÃ  1 â€œhÃ m táº¡oâ€! TÃªn Ä‘Æ°á»£c sá»­ dá»¥ng nhiá»u nÄƒm nhÆ°ng cuá»‘i cÃ¹ng Ä‘Ã£ Ä‘Æ°á»£c thay tháº¿ vá»›i 1 cÃ¡i tÃªn Ã­t rÃµ rÃ ng vÃ  nhiá»u thÃ´ng tin cá»¥ thá»ƒ hÆ¡n:1#define DISALLOW_COPY_AND_ASSIGN(ClassName) ... Example: â€“run_locallyMá»™t trong nhá»¯ng chÆ°Æ¡ng trÃ¬nh cÃ³ tÃ¹y chá»n cá» command-line tÃªn lÃ  --run_locally. Cá» nÃ y sáº½ giÃºp chÆ°Æ¡ng trÃ¬nh in ra thÃªm cÃ¡c thÃ´ng tin Ä‘á»ƒ debugging nhÆ°ng cháº¡y cháº­m hÆ¡n. Cá» nÃ y thÆ°á»ng Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ testing cÃ¡c mÃ¡y local, nhÆ° laptop. NhÆ°ng khi láº­p trÃ¬nh viÃªn cháº¡y nÃ³ á»Ÿ remote server, hiá»‡u nÄƒng lÃ  cá»±c kÃ¬ quan trá»ng, do Ä‘Ã³ cá» nÃ y khÃ´ng Ä‘Æ°á»£c sá»­ dá»¥ng. Báº¡n cÃ³ thá»ƒ tháº¥y cÃ¡i tÃªn --run_locally xuáº¥t hiá»‡n nhÆ° tháº¿ nÃ o, nhÆ°ng nÃ³ cÃ³ 1 vÃ i váº¥n Ä‘á»: Má»™t thÃ nh viÃªn má»›i cá»§a team khÃ´ng biáº¿t nÃ³ lÃ m gÃ¬. Anh áº¥y sáº½ sá»­ dá»¥ng nÃ³ khi cháº¡y local (giáº£ sá»­ nhÆ° váº­y) nhÆ°ng anh ta khÃ´ng biáº¿t táº¡i sao cáº§n nÃ³. Thá»‰nh thoáº£ng, chÃºng ta cáº§n in cÃ¡c thÃ´ng tin debugging trong khi chÆ°Æ¡ng trÃ¬nh cháº¡y remote. Truyá»n --run_locally cháº¡y 1 chÆ°Æ¡ng trÃ¬nh remote nhÃ¬n cÃ³ váº» buá»“n cÆ°á»i, vÃ  nÃ³ cÃ³ thá»ƒ gÃ¢y nháº§m láº«n. Thá»‰nh thoáº£ng chÃºng tÃ´i sáº½ cháº¡y kiá»ƒm tra hiá»‡u nÄƒng local nhÆ°ng khÃ´ng muá»‘n logging lÃ m cháº­m nÃ³, do Ä‘Ã³ chÃºng tÃ´i khÃ´ng sá»­ dá»¥ng Ä‘Æ°á»£c --run_locally. Váº¥n Ä‘á» --run_locally lÃ  Ä‘Æ°á»£c Ä‘áº·t tÃªn theo tÃ¬nh huá»‘ng mÃ  nÃ³ thÆ°á»ng Ä‘Æ°á»£c sá»­ dá»¥ng. Thay vÃ o Ä‘Ã³, 1 tÃªn cá» nhÆ° --extra_logging sáº½ trá»±c quan vÃ  rÃµ rÃ ng hÆ¡n. NhÆ°ng Ä‘iá»u gÃ¬ sáº½ xáº£y ra náº¿u --run_locally cáº§n nhiá»u hÆ¡n chá»‰ thÃªm logging? VÃ­ dá»¥, giáº£ sá»­ nÃ³ cáº§n set up va sá»­ dá»¥ng cÃ¡c database trÃªn mÃ¡y local. BÃ¢y giá», tÃªn --run_locally dÆ°á»ng nhÆ° ngon hÆ¡n vÃ¬ nÃ³ cÃ³ thá»ƒ kiá»ƒm soÃ¡t cáº£ 2 thá»© cÃ¹ng 1 lÃºc. NhÆ°ng sá»­ dá»¥ng nÃ³ cho má»¥c Ä‘Ã­ch Ä‘Ã³ sáº½ lÃ  chá»n má»™t cÃ¡i tÃªn vÃ¬ nÃ³ mÆ¡ há»“ vÃ  giÃ¡n tiáº¿p, cÃ³ láº½ khÃ´ng pháº£i lÃ  má»™t Ã½ tÆ°á»Ÿng tá»‘t. Giáº£i phÃ¡p tá»‘t hÆ¡n lÃ  táº¡o má»™t cá» thá»© hai cÃ³ tÃªn --use_local_database. Máº·c dÃ¹ bÃ¢y giá» báº¡n pháº£i sá»­ dá»¥ng hai cá», nhá»¯ng cá» nÃ y nhiá»u hÆ¡n rÃµ rÃ ng; khÃ´ng cá»‘ gáº¯ng gá»™p hai Ã½ tÆ°á»Ÿng trá»±c giao thÃ nh má»™t, vÃ  chÃºng cho phÃ©p báº¡n tÃ¹y chá»n chá»‰ sá»­ dá»¥ng má»™t Ã½ tÆ°á»Ÿng chá»© khÃ´ng pháº£i Ã½ tÆ°á»Ÿng khÃ¡c. ThÃªm cÃ¡c thÃ´ng tin vÃ o tÃªnNhÆ° chÃºng ta Ä‘Ã£ nháº¯c tá»« pháº§n 1, tÃªn cá»§a biáº¿n giá»‘ng nhÆ° má»™t comment nhá». GiÃ¡ trá»‹ vá»›i Ä‘Æ¡n vá»‹Náº¿u biáº¿n cá»§a báº¡n lÃ  Ä‘Æ¡n vá»‹ Ä‘o, tháº­t há»¯u Ã­ch náº¿u báº¡n thÃªm Ä‘Æ¡n vá»‹ vÃ o tÃªn biáº¿nVÃ­ dá»¥ Ä‘o thá»i gian load 1 trang web1234var start = (new Date()).getTime(); // top of the page...var elapsed = (new Date()).getTime() - start; // bottom of the pagedocument.writeln(&quot;Load time was: &quot; + elapsed + &quot; seconds&quot;);KhÃ´ng cÃ³ gÃ¬ sai trong code nhÆ°ng nÃ³ sáº½ khÃ´ng cháº¡y vÃ¬ getTime()tráº£ vá» milisecond, khÃ´ng pháº£i second. ThÃªm _ms vÃ o tÃªn biáº¿n báº¡n cÃ³ thá»ƒ tháº¥y tá»‘t hÆ¡n1234var start_ms = (new Date()).getTime(); // top of the page...var elapsed_ms = (new Date()).getTime() - start_ms; // bottom of the pagedocument.writeln(&quot;Load time was: &quot; + elapsed_ms / 1000 + &quot; seconds&quot;); ThÃªm cÃ¡c thÃ´ng tin mÃ£ hÃ³a vÃ o thuá»™c tÃ­nh (mÃ£ hÃ³a báº±ng gÃ¬ â€¦)Ká»¹ thuáº­t gáº¯n thÃ´ng tin bá»• sung nÃ y vÃ o tÃªn khÃ´ng chá»‰ giá»›i háº¡n á»Ÿ cÃ¡c giÃ¡ trá»‹ vá»›i cÃ¡c Ä‘Æ¡n vá»‹. Báº¡nnÃªn lÃ m Ä‘iá»u Ä‘Ã³ báº¥t cá»© lÃºc nÃ o cÃ³ má»™t Ä‘iá»u gÃ¬ Ä‘Ã³ nguy hiá»ƒm hoáº·c Ä‘áº·c biá»‡t vá» biáº¿n sá»‘. VÃ­ dá»¥, cÃ³ ráº¥t nhiá»u khai thÃ¡c báº£o máº­t Ä‘áº¿n tá»« viá»‡c khÃ´ng nháº­n ra ráº±ng má»™t sá»‘ dá»¯ liá»‡u trong chÆ°Æ¡ng trÃ¬nh cá»§a báº¡n chÆ°a á»Ÿ tráº¡ng thÃ¡i an toÃ n vÃ  báº¡n hoÃ n toÃ n cÃ³ thá»ƒ cáº£i thiá»‡n nÃ³. Äá»ƒ giáº£i quyáº¿t nÃ³, báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng tÃªn biáº¿n nhÆ° untrustedUrl hoáº·c unsafeMessageBody. Sau khi gá»i hÃ m Ä‘á»ƒ xÃ³a bá» Ä‘áº§u vÃ o khÃ´ng an toÃ n, káº¿t quáº£ biáº¿n sáº½ lÃ  trusteUrl hoáº·c safeMessageBody. DÆ°á»›i Ä‘Ã¢y lÃ  báº£ng chá»‰ ra vÃ­ dá»¥ báº¡n nÃªn thÃªm cÃ¡c thÃ´ng tin mÃ£ hÃ³a vÃ o tÃªn biáº¿n Situation Variable name Better name A password is in â€œplaintextâ€ and should be encrypted before further processing password plaintext_password A user-provided comment that needs escaping before being displayed comment unescaped_comment Bytes of html have been converted to UTF-8 html html_utf8 Incoming data has been â€œurl encodedâ€ data data_urlenc Tuy nhiÃªn báº¡n khÃ´ng nÃªn sá»­ dá»¥ng tÃªn nhÆ° _utf8, unescaped á»Ÿ má»i tÃªn biáº¿n trong chÆ°Æ¡ng trÃ¬nh cá»§a báº¡n. ChÃºng thá»±c sá»± quan trá»ng á»Ÿ nÆ¡i bug do ai Ä‘Ã³ quÃªn loáº¡i bá» hoáº·c xá»­ lÃ½ báº£o máº­t cho cÃ¡c giÃ¡ trá»‹. TÃªn nÃªn dÃ i bao nhiÃªu lÃ  Ä‘á»§ Khi báº¡n chá»n 1 tÃªn tá»‘t, cÃ³ má»™t rÃ ng buá»™c ngáº§m Ä‘á»‹nh ráº±ng cÃ¡i tÃªn khÃ´ng nÃªn quÃ¡ dÃ i. Cháº³ng ai thÃ­ch lÃ m viá»‡c vá»›i cÃ¡i tÃªn kiá»ƒu nhÆ° newNavigationControllerWrappingViewControllerForDataSourceOfClass. Vá»›i má»™t cÃ¡i tÃªn dÃ i, ráº¥t khÃ³ Ä‘á»ƒ nhá»› vÃ  chiáº¿m nhiá»u khÃ´ng gian trÃªn mÃ n hÃ¬nh khiáº¿n code cÃ ng khÃ³ Ä‘á»c. Máº·t khÃ¡c, cÃ¡c láº­p trÃ¬nh viÃªn cÃ³ thá»ƒ Ä‘Æ°a ra lá»i khuyÃªn nÃ y quÃ¡ xa, chá»‰ sá»­ dá»¥ng tÃªn má»™t tá»« (hoáº·c má»™t chá»¯ cÃ¡i). Váº­y báº¡n nÃªn quáº£n lÃ½ sá»± Ä‘Ã¡nh Ä‘á»•i nÃ y nhÆ° tháº¿ nÃ o? LÃ m tháº¿ nÃ o Ä‘á»ƒ báº¡n quyáº¿t Ä‘á»‹nh giá»¯a viá»‡c Ä‘áº·t tÃªn má»™t biáº¿n d, ngÃ y hoáº·c days_since_last_update? Quyáº¿t Ä‘á»‹nh nÃ y lÃ  má»™t cuá»™c gá»i phÃ¡n xÃ©t cÃ³ cÃ¢u tráº£ lá»i hay nháº¥t phá»¥ thuá»™c vÃ o chÃ­nh xÃ¡c biáº¿n Ä‘Ã³ lÃ  nhÆ° tháº¿ nÃ o Ä‘ang Ä‘Æ°á»£c sá»­ dá»¥ng. NhÆ°ng Ä‘Ã¢y lÃ  má»™t sá»‘ hÆ°á»›ng dáº«n Ä‘á»ƒ giÃºp báº¡n quyáº¿t Ä‘á»‹nh. TÃªn ngáº¯n nÃªn Ä‘Æ°á»£c sá»­ dá»¥ng trong pháº¡m vi ngáº¯n ChÃºng ta Ä‘Ã£ nháº¯c tá»›i háº¡n cháº¿ sá»­ dá»¥ng biáº¿n tmp vÃ  retval, nhÆ°ng khÃ´ng háº³n lÃ  chÃºng ta khÃ´ng Ä‘Æ°á»£c dÃ¹ng. Vá»›i cÃ¡c pháº¡m vi ngáº¯n, chá»‰ vÃ i dÃ²ng code, dÃ¹ng cÃ¡c biáº¿n nÃ y váº«n cÃ³ thá»ƒ dá»… hiá»ƒu vá»›i cÃ¡c láº­p trÃ¬nh viÃªn. Xem xÃ©t vÃ­ dá»¥ sau:12345if (debug) { map&lt;string,int&gt; m; LookUpNamesNumbers(&amp;m); Print(m);}Máº·c dÃ¹ biáº¿n m khÃ´ng chá»©a thÃ´ng tin gÃ¬, tuy nhiÃªn nÃ³ khÃ´ng há» cÃ³ váº¥n Ä‘á» chi vÃ¬ ngÆ°á»i Ä‘á»c cÃ³ Ä‘áº§y Ä‘á»§ thÃ´ng tin há» cáº§n Ä‘á»ƒ hiá»ƒu Ä‘oáº¡n code nÃ y. Tuy nhiÃªn náº¿u m láº¡i lÃ  1 class hoáº·c lÃ  1 biáº¿n global, nhÃ¬n kiá»ƒu nhÆ°12LookUpNamesNumbers(&amp;m);Print(m)Code tháº­t khÃ³ Ä‘á»c, nÃ³ khÃ´ng cho ta biáº¿t m lÃ  cÃ¡i mÃ¨o gÃ¬ @@. Bá»Ÿi váº­y vá»›i cÃ¡c pháº¡m vi rá»™ng, tÃªn cáº§n chá»©a Ä‘á»§ thÃ´ng tin cho rÃµ rÃ ng GÃµ tÃªn dÃ i - khÃ´ng cÃ²n lÃ  váº¥n Ä‘á» ná»¯aCÃ³ ráº¥t nhiá»u lÃ½ do tá»‘t Ä‘á»ƒ trÃ¡nh 1 cÃ¡i tÃªn dÃ i nhÆ°ng â€œchÃºng khÃ³ gÃµ hÆ¡nâ€ khÃ´ng pháº£i lÃ  1 trong sá»‘ chÃºng. Má»i láº­p trÃ¬nh viÃªn cÃ³ text editor Ä‘Ã£ cÃ³ nhá»¯ng gá»£i Ã½ â€œtá»± hoÃ n thÃ nh tá»«â€. Náº¿u báº¡n khÃ´ng biáº¿t, thÃ¬ hÃ£y tá»± tÃ¬m hiá»ƒu trÃªn text editor cá»§a mÃ¬nh nhÃ©. Tá»« viáº¿t táº¯t vÃ  viáº¿t táº¯tLáº­p trÃ¬nh viÃªn cÃ³ xu hÆ°á»›ng dÃ¹ng cÃ¡c tá»« viáº¿t táº¯t Ä‘á»ƒ tÃªn cá»§a há» ngáº¯n láº¡i, vÃ­ dá»¥ BEManager thay tháº¿ BackEndManager? Liá»‡u nÃ³ cÃ³ thá»ƒ gÃ¢y sá»± nháº§m láº«n gÃ¬ Ä‘Ã³ khÃ´ng? Theo kinh nghiá»‡m cá»§a chÃºng tÃ´i, viáº¿t táº¯t dÃ nh riÃªng cho dá»± Ã¡n thÆ°á»ng lÃ  má»™t Ã½ tÆ°á»Ÿng tá»“i. ChÃºng xuáº¥t hiá»‡n khÃ³ hiá»ƒu vÃ  Ä‘Ã¡ng sá»£ vá»›i nhá»¯ng ngÆ°á»i má»›i vÃ o dá»± Ã¡n. Cho Ä‘á»§ thá»i gian, chÃºng tháº­m chÃ­ báº¯t Ä‘áº§u xuáº¥t hiá»‡n khÃ³ hiá»ƒu vÃ  Ä‘Ã¡ng sá»£ vá»›i cÃ¡c tÃ¡c giáº£. NguyÃªn táº¯c Ä‘á»ƒ viáº¿t táº¯t lÃ  Liá»‡u má»™t ngÆ°á»i má»›i vÃ o dá»± Ã¡n cÃ³ hiá»ƒu tÃªn cá»§a nÃ³ khÃ´ng?. Náº¿u cÃ¢u tráº£ lá»i lÃ  cÃ³, nÃ³ cÃ³ váº» OK. VÃ­ dá»¥, theo chuáº©n chung cá»§a cÃ¡c LTV thÃ¬ sá»­ dá»¥ng eval viáº¿t táº¯t thay tháº¿ evaluation, doc lÃ  viáº¿t táº¯t cá»§a document, str lÃ  viáº¿t táº¯t String. Do váº­y náº¿u 1 thÃ nh viÃªn má»›i nhÃ¬n tháº¥y biáº¿n FormatStr() hoÃ n toÃ n cÃ³ thá»ƒ hiá»ƒu Ä‘Æ°á»£c nghÄ©a. Tuy nhiÃªn há» cÃ³ thá»ƒ khÃ´ng hiá»ƒu nghÄ©a cá»§a biáº¿n BEManager Vá»©t bá» nhá»¯ng tá»« khÃ´ng cáº§n thiáº¿tÄÃ´i khi cÃ¡c tá»« bÃªn trong tÃªn cÃ³ thá»ƒ bá»‹ xÃ³a mÃ  khÃ´ng máº¥t báº¥t ká»³ thÃ´ng tin nÃ o cáº£. VÃ­ dá»¥ ConvertToString cÃ³ thá»ƒ thay tháº¿ báº±ng tÃªn ToString hÆ¡n mÃ  khÃ´ng lÃ m máº¥t thÃ´ng tin. TÆ°Æ¡ng tá»± cÃ³ thá»ƒ thay tháº¿ DoServerLoop()báº±ng ServeLoop()cÅ©ng rÃµ rÃ ng. Sá»­ dá»¥ng Ä‘á»‹nh dáº¡ng tÃªn Ä‘á»ƒ truyá»n Ä‘áº¡t Ã½ nghÄ©a (convention trong tÃªn)CÃ¡ch báº¡n sá»­ dá»¥ng dáº¥u gáº¡ch dÆ°á»›i, dáº¥u gáº¡ch ngang vÃ  viáº¿t hoa cÅ©ng cÃ³ thá»ƒ Ä‘Ã³ng gÃ³i thÃªm thÃ´ng tin trong má»™t tÃªn. VÃ­ dá»¥, Ä‘Ã¢y lÃ  má»™t sá»‘ mÃ£ C ++ tuÃ¢n theo cÃ¡c quy Æ°á»›c Ä‘á»‹nh dáº¡ng Ä‘Æ°á»£c sá»­ dá»¥ng cho cÃ¡c dá»± Ã¡n nguá»“n má»Ÿ cá»§a Google:12345678static const int kMaxOpenFiles = 100;class LogReader { public: void OpenFile(string local_file); private: int offset_; DISALLOW_COPY_AND_ASSIGN(LogReader);};Sá»­ dá»¥ng cÃ¡c Ä‘á»‹nh dáº¡ng code khÃ¡c nhau cho cÃ¡c Ä‘áº§u vÃ o khÃ¡c nhau táº¡o sá»± khÃ¡c biá»‡t cho cÃ¡c cÃº phÃ¡p vÃ  lÃ m code cá»§a báº¡n dá»… hiá»ƒu hÆ¡n. Má»™t sá»‘ loáº¡i format tÃªn biáº¿n khÃ¡ phá»• biáº¿n lÃ  CamelCase cho tÃªn lá»›p vÃ  lower_separated cho tÃªn biáº¿n nhÆ°ng cÅ©ng cÃ³ má»™t sá»‘ convention khÃ¡c lÃ m cho báº¡n ngáº¡c nhiÃªn. (convention cÃ´ng ty :D) Other Formatting ConventionsDá»±a vÃ o ngá»¯ cáº£nh trong project cá»§a báº¡n, chÃºng ta cÃ³ thá»ƒ cÃ³ 1 vÃ i convention vá»›i cÃ¡c format khÃ¡c báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng Ä‘á»ƒ thÃªm thÃ´ng tin. VÃ­ dá»¥ cuá»‘n JavaScript: The Good Parts (Douglas Crockford, Oâ€™Reilly, 2008), tÃ¡c giáº£ cÃ³ gá»£i Ã½ â€œhÃ m táº¡oâ€ nÃªn lÃ  viáº¿t hoa vÃ  cÃ¡c hÃ m thÃ´ng thÆ°á»ng nÃªn báº¯t Ä‘áº§u báº±ng chá»¯ thÆ°á»ng:12var x = new DatePicker(); // DatePicker() is a &quot;constructor&quot; functionvar y = pageHeight(); // pageHeight() is an ordinary function ÄÃ¢y lÃ  vÃ­ dá»¥ khÃ¡c vá» JavaScript, khi báº¡n gá»i cÃ¡c hÃ m trong thÆ° viá»‡n jQuery (tÃªn cá»§a nÃ³ lÃ  1 kÃ­ tá»± $), 1 convention há»¯u Ã­ch lÃ  thÃªm káº¿t quáº£ vá»›i $ á»Ÿ Ä‘áº§u:12var $all_images = $(&quot;img&quot;); // $all_images is a jQuery objectvar height = 250; // height is notXuyÃªn suá»‘t mÃ£, sáº½ rÃµ rÃ ng $all_images lÃ  1 Ä‘á»‘i tÆ°á»£ng káº¿t quáº£ cá»§a jQuery. ÄÃ¢y lÃ  vÃ­ dá»¥ cuá»‘i cÃ¹ng, nÃ³ nÃ³i vá» HTML/CSS: khi chÃºng ta nháº­n vÃ o 1 tháº» HTML tag vá»›i 1 thuá»™c tÃ­nh id hoáº·c class, cáº£ 2 kÃ­ tá»± gáº¡ch dÆ°á»›i vÃ  gáº¡ch ngang Ä‘á»u lÃ  cÃ¡c giÃ¡ trá»‹ há»£p lá»‡. Má»™t convention cÃ³ thá»ƒ thÃ¬ báº¡n hÃ£y sá»­ dá»¥ng gáº¡ch dÆ°á»›i Ä‘á»ƒ phÃ¢n tÃ¡ch cÃ¡c tá»« trong IDs vÃ  gáº¡ch ngang Ä‘á»ƒ phÃ¢n tÃ¡ch cÃ¡c tá»« trong class:1&lt;div id=&quot;middle_column&quot; class=&quot;main-content&quot;&gt; ...Cho dÃ¹ báº¡n quyáº¿t Ä‘á»‹nh sá»­ dá»¥ng cÃ¡c quy Æ°á»›c nhÆ° tháº¿ nÃ y lÃ  tÃ¹y thuá»™c vÃ o báº¡n vÃ  team cá»§a báº¡n. NhÆ°ng báº¥t cá»© há»‡ thá»‘ng nÃ o báº¡n sá»­ dá»¥ng, hÃ£y nháº¥t quÃ¡n trong dá»± Ã¡n cá»§a báº¡n. TÃ“M Láº I:Chá»§ Ä‘á» duy nháº¥t trong chÆ°Æ¡ng nÃ y lÃ  pack information into your names. Báº±ng cÃ¡ch nÃ y, cÃ³ nghÄ©a lÃ  ngÆ°á»i Ä‘á»c cÃ³ thá»ƒ trÃ­ch xuáº¥t ráº¥t nhiá»u thÃ´ng tin chá»‰ tá»« viá»‡c Ä‘á»c tÃªn. Má»™t vÃ i tips chÃºng tÃ´i Ä‘Ã£ giá»›i thiá»‡u: Sá»­ dá»¥ng cÃ¡c tá»« xÃ¡c Ä‘á»‹nh rÃµ ragf: Get - Fetch hay Download TrÃ¡nh cÃ¡c tá»« chung chung nhÆ° tmp hay retval, khÃ´ng sá»­ dá»¥ng chÃºng náº¿u khÃ´ng cÃ³ lÃ½ do Ä‘áº·c biá»‡t Sá»­ dá»¥ng tÃªn cá»¥ thá»ƒ Ä‘á»ƒ mÃ´ táº£ chi tiáº¿t hÆ¡n 1 cÃ¡i gÃ¬ Ä‘Ã³ the name ServerCanStart() is vague compared to CanListenOnPort() ThÃªm cÃ¡c thÃ´ng tin quan trá»ng vÃ o tÃªn (vÃ­ dá»¥ Ä‘Æ¡n vá»‹) Sá»­ dá»¥ng tÃªn dÃ i hÆ¡n cho pháº¡m vi rá»™ng hÆ¡n. Äá»«ng sá»­ dá»¥ng tÃªn 1,2 kÃ­ tá»± cho nhiá»u mÃ n hÃ¬nh. TÃªn ngáº¯n tá»‘t nháº¥t lÃ  nÃªn chá»‰ xuáº¥t hiá»‡n á»Ÿ 1 vÃ i dÃ²ng =)) Sá»­ dá»¥ng cÃ¡c format táº¡o sá»± Ã½ nghÄ©a cho tÃªn :D TÃ i liá»‡u tham kháº£oChapter 2","link":"/2020/05/24/Chapter-2-Packing-Information-into-Names/"},{"title":"Chapter 3: Names That Canâ€™t Be Misconstrued","text":"Trong chÆ°Æ¡ng trÆ°á»›c, chÃºng ta Ä‘Ã£ khÃ¡m phÃ¡ viá»‡c lÃ m sao Ä‘á»ƒ Ä‘Ã³ng gÃ³i cÃ¡c thÃ´ng tin vÃ o tÃªn cá»§a báº¡n. Trong chÆ°Æ¡ng nÃ y, chÃºng ta sáº½ táº­p trung vÃ o 1 chá»§ Ä‘á» khÃ¡c: coi chá»«ng nhá»¯ng cÃ¡i tÃªn cÃ³ thá»ƒ bá»‹ hiá»ƒu nháº§m KEY IDEAD Chá»§ Ä‘á»™ng xem xÃ©t cÃ¡c tÃªn cá»§a báº¡n báº±ng cÃ¡ch há»i chÃ­nh mÃ¬nh â€œliá»‡u cÃ³ nghÄ©a khÃ¡c cÃ³ thá»ƒ lÃ m cho ai Ä‘Ã³ giáº£i thÃ­ch tá»« tÃªn nÃ yâ€ Thá»±c sá»± báº¡n nÃªn thá»­ sá»± sÃ¡ng táº¡o á»Ÿ Ä‘Ã¢y, tÃ­ch cá»±c tÃ¬m ra nhá»¯ng â€œdiá»…n giáº£i saiâ€. BÆ°á»›c nÃ y giÃºp báº¡n phÃ¡t hiá»‡n ra nhá»¯ng cÃ¡i tÃªn mÆ¡ há»“ Ä‘á»ƒ tá»« Ä‘Ã³ báº¡n cÃ³ thá»ƒ thay Ä‘á»•i chÃºng. Example: Filter()Giáº£ sá»­ báº¡n Ä‘ang viáº¿t Ä‘oáº¡n code dÃ¹ng Ä‘á»ƒ láº¥y 1 táº­p káº¿t quáº£ trong database:1results = Database.all_objects.filter(&quot;year &lt;= 2011&quot;)result bÃ¢y giá» chá»©a cÃ¡i gÃ¬? Nhá»¯ng Ä‘á»‘i tÆ°á»£ng cÃ³ nÄƒm &lt;= 2011? Nhá»¯ng Ä‘á»‘i tÆ°á»£ng cÃ³ nÄƒm khÃ´ng &lt;= 2011? Váº¥n Ä‘á» lÃ  filter lÃ  1 tá»« máº­p má». NÃ³ khÃ´ng rÃµ rÃ ng nhÆ° lÃ  â€œto pick outâ€œ (láº¥y ra) hoáº·c â€œto get rid ofâ€œ (loáº¡i bá»). Tá»‘t nháº¥t lÃ  báº¡n nÃªn trÃ¡nh dÃ¹ng tÃªn filter vÃ¬ nÃ³ dá»… gÃ¢y hiá»ƒu nháº§m. Náº¿u báº¡n muá»‘n â€œto pick outâ€, má»™t cÃ¡i tÃªn tá»‘t hÆ¡n sáº½ lÃ  select(). Náº¿u báº¡n muá»‘n â€œto get rid ofâ€, má»™t cÃ¡i tÃªn tá»‘t hÆ¡n sáº½ lÃ  exclude(). Example: Clip(text, length)Giáº£ sá»­ báº¡n cÃ³ 1 hÃ m giá»¯ thÃ´ng tin cá»§a Ä‘oáº¡n vÄƒn123# Cuts off the end of the text, and appends &quot;...&quot;def Clip(text, length): ...CÃ³ 2 cÃ¡ch hiá»ƒu báº¡n cÃ³ thá»ƒ tÆ°á»Ÿng tÆ°á»£ng vá»›i hÃ nh Ä‘á»™ng Clip(): NÃ³ sáº½ xÃ³a Ä‘á»™ dÃ i tá»« cuá»‘i. NÃ³ cáº¯t ngáº¯n text Ä‘áº¿n Ä‘á»™ dÃ i tá»‘i Ä‘a. CÃ¡ch hiá»ƒu thá»­ 2 sáº½ chiáº¿m Ä‘a sá»‘ nhÆ°ng báº¡n cÅ©ng khÃ´ng biáº¿t cháº¯c. Äá»ƒ cho sá»± hoÃ i nghi khÃ´ng cÃ²n, báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng má»™t cÃ¡i tÃªn tá»‘t hÆ¡n lÃ  Truncate(text, length). Tuy nhiÃªn, tham sá»‘ tÃªn length cÅ©ng bá»‹ Ä‘á»• lá»—i. Náº¿u nÃ³ mÃ  max_length, tÃªn Ä‘Ã£ sáº½ rÃµ rÃ ng hÆ¡n. NhÆ°ng chÃºng ta váº«n chÆ°a xong. TÃªn max_length váº«n Ä‘á»ƒ láº¡i 1 sá»‘ cÃ¡ch hiá»ƒu khÃ¡c: Sá»‘ lÆ°á»£ng bytes Sá»‘ lÆ°á»£ng kÃ­ tá»± Sá»‘ lÆ°á»£ng tá»« NhÆ° báº¡n Ä‘Ã£ tháº¥y tá»« chÆ°Æ¡ng trÆ°á»›c, Ä‘Ã¢y lÃ  1 trÆ°á»ng há»£p mÃ  Ä‘Æ¡n vá»‹ nÃªn Ä‘Æ°á»£c thÃªm vÃ o tÃªn. Trong trÆ°á»ng há»£p nÃ y, chÃºng ta muá»‘n sá»­ dá»¥ng â€œsá»‘ lÆ°á»£ng kÃ­ tá»±â€, do Ä‘Ã³ thay vÃ¬ Ä‘áº·t tÃªn lÃ  max_length, hÃ£y sá»­ dá»¥ng max_chars. Prefer min and max for (Inclusive) Limitsá»¨ng dá»¥ng mua sáºµn cá»§a báº¡n khÃ´ng cho phÃ©p ngÆ°á»i dÃ¹ng mua quÃ¡ 10 sáº£n pháº©m trong 1 láº§n shopping123CART_TOO_BIG_LIMIT = 10if shopping_cart.num_items() &gt;= CART_TOO_BIG_LIMIT: Error(&quot;Too many items in cart.&quot;)Äoáº¡n code nÃ y bá»‹ 1 lá»—i kinh Ä‘iá»ƒn off-by-one. ChÃºng ta cÃ³ thá»ƒ dá»… dÃ ng sá»­a nÃ³ báº±ng cÃ¡ch thay tháº¿ &gt;= báº±ng &gt;:1if shopping_cart.num_items() &gt; CART_TOO_BIG_LIMIT:(Hoáº·c sá»­a CART_TOO_BIG_LIMIT lÃªn 11). NhÆ°ng váº¥n Ä‘á» táº­n gá»‘c lÃ  CART_TOO_BIG_LIMIT lÃ  1 cÃ¡i tÃªn mÆ¡ há»“ - nÃ³ khÃ´ng rÃµ rÃ ng lÃ  báº¡n muá»‘n â€œup toâ€ (lá»›n hÆ¡n háº³n) hay â€œup to and includingâ€ (lá»›n hÆ¡n vÃ  báº±ng). ADVICE CÃ¡ch rÃµ rÃ ng nháº¥t Ä‘á»ƒ Ä‘áº·t tÃªn 1 giá»›i háº¡n lÃ  Ä‘áº·t tÃªn nÃ³ max_ hoáº·c min_ vÃ o trÆ°á»›c Trong trÆ°á»ng há»£p nÃ y, tÃªn nÃªn lÃ  MAX_ITEMS_IN_CART. Code má»›i sáº½ Ä‘Æ¡n giáº£n vÃ  rÃµ rÃ ng:123MAX_ITEMS_IN_CART = 10if shopping_cart.num_items() &gt; MAX_ITEMS_IN_CART: Error(&quot;Too many items in cart.&quot;) Prefer first and last for Inclusive Ranges ÄÃ¢y lÃ  1 vÃ­ dá»¥ khÃ¡c khi báº¡n khÃ´ng thá»ƒ sá»­ dá»¥ng lá»›n hÆ¡n hoáº·c lá»›n hÆ¡n hoáº·c báº±ng12print integer_range(start=2, stop=4)# Does this print [2,3] or [2,3,4] (or something else)?Máº·c dÃ¹ start lÃ  1 cÃ¡i tÃªn há»£p lÃ½ nhÆ°ng stop láº¡i khÃ´ng há» rÃµ rÃ ng vÃ  cÃ³ thá»ƒ cÃ³ 1 vÃ i cÃ¡ch hiá»ƒu. Äá»‘i vá»›i cÃ¡c pháº¡m vi bao gá»“m nhÆ° váº­y (nÆ¡i mÃ  pháº¡m vi nÃªn bao gá»“m cáº£ Ä‘iá»ƒm báº¯t Ä‘áº§u vÃ  Ä‘iá»ƒm káº¿t thÃºc), má»™t sá»± lá»±a chá»n tá»‘t vá»›i tÃªn first/last. VÃ­ dá»¥1set.PrintKeys(first=&quot;Bart&quot;, last=&quot;Maggie&quot;)KhÃ´ng giá»‘ng nhÆ° stop, tá»« last á»Ÿ Ä‘Ã¢y Ä‘Ã£ rÃµ nghÄ©a. ThÃªm vÃ o Ä‘Ã³, first/last, tÃªn min/max cÅ©ng cÃ³ thá»ƒ hoáº¡t Ä‘á»™ng trong pháº¡m vi bao gá»“m nÃ y miá»…n lÃ  nghÄ©a phÃ¹ há»£p trong bá»‘i cáº£nh. Prefer begin and end for Inclusive/Exclusive Ranges Trong quÃ¡ trÃ¬nh code, thÆ°á»ng xuyÃªn chÃºng ta gáº·p cÃ¡c pháº¡m vi bao gá»“m/loáº¡i trá»«. VÃ­ dá»¥, náº¿u báº¡n muá»‘n in ra táº¥t cáº£ cÃ¡c sá»± kiá»‡n xáº£y ra vÃ o 16 thÃ¡ng 10, chÃºng ta dá»… dÃ ng viáº¿t nhÆ° sau:1PrintEventsInRange(&quot;OCT 16 12:00am&quot;, &quot;OCT 17 12:00am&quot;)HÆ¡n lÃ  viáº¿t kiá»ƒu nhÆ°:1PrintEventsInRange(&quot;OCT 16 12:00am&quot;, &quot;OCT 16 11:59:59.9999pm&quot;)Do Ä‘Ã³ má»™t cáº·p tÃªn tá»‘t vá»›i tham sá»‘ nÃ y lÃ  gÃ¬? Well, theo quy Æ°á»›c cá»§a láº­p trÃ¬nh chung, tÃªn cá»§a pháº¡m vi bao gá»“m/loáº¡i trá»« lÃ  begin/end NhÆ°ng tá»« end cÃ³ 1 chÃºt chÆ°a rÃµ nghÄ©a. VÃ­ dá»¥, trong cÃ¢u vÄƒn â€œIâ€™m at the end of the book,â€, tá»« â€œendâ€œ lÃ  Ä‘Ã£ bao gá»“m. KhÃ´ng may, tiáº¿ng anh khÃ´ng cÃ³ tá»« nÃ o ngáº¯n gá»n thay tháº¿ cho cá»¥m tá»« â€œjust past the last valueâ€ Bá»Ÿi vÃ¬ begin/end cÅ©ng lÃ  quá»‘c ngá»¯ (Ã­t nháº¥t, nÃ³ Ä‘Ã£ Ä‘Æ°á»£c sá»­ dá»¥ng trong cÃ¡c thÆ° viá»‡n chuáº©n cho C++ vÃ  háº§y háº¿t nhá»¯ng nÆ¡i mÃ  1 máº£ng cáº§n pháº£i Ä‘Æ°á»£c â€œcáº¯tâ€ theo cÃ¡ch nÃ y), nÃ³ váº«n lÃ  1 sá»± lá»±a chá»n tá»‘t nháº¥t. Naming BooleansKhi chá»n 1 tÃªn cho giÃ¡ trá»‹ biáº¿n boolean hoáº·c 1 hÃ m sáº½ tráº£ vá» boolean, hÃ£y cháº¯c cháº¯n ráº±ng nÃ³ rÃµ rÃ ng true vÃ  false thá»±c sá»± cÃ³ nghÄ©a. ÄÃ¢y lÃ  1 vÃ­ dá»¥ nguy hiá»ƒm1bool read_password = true;TÃ¹y thuá»™c vÃ o cÃ¡ch báº¡n Ä‘á»c nÃ³ (khÃ´ng tÃ­nh chÆ¡i chá»¯), cÃ³ 2 cÃ¡ch cÃ³ thá»ƒ hiá»ƒu: Báº¡n cáº§n Ä‘á»c password Password Ä‘Ã£ Ä‘Æ°á»£c Ä‘á»c Trong trÆ°á»ng há»£p nÃ y, cÃ¡ch tá»‘t nháº¥t Ä‘á»ƒ trÃ¡nh tá»« â€œreadâ€ vÃ  Ä‘áº·t tÃªn nÃ³ lÃ  need_password hoáº·c user_is_authenticated thay tháº¿. NÃ³i chung, thÃªm nhá»¯ng tá»« nhÆ° is, has, can, hoáº·c should cÃ³ thá»ƒ lÃ m cho cÃ¡c giÃ¡ trá»‹ boolean rÃµ rÃ ng hÆ¡n. VÃ­ dá»¥, má»™t hÃ m Ä‘Æ°á»£c Ä‘áº·t tÃªn lÃ  SpaceLeft() nhÃ¬n nhÆ° nÃ³ sáº½ tráº£ vá» 1 sá»‘. Náº¿u nÃ³ cÃ³ nghÄ©a lÃ  tráº£ vá» boolean, má»™t cÃ¡i tÃªn tá»‘t hÆ¡n sáº½ lÃ  HasSpaceLeft(). Cuá»‘i cÃ¹ng, tá»‘t nháº¥t Ä‘á»ƒ trÃ¡nh cÃ¡c tá»« phá»§ nháº­n trong 1 tÃªn. VÃ­ dá»¥, thay vÃ¬1bool disable_ssl = false;NÃ³ nÃªn dá»… dÃ ng Ä‘Æ°á»£c Ä‘á»c hÆ¡n náº¿u nÃ³i lÃ 1bool use_ssl = true; Matching Expectations of Users: PhÃ¹ há»£p vá»›i mong Ä‘á»£i cá»§a ngÆ°á»i dÃ¹ngMá»™t vÃ i cÃ¡i tÃªn gÃ¢y hiá»ƒu nháº§m di ngÆ°á»i dÃ¹ng Ä‘Ã£ cÃ³ nhá»¯ng dá»± Ä‘oÃ¡n trÆ°á»›c vá» nghÄ©a cá»§a tÃªn Ä‘Ã³, máº·c dÃ¹ báº¡n cÃ³ thá»ƒ cÃ³ nghÄ©a khÃ¡c. Trong trÆ°á»ng há»£p nÃ y, cÃ¡ch tá»‘t nháº¥t lÃ  chá»‰ â€œchá»‹u thuaâ€ vÃ  thay Ä‘á»•i tÃªn nÃ³ Ä‘á»ƒ khÃ´ng gÃ¢y hiá»ƒu nháº§m Example: get*()Ráº¥t nhiá»u láº­p trÃ¬nh viÃªn Ä‘Ã£ tá»«ng quy Æ°á»›c ráº±ng phÆ°Æ¡ng thá»©c báº¯t Ä‘áº§u vá»›i get sáº½ lÃ  â€œlightweight accessorsâ€ (dá»‹ch táº¡m lÃ  láº¥y dá»¯ liá»‡u Ä‘Æ¡n giáº£n, nhanh vÃ  nháº¹ Ã½), cÃ¡i mÃ  Ä‘Æ¡n giáº£n tráº£ vá» 1 pháº§n tá»­ bÃªn trong. Äi ngÆ°á»£c láº¡i quy Æ°á»›c nÃ y cÃ³ kháº£ nÄƒng Ä‘Ã¡nh lá»«a ngÆ°á»i dÃ¹ng Ä‘Ã³. ÄÃ¢y lÃ  vÃ­ dá»¥ trong java, cÃ¡i mÃ  khÃ´ng lÃ m váº­y12345678public class StatisticsCollector { public void addSample(double x) { ... } public double getMean() { // Iterate through all samples and return total / num_samples } ...}Trong trÆ°á»ng há»£p nÃ y, khi thá»±c thi getMean, nÃ³ sáº½ thá»±c hiá»‡n vÃ²ng láº·p qua cÃ¡c dá»¯ liá»‡u tá»« trÆ°á»›c vÃ  tÃ­nh toÃ¡n giÃ¡ trá»‹ trung bÃ¬nh. BÆ°á»›c nÃ y tráº£ giÃ¡ ráº¥t Ä‘áº¯t náº¿u cÃ³ ráº¥t nhiá»u dá»¯ liá»‡u. NhÆ°ng 1 láº­p trÃ¬nh viÃªn khÃ´ng nghÄ© ngá» gÃ¬ cÃ³ thá»ƒ gá»igetMean() 1 cÃ¡ch báº¥t cáº©n, vÃ¬ nghÄ©a nÃ³ lÃ  1 lá»i gá»i khÃ´ng Ä‘áº¯t. Thay vÃ o Ä‘Ã³, phÆ°Æ¡ng thá»©c nÃªn Ä‘Æ°á»£c Ä‘áº·t tÃªn nhÆ° computeMean(), cÃ¡i mÃ  sáº½ nÃ³i lÃªn toÃ¡n tá»­ tá»‘n kÃ©m. Example: list::size()ÄÃ¢y lÃ  1 vÃ­ dá»¥ trong thÆ° viá»‡n chuáº©n C++. Äoáº¡n code dÆ°á»›i Ä‘Ã¢y lÃ  nguyÃªn nhÃ¢n gÃ¢y ra ráº¥t nhiá»u bug khÃ³ phÃ¡t hiá»‡n, khiáº¿n servers cá»§a chÃºng ta cháº­m hoáº·c sáº­p:123456void ShrinkList(list&lt;Node&gt;&amp; list, int max_size) { while (list.size() &gt; max_size) { FreeNode(list.back()); list.pop_back(); }}Lá»—i á»Ÿ Ä‘Ã¢y lÃ  tÃ¡c giáº£ khÃ´ng biáº¿t list.size() lÃ  1 toÃ¡n tá»­ O(n) - nÃ³ Ä‘áº¿n qua cÃ¡c node liÃªn káº¿t trong danh sÃ¡ch, thay vÃ¬ chá»‰ tráº£ vá» 1 phÃ©p Ä‘áº¿m trÆ°á»›c, Ä‘iá»u nÃ y lÃ m cho ShrinkList() lÃ  1 toÃ¡n tá»­ O(n2). Äoáº¡n code â€œÄ‘Ãºngâ€ vá» máº·t ká»¹ thuáº­t vÃ  trÃªn thá»±c táº¿ pass táº¥t cáº£ unit test. NhÆ°ng khi ShrinkList() Ä‘Æ°á»£c gá»i vá»›i 1 dÃ¡nh sÃ¡ch 1 triá»‡u pháº§n tá»­, nÃ³ sáº½ tá»‘n 1 giá» Ä‘á»ƒ káº¿t thÃºc. CÃ³ thá»ƒ báº¡n Ä‘ang nghÄ© â€œÄÃ³ lÃ  lá»—i cá»§a ngÆ°á»i gá»i - anh ta hoáº·c cÃ´ ta nÃªn pháº£i Ä‘á»c document cá»§a hÃ m nÃ y 1 cÃ¡ch cáº©n tháº­nâ€. Äiá»u Ä‘Ã³ Ä‘Ãºng nhÆ°ng trong trÆ°á»ng há»£p nÃ y, thá»±c táº¿ lÃ  list.size khÃ´ng pháº£i lÃ  toÃ¡n tá»­ cÃ³ thá»i gian cá»‘ Ä‘á»‹nh lÃ  1 sá»± ngáº¡c nhiÃªn. Táº¥t cáº£ cÃ¡c pháº§n khÃ¡c trong C++ cÃ³ size lÃ  phÆ°Æ¡ng thá»©c thá»i gian cá»‘ Ä‘á»‹nh. Náº¿u size Ä‘Æ°á»£c Ä‘áº·t tÃªn lÃ  countSize() hoáº·c countElements(), thÃ¬ cÃ¡c lá»—i tÆ°Æ¡ng tá»± sáº½ Ã­t xáº£y ra hÆ¡n. NgÆ°á»i viáº¿t thÆ° viá»‡n chuáº©n cá»§a C++ cÃ³ thá»ƒ muá»‘n Ä‘áº·t tÃªn phÆ°Æ¡ng thá»©c lÃ  size() Ä‘á»ƒ dÃ¹ng cho táº¥t cáº£ cÃ¡c pháº§n chÆ°a nÃ³ nhÆ° vector vÃ  map. NhÆ°ng vÃ¬ há» Ä‘Ã£ lÃ m nnos, láº­p trÃ¬nh viÃªn dá»… dÃ ng máº¯c lá»—i nÃ³ lÃ  1 toÃ¡n tá»­ nhanh, nhÆ° cÃ¡ch cá»§a cÃ¡c containers khÃ¡c. Ráº¥t may, trong thÆ° viá»‡n má»›i nháº¥t cá»§a C++, bÃ¢y giá» thá»i gian size Ä‘Ã£ lÃ  O(1). WHOâ€™S THE WIZARD? A while ago, one of the authors was installing the OpenBSD operating system. During the disk formatting step, a complicated menu appeared, asking for disk parameters. One of the options was to go to â€œWizard mode.â€ He was relieved to find this user-friendly option and selected it. To his dismay, it dropped the installer into a low-level prompt waiting for manual disk formatting commands, with no clear way to get out of it. Evidently â€œwizardâ€ meant you were the wizard! Example: Evaluating Multiple Name CandidatesKhi báº¡n quyáº¿t Ä‘á»‹nh chá»n 1 tÃªn tá»‘t, báº¡n pháº£i cÃ³ nhiá»u thÃ­ sinh Ä‘á»ƒ cÃ¢n nháº¯c. High-traffic website thÆ°á»ng xuyÃªn sá»­ dá»¥ng â€œthÃ­ nghiá»‡mâ€ Ä‘á»ƒ kiá»ƒm tra xem1 thay Ä‘á»i trÃªn trang web cÃ³ cáº£i thiá»‡n Ä‘Æ°á»£c kinh doanh hay khÃ´ng? ÄÃ¢y lÃ  1 vÃ­ dá»¥ cá»§a file cáº¥u hÃ¬nh kiá»ƒm soÃ¡t 1 vÃ i thÃ­ nghiá»‡m: experiment_id: 100description: â€œincrease font size to 14ptâ€œtraffic_fraction: 5%â€¦ Má»—i thÃ­ nghiá»‡m Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a bá»Ÿi 15 cáº·p thuá»™c tÃ­nh/giÃ¡ trá»‹. KhÃ´ng may, khi báº¡n Ä‘á»‹nh nghÄ©a 1 thÃ­ nghiá»‡m khÃ¡c tÆ°Æ¡ng tá»±, báº¡n pháº£i copy vÃ  paste láº¡i nhiá»u dÃ²ng: experiment_id: 101description: â€œincrease font size to 13ptâ€œ[other lines identical to experimentid 100] Giáº£ sá»­ báº¡n muá»‘n fix váº¥n Ä‘á» nÃ y báº±ng cÃ¡ch Ä‘Æ°a ra 1 cÃ¡ch Ä‘á»ƒ cÃ³ 1 thÃ­ nghiá»‡m cÃ³ thá»ƒ tÃ¡i sá»­ dá»¥ng cÃ¡c thuá»™c tÃ­nh cho cÃ¡c thÃ­ nghiá»‡m khÃ¡c (NÃ³ Ä‘Æ°á»£c gá»i lÃ  máº«u â€œprototype inheritanceâ€). Káº¿t quáº£ cuá»‘i cÃ¹ng báº¡n sáº½ chá»‰ gÃµ nhÆ° sau: experiment_id: 101the_other_experiment_id_I_want_to_reuse: 100[change any properties as needed] CÃ¢u há»i Ä‘áº·t ra lÃ : the_other_experiment_id_I_want_to_reuse thá»±c sá»± nÃªn Ä‘Æ°á»£c Ä‘áº·t tÃªn lÃ  gÃ¬? ÄÃ¢y lÃ  4 sá»± cÃ¢n nháº¯c cho tÃªn nÃ y: template reuse copy inherit Báº¥t cá»© tÃªn nÃ o trong sá»‘ nÃ y cÅ©ng cÃ³ nghÄ©a Ä‘á»‘i vá»›i chÃºng ta. NhÆ°ng chÃºng ta pháº£i tÆ°á»Ÿng tÆ°á»£ng ráº±ng, tÃªn nÃ o sáº½ ra sao Ä‘á»‘i vá»›i vá»›i 1 ai Ä‘Ã³ Ä‘á»c code vÃ  khÃ´ng biáº¿t vá» chá»©c nÄƒng nÃ y. HÃ£y phÃ¢n tÃ­ch tá»«ng tÃªn, nghÄ© ra 1 vÃ i cÃ¡ch ai Ä‘Ã³ cÃ³ thá»ƒ giáº£i thÃ­ch sai nÃ³: Xem xÃ©t tÃªn template experiment_id: 101template: 100â€¦ template cÃ³ 1 vÃ i váº¥n Ä‘á». Äáº§u tiÃªn, nÃ³ khÃ´ng rÃµ rÃ ng khi nÃ³ Ä‘ang nÃ³i ráº±ng â€œTÃ´i lÃ  1 báº£n máº«uâ€ hoáº·c â€œTÃ´i Ä‘ang sá»­ dá»¥ng máº«u khÃ¡câ€. CÃ¡ch hiá»ƒu thá»© 2, má»™t â€œtemplateâ€ thÆ°á»ng lÃ  thá»© gÃ¬ Ä‘Ã³ trá»«u tÆ°á»£ng, cÃ¡i mÃ  pháº£i Ä‘Æ°á»£c â€œÄ‘iá»n vÃ oâ€ trÆ°á»›c khi nÃ³ thÃ nh cá»¥ thá»ƒ hÃ³a. Ai Ä‘Ã³ cÃ³ thá»ƒ nghÄ© 1 thÃ­ nghiá»‡m khÃ´ng pháº£i lÃ  1 thÃ­ nghiá»‡m â€œthá»±c sá»±â€. CÃ²n reuse thÃ¬ sao? experiment_id: 101reuse: 100â€¦ reuse lÃ  1 tá»« okay nhÆ°ng vá»›i ngÆ°á»i viáº¿t, ai Ä‘Ã³ cÃ³ thá»ƒ hiá»ƒu nÃ³ Ä‘ang nÃ³i â€œThÃ­ nghiá»‡m cÃ³ thá»ƒ Ä‘Æ°á»£c tÃ¡i sá»­ dá»¥ng hÆ¡n 100 láº§nâ€. Thay Ä‘á»•i tÃªn thÃ nh reuse_id sáº½ giÃºp giáº£i quyáº¿t Ä‘iá»u nÃ y. NhÆ°ng nÃ³ láº¡i lÃ m bá»‘i rá»‘i cho ngÆ°á»i Ä‘á»c hiá»ƒu reuse_id: 100 nghÄ©a mÃ  â€œmy id for reuse is 100â€. HÃ£y cÃ¢n nháº¯c vá» copy: experiment_id: 101copy: 100â€¦ copy lÃ  1 tá»« tá»‘t. NhÆ°ng báº£n thÃ¢n nÃ³, copy: 100 dÆ°á»ng nhÆ° Ä‘ang nÃ³i ráº±ng â€œcopy thÃ­ nghiá»‡m nÃ y 100 láº§nâ€ hoáº·c â€œÄ‘Ã¢y lÃ  báº£n copy thá»© 100 cá»§a cÃ¡i mÃ¨o gÃ¬ Ä‘Ã³â€. Äá»ƒ lÃ m nÃ³ rÃµ rÃ ng khÃ¡i niá»‡m nÃ y Ä‘ang tham chiáº¿u tá»›i 1 thÃ­ nghiá»‡m khÃ¡c, chÃºng ta cÃ³ thá»ƒ Ä‘á»•i tÃªn lÃ  copy_experiment. ÄÃ¢y cÃ³ thá»ƒ lÃ  1 cÃ¡i tÃªn tá»‘t nháº¥t cho Ä‘áº¿n thá»i Ä‘iá»ƒm nÃ y. VÃ  bÃ¢y giá» hÃ£y xem xÃ©t inherit experiment_id: 101inherit: 100â€¦ Tá»« inherit phá»• biáº¿n vá»›i nhiá»u láº­p trÃ¬nh viÃªn vÃ  nÃ³ Ä‘Æ°á»£c hiá»ƒu lÃ  sá»­a Ä‘á»•i thÃªm sau khi Ä‘Æ°á»£c káº¿ thá»«a. Vá»›i lá»›p káº¿ thá»«a, báº¡n sáº½ nháº­n táº¥t cáº£ cÃ¡c phÆ°Æ¡ng thá»©c vÃ  thÃ nh pháº§n cá»§a lá»›p khÃ¡c vÃ  sau Ä‘Ã³ Ä‘á»‹nh nghÄ©a láº¡i chÃºng hoáº·c thÃªm má»›i. Tháº­m chÃ­ trong tháº¿ giá»›i thá»±c, khi báº¡n káº¿ thá»«a tÃ i sáº£n tá»« ngÆ°á»i thÃ¢n, nÃ³ cÅ©ng Ä‘Æ°á»£c hiá»ƒu lÃ  máº¡n cÃ³ thá»ƒ bÃ¡n chÃºng hoáº·c sá»Ÿ há»¯u nhá»¯ng thá»© khÃ¡c ná»¯a. NhÆ°ng quay trá»Ÿ láº¡i váº¥n Ä‘á», hÃ£y lÃ m cho rÃµ rÃ ng chÃºng ta Ä‘ang káº¿ thá»«a tá»« thÃ­ nghiá»‡m khÃ¡c. ChÃºng ta cÃ³ thÃªt cáº£i thiá»‡n tÃªn nÃ y vá»›i cÃ¡i tÃªn inherit_from hoáº·c tháº­m chÃ­ lÃ  inherit_from_experiment_id. NhÃ¬n chung copy_experiment vÃ  inherit_from_experiment_id lÃ  nhá»¯ng cÃ¡i tÃªn tá»‘t nháº¥t vÃ¬ chÃºng mÃ´ táº£ rÃµ rÃ ng nháº¥t cÃ¡i mÃ  thá»±c sá»± Ä‘ang diá»…n ra vÃ  Ã­t bá»‹ hiá»ƒu nháº§m nháº¥t. Tá»•ng káº¿tNhá»¯ng tÃªn tá»‘t nháº¥t chá»‰ nÃªn cÃ³ 1 nghÄ©a Ä‘á»ƒ khÃ´ng thá»ƒ bá»‹ hiá»ƒu nháº§m - ngÆ°á»i Ä‘á»c code cá»§a báº¡n sáº½ hiá»ƒu nÃ³ nhÆ° cÃ¡ch báº¡n hiá»ƒu vÃ  khÃ´ng cÃ³ cÃ¡ch khÃ¡c. Thiáº¿u may máº¯n, ráº¥t nhiá»u tá»« trong tiáº¿ng Anh khÃ´ng rÃµ nghÄ©a khi chÃºng ta sá»­ dá»¥ng nÃ³ trong láº­p trÃ¬nh nhÆ° lÃ  filter, length, vÃ  limit. TrÆ°á»›c khi báº¡n quyáº¿t Ä‘á»‹nh 1 cÃ¡i tÃªn, hÃ£y biá»‡n há»™ vÃ  tÆ°á»Ÿng tÆ°á»£ng ráº±ng tÃªn cá»§a báº¡n cÃ³ thá»ƒ bá»‹ hiá»ƒu nháº§m nhÆ° tháº¿ nÃ o? TÃªn tá»‘t nháº¥t cÃ³ kháº£ nÄƒng chá»‘ng láº¡i giáº£i thÃ­ch sai Ã½ nghÄ©a. Khi báº¡n Ä‘á»‹nh nghÄ©a giá»›i háº¡n trÃªn dÆ°á»›i, max_ vÃ  min_ lÃ  nhá»¯ng tiá»n tá»‘ tá»‘t. Äá»‘i vá»›i cÃ¡c pháº¡m vi bao gá»“m, first vÃ  last lÃ  sá»± lá»±a chá»n. Äá»‘i vá»›i cÃ¡c pháº¡m vi bao gá»“m/loáº¡i trá»«, begin vÃ  end lÃ  tá»‘t nháº¥t vÃ¬ chÃºng lÃ  quá»‘c ngá»¯ =)). Khi tÃªn cá»§a báº¡n lÃ  1 boolean, sá»­ dá»¥ng nhá»¯ng tá»« nhÆ° is vÃ  has Ä‘á»ƒ lÃ m rÃµ nghÄ©a nÃ³ lÃ  boolean. TrÃ¡nh sá»­ dá»¥ng cÃ¡c tá»« cÃ³ nghÄ©a phá»§ Ä‘á»‹nh (vÃ­ dá»¥ nhÆ° disable_ssl) Coi chá»«ng tá»« kÃ¬ vá»ng cá»§a ngÆ°á»i dÃ¹ng vá» nhá»¯ng tá»« nháº¥t Ä‘á»‹nh. VÃ­ dá»¥, ngÆ°á»i dÃ¹ng sáº½ mong Ä‘á»£i get() vÃ  size() lÃ  cÃ¡c phÆ°Æ¡ng thá»©c nháº¹ (Beware of usersâ€™ expectations about certain words.) Tá»« khÃ³a má»›i: lightweight accessors, lightweight operator =&gt; Ã½ nÃ³i cÃ¡c toÃ¡n tá»­ nháº¹ vÃ  nhanh, khÃ´ng cÃ³ xá»­ lÃ½ logic phá»©c táº¡p TÃ i liá»‡u tham kháº£oChapter 3 -Names That Canâ€™t Be Misconstrued","link":"/2020/05/24/Chapter-3-Names-That-Can%E2%80%99t-Be-Misconstrued/"},{"title":"Chapter 4: Aesthetics","text":"HÃ£y nghÄ© 1 chÃºt vá» layouts (bá»‘ cá»¥c) cá»§a 1 tá» táº¡p chÃ­ - Ä‘á»™ dÃ i Ä‘oáº¡n vÄƒn, chiá»u rá»™ng cá»§a cÃ¡c cá»™t, thá»© tá»± cá»§a bÃ i viáº¿t vÃ  bÃ¬a. A good magazine makes it easy to skip around from page to page, but also easy to read straight through.. Code tá»‘t nÃªn dá»… nhÃ¬n (easy on the eyes). Trong chÆ°Æ¡ng nÃ y chÃºng ta sáº½ chá»‰ ra cÃ¡ch sá»­ dá»¥ng space, cÄƒn chá»‰nh vÃ  sáº¯p xáº¿p code cho dá»… Ä‘á»c Chi tiáº¿t, cÃ³ 3 nguyÃªn táº¯c chÃºng ta sáº½ sá»­ dá»¥ng Sá»­ dá»¥ng bá»‘ cá»¥c thá»‘ng nháº¥t vá»›i máº«u chung lÃ  ngÆ°á»i Ä‘á»c cÃ³ thá»ƒ sá»­ dá»¥ng Ä‘Æ°á»£c LÃ m cho cÃ¡c Ä‘oáº¡n mÃ£ tÆ°Æ¡ng tá»± nhÃ¬n tÆ°Æ¡ng tá»± nhau NhÃ³m cÃ¡c Ä‘oáº¡n code liÃªn quan vá»›i nhau thÃ nh cÃ¡c khá»‘i code CÃ¡ch thay Ä‘á»•i nÃ y dá»… dÃ ng thá»±c hiá»‡n mÃ  nÃ³ cáº£i thiá»‡n Ä‘Ã¡ng ká»ƒ kháº£ nÄƒng Ä‘á»c code cá»§a báº¡n Ä‘Ã³ &lt;3 AESTHETICS VS. DESIGN In this chapter, weâ€™re concerned only with simple â€œaestheticâ€ improvements you can make to your code. These types of changes are easy to make and often improve readability quite a bit. There are times when larger refactoring of your code (such as splitting out new functions or classes) can help even more. Our view is that good aesthetics and good design are independent ideas; ideally you should strive for both. Why Do Aesthetics Matter?ThÆ° giÃ£n 1 chÃºt, báº¡n cÃ³ muá»‘n mÃ¬nh lÃ  nhÃ¢n váº­t trong bá»©c áº£nh nÃ y :D. Thá»­ tÆ°á»Ÿng tÆ°á»£ng code cá»§a báº¡n:12345678910111213class StatsKeeper {public:// A class for keeping track of a series of doubles void Add(double d); // and methods for quick statistics about them private: int count;/* how many so far*/ public: double Average();private: double minimum;list&lt;double&gt; past_items ;double maximum;};NÃ³ sáº½ ráº¥t khÃ³ Ä‘á»ƒ hiá»ƒu thay vÃ¬ báº¡n clean code thay tháº¿ nhÆ° sau:12345678910111213// A class for keeping track of a series of doubles// and methods for quick statistics about them.class StatsKeeper { public: void Add(double d); double Average(); private: list&lt;double&gt; past_items; int count; // how many so far double minimum; double maximum;};Cháº¯c cháº¯n dá»… dÃ ng hÆ¡n khi lÃ m viá»‡c vá»›i cÃ¡c Ä‘oáº¡n code cÃ³ tháº©m má»¹. Náº¿u báº¡n Ä‘ang nghÄ© vá» nÃ³, pháº§n lá»›n thá»i gian láº­p trÃ¬nh cá»§a báº¡n dÃ nh cho viá»‡c nhÃ¬n code! Sáº½ nhanh hÆ¡n báº¡n cÃ³ thá»ƒ Ä‘á»c lÆ°á»›t qua code, dá»… dÃ ng vá»›i má»i ngÆ°á»i khi sá»­ dá»¥ng nÃ³ ná»¯a. Sáº¯p xáº¿p láº¡i cÃ¡c ngáº¯t dÃ²ng Ä‘á»ƒ Ä‘Æ°á»£c nháº¥t quÃ¡n vÃ  nhá» gá»nGiáº£ sá»­ báº¡n Ä‘ang viáº¿t code Java tÃ­nh toÃ¡n hÃ nh vi chÆ°Æ¡ng trÃ¬nh cá»§a báº¡n hoáº¡t Ä‘á»™ng vá»›i 1 vÃ i tá»‘c Ä‘á»™ máº¡ng khÃ¡c nhau. Báº¡n cÃ³ TcpConnectionSimulator nháº­n vÃ o 4 tham sá»‘ trong hÃ m táº¡o: Tá»‘c Ä‘á»™ káº¿t ná»‘i (Kbps) Äá»™ trá»… trung bÃ¬nh (ms) The â€œjitterâ€ cá»§a Ä‘á»™ trá»… (ms) Tá»‰ lá»‡ máº¥t gÃ³i tin (pháº§n trÄƒm) Äoáº¡n code cá»§a báº¡n cáº§n 3 instance TcpConnectionSimulator khÃ¡c nhau:12345678910111213141516171819public class PerformanceTester { public static final TcpConnectionSimulator wifi = new TcpConnectionSimulator( 500, /* Kbps */ 80, /* millisecs latency */ 200, /* jitter */ 1 /* packet loss % */); public static final TcpConnectionSimulator t3_fiber = new TcpConnectionSimulator( 45000, /* Kbps */ 10, /* millisecs latency */ 0, /* jitter */ 0 /* packet loss % */); public static final TcpConnectionSimulator cell = new TcpConnectionSimulator( 100, /* Kbps */ 400, /* millisecs latency */ 250, /* jitter */ 5 /* packet loss % */);}Äoáº¡n code cáº§n ráº¥t nhiá»u kÃ­ tá»± xuá»‘ng dÃ²ng bá»• sung Ä‘á»ƒ phÃ¹ há»£p vá»›i yÃªu cáº§u giá»›i háº¡n 80 kÃ­ tá»± trÃªn 1 dÃ²ng (tiÃªu chuáº©n cá»§a cÃ´ng ty). KhÃ´ng may máº¯n, chÃºng ta nhÃ¬n dÃ²ng Ä‘á»‹nh nghÄ©a t3_fiber nhÃ¬n ráº¥t khÃ¡c vá»›i cÃ¡c â€œhÃ ng xÃ³mâ€ cá»§a nÃ³. Äiá»u nÃ y cÃ³ nghÄ©a nÃ³ Ä‘ang khÃ´ng theo nguyÃªn táº¯c â€œsimilar code should look similarâ€. Äá»ƒ lÃ m cho cÃ¡c Ä‘oáº¡n code cá»§a báº¡n thá»‘ng nháº¥t, chÃºng ta cÃ³ thá»ƒ giá»›i thiá»‡u thÃªm cÃ¡c dáº¥u ngáº¯t dÃ²ng (vÃ  xáº¿p hÃ ng cÃ¡c comment khi chÃºng ta lÃ m viá»‡c vá»›i nÃ³):12345678910111213141516171819202122public class PerformanceTester { public static final TcpConnectionSimulator wifi = new TcpConnectionSimulator( 500, /* Kbps */ 80, /* millisecs latency */ 200, /* jitter */ 1 /* packet loss % */); public static final TcpConnectionSimulator t3_fiber = new TcpConnectionSimulator( 45000, /* Kbps */ 10, /* millisecs latency */ 0, /* jitter */ 0 /* packet loss % */); public static final TcpConnectionSimulator cell = new TcpConnectionSimulator( 100, /* Kbps */ 400, /* millisecs latency */ 250, /* jitter */ 5 /* packet loss % */);} Äoáº¡n code Ä‘Ã£ cÃ³ máº«u thá»‘ng nháº¥t Ä‘áº¹p vÃ  dá»… dÃ ng Ä‘á»ƒ quÃ©t qua. NhÆ°ng khÃ´ng may, nÃ³ sá»­ dá»¥ng ráº¥t nhiá»u dáº¥u cÃ¡ch. NÃ³ cÅ©ng láº·p comment 3 láº§n. ÄÃ¢y lÃ  cÃ¡ch gá»n nháº¹ hÆ¡n Ä‘á»ƒ viáº¿t class trÃªn12345678910public class PerformanceTester { // TcpConnectionSimulator(throughput, latency, jitter, packet_loss) // [Kbps] [ms] [ms] [percent] public static final TcpConnectionSimulator wifi = new TcpConnectionSimulator(500, 80, 200, 1); public static final TcpConnectionSimulator t3_fiber = new TcpConnectionSimulator(45000, 10, 0, 0); public static final TcpConnectionSimulator cell = new TcpConnectionSimulator(100, 400, 250, 5);} ChÃºng ta Ä‘Ã£ di chuyá»ƒn comment lÃªn top vÃ  sau Ä‘Ã³ Ä‘á»ƒ táº¥t cáº£ cÃ¡c tham sá»‘ vÃ o 1 dÃ²ng. BÃ¢y giá», tháº­m chÃ­ comment khÃ´ng cÃ²n cho má»—i dÃ²ng, â€œdá»¯ liá»‡uâ€ Ä‘Æ°á»£c sáº¯p xáº¿p thÃ nh 1 báº£ng gá»n nháº¹ hÆ¡n. Use Methods to Clean Up Irregularity: Sá»­ dá»¥ng cÃ¡c phÆ°Æ¡ng thá»©c Ä‘á»ƒ dá»n dáº¹p cÃ¡c thá»© báº¥t thÆ°á»ngGiáº£ Ä‘á»‹nh báº¡n cÃ³ 1 cÆ¡ sá»Ÿ dá»¯ liá»‡u cung cáº¥p cÃ¡c hÃ m nhÆ° sau:123// Turn a partial_name like &quot;Doug Adams&quot; into &quot;Mr. Douglas Adams&quot;.// If not possible, 'error' is filled with an explanation.string ExpandFullName(DatabaseConnection dc, string partial_name, string* error);VÃ  hÃ m nÃ y Ä‘Æ°á»£c test vá»›i 1 vÃ i vÃ­ dá»¥:123456789101112DatabaseConnection database_connection;string error;assert(ExpandFullName(database_connection, &quot;Doug Adams&quot;, &amp;error) == &quot;Mr. Douglas Adams&quot;);assert(error == &quot;&quot;);assert(ExpandFullName(database_connection, &quot; Jake Brown &quot;, &amp;error) == &quot;Mr. Jacob Brown III&quot;);assert(error == &quot;&quot;);assert(ExpandFullName(database_connection, &quot;No Such Guy&quot;, &amp;error) == &quot;&quot;);assert(error == &quot;no match found&quot;);assert(ExpandFullName(database_connection, &quot;John&quot;, &amp;error) == &quot;&quot;);assert(error == &quot;more than one result&quot;);Äoáº¡n code nÃ y khÃ´ng cÃ³ tÃ­nh cháº¥t tháº©m má»¹. Má»™t vÃ i dÃ²ng quÃ¡ dÃ i vÃ  chÃ¨n xuá»‘ng cáº£ dÆ°á»›i. Äoáº¡n code xáº¥u xÃ­ vÃ  khÃ´ng theo 1 máº«u nháº¥t quÃ¡n. NhÆ°ng Ä‘Ã¢y lÃ  1 trÆ°á»ng há»£p mÃ  sáº¯p xáº¿p láº¡i cÃ¡c dáº¥u ngáº¯t dÃ²ng nhÆ° trÃªn sáº½ cÃ³ ráº¥t nhiá»u. Váº¥n Ä‘á» lá»›n hÆ¡n lÃ  cÃ³ ráº¥t nhiá»u cÃ¡c string láº·p láº¡i nhÆ° assert(ExpandFullName(database_connection... ,&quot; vÃ  â€œerrorâ€ cÃ¡i mÃ  náº¿u cá»‘ theo cÃ¡ch nÃ y. Äá»ƒ thá»±c sá»± cáº£i thiá»‡n Ä‘oáº¡n code nÃ y, chÃºng ta cáº§n 1 phÆ°Æ¡ng thá»©c helper Ä‘á»ƒ code cÃ³ thá»ƒ nhÃ¬n nhÆ°:1234CheckFullName(&quot;Doug Adams&quot;, &quot;Mr. Douglas Adams&quot;, &quot;&quot;);CheckFullName(&quot; Jake Brown &quot;, &quot;Mr. Jake Brown III&quot;, &quot;&quot;);CheckFullName(&quot;No Such Guy&quot;, &quot;&quot;, &quot;no match found&quot;);CheckFullName(&quot;John&quot;, &quot;&quot;, &quot;more than one result&quot;); BÃ¢y giá», má»i thá»© Ä‘Ã£ rÃµ rÃ ng hÆ¡n, cÃ³ 4 tests Ä‘ang diá»…n ra, má»—i test vá»›i tham sá»‘ khÃ¡c nhau. Máº·c dÃ¹ táº¥t cáº£ cÃ¡c â€œdirty workâ€ Ä‘Ã£ bÃªn trong CheckFullName(), hÃ m nÃ y cÅ©ng khÃ´ng quÃ¡ tá»‡123456789void CheckFullName(string partial_name, string expected_full_name, string expected_error) { // database_connection is now a class member string error; string full_name = ExpandFullName(database_connection, partial_name, &amp;error); assert(error == expected_error); assert(full_name == expected_full_name);}Máº·c dÃ¹ má»¥c Ä‘Ã­ch cá»§a chÃºng ta lÃ  cho code cÃ³ tháº©m má»¹ hÆ¡n, Ä‘iá»u nÃ y cÃ³ 1 vÃ i lá»£i Ã­ch khÃ¡c: NÃ³ loáº¡i bá» ráº¥t nhiá»u cÃ¡c Ä‘oáº¡n code láº·p láº¡i trÆ°á»›c Ä‘Ã³, lÃ m cho code nhá» gá»n hÆ¡n. Pháº§n quan trá»ng cá»§a má»—i test case (tÃªn vÃ  chuá»—i error) bÃ¢y giá» Ä‘Ã£ Ä‘Æ°á»£c bá»c láº¡i, dá»… theo dÃµi. TrÆ°á»›c Ä‘Ã³, cÃ¡c chuá»—i nÃ y xem káº½ vá»›i cÃ¡c dáº¥u hiá»‡u riÃªng nhÆ° database_connection vÃ  error BÃ¢y giá», thÃªm nhá»¯ng test má»›i sáº½ trá»Ÿ nÃªn dá»… dÃ ng hÆ¡n Ná»™i dung cá»§a cÃ¢u chuyá»‡n lÃ  lÃ m cho code â€œnhÃ¬n Ä‘áº¹p máº¯tâ€ thÆ°á»ng dáº«n Ä‘áº¿n nhiá»u káº¿t quáº£ hÆ¡n chá»‰ lÃ  cáº£i tiáº¿n vá» bá» máº·t (surface) - nÃ³ cÃ³ thá»ƒ giÃºp báº¡n cÃ³ cáº¥u trÃºc code tá»‘t hÆ¡n Use Column Alignment When Helpful: Sá»­ dá»¥ng cÄƒn chá»‰nh cá»™t khi há»¯u Ã­chChá»‰nh sá»­a gÃ³c vÃ  cÃ¡c cá»™t lÃ m code cá»§a báº¡n dá»… Ä‘á»c hÆ¡n vÃ  cÃ³ thá»ƒ quÃ©t (scan) qua text - scan through text. ÄÃ´i khi báº¡n cÃ³ thá»ƒ giá»›i thiá»‡u â€œcÄƒn chá»‰nh cá»™tâ€ Ä‘á»ƒ lÃ m code dá»… Ä‘á»c hÆ¡n. VÃ­ dá»¥, nhÆ° pháº§n trÆ°á»›c báº¡n cÃ³ thá»ƒ thÃªm dáº¥u cÃ¡ch, xáº¿p hÃ ng cho cÃ¡c Ä‘á»‘i sá»‘ cá»§a hÃ m:1234CheckFullName(&quot;Doug Adams&quot; , &quot;Mr. Douglas Adams&quot; , &quot;&quot;);CheckFullName(&quot; Jake Brown &quot; , &quot;Mr. Jake Brown III&quot; , &quot;&quot;);CheckFullName(&quot;No Such Guy&quot; , &quot;&quot; , &quot;no match found&quot;);CheckFullName(&quot;John&quot; , &quot;&quot; , &quot;more than one result&quot;);Trong Ä‘oáº¡n code nÃ y, Ä‘Ã£ dá»… dÃ ng phÃ¢n biá»‡t Ä‘Æ°á»£c Ä‘á»‘i sá»‘ thá»© 2 vÃ  thá»© 3 cá»§a hÃ m CheckFullName() ÄÃ¢y lÃ  1 vÃ­ dá»¥ Ä‘Æ¡n giáº£n lá»›p 1 táº­p lá»›n cÃ¡c biáº¿n Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a:123456# Extract POST parameters to local variablesdetails = request.POST.get('details')location = request.POST.get('location')phone = equest.POST.get('phone')email = request.POST.get('email')url = request.POST.get('url')Báº¡n cÃ³ nháº­n tháº¥y, Ä‘á»‹nh nghÄ©a thá»© 3 lá»—i chÃ­nh táº£, lÃ  (equest thay vÃ¬ request). Lá»—i nhÆ° váº­y dá»… phÃ¡t hiá»‡n khi báº¡n má»i thá»© Ä‘Æ°á»£c sáº¯p xáº¿p gá»n gÃ ng. Trong wget codebase, cÃ¡c tÃ¹y chá»n cÃ³ sáºµn cá»§a command-line (khoáº£ng hÆ¡n 100 dÃ²ng) Ä‘Æ°á»£c liá»‡t kÃª nhÆ° dÆ°á»›i Ä‘Ã¢y:123456789commands[] = { ... { &quot;timeout&quot;, NULL, cmd_spec_timeout }, { &quot;timestamping&quot;, &amp;opt.timestamping, cmd_boolean }, { &quot;tries&quot;, &amp;opt.ntry, cmd_number_inf }, { &quot;useproxy&quot;, &amp;opt.use_proxy, cmd_boolean }, { &quot;useragent&quot;, NULL, cmd_spec_useragent }, ...};TiÃªu chuáº©n nÃ y lÃ m danh sÃ¡ch ráº¥t dá»… Ä‘á»ƒ Ä‘á»c lÆ°á»›t qua vÃ  nháº£y tá»« cá»™t nÃ y sang cá»™t khÃ¡c. Should You Use Column Alignment?CÄƒn cáº¡nh cÃ¡c cá»™t cung cáº¥p â€œcÃ¡c hÃ nh lang trá»±c quanâ€ lÃ m code dá»… dÃ ng quÃ©t qua. NÃ³ lÃ  1 má»™t vÃ­ dá»¥ tá»‘t Ä‘á»ƒ â€œlÃ m cho code tÆ°Æ¡ng tá»± nhau nhÃ¬n tÆ°Æ¡ng Ä‘Æ°Æ¡ng nhauâ€. NhÆ°ng má»™t vÃ i láº­p trÃ¬nh viÃªn khÃ´ng thÃ­ch nÃ³. Má»™t lÃ½ do lÃ  táº¡o thÃªm viá»‡c khi set up vÃ  maintain cÃ¡c cÄƒn chá»‰nh nÃ y. Má»™t lÃ½ do khÃ¡c lÃ  nÃ³ táº¡o ra â€œmá»™t sá»± thay Ä‘á»•iâ€ lá»›n hÆ¡n khi táº¡o 1 thay Ä‘á»•i - 1 dÃ²ng thay Ä‘á»•i cÃ³ nghÄ©a lÃ  5 dÃ²ng khÃ¡c cÅ©ng cáº§n thay Ä‘á»•i (thÆ°á»ng sáº½ lÃ  cáº§n chá»‰nh láº¡i cÃ¡c khoáº£ng trá»‘ng) Lá»i khuyÃªn cá»§a chÃºng tÃ´i lÃ  cá»© thá»­ nÃ³. Theo kinh nghiá»‡m cá»§a chÃºng tÃ´i, nÃ³ khÃ´ng máº¥t nhiá»u cÃ´ng sá»©c mÃ  láº­p trÃ¬nh viÃªn pháº£i sá»£. VÃ  náº¿u cÃ³, báº¡n cÃ³ thá»ƒ Ä‘Æ¡n giáº£n lÃ  dá»«ng láº¡i. Pick a Meaningful Order, and Use It ConsistentlyCÃ³ ráº¥t nhiá»u trÆ°á»ng há»£p cÃ³ thá»© tá»± trong code khÃ´ng áº£nh hÆ°á»Ÿng Ä‘áº¿n tÃ­nh Ä‘Ãºng Ä‘áº¯n. VÃ­ dá»¥, Ä‘Ã¢y lÃ  1 cÃ¡ch khai bÃ¡o biáº¿n cÃ³ thá»ƒ Ä‘Æ°á»£c viáº¿t theo 1 vÃ i thá»© tá»±:12345details = request.POST.get('details')location = request.POST.get('location')phone = request.POST.get('phone')email = request.POST.get('email')url = request.POST.get('url')Trong cÃ¡c trÆ°á»ng há»£p nhÆ° váº­y, sáº½ há»¯u Ã­ch hÆ¡n náº¿u báº¡n Ä‘áº·t chÃºng thÃ nh 1 thá»© tá»± cÃ³ nghÄ©a, khÃ´ng pháº£i lÃ  ngáº«u nhiÃªn. DÆ°á»›i Ä‘Ã¢y lÃ  1 vÃ i Ã½ tÆ°á»Ÿng: TrÃ¹ng vá»›i thá»© tá»± cá»§a biáº¿n Ä‘Æ°á»£c sáº¯p xáº¿p trong cÃ¡c trÆ°á»ng &lt;input&gt; tÆ°Æ¡ng á»©ng trong HTML form. Sáº¯p xáº¿p chÃºng tá»« â€œquan trá»ng nháº¥tâ€ Ä‘áº¿n â€œÃ­t quan trá»ng nháº¥tâ€ Sáº¯p xáº¿p chÃºng theo thá»© tá»± báº£ng chá»¯ cÃ¡i. Khi báº¡n sáº¯p xáº¿p, báº¡n nÃªn sá»­ dá»¥ng thá»© tá»± giá»‘ng nhau xuyÃªn suá»‘t code cá»§a báº¡n. NhÆ° váº­y thÃ¬ trÃ¡nh gÃ¢y nháº§m láº«n thay Ä‘á»•i thá»© tá»± sau Ä‘Ã³:12345if details: rec.details = detailsif phone: rec.phone = phone # Hey, where did 'location' go?if email: rec.email = emailif url: rec.url = urlif location: rec.location = location # Why is 'location' down here now? Organize Declarations into BlocksNÃ£o cá»§a chÃºng ta tá»± nhiÃªn sáº½ nghÄ© cÃ¡c khÃ¡i niá»‡m trong nhÃ³m vÃ  thá»© báº­c, do Ä‘Ã³ báº¡n giÃºp ngÆ°á»i Ä‘á»c dá»… dÃ ng Ä‘á»c code nháº¥t theo cÃ¡ch nÃ y. VÃ­ dá»¥ trong lá»›p C++ frontend server, vá»›i cÃ¡c phÆ°Æ¡ng thá»©c Ä‘Æ°á»£c khai bÃ¡o:12345678910111213class FrontendServer { public: FrontendServer(); void ViewProfile(HttpRequest* request); void OpenDatabase(string location, string user); void SaveProfile(HttpRequest* request); string ExtractQueryParam(HttpRequest* request, string param); void ReplyOK(HttpRequest* request, string html); void FindFriends(HttpRequest* request); void ReplyNotFound(HttpRequest* request, string error); void CloseDatabase(string location); ~FrontendServer();}; Äoáº¡n code nÃ y khÃ´ng gÃ¢y sá»£ hÃ£i nhÆ°ng cÃ¡ch bá»‘ trÃ­ khÃ´ng giÃºp ngÆ°á»i Ä‘á»c phÃ¢n loáº¡i Ä‘Æ°á»£c táº¥t cáº£ cÃ¡c phÆ°Æ¡ng thá»©c. Thay vÃ¬ liá»‡t kÃª táº¥t cáº£ cÃ¡c phÆ°Æ¡ng thá»©c trong 1 khá»‘i khá»•ng lá»“, chÃºng nÃªn Ä‘Æ°á»£c tá»• chá»©c láº¡i thÃ nh cÃ¡c nhÃ³m, nhÆ° sau:12345678910111213141516171819class FrontendServer { public: FrontendServer(); ~FrontendServer(); // Handlers void ViewProfile(HttpRequest* request); void SaveProfile(HttpRequest* request); void FindFriends(HttpRequest* request); // Request/Reply Utilities string ExtractQueryParam(HttpRequest* request, string param); void ReplyOK(HttpRequest* request, string html); void ReplyNotFound(HttpRequest* request, string error); // Database Helpers void OpenDatabase(string location, string user); void CloseDatabase(string location);};PhiÃªn báº£n nÃ y dá»… hiá»ƒu hÆ¡n nhiá»u khi Ä‘Ã£ Ä‘Æ°á»£c phÃ¢n loáº¡i. NÃ³ cÅ©ng dá»… Ä‘á»c hÆ¡n, máº·c dÃ¹ tá»‘n nhiá»u dÃ²ng code hÆ¡n. LÃ½ do báº¡n cÃ³ thá»ƒ dá»… dÃ ng tÃ¬m ra 1 pháº§n high-level vÃ  sao Ä‘Ã³ Ä‘á»c chi tiáº¿t má»—i pháº§n náº¿u cáº§n thiáº¿t. Break Code into â€œParagraphsâ€VÄƒn báº£n viáº¿t Ä‘Æ°á»£c chia thÃ nh cÃ¡c Ä‘oáº¡n vÃ¬ 1 sá»‘ lÃ½ do sau: NÃ³ lÃ  cÃ¡c Ä‘á»ƒ nhÃ³m cÃ¡c Ã½ tÆ°á»Ÿng chung láº¡i vá»›i nhau vÃ  Ä‘áº·t chÃºng cÃ¡ch nhau vá»›i cÃ¡c Ã½ tÆ°á»Ÿng khÃ¡c. NÃ³ cung cáº¥p â€œbÆ°á»›c Ä‘á»‡mâ€ trá»±c quan- khÃ´ng cÃ³ nÃ³, báº¡n dá»… dÃ ng Ä‘Ã¡nh máº¥y vá»‹ trÃ­ cá»§a báº¡n trÃªn trang. NÃ³ táº¡o Ä‘iá»u kiá»‡n Ä‘á»ƒ Ä‘iá»u hÆ°á»›ng tá»« 1 trang Ä‘áº¿n trang khÃ¡c. Code cÅ©ng nÃªn tÃ¡ch thÃ nh cÃ¡c â€œÄ‘oáº¡n vÄƒnâ€ vÃ¬ lÃ½ do nhÆ° váº­y. VÃ­ dá»¥, khÃ´ng ai muá»‘n Ä‘á»c 1 Ä‘oáº¡n code khá»•ng lá»• nhÆ° váº­y:12345678910111213# Import the user's email contacts, and match them to users in our system.# Then display a list of those users that he/she isn't already friends with.def suggest_new_friends(user, email_password): friends = user.friends() friend_emails = set(f.email for f in friends) contacts = import_contacts(user.email, email_password) contact_emails = set(c.email for c in contacts) non_friend_emails = contact_emails - friend_emails suggested_friends = User.objects.select(email__in=non_friend_emails) display['user'] = user display['friends'] = friends display['suggested_friends'] = suggested_friends return render(&quot;suggested_friends.html&quot;, display) NÃ³ cÃ³ thá»ƒ khÃ´ng rÃµ rÃ ng, nhÆ°ng hÃ m nÃ y tráº£i qua 1 sá»‘ bÆ°á»›c. Do Ä‘Ã³ nÃ³ Ä‘áº·c biá»‡t há»¯u Ã­ch Ä‘á»ƒ ngáº¯t cÃ¡c dÃ²ng nÃ y thÃ nh cÃ¡c Ä‘oáº¡n vÄƒn:12345678910111213141516171819def suggest_new_friends(user, email_password): # Get the user's friends' email addresses. friends = user.friends() friend_emails = set(f.email for f in friends) # Import all email addresses from this user's email account. contacts = import_contacts(user.email, email_password) contact_emails = set(c.email for c in contacts) # Find matching users that they aren't already friends with. non_friend_emails = contact_emails - friend_emails suggested_friends = User.objects.select(email__in=non_friend_emails) # Display these lists on the page. display['user'] = user display['friends'] = friends display['suggested_friends'] = suggested_friends return render(&quot;suggested_friends.html&quot;, display)Nháº­n tháº¥y ráº±ng chÃºng ta cÅ©ng thÃªm cÃ¡c comment tÃ³m táº¯t cho má»—i Ä‘oáº¡n vÄƒn, cÃ¡i giÃºp ngÆ°á»i Ä‘á»c dá»… Ä‘á»c Ä‘á»c qua code (Xem thÃªm chÆ°Æ¡ng 5 Ä‘á»ƒ biáº¿t nhá»¯ng gÃ¬ báº¡n nÃªn comment) NhÆ° khi viáº¿t vÄƒn, cÃ³ nhiá»u cÃ¡ch Ä‘á»ƒ chia nhá» code vÃ  láº­p trÃ¬nh viÃªn cÃ³ thá»ƒ thÃ­ch cÃ¡c Ä‘oáº¡n vÄƒn dÃ i hÆ¡n hoáº·c ngáº¯n hÆ¡n =)). Personal Style versus ConsistencyCÃ³ 1 vÃ i sá»± lá»±a chá»n nháº¥t Ä‘á»‹nh cho tÃ­nh tháº©m mÄ©, cÃ¡i mÃ  ná»•i bá»t hÆ¡n cáº£ personal style. VÃ­ dá»¥, dáº¥u má»Ÿ ngoáº·c khi Ä‘á»‹nh nghÄ©a 1 lá»›p nÃªn lÃ :123class Logger { ...};Hoáº·c1234class Logger{ ...};Náº¿u 1 style nÃ o hÆ¡n style nÃ o, nÃ³ khÃ´ng áº£nh hÆ°á»Ÿng Ä‘Ã¡ng ká»ƒ Ä‘áº¿n kháº£ nÄƒng Ä‘á»c code. NhÆ°ng náº¿u cÃ³ 2 style nÃ y trá»™n láº«n vá»›i nhau trong code, nÃ³ sáº½ gÃ¢y ra khÃ³ Ä‘á»c code. ChÃºng tÃ´i Ä‘Ã£ lÃ m viá»‡c vá»›i nhiá»u dá»± Ã¡n mÃ  chÃºng tÃ´i cáº£m tháº¥y team Ä‘ang sá»­ dá»¥ng â€œsaiâ€ style nhÆ°ng chÃºng tÃ´i cho phÃ©p cÃ¡c quy Æ°á»›c nÃ y trong project vÃ¬ chÃºng tÃ´i biáº¿t ráº±ng tÃ­nh nháº¥t quÃ¡n quan trá»ng hÆ¡n nhiá»u. KEY IDEAConsistent style is more important than the â€œrightâ€ style. Äá»‘i vá»›i má»i ngÆ°á»i nhÃ¬n vÃ o, nÃ³ lÃ  1 cÃ¡i phÃ²ng trá» nhÆ°ng vá»›i nhá»¯ng chÃº lá»£n thÃ¬ nÃ³ chá»‰ lÃ  1 cÃ¡i chuá»“ng lá»£n :D TÃ³m láº¡iMá»i ngÆ°á»i thÃ­ch Ä‘á»c code cÃ³ tháº©m má»¹. Báº±ng â€œformattingâ€ code theo 1 sá»± thá»‘ng nháº¥t, 1 cÃ¡ch cÃ³ nghÄ©a, báº¡n sáº½ lÃ m nÃ³ Ä‘á»c dá»… dÃ ng vÃ  nhanh chÃ³ng hÆ¡n. DÆ°á»›i Ä‘Ã¢y lÃ  1 sá»‘ kÄ© thuáº­t cá»¥ thá»ƒ chÃºng ta Ä‘Ã£ tháº£o luáº­n: Náº¿u nhiá»u khá»‘i code Ä‘ang lÃ m nhá»¯ng thá»© tÆ°Æ¡ng tá»± nhau, hÃ£y Ä‘á»ƒ chÃºng hÃ¬nh cÃ³ váº» giá»‘ng nhau :D. CÄƒn chá»‰nh cÃ¡c pháº§n cá»§a code vÃ o trong cÃ¡c â€œcá»™tâ€ Ä‘á»ƒ lÃ m code dá»… dÃ ng cÃ³ thá»ƒ Ä‘á»c lÆ°á»›t qua. Náº¿u code cá»§a báº¡n nháº¯c tá»›i A,B vÃ  C trong 1 chá»—, Ä‘á»«ng nÃ³i B,C vÃ  A á»Ÿ 1 chá»— khÃ¡c. Chá»n 1 thá»© tá»± cÃ³ nghÄ©a vÃ  gáº¯n bÃ³ vá»›i nÃ³. Sá»­ dá»¥ng cÃ¡c dÃ²ng trá»‘ng Ä‘á»ƒ phÃ¡ vá»¡ cÃ¡c khá»‘i code lá»›n vÃ o cÃ¡c â€œÄ‘oáº¡n vÄƒnâ€ cÃ¹ng logical TÃ i liá»‡u tham kháº£oChapter 4 - The Art of Readable Code","link":"/2020/05/24/Chapter-4-Aesthetics/"},{"title":"Chapter 8: Breaking Down Giant Expressions","text":"Má»™t con má»±c khá»•ng lá»“ lÃ  loÃ i Ä‘á»™ng váº­t tuyá»‡t vá»i vÃ  thÃ´ng minh nhÆ°ng thiáº¿t káº¿ body cá»§a nÃ³ gáº§n hoÃ n háº£o cÃ³ 1 lá»• há»•ng cháº¿t ngÆ°á»i: nÃ³ cÃ³ 1 cÃ¡i nÃ£o má»m dáº»o (donut-shaped brain) bá»c trong thá»±c quáº£n. Do Ä‘Ã³ náº¿u nÃ³ nuá»‘t quÃ¡ nhiá»u thá»©c Äƒn trong 1 láº§n, nÃ£o cá»§a nÃ³ sáº½ hÆ° háº¡i. Äiá»u nÃ y lÃ m chÃºng ta pháº£i lÃ m gÃ¬ vá»›i code? Well, code Ä‘áº¿n tá»« cÃ¡c â€œchunksâ€ cÃ¡i mÃ  quÃ¡ lá»›n, cÃ³ thá»ƒ cÃ³ cÃ¹ng hiá»‡u á»©ng. CÃ¡c nghiÃªn cá»©u gáº§n Ä‘Ã¢y gá»£i Ã½ ráº±ng Ä‘a sá»‘ chÃºng ta chá»‰ cÃ³ thá»ƒ nghÄ© vá» 3 hoáº·c 4 â€œthá»©â€ trong cÃ¹ng 1 lÃºc. (Ref: Cowan, N. (2001). The magical number 4 in short-term memory: A reconsideration of mental storage capacity. Behavioral and Brain Sciences, 24, 97â€“185.). Chá»‰ cáº§n Ä‘áº·t Ä‘Æ¡n giáº£n, 1 biá»ƒu thá»©c lá»›n hÆ¡n trong code, Ä‘Ã£ ráº¥t khÃ³ hÆ¡n Ä‘á»ƒ hiá»ƒu. K E Y I D E ABreak down your giant expressions into more digestible pieces. 1Trong chÆ°Æ¡ng nÃ y, chÃºng ta sáº½ suy nghÄ© 1 vÃ i cÃ¡ch báº¡n cÃ³ thá»ƒ váº­n dá»¥ng vÃ  ngáº¯t cÃ¡c Ä‘oáº¡n code cá»§a báº¡n Ä‘á»ƒ dá»… dÃ ng nuá»‘t Ä‘Æ°á»£c =)). Explaining VariablesCÃ¡ch Ä‘Æ¡n giáº£n nháº¥t Ä‘á»ƒ phÃ¡ vá»¡ cÃ¡c biá»ƒu thá»©c lÃ  giá»›i thiá»‡u thÃªm biáº¿n cÃ¡i mÃ  nháº­n tá»« cÃ¡c biá»ƒu thá»©c con nhá» hÆ¡n. CÃ¡c biáº¿n thÃªm nÃ y Ä‘Ã´i khi Ä‘Æ°á»£c gá»i lÃ  â€œexplaining variableâ€. ÄÃ¢y lÃ  1 vÃ­ dá»¥:12if line.split(':')[0].strip() == &quot;root&quot;: ...CÅ©ng lÃ  Ä‘oáº¡n code trÃªn nhÆ°ng bÃ¢y giá» sá»­ dá»¥ng cÃ¡c biáº¿n giáº£i thÃ­ch:123username = line.split(':')[0].strip()if username == &quot;root&quot;: ... Summary VariablesNgay cáº£ khi 1 biá»ƒu thá»©c khÃ´ng cáº§n giáº£i thÃ­ch (vÃ¬ báº¡n Ä‘Ã£ hiá»ƒu Ã½ nghÄ©a cá»§a nÃ³) nÃ³ cÃ³ thá»ƒ váº«n há»¯u Ã­ch Ä‘á»ƒ ghi láº¡i biá»ƒu thá»©c nÃ y ra 1 biáº¿n má»›i. ChÃºng ta gá»i nÃ³ lÃ  summary variable náº¿u má»¥c Ä‘Ã­ch cá»§a nÃ³ Ä‘Æ¡n giáº£n lÃ  thay tháº¿ má»™t khá»‘i chunk lá»› trong code báº±ng 1 cÃ¡i tÃªn nhá» hÆ¡n, cÃ¡i cÃ³ Ä‘Æ°á»£c quáº£n lÃ½ vÃ  nghÄ© Ä‘Æ¡n giáº£n hÆ¡n. VÃ­ dá»¥, cÃ¢n nháº¯c biá»ƒu thá»©c sau trong Ä‘oáº¡n code nÃ y:1234567if (request.user.id == document.owner_id) { // user can edit this document...}...if (request.user.id != document.owner_id) { // document is read-only...} Biá»ƒu thá»©c request.user.id == document.owner_id cÃ³ thá»ƒ khÃ´ng lá»›n nhÆ°ng nÃ³ cÃ³ 5 biáº¿n, do Ä‘Ã³, máº¥t 1 chÃºt thá»i gian Ä‘á»ƒ nghÄ© vá» nÃ³. Ná»™i dung chÃ­nh cá»§a Ä‘oáº¡n code nÃ y lÃ  â€œNgÆ°á»i dÃ¹ng nÃ y cÃ³ pháº£i lÃ  chá»§ cá»§a tÃ i liá»‡u?â€. Ná»™i dung cÃ³ thá»ƒ Ä‘Æ°á»£c trÃ¬nh bÃ y chi tiáº¿t hÆ¡n báº±ng cÃ¡ch thÃªm 1 summary variable:12345678910final boolean user_owns_document = (request.user.id == document.owner_id);if (user_owns_document) { // user can edit this document...}...if (!user_owns_document) { // document is read-only...}NÃ³ cÃ³ váº» khÃ´ng nhiá»u nhÆ°ng Ä‘oáº¡n code if (user_owns_document) láº¡i cÃ³ 1 chÃºt dá»… hiá»ƒu hÆ¡n. Báº±ng cÃ¡ch nÃ y, cÃ³ 1 Ä‘á»‹nh nghÄ©a user_owns_document á»Ÿ Ä‘áº§u nÃ³i cho ngÆ°á»i Ä‘á»c trÆ°á»›c ráº±ng â€œÄ‘Ã¢y lÃ  khÃ¡i niá»‡m chÃºng ta sáº½ tham chiáº¿u trong suá»‘t hÃ m nÃ yâ€. Using De Morganâ€™s LawsNáº¿u báº¡n Ä‘Ã£ tá»«ng tham gia 1 khÃ³a há»c vá» Ä‘áº¡i sá»‘, báº¡n cháº¯c háº³n váº«n cÃ²n nhá»› nguyÃªn táº¯c De Morgan. ChÃºng ta cÃ³ 2 cÃ¡ch Ä‘á»ƒ viáº¿t láº¡i 1 biá»ƒu thá»©c boolean vÃ o trong 1 biá»ƒu thá»©c tÆ°Æ¡ng Ä‘Æ°Æ¡ng.121) not (a or b or c) â‡” (not a) and (not b) and (not c)2) not (a and b and c) â‡” (not a) or (not b) or (not c)Náº¿u báº¡n cÃ³ 1 váº¥n Ä‘á» Ä‘á»ƒ nhá»› vá» nguyÃªn táº¯c nÃ y, 1 thá»© Ä‘Æ¡n giáº£n hÆ¡n â€œChia not vÃ  chuyá»ƒn Ä‘á»•i and/orâ€ (Hoáº·c 1 cÃ¡ch khÃ¡c, báº¡n Ä‘áº·t â€œthá»«a sá»‘ chung cho notâ€) ÄÃ´i khi báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng nguyÃªn táº¯c nÃ y Ä‘á»ƒ lÃ m cho biá»ƒu thá»©c boolean cá»§a báº¡n dá»… Ä‘á»c hÆ¡n. VÃ­ dá»¥ náº¿u code cá»§a báº¡n:1if (!(file_exists &amp;&amp; !is_protected)) Error(&quot;Sorry, could not read file.&quot;);NÃ³ nÃªn Ä‘Æ°á»£c viáº¿t láº¡i thÃ nh:1if (!file_exists || is_protected) Error(&quot;Sorry, could not read file.&quot;); Abusing Short-Circuit LogicTrong Ä‘a sá»‘ cÃ¡c ngÃ´n ngá»¯ láº­p trÃ¬nh, toÃ¡n tá»­ boolean thá»±c hiá»‡n Ä‘Ã¡nh giÃ¡ ngáº¯n (short-circuit). VÃ­ dá»¥, cÃ¢u lá»‡nh if (a || b) khÃ´ng Ä‘Æ°á»£c xem xÃ©t b ná»¯a náº¿u a lÃ  true. HÃ nh vi nÃ y ráº¥t tiá»‡n dá»¥ng nhÆ°ng Ä‘Ã´i khi nÃ³ cÃ³ thá»ƒ bá»‹ láº¡m dá»¥ng Ä‘á»ƒ thá»±c hiá»‡n cÃ¡c logic phá»©c táº¡p. ÄÃ¢y lÃ  1 vÃ­ dá»¥:1assert((!(bucket = FindBucket(key))) || !bucket-&gt;IsOccupied());Trong tiáº¿ng Anh, Ä‘oáº¡n code nÃ y Ä‘ang nÃ³i ráº±ng â€œLáº¥y bucket vá»›i key nÃ y. Náº¿u bucket khÃ´ng null, sau Ä‘Ã³ hÃ£y cháº¯c cháº¯c ráº±ng nÃ³ chÆ°a bá»‹ chiáº¿mâ€ Máº·c dÃ¹ nÃ³ chá»‰ cáº§n 1 dÃ²ng code nhÆ°ng thá»±c sá»± lÃ m cho ai Ä‘Ã³ Ä‘á»c code cá»§a báº¡n pháº£i dá»«ng láº¡i vÃ  nghÄ©. BÃ¢y giá» so sÃ¡nh vá»›i Ä‘oáº¡n code nÃ y:12bucket = FindBucket(key);if (bucket != NULL) assert(!bucket-&gt;IsOccupied());Má»i thá»©c lÃ  nhÆ° nhau vÃ  tháº­m chÃ­ máº¥t tá»›i 2 dÃ²ng Ä‘á»ƒ code, nhÆ°ng nÃ³ dá»… hiá»ƒu hÆ¡n nhiá»u. Váº­y táº¡i sao Ä‘oáº¡n code vá»›i biá»ƒu thá»©c khá»•ng lá»“ láº¡i á»Ÿ vá»‹ trÃ­ Ä‘Ã³ Ä‘áº§u tiÃªn? LÃºc Ä‘Ã³, nhÃ¬n nÃ³ ráº¥t thÃ´ng minh vÃ  ngáº§u. CÃ³ 1 niá»m vui nÃ o Ä‘Ã³ trong viá»‡c Ä‘Ã£ phÃ¢n tÃ­ch Ä‘Æ°á»£c logic xuá»‘ng 1 Ä‘oáº¡n mÃ£ ngáº¯n gá»n. NÃ³ cÃ³ thá»ƒ hiá»ƒu Ä‘Æ°á»£c - nÃ³ giá»‘ng nhÆ° giáº£i 1 cÃ¢u Ä‘á»‘ nhá» vÃ  táº¥t cáº£ chÃºng ta Ä‘á»u vui váº» vá»›i nÃ³. Váº¥n Ä‘á» lÃ  Ä‘oáº¡n code nÃ y lÃ  1 váº¥n Ä‘á» vá» tá»‘c Ä‘á»™ tinh tháº§n cho ai Ä‘Ã³ Ä‘á»c qua code cá»§a báº¡n. K E Y I D E ABeware of â€œcleverâ€ nuggets of codeâ€”theyâ€™re often confusing when others read the code later. Tháº¿ cÃ³ nghÄ©a lÃ  chÃºng ta nÃªn trÃ¡nh sá»­ dá»¥ng cÃ¡c hÃ nh vi short-circuit? KhÃ´ng. CÃ³ ráº¥t nhiá»u trÆ°á»ng há»£p nÃ³ Ä‘Æ°á»£c sá»­ dá»¥ng ráº¥t há»¯u Ã­ch vÃ  rÃµ rÃ ng, nhÆ° vÃ­ dá»¥ sau:1if (object &amp;&amp; object-&gt;method()) ... ÄÃ¢y cÅ©ng lÃ  1 Ä‘iá»u Ä‘ang nÃ³i Ä‘áº¿n: trong cÃ¡c ngÃ´n ngá»¯ nhÆ° Python, JavaScript, Ruby, toÃ¡n tá»­ â€œorâ€ tráº£ vá» 1 trong cÃ¡c Ä‘á»‘i sá»‘ cá»§a nÃ³ (nÃ³ khÃ´ng chuyá»ƒn Ä‘á»•i sang boolean), do Ä‘Ã³ code cá»§a báº¡n:1x = a || b || ccÃ³ thá»ƒ Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ chá»n 1 giÃ¡ trá»‹ â€œÄ‘Ãºngâ€ tá»« 3 giÃ¡ trá»‹ a,b, hoáº·c c Example: Wrestling with Complicated LogicGiáº£ sá»­ báº¡n Ä‘ang thá»±c thi 1 lá»›p Range:123456struct Range { int begin; int end; // For example, [0,5) overlaps with [3,8) bool OverlapsWith(Range other);};HÃ¬nh dÆ°á»›i chá»‰ ra 1 vÃ i pháº¡m vi vÃ­ dá»¥: Nháº­n tháº¥y ráº±ng end lÃ  khÃ´ng bao gá»“m. Do Ä‘Ã³ A,B vÃ  C khÃ´ng chá»“ng chÃ©o vá»›i nhau nhÆ°ng D láº¡i chá»“ng chÃ©o lÃªn táº¥t cáº£. ÄÃ¢y lÃ  1 sá»± cá»‘ gáº¯ng thá»±c thi OverlapsWith() - nÃ³ kiá»ƒm tra náº¿u 1 trong 2 Ä‘iá»ƒm cuá»‘i cá»§a cÃ³ trong cÃ¹ng khÃ¡c:12345bool Range::OverlapsWith(Range other) { // Check if 'begin' or 'end' falls inside 'other'. return (begin &gt;= other.begin &amp;&amp; begin &lt;= other.end) || (end &gt;= other.begin &amp;&amp; end &lt;= other.end);}Máº·c dÃ¹ Ä‘oáº¡n code chá»‰ cÃ³ 1 dÃ²ng, nhÆ°ng cÃ³ ráº¥t nhiá»u Ä‘iá»u Ä‘ang diá»…n ra. HÃ¬nh dÆ°á»›i chá»‰ ra táº¥t cáº£ cÃ¡c logic tham gia vÃ o. CÃ³ ráº¥t nhiá»u trÆ°á»ng há»£p vÃ  Ä‘iá»u kiá»‡n Ä‘á»ƒ nghÄ© ráº±ng nÃ³ dá»… dÃ ng bá»‹ bug lá»t qua NÃ³i vá» mÃ , Ä‘Ã³ lÃ  1 bug. Code pháº§n trÆ°á»›c sáº½ yÃªu cáº§u Range [0,2) chá»“ng chÃ©o lÃªn [2,4) trong khi thá»±c táº¿ khÃ´ng pháº£i váº­y. Váº¥n Ä‘á» nÃ y báº¡n pháº£i cáº©n tháº­n khi so sÃ¡nh giÃ¡ trá»‹ begin/end sá»­ dá»¥ng &lt;= hoáº·c chá»‰ &lt;. ÄÃ¢y lÃ  cÃ¡ch sá»­a váº¥n Ä‘á» nÃ y:12return (begin &gt;= other.begin &amp;&amp; begin &lt; other.end) || (end &gt; other.begin &amp;&amp; end &lt;= other.end);BÃ¢y giá» nÃ³ Ä‘Ã£ Ä‘Ãºng? Thá»±c táº¿, nÃ³ váº«n cÃ²n 1 bug khÃ¡c. Äoáº¡n cdoe nÃ y bá» qua trÆ°á»ng há»£p begin/end hoÃ n toÃ n bao quÃ¡t 1 thá»© khÃ¡c. ÄÃ¢y lÃ  cÃ¡ch fix trÆ°á»ng há»£p nÃ y:123return (begin &gt;= other.begin &amp;&amp; begin &lt; other.end) || (end &gt; other.begin &amp;&amp; end &lt;= other.end) || (begin &lt;= other.begin &amp;&amp; end &gt;= other.end); Yikes - Ä‘oáº¡n code nÃ y Ä‘Ã£ trá»Ÿ thÃ nh cÃ¡ch phá»©c táº¡p. Báº¡n khÃ´ng thá»ƒ mong Ä‘á»£i ai Ä‘Ã³ Ä‘á»c Ä‘oáº¡n code nÃ y vÃ  tá»± tin biáº¿t ráº±ng nÃ³ Ä‘Ãºng. Váº­y chÃºng ta lÃ m gÃ¬ bÃ¢y giá»? ChÃºng ta cÃ³ thá»ƒ ngáº¯n biá»ƒu thá»©c siÃªu to khá»•ng lá»“ nÃ y nhÆ° tháº¿ nÃ o? Finding a More Elegant ApproachCÃ³ 1 khoáº£ng thá»i gian báº¡n nÃªn dá»«ng láº¡i vÃ  cÃ¢n nháº¯c nhá»¯ng cÃ¡ch tiáº¿p cáº­n khÃ¡c nhau. Khi báº¯t Ä‘áº§u nhÆ° vá»›i 1 váº¥n Ä‘á» Ä‘Æ¡n giáº£n (kiá»ƒm tra 2 khoáº£ng cÃ³ bá»‹ ghi Ä‘Ã¨) Ä‘Ã£ trá»Ÿ thÃ nh 1 pháº§n logic cuá»‘n láº¡i vá»›i nhau Ä‘Ã¡ng ngáº¡c nhiÃªn. Äiá»u nÃ y thÆ°á»ng lÃ  1 dáº¥u hiá»‡u cÃ³ 1 cÃ¡ch Ä‘Æ¡n giáº£n hÆ¡n. NhÆ°ng tÃ¬m Ä‘Æ°á»£c 1 giáº£i phÃ¡p thanh lá»‹ch cáº§n sá»± sÃ¡ng táº¡o. LÃ m sao Ä‘á»ƒ báº¡n biáº¿t nÃ³? Má»™t kÄ© thuáº­t Ä‘á»ƒ tiáº¿p cáº­n náº¿u báº¡n cÃ³ thá»ƒ giáº£i quyáº¿t váº¥n Ä‘á» vá»›i cÃ¡ch â€œngÆ°á»£c láº¡iâ€. Dá»±a vÃ o váº¥n Ä‘á» báº¡n Ä‘ang gáº·p pháº£i, Ä‘iá»u nÃ y cÃ³ thá»ƒ cÃ³ nghÄ©a láº·p cÃ¡c máº£ng theo chiá»u ngÆ°á»£c láº¡i hoáº·c Ä‘iá»n vÃ o 1 sá»‘ cáº¥u trÃºc dá»¯ liá»‡u láº¡c háº­u hÆ¡n lÃ  chuyá»ƒn tiáº¿p. á» Ä‘Ã¢y ngÆ°á»£c láº¡i vá»›i OverlapsWith() lÃ  â€œÄ‘á»«ng chá»“ng chÃ©o lÃªn nhauâ€. Äá»ƒ xem náº¿u 2 khoáº£ng khÃ´ng chá»“ng chÃ©o hÃ³a ra vÃ  1 váº¥n Ä‘á» Ä‘Æ¡n giáº£n hÆ¡n, bá»Ÿi vÃ¬ chá»‰ cÃ³ 2 kháº£ nÄƒng: Pháº¡m vi pháº§n khÃ¡c káº¿t thÃºc trÆ°á»›c báº¯t Ä‘áº§u cá»§a pháº§n cÃ²n láº¡i Pháº¡m vi pháº§n khÃ¡c báº¯t Ä‘áº§u sau khi pháº§n cÃ²n láº¡i ChÃºng ta cÃ³ thá»ƒ biáº¿n Ä‘oáº¡n mÃ£ nÃ y thÃ nh dá»… dÃ ng nhÆ° sau:123456bool Range::OverlapsWith(Range other) { if (other.end &lt;= begin) return false; // They end before we begin if (other.begin &gt;= end) return false; // They begin after we end return true; // Only possibility left: they overlap}Má»—i dÃ²ng code Ä‘Æ¡n giáº£n - nÃ³ chá»‰ cáº§n 1 phÃ©p toÃ¡n so sÃ¡nh duy nháº¥t. Äiá»u nÃ y cho phÃ©p ngÆ°á»i Ä‘á»c Ä‘á»§ trÃ­ tuá»‡ (brainpower) Ä‘á»ƒ táº­p trung vÃ o chá»— &lt;= lÃ  Ä‘Ãºng. Breaking Down Giant StatementsChÆ°Æ¡ng nÃ y Ä‘ang nÃ³i vá» phÃ¡ vá»¡ cÃ¡c biá»ƒu thá»©c riÃªng biá»‡t, nhÆ°ng kÄ© thuáº­t tÆ°Æ¡ng tá»± cÅ©ng Ä‘Æ°á»£c Ã¡p dá»¥ng Ä‘á»ƒ phÃ¡ vá»¡ cÃ¡c statements. VÃ­ dá»¥, Ä‘oáº¡n mÃ£ dÆ°á»›i Ä‘Ã¢y cÃ³ nhiá»u thá»© Ä‘Æ°a vÃ o 1 lÃºc:123456789101112var update_highlight = function (message_num) { if ($(&quot;#vote_value&quot; + message_num).html() === &quot;Up&quot;) { $(&quot;#thumbs_up&quot; + message_num).addClass(&quot;highlighted&quot;); $(&quot;#thumbs_down&quot; + message_num).removeClass(&quot;highlighted&quot;); } else if ($(&quot;#vote_value&quot; + message_num).html() === &quot;Down&quot;) { $(&quot;#thumbs_up&quot; + message_num).removeClass(&quot;highlighted&quot;); $(&quot;#thumbs_down&quot; + message_num).addClass(&quot;highlighted&quot;); } else { $(&quot;#thumbs_up&quot; + message_num).removeClass(&quot;highighted&quot;); $(&quot;#thumbs_down&quot; + message_num).removeClass(&quot;highlighted&quot;); }}; Biá»ƒu thá»©c riÃªng láº» trong Ä‘oáº¡n code nÃ y khÃ´ng lá»›n nhÆ°ng khi Ä‘áº·t chÃºng cáº¡nh nhau, nÃ³ táº¡o thÃ nh 1 statement khá»•ng lá»“ Ä‘áº­p vÃ o báº¡n trong cÃ¹ng 1 lÃºc. May máº¯n thay, ráº¥t nhiá»u biá»ƒu thá»©c nÃ y giá»‘ng nhau, Ä‘iá»u Ä‘Ã³ cÃ³ nghÄ© chÃºng ta cÃ³ thá»ƒ thÃªm 1 biáº¿n chung trÃªn Ä‘áº§u cá»§a hÃ m (nÃ³ cÅ©ng lÃ  1 cÃ¡ch thá»±c thi nguyÃªn lÃ½ DRY - Donâ€™t Repeat Yourself)1234567891011121314151617var update_highlight = function (message_num) { var thumbs_up = $(&quot;#thumbs_up&quot; + message_num); var thumbs_down = $(&quot;#thumbs_down&quot; + message_num); var vote_value = $(&quot;#vote_value&quot; + message_num).html(); var hi = &quot;highlighted&quot;; if (vote_value === &quot;Up&quot;) { thumbs_up.addClass(hi); thumbs_down.removeClass(hi); } else if (vote_value === &quot;Down&quot;) { thumbs_up.removeClass(hi); thumbs_down.addClass(hi); } else { thumbs_up.removeClass(hi); thumbs_down.removeClass(hi); }}; Sá»± sÃ¡ng táº¡o cá»§a var hi = &quot;highlighted&quot; khÃ´ng thá»±c sá»± cáº§n thiáº¿t nhÆ°ng nÃ³ cÅ©ng lÃ  6 láº§n copy, cÃ³ nhá»¯ng lá»£i Ã­ch háº¥p dáº«n: NÃ³ giÃºp trÃ¡nh cÃ¡c lá»—i gÃµ phÃ­m (TrÃªn thá»±c táº¿, trong vÃ­ dá»¥ Ä‘áº§u tiÃªn, báº¡n cÃ³ tháº¥y sai â€œhighightedâ€ á»Ÿ trÆ°á»ng há»£p 5) NÃ³ thu nhá» chiá»u rá»™ng dÃ²ng hÆ¡n, lÃ m code dá»… dÃ ng Ä‘á»c lÆ°á»›t qua Náº¿u tÃªn lá»›p cáº§n thay Ä‘á»•i, báº¡n chá»‰ cáº§n Ä‘áº·t vÃ o 1 chá»— Ä‘á»ƒ thay Ä‘á»•i nÃ³. Another Creative Way to Simplify Expressions: Má»™t cÃ¡ch sÃ¡ng táº¡o hÆ¡n Ä‘á»ƒ Ä‘Æ¡n giáº£n hÃ³a cÃ¡c biá»ƒu thá»©cÄÃ¢y lÃ  1 vÃ­ dá»¥ khÃ¡c vá»›i ráº¥t nhiá»u thá»© diá»…n ra trong má»—i biá»ƒu thá»©c, láº§n nÃ y lÃ  trong C++12345678void AddStats(const Stats&amp; add_from, Stats* add_to) { add_to-&gt;set_total_memory(add_from.total_memory() + add_to-&gt;total_memory()); add_to-&gt;set_free_memory(add_from.free_memory() + add_to-&gt;free_memory()); add_to-&gt;set_swap_memory(add_from.swap_memory() + add_to-&gt;swap_memory()); add_to-&gt;set_status_string(add_from.status_string() + add_to-&gt;status_string()); add_to-&gt;set_num_processes(add_from.num_processes() + add_to-&gt;num_processes()); ...}Má»™t láº§n ná»¯a, máº¯t cá»§a báº¡n pháº£i Ä‘á»‘i diá»‡n vá»›i mÃ£ dÃ i vÃ  tÆ°Æ¡ng tá»± nhau nhÆ°ng khÃ´ng thá»±c sá»± giá»‘ng nhau. Sau 10s vá»›i sá»± xem xÃ©t cáº©n tháº­n, báº¡n nháº­n tháº¥y má»—i dÃ²ng lÃ m cÃ¡i gÃ¬ Ä‘Ã³ giá»‘ng nhau, chá»‰ khÃ¡c nhau má»—i trÆ°á»ng:1add_to-&gt;set_XXX(add_from.XXX() + add_to-&gt;XXX());VÃ  trong C++, báº¡n cÃ³ thá»ƒ Ä‘á»‹nh nghÄ©a 1 marco Ä‘á»ƒ lÃ m viá»‡c nÃ y:1234567891011void AddStats(const Stats&amp; add_from, Stats* add_to) { #define ADD_FIELD(field) add_to-&gt;set_##field(add_from.field() + add_to-&gt;field()) ADD_FIELD(total_memory); ADD_FIELD(free_memory); ADD_FIELD(swap_memory); ADD_FIELD(status_string); ADD_FIELD(num_processes); ... #undef ADD_FIELD}BÃ¢y giá» chÃºng ta Ä‘Ã£ bá» Ä‘i cÃ¡c sá»± lá»™n xá»™n, báº¡n cÃ³ thá»ƒ nhÃ¬n tháº¥y code vÃ  láº­p tá»©c hiá»ƒu báº£n cháº¥t thá»© Ä‘ang diá»…n ra. NÃ³ ráº¥t rÃµ rÃ ng cho má»—i dÃ²ng lÃ m 1 thá»© gÃ¬ Ä‘Ã³ giá»‘ng nhau. LÆ°u Ã½ ráº±ng, chÃºng tÃ´i khÃ´ng á»§ng há»™ viá»‡c sá»­ dá»¥ng marcos thÆ°á»ng xuyÃªn - trÃªn thá»±c táº¿, chÃºng ta thÆ°á»ng xuyÃªn trÃ¡nh sá»­ dá»¥ng chÃºng vÃ¬ báº¡n cÃ³ thá»ƒ lÃ m code hiá»ƒu nháº§m vÃ  bá»‹ cÃ¡c lá»—i tinh táº¿. NhÆ°ng thá»‰nh thoáº£ng, trong trÆ°á»ng há»£p nÃ y, nÃ³ Ä‘Æ¡n giáº£n vÃ  chá»‰ cung cáº¥p lá»£i Ã­ch rÃµ rÃ ng cho viá»‡c Ä‘á»c code. SummaryBiá»ƒu thá»©c khá»•ng lá»“ lÃ m ta khÃ³ khi nghÄ© vá» nÃ³. ChÆ°Æ¡ng nÃ y chá»‰ ra 1 vÃ i cÃ¡ch ngáº¯t chÃºng nhá» Ä‘i Ä‘á»ƒ ngÆ°á»i Ä‘á»c cÃ³ thá»ƒ â€œtiÃªu hÃ³aâ€ nÃ³ thÃ nh tá»«ng pháº§n. Má»™t kÄ© thuáº­t Ä‘Æ¡n giáº£n Ä‘Æ°á»£c giá»›i thiá»‡u lÃ  â€œexplaining variablesâ€ cÃ¡i mÃ  nháº­n giÃ¡ trá»‹ cá»§a 1 vÃ i biá»ƒu thá»©c con lá»›n. TiÃªu chuáº©n nÃ y cÃ³ 3 lá»£i Ã­ch: Ngáº¯t cÃ¡c biá»ƒu thá»©c lá»›n thÃ nh tá»«ng pháº§n NÃ³ lÃ  tÃ i liá»‡u cá»§a code báº±ng cÃ¡ch mÃ´ táº£ cÃ¡c biá»ƒu thá»©c con vá»›i 1 cÃ¡i tÃªn cÃ´ Ä‘á»ng. NÃ³ giÃºp ngÆ°á»i Ä‘á»c xÃ¡c Ä‘á»‹nh Ä‘Æ°á»£c â€œcÃ¡c khÃ¡i niá»‡mâ€ chÃ­nh trong code. Má»™t ká»¹ thuáº­t khÃ¡c Ä‘á»ƒ váº­n dá»¥ng logic cá»§a báº¡n, sá»­ dá»¥ng nguyÃªn lÃ½ De Morgan - kÄ© thuáº­t nÃ y cÃ³ thá»ƒ Ä‘Ã´i khi viáº¿t láº¡i cÃ¡c biá»ƒu thá»©c boolean vá»›i cÃ¡c sáº¡ch sáº½ hÆ¡n (vÃ­ dá»¥ if (!(a &amp;&amp; !b)) cÃ³ thá»ƒ trá»Ÿ thÃ nh if(!a || b)))). ChÃºng tÃ´i cÅ©ng chá»‰ ra 1 Ä‘iá»u kiá»‡n logic phá»©c táº¡p cÃ³ thá»ƒ phÃ¡ vá»¡ thÃ nh cÃ¡c statement nhá» nhÆ° if (a &lt; b) .... Thá»±c táº¿ táº¥t cáº£ cÃ¡c vÃ­ dá»¥ code Ä‘Ã£ cáº£i thiá»‡n trong chÆ°Æ¡ng nÃ y,cÃ³ statement if khÃ´ng quÃ¡ 2 giÃ¡ trá»‹ bÃªn trong. Thiáº¿t láº­p nÃ y lÃ  Ã½ tÆ°á»Ÿng. NÃ³ cÃ³ thá»ƒ khÃ´ng pháº£i lÃºc nÃ o cÅ©ng Ä‘Æ¡n giáº£n Ä‘á»ƒ thá»±c hiá»‡n - Ä‘Ã´i khi nÃ³ yÃªu cáº§u â€œphá»§ nháº­nâ€ váº¥n Ä‘á» hoáº·c cÃ¢n nháº¯c hÆ°á»›ng ngÆ°á»£c láº¡i má»¥c Ä‘Ã­ch cá»§a báº¡n Cuá»‘i cÃ¹ng, máº·c dÃ¹ chÆ°Æ¡ng nÃ y nÃ³i vá» phÃ¡ vá»¡ cÃ¡c biá»ƒu thá»©c riÃªng láº», kÄ© thuáº­t tÆ°Æ¡ng tá»± nÃ y thÆ°á»ng xuyÃªn Ã¡p dá»¥ng cÃ³ cÃ¡c khá»‘i code lá»›n. Bá»Ÿi váº­y, hÃ£y tÃ­ch cá»©c phÃ¡ vá»¡ cÃ¡c logic phá»©c táº¡p báº¥t cá»© khi nÃ o báº¡n tháº¥y nÃ³.","link":"/2020/05/24/Chapter-8-Breaking-Down-Giant-Expressions/"},{"title":"Chapter 7: Making Control Flow Easy to Read","text":"Náº¿u code cá»§a báº¡n khÃ´ng cÃ³ Ä‘iá»u kiá»‡n, vÃ²ng láº·p hay má»™t vÃ i cÃ¢u lá»‡nh phÃ¢n chia luá»“ng (control flow statements), nÃ³ sáº½ ráº¥t dá»… Ä‘á»ƒ Ä‘á»c. Nhá»¯ng láº§n nháº£y code, chia nhÃ¡nh lÃ m code nhanh chÃ³ng trá»Ÿ nÃªn khÃ³ Ä‘á»c. Trong chÆ°Æ¡ng nÃ y, chÃºng ta sáº½ tÃ¬m cÃ¡ch Ä‘á»ƒ viáº¿t cÃ¡c Ä‘oáº¡n mÃ£ chia luá»“ng dá»… Ä‘á»c hÆ¡n K E Y I D E AMake all your conditionals, loops, and other changes to control flow as â€œnaturalâ€ as possibleâ€”written in a way that doesnâ€™t make the reader stop and reread your code. The Order of Arguments in ConditionalsCÃ¡i nÃ o trong 2 Ä‘oáº¡n mÃ£ nÃ y dá»… Ä‘á»c hÆ¡n1if (length &gt;= 10)hay 1if (10 &lt;= length) Äa sá»‘ láº­p trÃ¬nh viÃªn, Ä‘oáº¡n code Ä‘áº§u tiÃªn dá»… Ä‘á»c hÆ¡n. NhÆ°ng xem xÃ©t 1 dÃ²ng tiáº¿p theo1while (bytes_received &lt; bytes_expected)hay1while (bytes_expected &gt; bytes_received)ThÃ¬ ngÆ°á»£c láº¡i, phiÃªn báº£n Ä‘áº§u tiÃªn khÃ³ Ä‘á»c hÆ¡n? Táº¡i sao váº­y? Liá»‡u cÃ³ má»™t rule chung nÃ o á»Ÿ Ä‘Ã¢u? LÃ m sao báº¡n quyáº¿t Ä‘á»‹nh Ä‘Æ°á»£c khi nÃ o tá»‘t hÆ¡n khi viáº¿t a &lt; a hay b &gt; a? ÄÃ¢y lÃ  1 vÃ i hÆ°á»›ng dáº«n chÃºng tÃ´i tÃ¬m Ä‘Æ°á»£c há»¯u Ã­ch Left-hand side Right-hand side The expression â€œbeing interrogated,â€ whose value is more in flux. The expression being compared against, whose value is more constant. Left-hand side: Biá»ƒu thá»©c â€œÄ‘ang Ä‘Æ°á»£c tra há»iâ€ cÃ³ giÃ¡ trá»‹ cao hÆ¡n giÃ¡ trá»‹ thÃ´ng lÆ°á»£ng (giÃ¡ trá»‹ chung)Right-hand side: Biá»ƒu thá»©c Ä‘Æ°á»£c so sÃ¡nh vá»›i giÃ¡ trá»‹ khÃ´ng Ä‘á»•i. HÆ°á»›ng dáº«n nÃ y trÃ¹ng vá»›i viá»‡c sá»­ dá»¥ng tiáº¿ng Anh - nÃ³ giá»‘ng vá»›i ngÃ´n ngá»¯ nÃ³i tá»± nhiÃªn: â€œnáº¿u báº¡n kiáº¿m Ä‘Æ°á»£c Ã­t hÆ¡n 100$/nÄƒmâ€ hoáº·c â€œnáº¿u báº¡n nhá» hÆ¡n 18 tuá»•iâ€. Sáº½ khÃ´ng thuáº­n tai láº¯m khi nÃ³i â€œnáº¿u 18 Ã­t hÆ¡n tuá»•i cá»§a báº¡nâ€. Äiá»u nÃ y giáº£i thÃ­ch táº¡i sao while (bytes_received &lt; bytes_expected) lÃ  dá»… Ä‘á»c hÆ¡n. bytes_received lÃ  giÃ¡ trá»‹ chÃºng ta Ä‘ang kiá»ƒm tra, vÃ  nÃ³ tÄƒng lÃªn sau má»—i vÃ²ng láº·p. bytes_expected lÃ  1 giÃ¡ trá»‹ â€œcá»‘ Ä‘á»‹nhâ€ Ä‘á»ƒ so sÃ¡nh. â€œYODA NOTATIONâ€: STILL USEFUL? Trong 1 vÃ i ngÃ´n ngá»¯ (bao gá»“m C vÃ  C++ nhÆ°ng khÃ´ng cÃ³ Java), báº¡n cÃ³ thá»ƒ Ä‘áº·t má»™t phÃ©p gÃ¡n trong 1 Ä‘iá»u kiá»‡n:1if (obj = NULL) ...Ráº¥t cÃ³ thá»ƒ Ä‘Ã¢y lÃ  1 bug, vÃ  cÃ¡i mÃ  láº­p trÃ¬nh viÃªn thá»±c sá»± muá»‘n sáº½ lÃ 1if (obj == NULL) ...Äá»ƒ cháº·n nhá»¯ng bug kiá»ƒu nÃ y, ráº¥t nhiá»u láº­p trÃ¬nh viÃªn thay Ä‘á»•i thá»© tá»± Ä‘á»‘i sá»‘ nhÆ°:1if (NULL == obj) ...CÃ¡ch nÃ y, náº¿u == lÃ  vÃ´ tÃ¬nh viáº¿t thÃ nh =, biá»ƒu thá»©c if (NULL = obj) sáº½ bÃ¡o lá»—i KhÃ´ng may, Ä‘á»•i thá»© tá»± lÃ m code cÃ³ 1 chÃºt khÃ´ng tá»± nhiÃªn (NhÆ° Yoda sáº½ nÃ³i â€œKhÃ´ng cÃ³ gÃ¬ Ä‘á»ƒ nÃ³i vá» nÃ³â€). May máº¯n thay, cÃ¡c trÃ¬nh biÃªn dá»‹ch hiá»‡n táº¡i Ä‘Ã£ cÃ³ thá»ƒ Ä‘Æ°a ra cÃ¡c cáº£nh bÃ¡o if (obj = NULL) do Ä‘Ã³ â€œYoda Notationâ€ trá»Ÿ thÃ nh 1 pháº§n cá»§a quÃ¡ khá»©. The Order of if/else Blocks Khi báº¡n viáº¿t 1 Ä‘oáº¡n mÃ£ if/else, báº¡n thÆ°á»ng luÃ´n luÃ´n tá»± do Ä‘á»ƒ thay Ä‘á»•i thá»© tá»± cá»§a cÃ¡c khá»‘i. VÃ­ dá»¥ báº¡n cÃ³ thá»ƒ viáº¿t12345if (a == b) { // Case One ...} else { // Case Two ...}Hoáº·c12345if (a != b) { // Case Two ...} else { // Case One ...}Báº¡n cÃ³ thá»ƒ khÃ´ng nghÄ© nhiá»u vá» Ä‘iá»u nÃ y trÆ°á»›c Ä‘Ã³, nhÆ°ng trong 1 vÃ i trÆ°á»ng há»£p, cÃ³ 1 sá»‘ lÃ½ do Ä‘á»ƒ Æ°u tiÃªn 1 thá»© tá»± sáº¯p xáº¿p hÆ¡n: Æ¯u tiÃªn xá»­ lÃ½ vá»›i positive case Ä‘áº§u tiÃªn thay vÃ¬ negative. VÃ­ dá»¥ if(debug) thay vÃ¬ if (!debug) Æ¯u tiÃªn xá»­ lÃ½ vá»›i cÃ¡c trÆ°á»ng há»£p simpler case - Ä‘Æ¡n giáº£n hÆ¡n Ä‘áº§u tiÃªn Ä‘á»ƒ Ä‘Æ°a nÃ³ ra khá»i Ä‘Æ°á»ng Ä‘i. CÃ¡ch tiáº¿p cáº­n nÃ y cÅ©ng cÃ³ thá»ƒ cho phÃ©p cáº£ if vÃ  else hiá»ƒn thá»‹ trÃªn mÃ n hÃ¬nh cÃ¹ng 1 lÃºc, Ä‘iá»u nÃ y thÃ¬ tháº­t tuyá»‡t. Æ¯u tiÃªn xá»­ lÃ½ vá»›i cÃ¡c trÆ°á»ng há»£p cáº§n quan tÃ¢m hÆ¡n hoáº·c dá»… tháº¥y hÆ¡n trÆ°á»›c. Má»™t vÃ i tham chiáº¿u á»Ÿ trÃªn cÃ³ thá»ƒ máº«u thuáº«n vÃ  báº¡n cáº§n xem xÃ©t gá»i cÃ¡i nÃ o. NhÆ°ng trong ráº¥t nhiá»u trÆ°á»ng há»£p, cÃ³ 1 lá»±a chá»n sáº½ chiáº¿n tháº¯ng rÃµ rÃ ng. VÃ­ dá»¥ giáº£ Ä‘á»‹nh báº¡n cÃ³ 1 web server vÃ  xÃ¢y dá»±ng 1 response dá»±a vÃ o cÃ¡i mÃ  URL chá»©a cÃ¡c tham sá»‘ truy váº¥n expand_all:123456789if (!url.HasQueryParameter(&quot;expand_all&quot;)) { response.Render(items); ...} else { for (int i = 0; i &lt; items.size(); i++) { items[i].Expand(); } ...}Khi mÃ  nguowifd dá»c lÆ°á»›t qua tá»« láº§n Ä‘áº§u, nÃ£o cá»§a anh áº¥y láº­p tá»©c nghÄ© vá» trÆ°á»ng há»£p expand_all. NÃ³ giá»‘ng nhÆ° khi ai Ä‘Ã³ nÃ³i â€œÄá»«ng nghÄ© vá» 1 con voi mÃ u há»“ngâ€. Báº¡n khÃ´ng thá»ƒ giÃºp nhÆ°ng nghÄ© vá» nÃ³ - the â€œdonâ€™tâ€ bá»‹ nháº¥n chÃ¬m bá»Ÿi má»™t sá»± khÃ¡c thÆ°á»ng â€œcon voi mÃ u há»“ngâ€. á» Ä‘Ã¢y, expand_all lÃ  con voi mÃ u há»“ng cá»§a chÃºng ta. Bá»Ÿi vÃ¬ nÃ³ rÆ¡i vÃ o trÆ°á»ng há»£p Ä‘ang Ä‘Æ°á»£c chÃº Ã½ (vÃ  nÃ³ cÅ©ng lÃ  positive case), hÃ£y xá»­ nÃ³ Ä‘áº§u tiÃªn:123456789if (url.HasQueryParameter(&quot;expand_all&quot;)) { for (int i = 0; i &lt; items.size(); i++) { items[i].Expand(); } ...} else { response.Render(items); ...}Máº·c khÃ¡c, Ä‘Ã¢y lÃ  trÆ°á»ng há»£p mÃ  case phá»§ Ä‘á»‹nh Ä‘Æ¡n giáº£n hÆ¡n vÃ  quan tÃ¢m/nguy hiá»ƒm hÆ¡n, do Ä‘Ã³ chÃºng ta xá»­ nÃ³ Ä‘áº§u tiÃªn:1234if not file: # Log the error ...else: # ...Má»™t láº§n ná»¯a, tÃ¹y thuá»™c vÃ o cÃ¡c chi tiáº¿t, Ä‘Ã¢y cÃ³ thá»ƒ lÃ  1 sá»± xem xÃ©t. TÃ³m láº¡i, lá»i khuyÃªn cá»§a chÃºng tÃ´i lÃ  Ä‘Æ¡n giáº£n chÃº Ã½ Ä‘áº¿n cÃ¡c yáº¿u Ä‘á»‘ nÃ y vÃ  xem xÃ©t cÃ¡c trÆ°á»ng há»£p if/else cá»§a báº¡n Ä‘ang á»Ÿ 1 tráº­t tá»± khÃ³ xá»­. The ?: Conditional Expression (a.k.a. â€œTernary Operatorâ€)Trong ngÃ´n ngá»¯ nhÆ° C, báº¡n cÃ³ thá»ƒ viáº¿t biá»ƒu thá»©c Ä‘iá»u kiá»‡n nhÆ° cond ? a : b cÃ¡i mÃ  tÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i cÃ¡ch viáº¿t (cond) { a } else { b }. áº¢nh hÆ°á»Ÿng cá»§a nÃ³ Ä‘áº¿n kháº£ nÄƒng Ä‘á»c code thÃ¬ gÃ¢y tranh cÃ£i. NgÆ°á»i Ä‘á» xÆ°á»›ng thÃ¬ nghÄ© nÃ³ Ä‘áº¹p khi viáº¿t 1 cÃ¡i gÃ¬ Ä‘Ã³ trong 1 dÃ²ng thay vÃ¬ nhiá»u dÃ²ng. Nhá»¯ng ngÆ°á»i pháº£n Ä‘á»‘i thÃ¬ cho ráº±ng nÃ³ cÃ³ thá»ƒ gÃ¢y nháº§m láº«n khi Ä‘á»c vÃ  cÃ³ thá»ƒ khÃ³ Ä‘á»ƒ debug. ÄÃ¢y lÃ  vÃ­ dá»¥ cÃ¡c biá»ƒu thá»©c nÃ y cÃ³ thá»ƒ Ä‘á»c vÃ  ngáº¯n gá»n:1time_str += (hour &gt;= 12) ? &quot;pm&quot; : &quot;am&quot;;Thay vÃ¬ chÃºng ta pháº£i viáº¿t:12345if (hour &gt;= 12) { time_str += &quot;pm&quot;;} else { time_str += &quot;am&quot;;}Tuy nhiÃªn, Ä‘Ã´i khi chÃ­nh cÃ¡ch viáº¿t nÃ y láº¡i ráº¥t khÃ³ Ä‘á»ƒ Ä‘á»c1return exponent &gt;= 0 ? mantissa * (1 &lt;&lt; exponent) : mantissa / (1 &lt;&lt; -exponent);á» Ä‘Ã¢y cÃ¡c biá»ƒu thá»©c Ä‘iá»u kiá»‡n khÃ´ng chá»‰ cÃ²n lÃ  sá»± lá»±a chá»n giá»¯a 2 giÃ¡ trá»‹ Ä‘Æ¡n thuáº§n. Äá»™ng lá»±c Ä‘á»ƒ viáº¿t code nhÆ° váº­y chá»‰ lÃ  â€œcá»‘ gáº¯ng nhá»“i nhÃ©t má»i thá»© trÃªn 1 dÃ²ngâ€. K E Y I D E AInstead of minimizing the number of lines, a better metric is to minimize the time needed for someone to understand it. HÃ£y tráº£ Ä‘oáº¡n code trÃªn vá» tá»± nhiÃªn:12345if (exponent &gt;= 0) { return mantissa * (1 &lt;&lt; exponent);} else { return mantissa / (1 &lt;&lt; -exponent);} A D V I C EBy default, use an if/else. The ternary ?: should be used only for the simplest cases. Avoid do/while Loops Ráº¥t nhiá»u cÃ¡c ngÃ´n ngá»¯ láº­p trÃ¬nh Ä‘Æ°á»£c tÃ´n trá»ng, nhÆ° Perl, cÃ³ 1 vÃ²ng láº·p do { expression } while (condition). expression á»Ÿ Ä‘Ã¢y thá»±c thi Ã­t nháº¥t 1 láº§n. VÃ  Ä‘Ã¢y lÃ  vÃ­ dá»¥:1234567891011// Search through the list, starting at 'node', for the given 'name'.// Don't consider more than 'max_length' nodes.public boolean ListHasNode(Node node, String name, int max_length) { do { if (node.name().equals(name)) return true; node = node.next(); } while (node != null &amp;&amp; --max_length &gt; 0); return false;}Äiá»u kÃ¬ láº¡ vá» má»™t vÃ²ng láº·p do/while lÃ  Ä‘oáº¡n code cÃ³ thá»ƒ hoáº·c khÃ´ng thá»ƒ thá»±c thi láº¡i dá»±a vÃ o Ä‘iá»u kiá»‡n bÃªn dÆ°á»›i cá»§a nÃ³. VÃ¬ báº¡n thÆ°á»ng Ä‘á»c code tá»« trÃªn xuá»‘ng dÆ°á»›i, Ä‘iá»u nÃ y khiáº¿n do/while cÃ³ 1 chÃºt khÃ´ng Ä‘Æ°á»£c tá»± nhiÃªn. Má»™t vÃ i ngÆ°á»i Ä‘á»c cuá»‘i cÃ¹ng Ä‘Ã£ Ä‘á»c code tá»›i 2 láº§n. VÃ²ng láº·p while thÃ¬ dá»… dÃ ng Ä‘á»c hÆ¡n vÃ¬ báº¡n biáº¿t cÃ¡c Ä‘iá»u kiá»‡n cho táº¥t cáº£ vÃ²ng láº·p trÆ°á»›c khi báº¡n Ä‘á»c code bÃªn trong. NhÆ°ng nÃ³ cÅ©ng cÃ³ thá»ƒ ngá»› ngáº©n khi láº·p code chá»‰ Ä‘á»ƒ xÃ³a do/while:123456// Imitating a do/while â€” DON'T DO THIS!bodywhile (condition) { body (again)}May máº¯n thay, chÃºng ta Ä‘Ã£ tÃ¬m Ä‘Æ°á»£c 1 cÃ¡ch phá»• biáº¿n Ä‘á» Ä‘a sá»‘ vÃ²ng láº·p do/while cÃ³ thá»ƒ Ä‘Æ°á»£c viáº¿t nhÆ° lÃ  vÃ²ng láº·p while:1234567public boolean ListHasNode(Node node, String name, int max_length) { while (node != null &amp;&amp; max_length-- &gt; 0) { if (node.name().equals(name)) return true; node = node.next(); } return false;}PhiÃªn báº£n nÃ y cÅ©ng mang láº¡i nhá»¯ng vá»£i Ã­ch khi váº«n lÃ m viá»‡c náº¿u max_length lÃ  0 hoáº·c náº¿u node lÃ  null. Má»™t vÃ i lÃ­ do khÃ¡c Ä‘á»ƒ trÃ¡nh sá»­ dá»¥ng do/while lÃ  cÃ¢u lá»‡nh continue cÃ³ thá»ƒ gÃ¢y nháº§m láº«n bÃªn trong nÃ³. VÃ­ dá»¥, Ä‘oáº¡n code sau lÃ m gÃ¬?123do { continue;} while (false); NÃ³ láº·p mÃ£i mÃ£i hay chá»‰ 1 láº§n. Äa sá»‘ cÃ¡c láº­p trÃ¬nh viÃªn pháº£i dá»«ng vÃ  nghÄ© vá» nÃ³ (NÃ³ nÃªn láº·p láº¡i 1 láº§n) NhÃ¬n chung, Bjarne Stroustrup, ngÆ°á»i táº¡o ra C++ nÃ³i ráº±ng nÃ³ tá»‘t nháº¥t (trong cuá»‘n The C++ Programming Language)): In my experience, the do-statement is a source of errors and confusion. â€¦ I prefer the condition â€œup front where I can see it.â€ Consequently, I tend to avoid do-statements Returning Early from a FunctionMá»™t vÃ i coders tin ráº±ng hÃ m khÃ´ng bao giá» nÃªn cÃ³ nhiá»u tráº¡ng thÃ¡i return. Äiá»u nÃ y vÃ´ lÃ½. Tráº£ vá» sá»›m nháº¥t tá»« 1 hÃ m thÃ¬ hoÃ n toÃ n tá»‘t - vÃ  thÆ°á»ng Ä‘Æ°á»£c mong muá»‘n. VÃ­ dá»¥:12345public boolean Contains(String str, String substr) { if (str == null || substr == null) return false; if (substr.equals(&quot;&quot;)) return true; ...}Thá»±c thi hÃ m nÃ y mÃ  khÃ´ng vÃ o nhá»¯ng â€œmá»‡nh Ä‘á» báº£o vá»‡â€ nÃ y sáº½ ráº¥t khÃ´ng tá»± nhiÃªn Má»™t trong nhá»¯ng sá»± giáº£i thÃ­ch muá»‘n 1 Ä‘iá»ƒm thoÃ¡t Ä‘á»ƒ táº¥t cáº£ sá»± dá»n dáº¹p mÃ£ á»Ÿ cuá»‘i cÃ¹ng cá»§a hÃ m Ä‘Æ°á»£c Ä‘áº£m báº£o Ä‘Æ°á»£c gá»i. NhÆ°ng cÃ¡c ngÃ´n ngá»¯ hiá»‡n Ä‘áº¡i cung cáº¥p nhiá»u cÃ¡ch tinh vi hÆ¡n Ä‘á»ƒ Ä‘áº¡t Ä‘Æ°á»£c sá»± Ä‘áº£m báº£o nÃ y: Language Structured idiom for cleanup code C++ destructors Java, Python try finally Python with with using Chia buá»“n vá»›i C, khÃ´ng cÃ³ cÆ¡ cháº¿ kÃ­ch hoáº¡t mÃ£ cá»¥ thá»ƒ khi hÃ m exit. Do Ä‘Ã³ náº¿u 1 hÃ m vá»›i vá»›i ráº¥t nhiá»u sá»± dá»n dáº¹p code, tráº£ vá» sá»›m nháº¥t cÃ³ thá»ƒ khÃ³ Ä‘á»ƒ thá»±c hiá»‡n chÃ­nh xÃ¡c. Trong trÆ°á»ng há»£p nÃ y, má»™t tÃ¹y chá»n khÃ¡c bao gá»“m tÃ¡i cáº¥u trÃºc láº¡i hÃ m nÃ y hoáº·c tháº­m chÃ­ khÃ´n ngoan hÆ¡n lÃ  sá»­ dá»¥ng goto cleanup; The Infamous gotoTrong cÃ¡c ngÃ´n ngá»¯ khÃ¡c C, sáº½ Ã­t khi cáº§n goto vÃ¬ cÃ³ nhiá»u cÃ¡ch tá»‘t hÆ¡n Ä‘á»ƒ lÃ m tá»‘t viá»‡c hoÃ n táº¥t. gotos cÅ©ng rÃµ rÃ ng nhanh chÃ³ng Ä‘á»ƒ code ra khá»i táº§m tay vÃ  lÃ m code khÃ³ Ä‘á»ƒ theo dÃµi hÆ¡n. NhÆ°ng báº¡n cÃ³ thá»ƒ váº«n nhÃ¬n tháº¥y goto trong 1 vÃ i projects C - Ä‘Ã¡ng chÃº Ã½ nháº¥t trong Linux kernel. TrÆ°á»›c khi báº¡n bá» qua táº¥t cáº£ sá»­ dá»¥ng, sáº½ ráº¥t há»¯u Ã­ch phÃ¢n tÃ­ch lÃ½ do táº¡i sao sá»­ dá»¥ng goto láº¡i tá»‘t hÆ¡n 1 vÃ i cÃ¡ch khÃ¡c. ÄÆ¡n giáº£n nháº¥t, ráº¥t ngÃ¢y thÆ¡ sá»­ dá»¥ng goto vá»›i 1 exit Ä‘Æ¡n á»Ÿ cuá»‘i hÃ m:1234567 if (p == NULL) goto exit; ...exit: fclose(file1); fclose(file2); ... return; Náº¿u Ä‘Ã¢y lÃ  chá»— duy nháº¥t mÃ  goto Ä‘Æ°á»£c phÃ©p, goto sáº½ khÃ´ng thÃ nh váº¥n Ä‘á». Váº¥n Ä‘á» xuáº¥t hiá»‡n khi cÃ³ nhiá»u má»¥c tiÃªu Ä‘áº¿n goto, Ä‘áº·c biá»‡t lÃ  trÃªn nhá»¯ng con Ä‘Æ°á»ng mÃ  nÃ³ qua. Äáº·c biá»‡t, goto cÃ³ thá»ƒ táº¡o thÃ nh cÃ¡c Ä‘oáº¡n code â€œmá»³ á»‘ngâ€ thá»±c sá»±, vÃ  chÃºng cháº¯c cháº¯n cÃ³ thá»ƒ Ä‘Æ°á»£c thay thá»ƒ báº±ng cÃ¡ch vÃ²ng láº·p cÃ³ cáº¥u trÃºc. Trong háº§u háº¿t thá»i gian, goto nÃªn Ä‘Æ°á»£c trÃ¡nh sá»­ dá»¥ng. Minimize NestingCode vá»›i cÃ¡c pháº§n lá»“ng nhau sÃ¢u ráº¥t khÃ³ Ä‘á»ƒ hiá»ƒu. Má»—i táº§ng cá»§a vÃ²ng lá»“ng nhau thÃªm 1 Ä‘iá»u kiá»‡n vÃ o â€œngÄƒn xáº¿p tinh tháº§nâ€ cá»§a ngÆ°á»i Ä‘á»c. Khi ngÆ°á»i Ä‘á»c nhÃ¬n tháº¥y dáº¥u Ä‘Ã³ng Ä‘Ãºng (})) nÃ³ cÃ³ thá»ƒ gÃ¢y khÃ³ khÄƒn Ä‘á»ƒ â€œpopâ€ ra khá»i ngÄƒn xáº¿p vÃ  nhá»› Ä‘iá»u kiá»‡n nÃ o á»Ÿ bÃªn dÆ°á»›i. ÄÃ¢y lÃ  1 vÃ­ dá»¥ tÆ°Æ¡ng Ä‘á»‘i Ä‘Æ¡n giáº£n - náº¿u báº¡n tá»± nháº­n tháº¥y báº¡n pháº£i nhÃ¬n lÃªn xem cÃ¡c Ä‘iá»u kiá»‡n cÃ³ bá»‹ cháº·n khÃ´ng?1234567891011if (user_result == SUCCESS) { if (permission_result != SUCCESS) { reply.WriteErrors(&quot;error reading permissions&quot;); reply.Done(); return; } reply.WriteErrors(&quot;&quot;);} else { reply.WriteErrors(user_result);}reply.Done();Khi báº¡n nhÃ¬n dáº¥u Ä‘Ã³ng Ä‘áº§u tiÃªn, báº¡n pháº£i tá»± nghÄ©, Oh, permission_result != SUCCESS Ä‘Ã£ vá»«a xong, bÃ¢y giá» permission_result == SUCCESS vÃ  Ä‘iá»u nÃ y náº±m trong khá»‘i vá»›i user_result == SUCCESS. NhÃ¬n chung, báº¡n pháº£i giá»¯ giÃ¡ trá»‹ user_result vÃ  permission_result trong Ä‘áº§u á»Ÿ má»i lÃºc. VÃ  má»—i khá»‘i if { } Ä‘Ã³ng láº¡i, báº¡n pháº£i chuyá»ƒn Ä‘á»•i giÃ¡ trá»‹ tÆ°Æ¡ng á»©ng trong suy nghÄ© cá»§a mÃ¬nh. Äoáº¡n mÃ£ nÃ y tháº­m chÃ­ cÃ²n tá»“i tá»‡ hÆ¡n vÃ¬ nÃ³ cá»© xem káº½ giá»¯a trÆ°á»ng há»£p SUCCESS vÃ  non-SUCCESS. How Nesting AccumulatesTrÆ°á»›c khi báº¡n thá»­ sá»­a code vÃ­ dá»¥ trÆ°á»›c Ä‘Ã³, hÃ£y nÃ³i vá» cÃ¡ch nÃ³ sáº½ káº¿t thÃºc. Ban Ä‘áº§u, code sáº½ Ä‘Æ¡n giáº£n:123456if (user_result == SUCCESS) { reply.WriteErrors(&quot;&quot;);} else { reply.WriteErrors(user_result);}reply.Done();Äoáº¡n code nÃ y quÃ¡ dá»… hiá»ƒu. NhÆ°ng láº­p trÃ¬nh viÃªn Ä‘Ã£ thÃªm toÃ¡n tá»­ thá»­ 2 vÃ o:123456789if (user_result == SUCCESS) { if (permission_result != SUCCESS) { reply.WriteErrors(&quot;error reading permissions&quot;); reply.Done(); return; } reply.WriteErrors(&quot;&quot;);...Sá»± thay Ä‘á»•i nÃ y cÃ³ Ã½ nghÄ©a - láº­p trÃ¬nh viÃªn cÃ³ 1 khá»‘i code chÃ¨n vÃ o vÃ  cÃ´ áº¥y tÃ¬m nÆ¡i dá»… dÃ ng nháº¥t Ä‘á»ƒ chÃ¨n nÃ³. Äoáº¡n code má»›i nÃ y ráº¥t má»›i máº» vÃ  â€œin Ä‘áº­mâ€ vÃ  tinh tháº§n cá»§a cÃ´ áº¥y. VÃ  â€œsá»± khÃ¡c biá»‡tâ€ nÃ y ráº¥t rÃµ rÃ ng - nÃ³ lÃ  1 sá»± thay Ä‘á»•i Ä‘Æ¡n giáº£n. NhÆ°ng khi 1 ai Ä‘Ã³ Ä‘á»c code sau Ä‘Ã³, táº¥t cáº£ bá»‘i cáº£nh Ä‘Ã³ Ä‘Ã£ biáº¿n máº¥t. ÄÃ¢y lÃ  cÃ¡ch khi báº¡n láº§n Ä‘áº§u nÃ¬n vÃ o code tá»« báº¯t Ä‘áº§u pháº§n nÃ y - báº¡n Ä‘Ã£ nháº­n Ä‘Æ°á»£c táº¥t cáº£ code trong cÃ¹ng 1 lÃºc. K E Y I D E ALook at your code from a fresh perspective when youâ€™re making changes. Step back and look at it as a whole. Removing Nesting by Returning EarlyOkay, hÃ£y cáº£i tiáº¿n Ä‘oáº¡n code nÃ y. Code lá»“ng nhau cÃ³ thá»ƒ bá»‹ xÃ³a Ä‘i báº±ng cÃ¡ch xá»­ lÃ½ â€œtrÆ°á»ng há»£p lá»—iâ€ sá»›m nháº¥t cÃ³ thá»ƒ vÃ  tráº£ vá» sá»›m nháº¥t káº¿t quáº£ tá»« hÃ m:12345678910111213if (user_result != SUCCESS) { reply.WriteErrors(user_result); reply.Done(); return;}if (permission_result != SUCCESS) { reply.WriteErrors(permission_result); reply.Done(); return;}reply.WriteErrors(&quot;&quot;);reply.Done();Code giá» chá»‰ cÃ²n 1 level lá»“ng nhau thay vÃ¬ 2 nhÆ° trÆ°á»›c. NhÆ°ng Ä‘iá»u quan trá»ng nháº¥t, ngÆ°á»i Ä‘á»c khÃ´ng cÃ²n pháº£i â€œpopâ€ báº¥t cá»© gÃ¬ tá»« trong stack tinh tháº§n cá»§a há» - má»—i khá»‘i if káº¿t thÃºc vá»›i 1 return rá»“i. Removing Nesting Inside LoopsKÄ© thuáº­t tráº£ vá» sá»›m khÃ´ng pháº£i lÃºc nÃ o cÅ©ng Ä‘Æ°á»£c Ã¡p dá»¥ng. VÃ­ dá»¥, Ä‘Ã¢y lÃ  trÆ°á»ng há»£p code trong vÃ²ng láº·p:12345678910for (int i = 0; i &lt; results.size(); i++) { if (results[i] != NULL) { non_null_count++; if (results[i]-&gt;name != &quot;&quot;) { cout &lt;&lt; &quot;Considering candidate...&quot; &lt;&lt; endl; ... } }}BÃªn trong vÃ²ng láº·p, ká»¹ thuáº­t tÆ°Æ¡ng tá»± vá»›i return sá»›m vÃ  continue123456789for (int i = 0; i &lt; results.size(); i++) { if (results[i] == NULL) continue; non_null_count++; if (results[i]-&gt;name == &quot;&quot;) continue; cout &lt;&lt; &quot;Considering candidate...&quot; &lt;&lt; endl; ...}NhÃ¬n chung, continue cÅ©ng cÃ³ thá»ƒ gÃ¢y hiá»ƒu nháº§m, vÃ¬ nÃ³ dáº«n ngÆ°á»i Ä‘á»c Ä‘i 1 vÃ²ng tÆ°Æ¡ng tá»± goto. NhÆ°ng trong trÆ°á»ng há»£p nÃ y, má»—i vÃ²ng láº·p Ä‘á»™c láº­p nhau, do váº­y mÃ  ngÆ°á»i Ä‘á»c cÃ³ thá»ƒ dá»… dÃ ng nhÃ¬n tháº¥y continue chá»‰ cÃ³ nghÄ©a lÃ  â€œbá» qua cÃ¡c item nÃ yâ€. Can You Follow the Flow of Execution? ChÆ°Æ¡ng nÃ y Ä‘Ã£ nÃ³i vá» low-level cá»§a Ä‘iá»u khiá»ƒn luá»“ng: lÃ m sao Ä‘á»ƒ táº¡o ra cÃ¡c vÃ²ng láº·p, Ä‘iá»u kiá»‡n vÃ  jumps code khÃ¡c dá»… Ä‘á»c. NhÆ°ng báº¡n cÅ©ng nÃªn nghÄ© vá» â€œflowâ€ trong chÆ°Æ¡ng trÃ¬nh cá»§a chÃºng ta á»Ÿ má»©c high level.LÃ½ tÆ°á»Ÿng nháº¥t, nÃ³ nÃªn dá»… dÃ ng Ä‘á»ƒ theo dÃµi toÃ n bá»™ luá»“ng thá»±c hiá»‡n trong chÆ°Æ¡ng trÃ¬nh - báº¡n Ä‘Ã£ báº¯t Ä‘áº§u á»Ÿ main() vÃ  nghÄ© ráº±ng qua tá»«ng dÃ²ng cáº£ code, nhÆ° 1 hÃ m gá»i hÃ m khÃ¡c cho Ä‘áº¿n khi chÆ°Æ¡ng trÃ¬nh káº¿t thÃºc. Tuy nhiÃªn, trong thá»±c táº¿, cÃ¡c ngÃ´n ngá»¯ láº­p trÃ¬nh vÃ  thÆ° viá»‡c cÃ³ cáº¥u trÃºc lÃ m cho code thá»±c thi â€œbehind the sencesâ€ hoáº·c lÃ m cho nÃ³ khÃ³ cÃ³ thá»ƒ theo dÃµi. ÄÃ¢y lÃ  1 vÃ i vÃ­ dá»¥ Programming construct How high-level program flow gets obscured threading Itâ€™s unclear what code is executed when. signal/interrupt handlers Certain code might be executed at any time. exceptions Execution can bubble up through multiple function calls. function pointers &amp; anonymous functions Itâ€™s hard to know exactly what code is going to run because that isnâ€™t known at compile time. virtual methods object.virtualMethod() might invoke code of an unknown subclass. Má»™t vÃ i cáº¥u trÃºc nÃ y ráº¥t há»¯u Ã­ch vÃ  chÃºng tháº­m chÃ­ cÃ²n lÃ m code cá»§a báº¡n dá»… Ä‘á»c hÆ¡n vÃ  code Ã­t bá»‹ dÆ° thá»«a. NhÆ°ng Ä‘á»‘i vá»›i láº­p trÃ¬nh viÃªn, Ä‘Ã´i khi há» sá»­ dá»¥ng nÃ³ 1 cÃ¡ch quÃ¡ má»©c mÃ  khÃ´ng nháº­n ra nÃ³ Ä‘Ã£ gÃ¢y khÃ³ khÄƒn cho ngÆ°á»i Ä‘á»c nhÆ° tháº¿ nÃ o Ä‘á»ƒ hiá»ƒu code sau Ä‘Ã³. VÃ  cÃ¡c cáº¥u trÃºc nÃ o cÅ©ng táº¡o ra cÃ¡c lá»—i ráº¥t khÃ³ Ä‘á»ƒ truy xuáº¥t. Äiá»u quan trá»ng nháº¥t lÃ  khÃ´ng nÃªn Ä‘á»ƒ quÃ¡ nhiá»u pháº§n trÄƒm code cá»§a báº¡n sá»­ dá»¥ng cÃ¡c cáº¥u trÃºc nÃ y. Náº¿u báº¡n láº¡m dá»¥ng nhá»¯ng tÃ­nh nÄƒng nÃ y, nÃ³ cÃ³ thá»ƒ lÃ m Ä‘oáº¡n mÃ£ cá»§a báº¡n Ä‘Æ°á»£c xem nhÆ° 1 trÃ² chÆ¡i Three-Card Monte (nhÆ° trong phim hoáº¡t hÃ¬nh) Pháº§n nÃ y tÃ´i Ä‘ang hiá»ƒu Ã½ muá»‘n nÃ³i pháº§n thiáº¿t káº¿ code chung cÅ©ng nÃªn trÃ¡nh sá»­ dá»¥ng quÃ¡ nhiá»u cÃ¡c cáº¥u trÃºc phá»©c táº¡p tá»« báº£ng trÃªn, vÃ¬ nhÆ° váº­y code cá»§a báº¡n sáº½ khÃ³ mÃ  theo dÃµi. Náº¿u sá»­ dá»¥ng nhiá»u quÃ¡, nÃ³ sáº½ nhÆ° trÃ² trÃ¡o 3 lÃ¡ bÃ i Ã½ @@, láº±ng nháº±ng láº¯m :v. TÃºm láº¡iCÃ³ má»™t vÃ i thá»© báº¡n cÃ³ thá»ƒ lÃ m Ä‘á»ƒ code kiá»ƒm soÃ¡t luá»“ng dá»… dÃ ng Ä‘á»c hÆ¡n Khi báº¡n viáº¿t 1 phÃ©p so sÃ¡nh (while (bytes_expected &gt; bytes_received)), tá»‘t hÆ¡n lÃ  báº¡n nÃªn Ä‘á»ƒ cÃ¡c giÃ¡ trá»‹ thay Ä‘á»•i sang bÃªn trÃ¡i vÃ  nhá»¯ng giÃ¡ trá»‹ cá»‘ Ä‘á»‹nh sang bÃªn pháº£i (while (bytes_received &lt; bytes_expected)). Báº¡n cÅ©ng cÃ³ thá»ƒ sáº¯p xáº¿p láº¡i cÃ¡c khá»‘i trong cÃ¢u lá»‡nh if/else. NÃ³i chung, cá»‘ gáº¯ng thá»­ xá»­ lÃ½ trÆ°á»ng há»£p positive/easier/interesting Ä‘áº§u tiÃªn. ÄÃ´i khi nhá»¯ng tiÃªu chÃ­ nÃ y mÃ¢u thuáº«n, nhÆ°ng sáº½ cÃ³ 1 nguyÃªn táº¯c vÆ°á»£t trá»™i hÆ¡n. Má»™t sá»‘ cáº¥u trÃºc láº­p trÃ¬nh nhÆ° toÃ¡n tá»­ Ä‘iá»u hÃ nh (:?), do/while, vÃ  goto thÆ°á»ng gÃ¢y ra káº¿t quáº£ lÃ  code khÃ³ Ä‘á»c. Tá»‘t nháº¥t lÃ  khÃ´ng nÃªn sá»­ dá»¥ng chÃºng, nhá»¯ng sá»± thay tháº¿ rÃµ rÃ ng hÆ¡n luÃ´n tá»“n táº¡i. CÃ¡c khá»‘i code lá»“ng nhau yÃªu cáº§y nhiá»u sá»± táº­p trung hÆ¡n Ä‘á»ƒ theo dÃµi xuyÃªn suá»‘t. Má»—i Ä‘oáº¡n lá»“ng nhÆ° váº­y yÃªu cáº§u nhiá»u ngá»¯ cáº£nh vÃ  â€œÄ‘áº©y nÃ³ vÃ o trong ngÄƒn xáº¿p tinh tháº§nâ€ cá»§a ngÆ°á»i Ä‘á»c. Thay vÃ o Ä‘Ã³, tÃ¹y chá»n code â€œtuyáº¿n tÃ­nhâ€ sáº½ trÃ¡nh Ä‘Æ°á»£c cÃ¡c sá»± lá»“ng nhau nÃ y. Tráº£ vá» sá»›m cÃ³ thá»ƒ trÃ¡nh Ä‘Æ°á»£c cÃ¡c sá»± lá»“ng nhau vÃ  dá»n dáº¹p code nÃ³i chung. â€œGuard statementsâ€ (xá»­ lÃ½ cÃ¡c trÆ°á»ng há»£p Ä‘Æ¡n giáº£n á»Ÿ Ä‘áº§u cÃ¡c hÃ m nhÆ° check null, check empty cÃ¡c thá»© áº¥y) Ä‘áº·c biá»‡t há»¯u Ã­ch.","link":"/2020/05/24/Chapter-7-Making-Control-Flow-Easy-to-Read/"},{"title":"Chapter 9: Variables and Readability","text":"Trong chÆ°Æ¡ng nÃ y, báº¡n sáº½ tháº¥y sáº½ cáº©u tháº£ sá»­ dá»¥ng biáº¿n trong láº­p trÃ¬nh lÃ m khÃ³ hiá»ƒu hÆ¡n. Cá»¥ thá»ƒ, cÃ³ 3 váº¥n Ä‘á» cáº§n tranh luáº­n: Khi cÃ³ nhiá»u biáº¿n, sáº½ khÃ³ hÆ¡n cho viá»‡c theo dÃµi táº¥t cáº£. Má»™t pháº¡m vi biáº¿n lá»›n hÆ¡n, báº¡n pháº£i theo dÃµi nÃ³ lÃ¢u hÆ¡n. Khi thÆ°á»ng xuyÃªn thay Ä‘á»•i biáº¿n, sáº½ khÃ³ hÆ¡n Ä‘á»ƒ theo dÃµi giÃ¡ trá»‹ hiá»‡n táº¡i cá»§a nÃ³. Eliminating Variables: Loáº¡i bá» cÃ¡c biáº¿n.Trong chÆ°Æ¡ng 8, pháº§n phÃ¡ vá»¡ cÃ¡c biá»ƒu thá»©c khá»•ng lá»“, chÃºng ta Ä‘Ã£ giá»›i thiá»‡u lÃ m sao Ä‘á»ƒ â€œexlainingâ€ hoáº·c â€œsummaryâ€ biáº¿n cÃ³ thá»ƒ lÃ m cho code dá»… Ä‘á»c. CÃ¡c biáº¿n nÃ y há»¯u Ã­ch vÃ¬ chÃºng phÃ¡ vá»¡ cÃ¡c biá»ƒu thá»©c khá»•ng lá»“ vÃ  hoáº¡t Ä‘á»™ng nhÆ° 1 dáº¡ng cá»§a tÃ i liá»‡u ná»¯a :D Trong pháº§n nÃ y, chÃºng ta Ä‘ang quan tÃ¢m Ä‘áº¿n loáº¡i bá» cÃ¡c biáº¿n KHÃ”NG cáº£i thiá»‡n kháº£ nÄƒng Ä‘á»c code. Khi 1 biáº¿n nhÆ° váº­y Ä‘Æ°á»£c xÃ³a bá», code má»›i ngáº¯n gá»n hÆ¡n vÃ  tháº­t dá»… hiá»ƒu. Trong pháº§n dÆ°á»›i Ä‘Ã¢y lÃ  1 vÃ i vÃ­ dá»¥ táº¡i sao cÃ¡c biáº¿n khÃ´ng cáº§n thiáº¿t. Useless Temporary VariablesTrong Ä‘oáº¡n trÃ­ch sau cá»§a Python code, xem xÃ©m biáº¿n now:12now = datetime.datetime.now()root_message.last_view_time = nowBiáº¿n now cÃ³ Ä‘Ã¡ng Ä‘á»ƒ giá»¯? á» Ä‘Ã¢y cÃ³ 3 lÃ­ do: NÃ³ khÃ´ng giÃºp phÃ¡ vá»¡ cÃ¡c biá»ƒu thá»©c phá»©c táº¡p. NÃ³ khÃ´ng lÃ m rÃµ thÃªm gÃ¬ - biá»ƒu thá»©c datetime.datetime.now() Ä‘Ã£ Ä‘á»§ rÃµ rÃ ng. NÃ³ Ä‘Æ°á»£c sá»­ dá»¥ng chá»‰ cÃ³ 1 láº§n, bá»Ÿi váº­y nÃ³ khÃ´ng nÃ©n hoáº·c cáº¯t giáº£m code. KhÃ´ng sá»­ dá»¥ng now, Ä‘oáº¡n code láº¡i dá»… hiá»ƒu hÆ¡n:1root_message.last_view_time = datetime.datetime.now()CÃ¡c biáº¿n nhÆ° now thÆ°á»ng Ä‘Æ°á»£c gá»i lÃ  â€œleftoversâ€ (dá»‹ch táº¡m lÃ  Ä‘á»“ thá»«a) cÃ¡i mÃ  thá»«a thÃ£i sau khi code Ä‘Ã£ Ä‘Æ°á»£c chá»‰nh sá»­a. Biáº¿n now nÃªn Ä‘Æ°á»£c sá»­ dá»¥ng trong nhiá»u nÆ¡i tá»« ban Ä‘áº§u. Hoáº·c cÃ³ thá»ƒ ngÆ°á»i code dá»± Ä‘oÃ¡n sá»­ dá»¥ng now nhiá»u láº§n nhÆ°ng khÃ´ng bao giá» thá»±c sá»± cáº§n nÃ³. Eliminating Intermediate Results: Loáº¡i bá» cÃ¡c káº¿t quáº£ táº¡m trung gian ÄÃ¢y lÃ  1 vÃ­ dá»¥ vá» hÃ m JavaScript loáº¡i bá» 1 giÃ¡ trá»‹ tá»« 1 máº£ng:123456789101112var remove_one = function (array, value_to_remove) { var index_to_remove = null; for (var i = 0; i &lt; array.length; i += 1) { if (array[i] === value_to_remove) { index_to_remove = i; break; } } if (index_to_remove !== null) { array.splice(index_to_remove, 1); }};Biáº¿n index_to_remove chá»‰ Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ giá»¯ káº¿t quáº£ trung gian. Nhá»¯ng biáº¿n nhÆ° váº­y cÃ³ thá»ƒ Ä‘Ã´i khi nÃªn Ä‘Æ°á»£c loáº¡i bá» báº±ng cÃ¡ch xá»­ lÃ½ káº¿t quáº£ sá»›m nháº¥t khi báº¡n cÃ³ nÃ³:12345678var remove_one = function (array, value_to_remove) { for (var i = 0; i &lt; array.length; i += 1) { if (array[i] === value_to_remove) { array.splice(i, 1); return; } }}; Báº±ng cÃ¡ch cho phÃ©p code tráº£ vá» sá»›m, chÃºng ta khÃ´ng cáº§n index_to_remove vÃ  Ä‘Æ¡n giáº£n code hÆ¡n 1 chÃºt. NÃ³i chunng, nÃ³ lÃ  1 chiáº¿n lá»±c tá»‘t Ä‘á»ƒ hoÃ n thÃ nh nhiá»‡m vá»¥ nhanh nháº¥t cÃ³ thá»ƒ. Eliminating Control Flow VariablesÄÃ´i khi báº¡n nhÃ¬n tháº¥y máº«u code trong vÃ²ng láº·p:123456789boolean done = false;while (/* condition */ &amp;&amp; !done) { ... if (...) { done = true; ontinue; }} Biáº¿n done tháº­m chÃ­ cÃ³ thá»ƒ Ä‘Æ°á»£c set giÃ¡ trá»‹ nhiá»u vá»‹ trÃ­ trong vÃ²ng láº·p nÃ y. Code nhÆ° váº­y thÆ°á»ng Ä‘Ã¡p á»©ng 1 sá»‘ nguyÃªn táº¯c báº¥t thÃ nh vÄƒn báº¡n cÃ¡i mÃ  báº¡n khÃ´ng nÃªn thoÃ¡t ra á»Ÿ giá»¯a vÃ²ng láº·p. NÃ³ khÃ´ng pháº£i lÃ  1 nguyÃªn táº¯c nhÆ° váº­y. Biáº¿n nhÆ° done Ä‘Æ°á»£c gá»i lÃ  â€œcontrol flow variablesâ€œ. Má»¥c Ä‘Ã­ch duy nháº¥t cá»§a nÃ³ lÃ  chá»‰ Ä‘áº¡o sá»± thá»±c thi cá»§a chÆ°Æ¡ng trÃ¬nh - chÃºng khÃ´ng chá»©a 1 vÃ i dá»¯ liá»‡u láº­p trÃ¬nh thá»±c táº¿ . Theo kinh nghiá»‡m cá»§a chÃºng tÃ´i, cÃ¡c biáº¿n kiá»ƒm soÃ¡t luá»“ng cÃ³ thá»ƒ thÆ°á»ng Ä‘Æ°á»£c loáº¡i bá» Ä‘á»ƒ tá»‘t hÆ¡n sá»­ dá»¥ng á»Ÿ láº­p trÃ¬nh cáº¥u trÃºc: 123456while (/* condition */) { ... if (...) { break; }} TrÆ°á»ng há»£p nÃ y cÃ³ váº» dá»… dÃ ng Ä‘á»ƒ fix, nhÆ°ng Ä‘iá»u gÃ¬ sáº½ xáº£y ra náº¿u nhiá»u vÃ²ng láº·p lá»“ng nhau trong mÃ  khÃ´ng Ä‘Æ¡n giáº£n Ä‘á»ƒ phÃ¡ vá»¡? Trong nhiá»u trÆ°á»ng há»£p phá»©c táº¡p nhÆ° váº­y, giáº£i phÃ¡p thÆ°á»ng lÃ  moving chá»— code Ä‘Ã³ vÃ o trong 1 hÃ m má»›i (trong hoáº·c ngoÃ i vÃ²ng láº·p tÃ¹y báº¡n) DO YOU WANT YOUR COWORKERS TO FEEL LIKETHEYâ€™RE IN AN INTERVIEW ALL THE TIME? Eric Brechner cá»§a Microsoft Ä‘Ã£ nÃ³i chuyá»‡n vá» lÃ m tháº¿ nÃ o Ä‘á»ƒ cÃ³ 1 cÃ¢u há»i phá»ng váº¥n hay nÃªn liÃªn quan Ä‘áº¿n Ã­t nháº¥t 3 biáº¿n, p. 166.*). NÃ³ cÃ³ thá»ƒ lÃ  vÃ¬ giao dá»‹ch vá»›i 3 biáº¿n trong cÃ¹ng 1 lÃºc buá»™c báº¡n pháº£i suy nghÄ© kÄ©. Äiá»u nÃ y cÃ³ Ã½ nghÄ©a trong 1 cuá»™c phá»ng váº¥n, nÆ¡i mÃ  báº¡n Ä‘ang thá»­ Ä‘áº©y á»©ng viÃªn Ä‘áº¿n cÃ¡c giá»›i háº¡n. NhÆ°ng báº¡n cÃ³ muá»‘n Ä‘á»“ng nghiá»‡p cá»§a báº¡n lÃ m tháº¥y chÃºng ta Ä‘ang trong 1 cuá»™c phá»ng váº¥n khi há» Ä‘ang Ä‘á»c code cá»§a báº¡n. :D Shrink the Scope of Your Variables: Thu nhá» pháº¡m vi biáº¿n cá»§a báº¡nChÃºng ta Ä‘Ã£ nghe Ä‘áº¿n lá»i khuyÃªn â€œtrÃ¡nh cÃ¡c biáº¿n toÃ n cá»¥câ€. ÄÃ¢y lÃ  1 lá»i khuyÃªn tá»‘t vÃ¬ nÃ³ khÃ³ theo dÃµi chá»— nÃ o vÃ  cÃ¡c biáº¿n toÃ n cá»¥c nÃ y Ä‘ang Ä‘Æ°á»£c sá»­ dá»¥ng nhÆ° tháº¿ nÃ o. VÃ  â€œgÃ¢y Ã´ nhiá»…m khÃ´ng gian tÃªnâ€ (Ä‘áº·t 1 loáº¡t cÃ¡c tÃªn Ä‘Ã³ cÃ³ thá»ƒ máº«u thuáº©n vá»›i cÃ¡c biáº¿n local cá»§a báº¡n), cÃ³ thá»ƒ vÃ´ tÃ¬nh sá»­a Ä‘á»•i cÃ¡c biáº¿n toÃ n cá»¥c khi nÃ³ dá»± Ä‘á»‹nh sá»­ dá»¥ng 1 biáº¿n local hoáº·c pháº§n khÃ¡c xung quanh. TrÃªn thá»±c táº¿, 1 Ã½ tÆ°á»Ÿng tá»‘t lÃ  â€œco pháº¡m vi láº¡iâ€ cho táº¥t cáº£ cÃ¡c biáº¿n cá»§a báº¡n, khÃ´ng chá»‰ biáº¿n toÃ n cá»¥c. KEY IDEAMake your variable visible by as few lines of code as possible. Ráº¥t nhiá»u ngÃ´n ngá»¯ láº­p trÃ¬nh phá»¥c vá»¥ cÃ¡c scope/access levels bao gá»“m module, class, function vÃ  block scope. Sá»­ dá»¥ng ráº¥t nhiá»u truy cáº­p háº¡n cháº¿ lÃ  tá»‘t hÆ¡n vÃ¬ nÃ³ cÃ³ nghÄ©a biáº¿n cÃ³ thá»ƒ â€œnhÃ¬n tháº¥yâ€ bá»Ÿi Ã­t dÃ²ng code hÆ¡n. Táº¡i sao láº¡i cáº§n lÃ m váº­y? VÃ¬ nÃ³ giáº£m Ä‘Ã¡ng ká»ƒ sá»‘ lÆ°á»£ng biáº¿n ngÆ°á»i Ä‘á»c cáº§n nghÄ© trong cÃ¹ng 1 lÃºc. Náº¿u báº¡n Ä‘ang co táº¥t cáº£ cÃ¡c biáº¿n cá»§a báº¡n láº¡i theo há»‡ sá»‘ 2, sau Ä‘Ã³ trung bÃ¬nh sáº½ cÃ³ má»™t ná»­a sá»‘ biáº¿n trong pháº¡m vi táº¡i má»™t thá»i Ä‘iá»ƒm. VÃ­ dá»¥ giáº£ Ä‘á»‹nh báº¡n cÃ³ 1 lá»›p ráº¥t lá»›n vá»›i 1 biáº¿n thÃ nh viÃªn cÃ¡i mÃ  Ä‘Æ°á»£c sá»­ dá»¥ng chá»‰ bá»Ÿi 2 phÆ°Æ¡ng thá»©c:1234567891011121314class LargeClass { string str_; void Method1() { str_ = ...; Method2(); } void Method2() { // Uses str_ } // Lots of other methods that don't use str_ ...};Theo 1 sá»‘ Ã½ nghÄ©a, cÃ¡c biáº¿n thÃ nh viÃªn cÅ©ng Ä‘Æ°á»£c coi lÃ  â€œmini-globalâ€ trong Ä‘á»‹a bÃ n cá»§a class. Äá»‘i vá»›i cÃ¡c lá»›p lá»›n hÆ¡n, ráº¥t khÃ³ Ä‘á»ƒ theo dÃµi táº¥t cáº£ cÃ¡c biáº¿n thÃ nh viÃªn vÃ  phÆ°Æ¡ng thá»©c nÃ o Ä‘á»‹nh nghÄ©a láº¡i má»—i chÃºng. CÃ¡c mini-globale Ã­t Ä‘i, Ä‘iá»u Ä‘Ã³ sáº½ tá»‘t hÆ¡n. Äá»‘i vá»›i trÆ°á»ng há»£p nÃ y nÃ³ cÃ³ thá»ƒ cÃ³ há»£p lÃ½ Ä‘á»ƒ â€œgiÃ¡ng cáº¥pâ€ str_to thÃ nh biáº¿n local:123456789101112class LargeClass { void Method1() { string str = ...; Method2(str); } void Method2(string str) { // Uses str } // Now other methods can't see str.};Má»™t cÃ¡ch khÃ¡c Ä‘á»ƒ háº¡n cháº¿ truy cáº­p vá»›i cÃ¡c thÃ nh viÃªn cá»§a class lÃ  táº¡o ra nhiá»u phÆ°Æ¡ng thá»©c static nháº¥t cÃ³ thá»ƒ. CÃ¡c phÆ°Æ¡ng thá»©c tÄ©nh lÃ  cÃ¡ch tá»‘t Ä‘á»ƒ cho ngÆ°á»i Ä‘á»c biáº¿t â€œnhá»¯ng dÃ²ng code nÃ y bá»‹ cÃ´ láº­p vá»›i cÃ¡c biáº¿n Ä‘Ã³â€. Má»™t cÃ¡ch tiáº¿p cáº­n khÃ¡c lÃ  phÃ¡ vá»¡ cÃ¡c lá»›p lá»›n vÃ o cÃ¡c lá»›p nhá» hÆ¡n. CÃ¡ch tiáº¿p cáº­n nÃ y há»¯u Ã­ch chá»‰ khi cÃ¡c lá»›p nhá» hÆ¡n thá»±c táº¿ cÃ´ láº­p vá»›i nhau. Náº¿u báº¡n Ä‘ang táº¡o 2 class mÃ  truy cáº­p má»—i thÃ nh pháº§n cá»§a lá»›p khÃ¡c, báº¡n chÆ°a thá»±c sá»± hoÃ n thÃ nh báº¥t cá»© Ä‘iá»u gÃ¬. TÆ°Æ¡ng tá»± nhÆ° váº­y phÃ¡ vá»¡ file lá»›n vÃ o trong cÃ¡c file nhá», cÃ¡c hÃ m lá»›n thÃ nh cÃ¡c hÃ m nhá» hÆ¡n. Má»™t Ä‘á»™ng lá»±c lá»›n Ä‘á»ƒ lÃ m nhÆ° váº­y lÃ  cÃ´ láº­p dá»¯ liá»‡u (vÃ­ dá»¥: cÃ¡c biáº¿n). NhÆ°ng ngÃ´n ngá»¯ khÃ¡c nhau cÃ³ nhá»¯ng nguyÃªn táº¯c khÃ¡c nhau Ä‘á»ƒ Ä‘á»‹nh nghÄ©a chÃ­nh xÃ¡c cÃ¡c pháº¡m vi. ChÃºng tÃ´i muá»‘n chá»‰ muá»‘n chá»‰ ra 1 vÃ i Ä‘iá»ƒm thÃº vá»‹, Ä‘Ã¡ng quan tÃ¢m trong nguyÃªn táº¯c pháº¡m vi cá»§a biáº¿n =)) if Statement Scope in C++Giáº£ sá»­ báº¡n cÃ³ 1 Ä‘oáº¡n mÃ£ C++ nhÆ° sau:123456PaymentInfo* info = database.ReadPaymentInfo();if (info) { cout &lt;&lt; &quot;User paid: &quot; &lt;&lt; info-&gt;amount() &lt;&lt; endl;}// Many more lines of code below ... Biáº¿n info sáº½ cÃ²n láº¡i trong pháº¡m vi cho Ä‘oáº¡n code cÃ²n láº¡i cá»§a hÃ m, do Ä‘Ã³ má»i ngÆ°á»i Ä‘á»c code sáº½ giá»¯ info trong Ä‘áº§u, tá»± há»i nÃ³ sáº½ sá»­ dá»¥ng láº¡i trong trÆ°á»ng há»£p nÃ o, nhÆ° tháº¿ nÃ o? NhÆ°ng trong trÆ°á»ng há»£p nÃ y, info chá»‰ Ä‘Æ°á»£c sá»­ dá»¥ng trong if. Trong C++ chÃºng ta cÃ³ thá»ƒ Ä‘á»‹nh nghÄ©a info vá»›i biá»ƒu thá»©c Ä‘iá»u kiá»‡n123if (PaymentInfo* info = database.ReadPaymentInfo()) { cout &lt;&lt; &quot;User paid: &quot; &lt;&lt; info-&gt;amount() &lt;&lt; endl;} BÃ¢y giá» ngÆ°á»i Ä‘á»c Ä‘Ã£ cÃ³ thá»ƒ dá»… dÃ ng quÃªn biáº¿n info ngoÃ i pháº¡m vu if nÃ y :D. Creating â€œPrivateâ€ Variables in JavaScriptGiáº£ sá»­ báº¡n cÃ³ 1 biáº¿n cá»‘ cháº¥p biáº¿n mÃ  Ä‘Æ°á»£c sá»­ dá»¥ng chá»‰ bá»Ÿi 1 hÃ m:123456789submitted = false; // Note: global variablevar submit_form = function (form_name) { if (submitted) { return; // don't double-submit the form } ... submitted = true;};Biáº¿n toÃ n cá»¥c nhÆ° submitted cÃ³ thá»ƒ gÃ¢y ra cho ngÆ°á»i Ä‘á»c Ä‘oáº¡n code nÃ y ráº¥t nhiá»u sá»± sá»£ hÃ£i. DÆ°á»ng nhÆ° chá»‰ cÃ³ hÃ m submit_form() sá»­ dá»¥ng submitted nhÆ°ng báº¡n khÃ´ng biáº¿t cháº¯c vá» Ä‘iá»u Ä‘Ã³. TrÃªn thá»±c táº¿, Ä‘oáº¡n JavaScript khÃ¡c cÅ©ng cÃ³ thá»ƒ sá»­ dá»¥ng biáº¿n nÃ y vá»›i má»¥c Ä‘Ã­ch khÃ¡c. Báº¡n cÃ³ thá»ƒ cháº·n váº¥n Ä‘á» nÃ y báº±ng cÃ¡ch bá» nÃ³ trong 1 closure1234567891011var submit_form = (function () { var submitted = false; // Note: can only be accessed by the function below return function (form_name) { if (submitted) { return; // don't double-submit the form } ... submitted = true; };}());Nháº­n tháº¥y ráº±ng dáº¥u ngoáº·c Ä‘Æ¡n á»Ÿ dÃ²ng cuá»‘i lÃ  Ä‘á»ƒ thÃ m bÃªn ngoÃ i khÃ´ng teenn Ä‘Æ°á»£c thá»±c thi ngay láº­p tá»©c, tráº£ vá» hÃ m bÃªn trong nÃ³. Náº¿u báº¡n chÆ°a tá»«ng gáº·p ká»¹ thuáº­t nÃ y trÆ°á»›c Ä‘Ã³, nÃ³ nhÃ¬n cÃ³ váº» láº¡i trong láº§n Ä‘áº§u gáº·p. NÃ³ cÃ³ hiá»‡u á»©ng táº¡o ra cÃ¡c pháº¡m vi â€œprivateâ€ cÃ¡i mÃ  chá»‰ cho cÃ¡c hÃ m trong nÃ³ truy cáº­p. BÃ¢y giá» ngÆ°á»i Ä‘á»c khÃ´ng pháº£i tá»± há»i Liá»‡u submitted cÃ³ Ä‘Æ°á»£c sá»­ dá»¥ng á»Ÿ Ä‘Ã¢u ná»¯a khÃ´ng? vÃ  lo láº¯ng vá» mÃ¢u thuáº«n khi vá» cÃ¡c biáº¿n toÃ n cá»¥c khÃ¡c cÃ¹ng tÃªn (Xem thÃªm vá» JavaScript The Good Part Ä‘á»ƒ hiá»ƒu thÃªm vá» kÄ© thuáº­t nÃ y). JavaScript Global ScopeTrong JavaScript, náº¿u báº¡n bá» sÃ³t tá»« khÃ³a var tá»« khai bÃ¡o biáº¿n (vÃ­ dá»¥ x = 1 thay vÃ¬ var x = 1) biáº¿n Ä‘Ã³ sáº½ trá»Ÿ thÃ nh biáº¿n toÃ n cá»¥c, vÃ  táº¥t cáº£ chá»— trong file JavaScript, khá»‘i &lt;script&gt; Ä‘á»u truy cáº­p Ä‘Æ°á»£c nÃ³. ÄÃ¢y lÃ  1 vÃ­ dá»¥:12345678&lt;script&gt; var f = function () { // DANGER: 'i' is not declared with 'var'! for (i = 0; i &lt; 10; i += 1) ... }; f();&lt;/script&gt; Äoáº¡n code vÃ´ tÃ¬nh Ä‘á»ƒ i thÃ nh biáº¿n toÃ n cá»¥c, do Ä‘Ã³ khá»‘i sau váº«n nhÃ¬n tháº¥y nÃ³:123&lt;script&gt; alert(i);&lt;/script&gt;Ráº¥t nhiá»u láº­p trÃ¬nh viÃªn khÃ´ng nháº­n thá»©c Ä‘Æ°á»£c nguyÃªn táº¯c vá» pháº¡m vi nÃ y vÃ  nÃ³ gÃ¢y ra cÃ¡c hÃ nh vi khÃ´ng mong muá»‘n, cÃ³ thá»ƒ táº¡o ra cÃ¡c bug dá»‹ =)). Má»™t biá»ƒu hiá»‡n chung cá»§a code nÃ y 2 hÃ m cÃ¹ng cÃ³ cáº£ 2 biáº¿n local vá»›i cÃ¹ng tÃªn nhÆ°ng quÃªn sá»­ dá»¥ng var. Nhá»¯ng hÃ m nÃ y sáº½ vÃ´ tÃ¬nh â€œcross-talkâ€ (nÃ³i chuyá»‡n chÃ©o) vÃ  thÆ°Æ¡ng thay láº­p trÃ¬nh viÃªn cÃ³ thá»ƒ káº¿t luáº­n ráº±ng mÃ¡y tÃ­nh cá»§a anh ta Ä‘Ã£ chá»‹ chiáº¿m há»¯u bá»Ÿi ai Ä‘Ã³ hoáº·c RAM Ä‘Ã£ há»ng =)). â€œBest practiceâ€ cho JavaScript lÃ  luÃ´n luÃ´n Ä‘á»‹nh nghÄ©a biáº¿n sá»­ dá»¥ng tá»« khÃ³a var (vÃ­ dá»¥ var x = 1). CÃ¡ch nÃ y sáº½ giá»›i háº¡n pháº¡m vi cá»§a biáº¿n bÃªn trong hÃ m nÃ³ Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a. No Nested Scope in Python and JavaScriptNgÃ´n ngá»¯ nhÆ° C++ vÃ  Java cÃ³ cÃ¡c khÃ¡i niá»‡m block scope - pháº¡m vi khá»‘i, khi mÃ  cÃ¡c biáº¿n Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a bÃªn trong 1 if, for, try, hoáº·c cÃ¡c cáº¥u trÃºc tÆ°Æ¡ng tá»± háº¡n cháº¿ pháº¡m vi bÃªn trong khá»‘i Ä‘Ã³:12345if (...) { int x = 1;}x++; // Compile-error! 'x' is undefined. NhÆ°ng Python vÃ  JavaScriptm biáº¿n Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a trong 1 khá»‘i â€œtrÃ n ra ngoÃ iâ€ cáº£ hÃ m. VÃ­ dá»¥, nháº­n tháº¥y sá»­ dá»¥ng example_value trong Python lÃ  hoÃ n toÃ n há»£p lá»‡:123456789# No use of example_value up to this point.if request: for value in request.values: if value &gt; 0: example_value = value breakfor logger in debug.loggers: logger.log(&quot;Example:&quot;, example_value) NguyÃªn táº¯c vá» scope nÃ y ngáº¡c nhiÃªn vá»›i nhiá»u láº­p trÃ¬nh viÃªn vÃ  code nhÆ° váº­y ráº¥t khÃ³ Ä‘á»ƒ Ä‘á»c. Trong 1 vÃ i ngÃ´n ngá»¯ khÃ¡c, dá»… dÃ ng tÃ¬m ra example_value trong láº§n Ä‘á»‹nh nghÄ©a Ä‘áº§u tiÃªn - báº¡n cÃ³ thá»ƒ nhÃ¬n dá»c â€œtheo cáº¡nh trÃ¡iâ€ cá»§a hÃ m báº¡n Ä‘ang theo dÃµi. Trong vÃ­ dá»¥ trÆ°á»›c cÅ©ng Ä‘ang lá»—i: náº¿u example_value khÃ´ng Ä‘Æ°á»£c set trong pháº§n Ä‘áº§u cá»§a code, pháº§n thá»© 2 sáº½ nÃ©m ra 1 ngoáº¡i lá»‡ &quot;NameError: â€˜example_valueâ€™ is not defined&quot;. ChÃºng ta cÃ³ thá»ƒ sá»­a Ä‘iá»u nÃ y, lÃ m code cÃ³ thá»ƒ Ä‘á»c Ä‘Æ°á»£c báº±ng cÃ¡ch Ä‘á»‹nh nghÄ©a example_value táº¡i â€œtá»• tiÃªn chung gáº§n nháº¥tâ€ (khÃ¡i niá»‡m cá»§a lá»“ng nhau) nÆ¡i nÃ³ Ä‘Æ°á»£c sá»­ dá»¥ng:12345678910example_value = Noneif request: for value in request.values: if value &gt; 0: example_value = value breakif example_value: for logger in debug.loggers: logger.log(&quot;Example:&quot;, example_value)Tuy nhiÃªn, Ä‘Ã¢y lÃ  trÆ°á»ng há»£p nÆ¡i example_value cÃ³ thá»ƒ loáº¡i bá» hoÃ n toÃ n. example_value chá»‰ giá»¯ káº¿t quáº£ trung gian vÃ  báº¡n cÃ³ nhá»› loáº¡i bá» biáº¿n trung gian chÃºng ta Ä‘Ã£ tháº£o luáº­n á»Ÿ trang 95, biáº¿n nhÆ° váº­y cÃ³ thá»ƒ loáº¡i bá» báº±ng cÃ¡ch â€œhoÃ n thÃ nh nhiá»‡m vá»¥ sá»›m nháº¥t cÃ³ thá»ƒâ€. Trong trÆ°á»ng há»£p nÃ y, nÃ³ cÃ³ nghÄ©a log giÃ¡ trá»‹ cá»§a vÃ­ dá»¥ sá»›m nháº¥t khi chÃºng ta tÃ¬m tháº¥y nÃ³. ÄÃ¢y lÃ  Ä‘oáº¡n code má»›i:12345678def LogExample(value): for logger in debug.loggers: logger.log(&quot;Example:&quot;, value)if request: for value in request.values: if value &gt; 0: LogExample(value) # deal with 'value' immediately break Moving Definitions DownNgÃ´n ngá»¯ láº­p trÃ¬nh gá»‘c C yÃªu cáº§u táº¥t cáº£ cÃ¡c biáº¿n Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a trÃªn Ä‘áº§u cá»§a hÃ m vÃ  block. YÃªu cáº§u nÃ y tháº­t khÃ´ng may, vÃ¬ Ä‘á»‘i vá»›i cÃ¡c hÃ m dÃ i vá»›i nhiá»u biáº¿n, nÃ³ buá»™c ngÆ°á»i Ä‘á»c nghÄ© vá» táº¥t cáº£ cÃ¡c biáº¿n nÃ y, tháº­m chÃ­ chÃºng khÃ´ng Ä‘Æ°á»£c sá»­ dá»¥ng (C99 vÃ  C++ Ä‘Ã£ loáº¡i bá» yÃªu cáº§u nÃ y) Äoáº¡n code dÆ°á»›i Ä‘Ã¢y, táº¥t cáº£ cÃ¡c biáº¿n máº·c nhiÃªn Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a trÃªn Ä‘áº§u hÃ m:1234567891011121314def ViewFilteredReplies(original_id): filtered_replies = [] root_message = Messages.objects.get(original_id) all_replies = Messages.objects.select(root_id=original_id) root_message.view_count += 1 root_message.last_view_time = datetime.datetime.now() root_message.save() for reply in all_replies: if reply.spam_votes &lt;= MAX_SPAM_VOTES: filtered_replies.append(reply) return filtered_repliesVáº¥n Ä‘á» cá»§a vÃ­ dá»¥ trÃªn lÃ  nÃ³ buá»™c ngÆ°á»i Ä‘á»c nghÄ© vá» 1 biáº¿n trong 1 lÃºc, chuyá»ƒn qua chuyá»ƒn láº¡i giá»¯a chÃºng. VÃ¬ ngÆ°á»i Ä‘á»c khÃ´ng cáº§n biáº¿t vá» táº¥t cáº£ chÃºng cho Ä‘áº¿n sau nÃ y. Sáº½ dá»… dÃ ng hÆ¡n chá»‰ chuyá»ƒn má»—i khai bÃ¡o nÃ o Ä‘Ãºng trÆ°á»›c khi nÃ³ Ä‘Æ°á»£c sá»­ dá»¥ng trong láº§n Ä‘áº§u:12345678910111213def ViewFilteredReplies(original_id): root_message = Messages.objects.get(original_id) root_message.view_count += 1 root_message.last_view_time = datetime.datetime.now() root_message.save() all_replies = Messages.objects.select(root_id=original_id) filtered_replies = [] for reply in all_replies: if reply.spam_votes &lt;= MAX_SPAM_VOTES: filtered_replies.append(reply) return filtered_repliesBáº¡n cÃ³ thá»ƒ tá»± há»i liá»‡u biáº¿n all_replies lÃ  1 biáº¿n cáº§n thiáº¿t, hoáº·c náº¿u cÃ³ thá»ƒ xÃ³a Ä‘i nhÆ° sau:12for reply in Messages.objects.select(root_id=original_id):...Trong trÆ°á»ng há»£p nÃ y, all_replies Ä‘ang lÃ  1 biáº¿n explaining ráº¥t tá»‘t, bá»Ÿi váº­y chÃºng tÃ´i quyáº¿t Ä‘á»‹nh giá»¯ nÃ³. Prefer Write-Once Variables&gt; Write-Once Variables - Biáº¿n ghi 1 láº§n: tÃ´i Ä‘ang hiá»ƒu lÃ  gÃ¡n giÃ¡ trá»‹ 1 láº§n, vÃ  nghÄ©a rá»™ng ra lÃ  gÃ¡n giÃ¡ trá»‹ cho nÃ³ Ã­t nháº¥t =)) Cho Ä‘áº¿n bÃ¢y giá» trong chÆ°Æ¡ng nÃ y, chÃºng ta Ä‘Ã£ tháº£o luáº­n lÃ  khÃ³ hÆ¡n Ä‘á»ƒ hiá»ƒu 1 chÆ°Æ¡ng trÃ¬nh vá»›i nhiá»u biáº¿n â€œtrong cuá»™c chÆ¡iâ€. Tháº­m chÃ­ lÃ  cÃ²n khÃ³ hÆ¡n khi nghÄ© vá» cÃ¡c biáº¿n thay Ä‘á»•i liÃªn tá»¥c. Theo dÃµi giÃ¡ trá»‹ cá»§a chÃºng lÃ m tÄƒng thÃªm 1 má»©c Ä‘á»™ khÃ³. Äá»ƒ chá»‘ng láº¡i váº¥n Ä‘á» nÃ y, chÃºng tÃ´i gá»£i Ã½ cho báº¡n 1 thá»© nghe cÃ³ chÃºt láº¡ Æ°u tiÃªn cÃ¡c biáº¿n ghi 1 láº§n Biáº¿n â€œcá»‘ Ä‘á»‹nh vÄ©nh viá»…nâ€ dá»… dÃ ng Ä‘á»ƒ nghÄ© Ä‘áº¿n hÆ¡n. Cháº¯c cháº¯n, má»™t biáº¿n háº±ng nhÆ°:1static const int NUM_THREADS = 10;KhÃ´ng yÃªu cáº§u ngÆ°á»i Ä‘á»c pháº£i nghÄ© nhiá»u. VÃ  vá»›i lÃ½ do giá»‘ng nhau, sá»­ dá»¥ng const trong C++ (vÃ  final trong Java) Ä‘Æ°á»£c khuyáº¿n khÃ­ch cao nháº¥t. TrÃªn thá»±c táº¿, ráº¥t nhiá»u ngÃ´n ngá»¯ (bao gá»“m cáº£ Python vÃ  Java), 1 vÃ i kiá»ƒu build-in nhÆ° string thÃ¬ lÃ  báº¥t biáº¿n. Theo nhÆ° James Gosling (ngÆ°á»i táº¡o ra Java) nÃ³i â€œ[Báº¥t biáº¿n] cÃ³ xu hÆ°á»›ng gáº·p thÆ°á»ng xuyÃªn hÆ¡n hÆ¡n cáº£ cÃ¡c váº¥n Ä‘á» tá»± doâ€ @@ NhÆ°ng tháº­m chÃ­ náº¿u báº¡n khÃ´ng thá»ƒ lÃ m cho biáº¿n cá»§a báº¡n write-once, váº«n Æ°u Ã­ch náº¿u biáº¿n thay Ä‘á»•i á»Ÿ Ã­t chá»— hÆ¡n KEY IDEACÃ ng nhiá»u chá»— 1 biáº¿n Ä‘Æ°á»£c thao tÃ¡c, cÃ ng khÃ³ láº­p luáº­n, xem xÃ©t vá» giÃ¡ trá»‹ hiá»‡n táº¡i cá»§a nÃ³ Váº­y chÃºng ta lÃ m nhÆ° tháº¿ nÃ o? LÃ m sao báº¡n thay Ä‘á»•i 1 biáº¿n trá»Ÿ thÃ nh write-once? Well, nÃ³ cáº§n ráº¥t nhiá»u láº§n nÃ³ yÃªu cáº§u tÃ¡i cáº¥u trÃºc láº¡i code 1 chÃºt, báº¡n sáº½ tháº¥y trong vÃ­ dá»¥ tiáº¿p theo. A Final ExampleTrong vÃ­ dá»¥ cuá»‘i cÃ¹ng cá»§a chÆ°Æ¡ng nÃ y, chÃºng tÃ´i muá»‘n chá»‰ ra 1 vÃ­ dá»¥ chá»©ng minh nhiá»u nguyÃªn lÃ½ chÃºng ta Ä‘Ã£ tháº£o luáº­n Giáº£ sá»­ báº¡n cÃ³ 1 trang web vá»›i sá»‘ lÆ°á»£ng input text fileds Ä‘Æ°á»£c sáº¯p xáº¿p nhÆ° sau:12345&lt;input type=&quot;text&quot; id=&quot;input1&quot; value=&quot;Dustin&quot;&gt;&lt;input type=&quot;text&quot; id=&quot;input2&quot; value=&quot;Trevor&quot;&gt;&lt;input type=&quot;text&quot; id=&quot;input3&quot; value=&quot;&quot;&gt;&lt;input type=&quot;text&quot; id=&quot;input4&quot; value=&quot;Melissa&quot;&gt;...NhÆ° báº¡n Ä‘Ã£ tháº¥y ids báº¯t Ä‘áº§u vá»›i input1 vÃ  tÄƒng lÃªn trong form. CÃ´ng viá»‡c cá»§a báº¡n lÃ  viáº¿t 1 hÃ m vá»›i tÃªn setFirstEmptyInput() cÃ¡i mÃ  láº¥y 1 chuá»—i vÃ  Ä‘áº·t nÃ³ vÃ o &lt;input&gt; trá»‘ng Ä‘áº§u tiÃªn trÃªn web (trong vÃ­ dá»¥ trÃªn lÃ  â€œinput3â€). HÃ m nÃ y nÃªn tráº£ vá» DOM element Ä‘Ã£ Ä‘Æ°á»£c cáº­p nháº­t (hoáº·c null náº¿u khÃ´ng cÃ²n Ä‘áº§u vÃ o trá»‘ng). ÄÃ¢y lÃ  1 vÃ i code cáº§n lÃ m, khÃ´ng Ã¡p dá»¥ng cÃ¡c nguyÃªn táº¯c trong chÆ°Æ¡ng nÃ y:123456789101112131415161718var setFirstEmptyInput = function (new_value) { var found = false; var i = 1; var elem = document.getElementById('input' + i); while (elem !== null) { if (elem.value === '') { found = true; break; } i++; elem = document.getElementById('input' + i); } if (found) elem.value = new_value; return elem;};Äoáº¡n code hoáº¡t Ä‘á»™ng tá»‘t nhÆ°ng chÆ°a Ä‘Æ°á»£c Ä‘áº¹p. Äiá»u gÃ¬ Ä‘ang cÃ³ váº¥n Ä‘á» vÃ  lÃ m sao chÃºng ta cÃ³ thá»ƒ cáº£i thiá»‡n chÃºng? CÃ³ ráº¥t nhiá»u cÃ¡ch Ä‘á»ƒ nghÄ© vá» cáº£i thiá»‡n Ä‘oáº¡n code nÃ y nhÆ°ng chÃºng ta sáº½ xem xÃ©t tá»« quan Ä‘iá»ƒm cá»§a cÃ¡c biáº¿n: var found var i var elem Táº¥t cáº£ cÃ¡c biáº¿n nÃ y Ä‘á»u tá»“n táº¡i tá»« Ä‘áº§u vÃ o cá»§a hÃ m, vÃ  Ä‘Æ°á»£c dÃ¹ng láº¡i nhiá»u láº§n. HÃ£y thá»­ cáº£i thiá»‡n má»—i biáº¿n nÃ y. NhÆ° chÃºng ta Ä‘Ã£ tháº£o luáº­n tá»« Ä‘áº§u cá»§a chÆ°Æ¡ng, cÃ¡c biáº¿n trung gian nhÆ° found thÆ°á»ng Ä‘Æ°á»£c loáº¡i bá» báº±ng cÃ¡ch tráº£ vá» sá»›m. Do Ä‘Ã³ Ä‘Ã¢y lÃ  sá»± cáº£ thiá»‡n:12345678910111213var setFirstEmptyInput = function (new_value) { var i = 1; var elem = document.getElementById('input' + i); while (elem !== null) { if (elem.value === '') { elem.value = new_value; return elem; } i++; elem = document.getElementById('input' + i); } return null;};Tiáº¿p theo lÃ  biáº¿n elem. NÃ³ Ä‘Æ°á»£c sá»­ dá»¥ng nhiá»u láº§n trong code vá»›i vÃ²ng láº·p vÃ  ráº¥t khÃ³ Ä‘á»ƒ giá»¯ giÃ¡ trá»‹ cá»§a nÃ³. Äoáº¡n code lÃ m cho nÃ³ nhÆ° náº¿u elem lÃ  1 giÃ¡ trá»‹ chÃºng ta Ä‘ang láº·p Ä‘i láº·p láº¡i, trong khi thá»±c táº¿ nÃ³ chá»‰ tÄƒng giÃ¡ trá»‹ cá»§a i. Do Ä‘Ã³ hÃ£y tÃ¡i cáº¥u trá»©c láº¡i Ä‘oáº¡n code vÃ²ng láº·p while vÃ o trong vÃ²ng láº·p for vá»›i i:123456789101112var setFirstEmptyInput = function (new_value) { for (var i = 1; true; i++) { var elem = document.getElementById('input' + i); if (elem === null) return null; // Search Failed. No empty input found. if (elem.value === '') { elem.value = new_value; return elem; } };}Äáº·c biá»‡t, chÃºng ta tháº¥y cÃ¡ch elem hoáº¡t Ä‘á»™ng nhÆ° 1 biáº¿n ghi 1 láº§n vá»›i vÃ²ng Ä‘á»i cá»‘ Ä‘á»‹nh trong vÃ²ng láº·p. Sá»­ dá»¥ng true trong 1 vÃ²ng láº·p for khÃ´ng thÆ°á»ng xuyÃªn gáº·p, nhÆ°ng Ä‘á»•i láº¡i chÃºng ta cÃ³ thá»ƒ xem Ä‘Æ°á»£c cÃ¡c khai bÃ¡o vÃ  Ä‘á»‹nh nghÄ©a láº¡i cá»§a i trong 1 dÃ²ng duy nháº¥t. (Khi mÃ  1 while(true) cÅ©ng cÃ³ thá»ƒ há»£p lÃ½ :D) TÃºm láº¡iTrong chÆ°Æ¡ng nÃ y chÃºng ta nÃ³i vá» cÃ¡ch sá»­ dá»¥ng biáº¿n trong láº­p trÃ¬nh cÃ³ thá»ƒ dá»“n láº¡i nhanh chÃ³ng vÃ  trá»Ÿ nÃªn khÃ³ theo dÃµi. Báº¡n cÃ³ thá»ƒ lÃ m code cá»§a báº¡n dá»… Ä‘á»c hÆ¡n báº±ng cÃ¡ch Ä‘á»c Ã­t biáº¿n vÃ  lÃ m cho chÃºng â€œlightweightâ€ (nháº¹ cÃ¢n, kiá»ƒu trÃ¡nh dÃ¹ng nÃ³ lÃ m nhiá»u thá»©) nháº¥t cÃ³ thá»ƒ. Cá»¥ thá»ƒ: Loáº¡i bá» cÃ¡c biáº¿n cáº£n trá»Ÿ. Äáº·c biá»‡t, chÃºng tÃ´i Ä‘Ã£ chá»‰ ra 1 vÃ i vÃ­ dá»¥ lÃ m sao Ä‘á»ƒ loáº¡i bá» â€œcÃ¡c biáº¿n trung gianâ€ báº±ng cÃ¡ch tráº£ vá» ngay láº­p tá»©c. Giáº£m pháº¡m vi cá»§a má»—i biáº¿n nhá» nháº¥t cÃ³ thá»ƒ. Di chuyá»ƒn má»—i biáº¿n tá»›i cÃ¡c vá»‹ trÃ­ nÆ¡i mÃ  Ã­t dÃ²ng nháº¥t nhÃ¬n tháº¥y nÃ³. KhÃ´ng nhÃ¬n tháº¥y lÃ  khá»i suy nghÄ© =)) (Out of sight is out of mind.) Æ¯u tiÃªn cÃ¡c biáº¿n viáº¿t 1 láº§n. CÃ¡c biáº¿n chá»‰ Ä‘Æ°á»£c set 1 láº§n (hoáº·c const, final hoáº·c cÃ¡c báº¥t biáº¿n khÃ¡c) lÃ m code dá»… hiá»ƒu hÆ¡n.","link":"/2020/05/24/Chapter-9-Variables-and-Readability/"},{"title":"Chapter 5: Knowing What to Comment","text":"Má»¥c Ä‘Ã­ch cá»§a chÆ°Æ¡ng nÃ y lÃ  giÃºp báº¡n nháº­n ra nhá»¯ng gÃ¬ báº¡n nÃªn comment. Báº¡n nÃªn nghÄ© má»¥c Ä‘Ã­ch cá»§a comment lÃ  â€œgiáº£i thÃ­ch cÃ¡i mÃ  code Ä‘ang thá»±c hiá»‡nâ€ nhÆ°ng Ä‘Ã³ chá»‰ lÃ  1 pháº§n nhá» cá»§a nÃ³. K E Y I D E AThe purpose of commenting is to help the reader know as much as the writer did. Khi báº¡n Ä‘ang viáº¿t code, báº¡n cÃ³ ráº¥t nhiá»u thÃ´ng tin cÃ³ giÃ¡ trá»‹ trong Ä‘áº§u báº¡n. Khi mÃ  ngÆ°á»i khÃ¡c Ä‘á»c code cá»§a báº¡n, cÃ¡c thÃ´ng tin Ä‘Ã³ bá»‹ máº¥t - táº¥t cáº£ há» cÃ³ lÃ  code trÆ°á»›c máº·t. Trong chÆ°Æ¡ng nÃ y, chÃºng tÃ´i sáº½ chá»‰ ra ráº¥t nhiá»u vÃ­ dá»¥ Ä‘á»ƒ viáº¿t ra nhá»¯ng thÃ´ng tin Ä‘Ã³ trong Ä‘áº§u báº¡n. ChÃºng ta sáº½ bá» láº¡i nhá»¯ng Ä‘iá»ƒm â€œtráº§n tá»¥câ€ vá» comment, thay vÃ o Ä‘Ã³ chÃºng ta sáº½ tháº£o luáº­n nhá»¯ng thá»© thÃº vá»‹ hÆ¡n lÃ  khÃ´ng Ä‘Æ°á»£c quan tÃ¢m nhiá»u cá»§a comment. ChÃºng tÃ´i tá»• chá»©c chÆ°Æ¡ng nÃ y vá»›i cÃ¡c pháº§n sau: Hiá»ƒu vá» cÃ¡i nÃ o khÃ´ng comment Ghi láº¡i nhá»¯ng cÃ¡i báº¡n nghÄ© khi viáº¿t code Tá»± Ä‘áº·t báº¡n vÃ o trÆ°á»ng há»£p ngÆ°á»i Ä‘á»c, tÆ°á»Ÿng tÆ°á»£ng nhá»¯ng thá»© há» sáº½ cáº§n biáº¿t What NOT to CommentÄá»c 1 comment sáº½ máº¥y thá»i gian cÃ¹ng vá»›i Ä‘á»c code vÃ  má»—i comment sáº½ tá»‘n khÃ´ng gian mÃ n hÃ¬nh. Do Ä‘Ã³, tá»‘t hÆ¡n háº¿t lÃ  nÃ³ nÃªn cÃ³ giÃ¡ trá»‹. Táº¥t cáº£ cÃ¡c comment trong code nÃ y Ä‘á»u khÃ´ng cÃ³ giÃ¡ trá»‹123456789101112// The class definition for Accountclass Account { public: // Constructor Account(); // Set the profit member to a new value void SetProfit(double profit); // Return the profit from this Account double GetProfit();};Nhá»¯ng comment nÃ y khÃ´ng cÃ³ giÃ¡ trá»‹ vÃ¬ nÃ³ khÃ´ng cung cáº¥p thÃ´ng tin má»›i hoáº·c giÃºp ngÆ°á»i Ä‘á»c hiá»ƒu hÆ¡n code K E Y I D E ADonâ€™t comment on facts that can be derived quickly from the code itself. Tá»« â€œquicklyâ€ lÃ  1 Ä‘Ã­ch Ä‘áº¿n quan trá»ng, xem xÃ©t cÃ¡c comment sau trong Python12# remove everything after the second '*'name = '*'.join(line.split('*')[:2])Vá» máº·t cÃ´ng nghá»‡, Ä‘oáº¡n comment khÃ´ng thÃªm báº¥t kÃ¬ thÃ´ng tin má»›i nÃ o. Náº¿u báº¡n nhÃ¬n code, báº¡n tháº­m chÃ­ cÃ²n biáº¿t ngay code Ä‘ang lÃ m gÃ¬. NhÆ°ng vá»›i Ä‘a sá»‘ láº­p trÃ¬nh viÃªn, Ä‘á»c comment cá»§a code sáº½ nhanh hÆ¡n lÃ  hiá»ƒu code mÃ  khÃ´ng cáº§n nÃ³. Donâ€™t Comment Just for the Sake of Commenting: Äá»«ng comment chá»‰ vÃ¬ pháº£i lÃ m Má»™t vÃ i giÃ¡o sÆ° yÃªu cáº§u sinh viÃªn cá»§a há» cÃ³ 1 comment cho má»—i hÃ m trong pháº§n code bÃ i táº­p vá» nhÃ  cá»§a há». VÃ  káº¿t quáº£, 1 vÃ i láº­p trÃ¬nh viÃªn cáº£m tháº¥y cÃ³ lá»—i khi viáº¿t 1 hÃ m mÃ  khÃ´ng cÃ³ comment vÃ  cuá»‘i cÃ¹ng viáº¿t láº¡i hÃ m vÃ  tÃªn Ä‘á»‘i sá»‘ cá»§a nÃ³ á»Ÿ dáº¡ng cÃ¢u:12// Find the Node in the given subtree, with the given name, using the given depth.Node* FindNodeInSubtree(Node* subtree, string name, int depth);CÃ¡i nÃ y rÆ¡i vÃ o nhá»¯ng comment vÃ´ giÃ¡ trá»‹ - khai bÃ¡o hÃ m vÃ  comment Ä‘ang gáº§n nhÆ° giá»‘ng nhau. Comment nÃ y nÃªn Ä‘Æ°á»£c xÃ³a Ä‘i hoáº·c cáº£i thiá»‡n. Náº¿u báº¡n muá»‘n cÃ³ 1 comment á»Ÿ Ä‘Ã¢y, nÃ³ cÅ©ng cÃ³ thá»ƒ nÃªn lÃ  cÃ¡c giáº£i thÃ­ch chi tiáº¿t quan trá»ng hÆ¡n:1234// Find a Node with the given 'name' or return NULL.// If depth &lt;= 0, only 'subtree' is inspected.// If depth == N, only 'subtree' and N levels below are inspected.Node* FindNodeInSubtree(Node* subtree, string name, int depth); Donâ€™t Comment Bad Namesâ€”Fix the Names InsteadMá»™t comment khÃ´ng nÃªn lÃ  1 thá»© trang trÃ­ cho 1 cÃ¡i tÃªn tá»“i. VÃ­ dá»¥, xem xÃ©t hÃ m vá»›i tÃªn CleanReply()123// Enforce limits on the Reply as stated in the Request,// such as the number of items returned, or total byte size, etc.void CleanReply(Request request, Reply reply);Pháº§n lá»›n ná»™i dung cá»§a comment chá»‰ Ä‘Æ¡n giáº£n giáº£i thÃ­ch nghÄ©a cá»§a tá»« â€œcleanâ€. Thay vÃ¬ váº­y, â€œenforce limitsâ€ nÃªn Ä‘Æ°á»£c Ä‘Æ°a vÃ o tÃªn cá»§a hÃ m:12// Make sure 'reply' meets the count/byte/etc. limits from the 'request'void EnforceLimitsFromRequest(Request request, Reply reply);NÃªn cá»§a hÃ m giá» Ä‘Ã¢y Ä‘Ã£ cÃ³ nhiá»u Ã½ nghÄ©a â€œtá»± mÃ´ táº£â€ hÆ¡n. Má»™t cÃ¡i tÃªn tá»‘t hÆ¡n lÃ  1 comment tá»‘t bá»Ÿi vÃ¬ nÃ³ sáº½ Ä‘Æ°á»£c tháº¥y má»i nÆ¡i mÃ  hÃ m Ä‘Æ°á»£c sá»­ dá»¥ng. ÄÃ¢y lÃ  1 vÃ­ dá»¥ khÃ¡c cá»§a 1 comment cho 1 tÃªn hÃ m tá»‡:12// Releases the handle for this key. This doesn't modify the actual registry.void DeleteRegistry(RegistryKey* key);TÃªn DeleteRegistry nghe nhÆ° 1 hÃ m nguy hiá»ƒm (nÃ³ xÃ³a sá»± Ä‘Äƒng kÃ­). Comment â€œThis doesnâ€™t modify the actual registryâ€ Ä‘ang cá»‘ gáº¯ng lÃ m sÃ¡ng tá» sá»± nháº§m láº«n nÃ y. Thay vÃ o Ä‘Ã³ chÃºng ta cÃ³ thá»ƒ sá»­ dá»¥ng 1 tÃªn tá»± lÃ m tÃ i liá»‡u nhÆ°:1void ReleaseRegistryHandle(RegistryKey* key);NÃ³i chung, báº¡n khÃ´ng muá»‘n â€œcrutch commentsâ€ (bÃ¬nh luáº­n lÃ m cÃ¡i náº¡ng chá»‘ng cho tÃªn) - nhá»¯ng comment Ä‘ang cá»‘ gáº¯ng trang trÃ­ cho nhá»¯ng Ä‘oáº¡n code khÃ´ng thá»ƒ Ä‘á»c Ä‘Æ°á»£c. Coders thÆ°á»ng Ä‘Æ°á»£c khuyáº¿n khÃ­ch theo rule: goog code &gt; bad code + good comments. Recording Your ThoughtsBÃ¢y giá» chÃºng ta biáº¿t cÃ¡i gÃ¬ thÃ¬ khÃ´ng nÃªn comment, pháº§n tiáº¿p theo sáº½ tháº£o luáº­n cÃ¡i nÃªn Ä‘Æ°á»£c comment (nhÆ°ng thÆ°á»ng khÃ´ng cÃ³). Ráº¥t nhiá»u good comments cÃ³ Ä‘áº¿n tá»« thá»© Ä‘Æ¡n giáº£n â€œghi láº¡i nhá»¯ng suy nghÄ© cá»§a báº¡nâ€ - nhá»¯ng suy nghÄ© quan trong báº¡n cÃ³ trong quÃ¡ trÃ¬nh báº¡n Ä‘ang viáº¿t code. Include â€œDirector Commentaryâ€Phim thÃ¬ thÆ°á»ng cÃ³ nhá»¯ng dáº¥u hiá»‡u â€œdirector commentaryâ€ nÆ¡i mÃ  cÃ¡c nhÃ  lÃ m phim cÃ³ Ä‘Æ°á»£c sá»± hiá»ƒu biáº¿t vÃ  nÃ³i vá» cÃ¢u chuyá»‡n giÃºp báº¡n hiá»ƒu hÆ¡n ná»™i dung bá»™ phim lÃ m vá» gÃ¬? TÆ°Æ¡ng tá»± nhÆ° báº¡n, báº¡n bÃªn cÃ³ cÃ¡c comment Ä‘á»ƒ ghi láº¡i nhá»¯ng cÃ¡i nhÃ¬n cÃ³ giÃ¡ trá»‹ vá» code. VÃ­ dá»¥:12// Surprisingly, a binary tree was 40% faster than a hash table for this data.// The cost of computing a hash was more than the left/right comparisons. This comment teaches the reader something and stops any would-be optimizer from wasting their time. ÄÃ¢y lÃ  1 vÃ­ dá»¥ khÃ¡c:1// This heuristic might miss a few words. That's OK; solving this 100% is hard.KhÃ´ng cÃ³ comment nÃ y, ngÆ°á»i Ä‘á»c cÃ³ thá»ƒ nghÄ© Ä‘Ã¢y lÃ  1 bug vÃ  cÃ³ thá»ƒ tá»‘n thá»i gian Ä‘á»ƒ Ä‘Æ°a ra cÃ¡c test cases lÃ m cho nÃ³ lá»—i hoáº·c táº¯t vÃ  cá»‘ gáº¯ng sá»­a lá»—i nÃ y. Má»™t comment cÃ³ thá»ƒ cÅ©ng giáº£i thÃ­ch code táº¡i sao khÃ´ng cÃ³ khuÃ´n dáº¡ng tuyá»‡t vá»i 12// This class is getting messy. Maybe we should create a 'ResourceNode' subclass to// help organize things. Äoáº¡n comment nÃ y thá»«a nháº­n code Ä‘oáº¡n mÃ£ lá»™n xá»™n nhÆ°ng cÅ©ng khuyáº¿n khÃ­ch ngÆ°á»i tiáº¿p theo sá»­a nÃ³ (chá»‰ ra báº¯t Ä‘áº§u fix nhÆ° tháº¿ nÃ o). KhÃ´ng cÃ³ comment nÃ y, ráº¥t nhiá»u ngÆ°á»i Ä‘á»c sáº½ sá»£ hÃ£i khi tháº¥y nÃ³ lÃ  Ä‘oáº¡n mÃ£ lá»™n xá»™n vÃ  trÃ¡nh Ä‘á»™ng vÃ o nÃ³. Comment the Flaws in Your Code: Comment nhá»¯ng Ä‘iá»ƒm chÆ°a tá»‘t, khuyáº¿t Ä‘iá»ƒm trong code cá»§a báº¡nCode thÃ¬ khÃ´ng ngÃ¹ng phÃ¡t tiá»ƒn vÃ  cháº¯c cháº¯n sáº½ cÃ³ nhá»¯ng sai sÃ³t trong quÃ¡ trÃ¬nh Ä‘Ã³. Äá»«ng xáº¥u há»• khi báº¡n ghi láº¡i nhá»¯ng sai sÃ³t. VÃ­ dá»¥, note láº¡i nhá»¯ng cáº£i thiá»‡n nÃªn Ä‘Æ°á»£c thá»±c hiá»‡n:1// TODO: use a faster algorithmHoáº·c khi code cá»§a báº¡n chÆ°a hoÃ n táº¥t1// TODO(dustin): handle other image formats besides JPEGCÃ³ 1 vÃ i kiá»ƒu Ä‘Ã¡nh dáº¥u phá»• biáº¿n cho cÃ¡c láº­p trÃ¬nh viÃªn nhÆ° sau: Marker Typical meaning TODO: Stuff I havenâ€™t gotten around to yet FIXME: Known-broken code here HACK:: Admittedly inelegant solution to a problem XXX: Danger! major problem here Team cá»§a báº¡n nÃªn cÃ³ nhá»¯ng convention riÃªng Ä‘á»ƒ biáº¿t khi nÃ o sá»­ dá»¥ng cÃ¡c marker trÃªn. VÃ­ dá»¥, TODO: nÃªn Ä‘Æ°á»£c giÃ nh cho cÃ¡c issue show-stopping (táº¡m dá»«ng). Náº¿u váº­y, cÃ¡c má»—i nhá» trong code cá»§a báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng má»™t marker khÃ¡c Ä‘á»ƒ thay tháº¿ nhÆ° todo (kÃ­ tá»± thÆ°á»ng) hoáº·c maybe-later Äiá»u quan trá»ng báº¡n cÃ³ thá»ƒ cáº£m tháº¥y tá»± do Ä‘á»ƒ láº¡i nhá»¯ng comment ghi láº¡i suy nghÄ© nhÆ° váº­y lÃ  Ä‘á»ƒ code nÃªn Ä‘Æ°á»£c thay Ä‘á»•i nhÆ° tháº¿ nÃ o trong tÆ°Æ¡ng lai. Comments Ä‘á»ƒ gá»­i Ä‘áº¿n cho ngÆ°á»i Ä‘á»c cÃ¡i nhÃ¬n cÃ³ giÃ¡ trá»‹ trong cháº¥t lÆ°á»£ng vÃ  tráº¡ng thÃ¡i code vÃ  cÃ³ thá»ƒ chá»‰ ra 1 sá»‘ hÆ°á»›ng khÃ¡c Ä‘á»ƒ cáº£i thiá»‡n nÃ³. Comment on Your ConstantsKhi Ä‘á»‹nh nghÄ©a má»™t biáº¿n cá»‘ Ä‘á»‹nh, thÆ°á»ng sáº½ cÃ³ 1 â€œcÃ¢u chuyá»‡nâ€ vá» lÃ½ do cá»§a giÃ¡ trá»‹ cá»‘ Ä‘á»‹nh nÃ y vÃ  táº¡i sao nÃ³ láº¡i cÃ³ giÃ¡ trá»‹ nhÆ° váº­y. VÃ­ dá»¥. báº¡n pháº£i nhÃ¬n cÃ¡c giÃ¡ trá»‹ cá»‘ Ä‘á»‹nh trong code cá»§a báº¡n:1NUM_THREADS = 8CÃ³ váº» dÃ²ng nÃ y khÃ´ng cáº§n bÃ¬nh luáº­n, nhÆ°ng báº¡n cÃ³ thá»ƒ thÃªm táº¡i sao láº­p trÃ¬nh viÃªn chá»n vÃ  cung cáº¥p nhiá»u thÃ´ng tin hÆ¡n vá» nÃ³:1NUM_THREADS = 8 # as long as it's &gt;= 2 * num_processors, that's good enough.BÃ¢y giá» ai Ä‘Ã³ Ä‘á»c Ä‘oáº¡n code nÃ y Ä‘Ã£ cÃ³ má»™t vÃ i hÆ°á»›ng dáº«n Ä‘á»ƒ Ä‘iá»u chá»‰nh giÃ¡ trá»‹ nÃ y (vÃ­ dá»¥, setting nÃ³ thÃ nh 1 cÃ³ thá»ƒ ráº¥t cháº­m vÃ  setting thÃ nh 50 thÃ¬ quÃ¡ má»©c cáº§n thiáº¿t). Hoáº·c Ä‘Ã´i khi giÃ¡ trá»‹ chÃ­nh xÃ¡c cá»§a háº±ng sá»‘ khÃ´ng quan trá»ng. Má»™t comment cho Ä‘iá»u nÃ y váº«n ráº¥t há»¯u Ã­ch:12// Impose a reasonable limit - no human can read that much anyway.const int MAX_RSS_SUBSCRIPTIONS = 1000;ÄÃ´i khi nÃ³ cÃ³ 1 giÃ¡ trá»‹ hay Ä‘Æ°á»£c Ä‘iá»u chá»‰nh vÃ  cÃ³ thá»ƒ khÃ´ng nÃªn sá»­a nhiá»u1image_quality = 0.72; // users thought 0.72 gave the best size/quality tradeoffTrong táº¥t cáº£ cÃ¡c vÃ­ dá»¥ trÃªn, khÃ´ng ai yÃªu cáº§u báº¡n thÃªm cÃ¡c comment nhÆ°ng nÃ³ lÃ  cÃ¡c thÃ´ng tin khÃ¡ há»¯u Ã­ch. CÃ³ 1 vÃ i háº±ng sá»‘ khÃ´ng cáº§n comment, bá»Ÿi vÃ¬ tÃªn cá»§a nÃ³ Ä‘Ã£ Ä‘á»§ rÃµ rÃ ng (vÃ­ dá»¥ nhÆ° SECONDS_PER_DAY) nhÆ°ng theo kinh nghiá»‡m cá»§a chÃºng tÃ´i, Ä‘a sá»‘ cÃ¡c háº±ng sá»‘ nÃªn Ä‘Æ°á»£c cáº£i thiá»‡n báº±ng cÃ¡ch thÃªm 1 comment. NÃ³ chá»‰ lÃ  1 váº¥n Ä‘á» cÃ¡i mÃ  báº¡n Ä‘ang nghÄ© khi báº¡n quyáº¿t Ä‘á»‹nh vá» giÃ¡ trá»‹ háº±ng sá»‘ Ä‘Ã³. Put Yourself in the Readerâ€™s Shoes: Äáº·t báº¡n vÃ o vá»‹ trÃ­ ngÆ°á»i Ä‘á»cMá»™t kÄ© thuáº­t chung chÃºng ta sá»­ dá»¥ng trong cuá»‘n sÃ¡ch nÃ y lÃ  tÆ°á»Ÿng tÆ°á»£ng code cá»§a báº¡n nhÃ¬n ra sao vá»›i ngÆ°á»i ngoÃ i cuá»™c - má»™t ai Ä‘Ã³ khÃ´ng há» quen thuá»™c vá»›i project cá»§a báº¡n nhÆ° báº¡n. Ká»¹ thuáº­t nÃ y há»¯u Ã­ch Ä‘áº·c biá»‡t Ä‘á»ƒ giÃºp báº¡n tá»• chá»©c nhá»¯ng thá»© cáº§n comment láº¡i. Anticipating Likely Questions (CÃ¡c cÃ¢u há»i cÃ³ thá»ƒ dá»± Ä‘oÃ¡n trÆ°á»›c)Khi má»™t ai Ä‘Ã³ Ä‘á»c code cá»§a báº¡n, sáº½ cÃ³ nhá»¯ng pháº§n lÃ m há» nghÄ©, Huh? Whatâ€™s this all about. Nhiá»‡m vá»¥ cá»§a báº¡n lÃ  comment nhá»¯ng pháº§n nÃ y VÃ­ dá»¥ hÃ£y xem xÃ©t Ä‘á»‹nh nghÄ©a Clear(): 1234567struct Recorder { vector&lt;float&gt; data; ... void Clear() { vector&lt;float&gt;().swap(data); // Huh? Why not just data.clear()? }}; Äa sá»‘ cÃ¡c láº­p trÃ¬nh viÃªn C++ nhÃ¬n Ä‘oáº¡n code nÃ y há» sáº½ nghÄ© Táº¡i sao khÃ´ng chá»‰ dÃ¹ng data.clear() thay vÃ¬ hoÃ¡n Ä‘á»•i chÃºng vá»›i 1 vector rá»—ng. Well, nÃ³ chá»‰ ra ráº±ng, Ä‘Ã¢y lÃ  cÃ¡ch duy nháº¥t Ä‘á»ƒ buá»™c 1 vector thá»±c sá»± giáº£i phÃ³ng bá»™ nhá»› cá»§a nÃ³ cho bá»™ cáº¥p phÃ¡t bá»™ nhá»› :D. NÃ³ lÃ  má»™t kÄ© thuáº­t chi tiáº¿t cá»§a C++ mÃ  khÃ´ng Ä‘Æ°á»£c biáº¿n Ä‘áº¿n nhiá»u.12// Force vector to relinquish its memory (look up &quot;STL swap trick&quot;)vector&lt;float&gt;().swap(data); Advertising Likely Pitfalls: Dá»‹ch táº¡m lÃ  Ä‘Æ°a ra cÃ¡c cáº£nh bÃ¡o, cáº¡m báº«y Khi viáº¿t tÃ i liá»‡u cho function hoáº·c class, 1 cÃ¢u há»i tá»‘t lÃ  báº¡n tá»± há»i chÃ­nh mÃ¬nh What is surprising about this code? How might it be misused? CÃ¡i gÃ¬ Ä‘Ã¡ng ngáº¡c nhiÃªn vá» Ä‘oáº¡n code nÃ y? Sáº½ ra sao náº¿u báº¡n láº¡m dá»¥ng sá»­ dá»¥ng nÃ³? Vá» cÆ¡ báº£n, báº¡n muá»‘n â€œnghÄ© trÆ°á»›câ€ vÃ  dá»± Ä‘oÃ¡n váº¥n Ä‘á» mÃ  má»i ngÆ°á»i cÃ³ thá»ƒ gáº·p pháº£i khi sá»­ dá»¥ng code cá»§a báº¡n VÃ­ dá»¥, giáº£ Ä‘á»‹nh báº¡n viáº¿t 1 hÃ m Ä‘á»ƒ gá»­i email Ä‘áº¿n user:1void SendEmail(string to, string subject, string body);Khi thá»±c thi, hÃ m nÃ y sáº½ káº¿t ná»‘i Ä‘áº¿n dá»‹ch vá»¥ email bÃªn ngoÃ i cÃ³ thá»ƒ máº¥t 1 khoáº£ng thá»i gian. Ai Ä‘Ã³ viáº¿t 1 á»©ng dá»¥ng web cÃ³ thá»ƒ khÃ´ng nháº­n ra Ä‘iá»u nÃ y vÃ  hiá»ƒu sai gá»i hÃ m nÃ y trong khi Ä‘ang xá»­ lÃ½ 1 HTTP Request (CÃ³ thá»ƒ lÃ m web cá»§a báº¡n bá»‹ treo náº¿u dá»‹ch vá»¥ email oáº³ng). Äá»ƒ ngÄƒn cháº·n tai náº¡n nghá» nghiá»‡p nÃ y, báº¡n nÃªn comment cÃ¡ch thá»©c chi tiáº¿t Ä‘á»ƒ thá»±c thi:12// Calls an external service to deliver email. (Times out after 1 minute.)void SendEmail(string to, string subject, string body);ÄÃ¢y lÃ  1 vÃ­ dá»¥ khÃ¡c, giáº£ sá»­ báº¡n Ä‘ang cÃ³ 1 hÃ m FixBrokenHtml() cá»‘ gáº¯ng viáº¿t láº¡i cÃ¡c Ä‘oáº¡n HTML bá»‹ há»ng báº±ng cÃ¡ch chÃ¨n cÃ¡c tháº» Ä‘Ã³ng vá»‹ thiáº¿u:1def FixBrokenHtml(html): ...HÃ m nÃ y hoáº¡t Ä‘á»™ng ráº¥t tá»‘t trá»« viá»‡c cáº£nh bÃ¡o ráº±ng thá»i gian thá»±c thi cÃ³ thá»ƒ tÄƒng lÃªn khi cÃ³ nhiá»u tháº» lá»“ng nhau vÃ  cÃ¡c tháº» khÃ´ng trÃ¹ng. Äá»‘i vá»›i cÃ¡c tháº» HTML báº©n thá»‰u, hÃ m nÃ y cÃ³ thá»ƒ máº¥t tá»›i cáº£ phÃºt Ä‘á»ƒ thá»±c hiá»‡n. Thay vÃ¬ Ä‘á»ƒ ngÆ°á»i dÃ¹ng tá»± khÃ¡m phÃ¡ Ä‘iá»u nÃ y sau nÃ y, tá»‘t hÆ¡n háº¿t báº¡n nÃªn thÃ´ng bÃ¡o trÆ°á»›c:12// Runtime is O(number_tags * average_tag_depth), so watch out for badly nested inputs.def FixBrokenHtml(html): ... â€œBig Pictureâ€ CommentsMá»™t trong nhá»¯ng thá»© khÃ³ nháº¥t cá»§a 1 thÃ nh viÃªn má»›i trong team lÃ  hiá»ƒu Ä‘Æ°á»£c â€œbig pictureâ€ - cÃ¡c class tÆ°Æ¡ng tÃ¡c vá»›i nhau ra sao, luá»“ng dá»¯ liá»‡u trong cáº£ há»‡ thá»‘ng truyá»n nhÆ° tháº¿ nÃ o vÃ  Ä‘Ã¢u lÃ  Ä‘iá»ƒm vÃ o ra. NgÆ°á»i thiáº¿t káº¿ há»‡ thá»‘ng thÆ°á»ng quÃªn comment nhá»¯ng ná»™i dung nÃ y vÃ¬ anh ta Ä‘Ã£ quÃ¡ rÃµ vá»›i nÃ³. HÃ£y cÃ¢n nháº¯c suy nghÄ©: someone new just joined your team, sheâ€™s sitting next to you, and you need to get her familiar with the codebase Khi báº¡n cung cáº¥p cho cÃ´ áº¥y 1 â€œvÃ²ng du dá»‹châ€ qua codebase, báº¡n pháº£i chá»‰ ra 1 sá»‘ tá»‡p tin hoáº·c class vÃ  nÃ³i 1 sá»‘ thá»© nhÆ°: â€œÄÃ¢y lÃ  Ä‘oáº¡n code káº¿t ná»‘i giá»¯a business logic vÃ  database. KhÃ´ng cÃ³ mÃ£ nÃ o cá»§a á»©ng dá»¥ng nÃ y nÃªn sá»­ dá»¥ng trá»±c tiáº¿pâ€ â€œLá»›p nÃ y trÃ´ng thÃ¬ phá»©c táº¡p, nhÆ°ng nÃ³ thá»±c sá»± chá»‰ lÃ  mÃ£ xá»­ lÃ½ cache. NÃ³ khÃ´ng biáº¿t gÃ¬ vá» pháº§n cÃ²n láº¡i cá»§a há»‡ thá»‘ngâ€ Sau 1 vÃ i phÃºt nÃ³i chuyá»‡n tÃ¬nh cá», thÃ nh viÃªn má»›i trong team cá»§a báº¡n sáº½ biáº¿t nhiá»u hÆ¡n lÃ  cÃ´ áº¥y nÃªn tá»± Ä‘á»c source code cá»§a á»©ng dá»¥ng. This is exactly the type of information that should be included as high-level comments. ÄÃ¢y lÃ  1 vÃ­ dá»¥ Ä‘Æ¡n giáº£n vá» file-level comment: 12// This file contains helper functions that provide a more convenient interface to our// file system. It handles file permissions and other nitty-gritty details. Äá»«ng choáº£ng ngá»£p vá»›i suy nghÄ© ráº±ng báº¡n pháº£i viáº¿t document chÃ­nh thá»©c, vÃ  rá»™ng rÃ£i. A few well-chosen sentences are better than nothing at all. Summary CommentsTháº­m chÃ­ ráº±ng sÃ¢u trong hÃ m, 1 Ã½ tÆ°á»Ÿng tá»‘t cá»§a comment lÃ  1 â€œbigger pictureâ€. ÄÃ¢y lÃ  1 vÃ­ dá»¥ cá»§a comment tÃ³m táº¯t gá»n gÃ ng Ä‘oáº¡n code á»Ÿ dÆ°á»›i Ä‘Ã³:12345# Find all the items that customers purchased for themselves.for customer_id in all_customers: for sale in all_sales[customer_id].sales: if sale.recipient == customer_id: ...KhÃ´ng cÃ³ Ä‘oáº¡n comment nÃ y, Ä‘á»c má»—i dÃ²ng code lÃ  1 chÃºt bÃ­ áº©n (â€œTÃ´i tháº¥y chÃºng ta Ä‘ang thá»±c hiá»‡n 1 vÃ²ng láº·p qua all_customers â€¦. nhÆ°ng Ä‘á»ƒ lÃ m gÃ¬?â€) NÃ³ ráº¥t há»¯u Ã­ch Ä‘á»ƒ cÃ³ Ä‘Æ°á»£c nhá»¯ng dÃ²ng comment tÃ³m táº¯t nÃ y trong 1 hÃ m dÃ i hÆ¡n, trong Ä‘Ã³ cÃ³ 1 vÃ i khá»‘i nhá» hÆ¡n bÃªn trong:12345678def GenerateUserReport(): # Acquire a lock for this user ... # Read user's info from the database ... # Write info to a file ... # Release the lock for this userNhá»¯ng comment nhÆ° hoáº¡t Ä‘á»™ng nhÆ° 1 báº£n tÃ³m táº¯t gáº¡ch Ä‘áº§u dÃ²ng vá» cÃ¡c pháº§n function sáº½ thá»±c hiá»‡n, Ä‘á»ƒ ngÆ°á»i Ä‘á»c cÃ³ thá»ƒ cÃ³ Ä‘Æ°á»£c Ã½ chÃ­nh vá» chá»©c nÄƒng cá»§a hÃ m trÆ°á»›c khi Ä‘i Ä‘Ã¢u vÃ o chi tiáº¿t qua viá»‡c Ä‘á»c code (nhÆ°ng náº¿u cÃ¡c khá»‘i nÃ y cÃ³ thá»ƒ dá»… dÃ ng tÃ¡ch ra, báº¡n cÃ³ thá»ƒ táº¡o chÃºng thÃ nh cÃ¡c hÃ m riÃªng. NhÆ° Ä‘Ã£ nháº¯c tá»›i tá»« trÆ°á»›c Ä‘Ã³, good code sáº½ tá»‘t hÆ¡n lÃ  1 bad code vá»›i nhá»¯ng good comments) SHOULD YOU COMMENT THE WHAT, THE WHY, OR THE HOW? CÃ³ thá»ƒ báº¡n Ä‘Ã£ nghe nhá»¯ng lá»i khuyÃªn nhÆ° â€œComment the why, not the what (or the how)â€. Máº·c dÃ¹ cÃ³ váº» Ä‘Ãºng, nhÆ°ng chÃºng tÃ´i cáº£m tháº¥y ráº±ng nhá»¯ng tuyÃªn bá»‘ nÃ y quÃ¡ Ä‘Æ¡n giáº£n vÃ  cÃ³ nghÄ©a nhá»¯ng thá»© khÃ¡c nhau vá»›i nhá»¯ng ngÆ°á»i khÃ¡c nhau. Lá»i khuyÃªn cá»§a chÃºng tÃ´i lÃ  lÃ m báº¥t cá»© Ä‘iá»u gÃ¬ giÃºp Ã­ch cho ngÆ°á»i Ä‘á»c cÃ³ thá»ƒ hiá»ƒu code 1 cÃ¡ch dá»… dÃ ng hÆ¡n. Äiá»u nÃ y cÃ³ thá»ƒ liÃªn quan Ä‘áº¿n cÃ¡c comment the what, the how hoáº·c the why (hoáº·c cáº£ 3) Final Thoughtsâ€”Getting Over Writerâ€™s BlockRáº¥t nhiá»u láº­p trÃ¬nh viÃªn khÃ´ng thÃ­ch viáº¿t comments vÃ¬ cáº£m tháº¥y cáº§n nhiá»u viá»‡c Ä‘á»ƒ cÃ³ 1 comment tá»‘t. Khi cÃ¡c nhÃ  vÄƒn cÃ³ loáº¡i â€œwriteâ€™s blockâ€ thÃ¬ giáº£i phÃ¡p tá»‘t nháº¥t lÃ  báº¯t Ä‘áº§u viáº¿t. Do Ä‘Ã³, láº§n tá»›i, khi báº¡n ngáº§n ngáº¡i viáº¿t comment, chá»‰ cáº§n tiáº¿p tá»¥c vÃ  comment nhá»¯ng gÃ¬ báº¡n Ä‘ang nghÄ©, tuy nhiÃªn half-baked (dá»‹ch táº¡m lÃ  xÃ o xÃ¡o nÃ³, kiá»ƒu xem xÃ©t kÄ© vÃ  chá»‰nh sá»­a) nÃ³ VÃ­ dá»¥ giáº£ Ä‘á»‹nh báº¡n Ä‘ang lÃ m viá»‡c vá»›i 1 hÃ m vÃ  tá»± nghÄ© Oh crap, this stuff will get tricky if there are ever duplicates in this list. HÃ£y viáº¿t chÃºng ra: 1// Oh crap, this stuff will get tricky if there are ever duplicates in this list. NhÃ¬n xem, cÃ³ gÃ¬ khÃ³ khÄƒn Ä‘Ã¢u? NÃ³ thá»±c sá»± khÃ´ng pháº£i lÃ  1 bad comment - cÃ²n hÆ¡n lÃ  khÃ´ng cÃ³ gÃ¬. NgÃ´n ngá»¯ tuy 1 chÃºt gÃ¬ Ä‘Ã³ mÆ¡ há»“. Äá»ƒ sá»­a nÃ³, chÃºng ta chá»‰ cáº§n Ä‘i quan tá»«ng cá»¥m tá»« vÃ  thay tháº¿ nÃ³ vá»›i 1 cÃ¡i gÃ¬ Ä‘Ã³ cá»¥ thá»ƒ hÆ¡n: â€œoh crapâ€, Ã½ báº¡n lÃ  â€œCareful: this is something to watch out for.â€ â€œthis stuffâ€, Ã½ báº¡n lÃ  â€œthe code thatâ€™s handling this inputâ€. â€œwill get trickyâ€, Ã½ báº¡n lÃ  â€œwill be hard to implementâ€ VÃ  comment má»›i sáº½ nhÆ° sau:1// Careful: this code doesn't handle duplicates in the list (because that's hard to do)Báº¡n cÃ³ thá»ƒ tháº¥y chÃºng ta Ä‘Ã£ chia nhiá»‡m vá»¥ viáº¿t 1 commnet vÃ o cÃ¡c bÆ°á»›c Ä‘Æ¡n giáº£n sau: Viáº¿t ra báº¥t cá»© nhá»¯ng thá»© comment trong Ä‘áº§u báº¡n Äá»c comment vÃ  xem (náº¿u cÃ³) nhá»¯ng thá»© cáº§n cáº£i thiá»‡n Cáº£i thiá»‡n chÃºng NhÆ° váº­y báº¡n comment thÆ°á»ng xuyÃªn hÆ¡n, báº¡n sáº½ tÃ¬m ra cháº¥t lÆ°á»£ng bÃ¬nh luáº­n tá»« bÆ°á»›c 1 trá»Ÿ nÃªn tá»‘t hÆ¡n vÃ  tá»‘t hÆ¡n vÃ  sau cÃ¹ng cÃ³ thá»ƒ khÃ´ng cáº§n chá»‰nh sá»­a gÃ¬ cáº£. Comment sá»›m vÃ  thÆ°á»ng xuyÃªn, báº¡n trÃ¡nh Ä‘Æ°á»£c nhá»¯ng tÃ¬nh huá»‘ng khÃ³ chá»‹u cá»§a sá»± cáº§n thiáº¿t viáº¿t 1 loáº¡t cÃ¡c comment sau cÃ¹ng, khi code Ä‘Ã£ hoÃ n táº¥t =)) SummaryMá»¥c Ä‘Ã­ch cá»§a 1 comment lÃ  giÃºp ngÆ°á»i Ä‘á»c biáº¿t Ä‘Æ°á»£c cÃ¡i mÃ  ngÆ°á»i viáº¿t biáº¿t khi Ä‘ang viáº¿t code. Trong cáº£ chÆ°Æ¡ng nÃ y lÃ  vá» viá»‡c hiá»‡n thá»±c hÃ³a táº¥t cáº£ cÃ¡c thÃ´ng tin khÃ´ng rÃµ rÃ ng mÃ  báº¡n cÃ³ vá» code vÃ  viáº¿t chÃºng ra. CÃ¡i gÃ¬ khÃ´ng comment: Thá»±c táº¿ cÃ³ thá»ƒ Ä‘á»c nhanh tá»« chÃ­nh code. â€œCrutch commentsâ€ cÃ¡i mÃ  trang trÃ­ thÃªm cho bad code (nhÆ° lÃ  1 cÃ¡i tÃªn hÃ m tá»“i) - sá»­a nÃ³ báº±ng code thay tháº¿. Suy nghÄ© cá»§a báº¡n nÃªn Ä‘Æ°á»£c ghi láº¡i bao gá»“m: ThÃ´ng tin chi tiáº¿t lÃ½ do code theo cÃ¡ch nÃ y mÃ  khÃ´ng pháº£i cÃ¡ch khÃ¡c - â€œdirector commentaryâ€. Äiá»ƒm yáº¿u trong code cá»§a báº¡n, báº±ng cÃ¡ch sá»­ dá»¥ng cÃ¡c markers nhÆ° TODO hoáº·c XXX CÃ¡c â€œcÃ¢u chuyá»‡nâ€ xung quanh viá»‡c giÃ¡ trá»‹ cÃ¡c háº±ng sá»‘.Äáº·t báº¡n vÃ o vá»‹ trÃ­ ngÆ°á»i Ä‘á»c Dá»± Ä‘oÃ¡n cÃ¡c pháº§n mÃ  code cá»§a báº¡n sáº½ khiáº¿n ngÆ°á»i Ä‘á»c â€œHuh?â€ vÃ  comment nhá»¯ng Ä‘oáº¡n Ä‘Ã³. MÃ´ táº£ vá» 1 vÃ i hÃ nh vi cÃ³ thá»ƒ gÃ¢y báº¥t ngá» mÃ  ngÆ°á»i Ä‘á»c khÃ´ng mong Ä‘á»£i Sá»­ dá»¥ng â€œbig pictureâ€ comments vá» file/class level Ä‘á»ƒ giáº£i thÃ­ch lÃ m tháº¿ nÃ o Ä‘á»ƒ táº¥t cáº£ cÃ¡c pháº§n tÆ°Æ¡ng tÃ¡c vá»›i nhau. CÃ¡c khá»‘i tÃ³m táº¯t cá»§a code vá»›i nhá»¯ng comment Ä‘á»ƒ ngÆ°á»i Ä‘á»c khÃ´ng bá»‹ â€œláº¡c trÃ´iâ€ trong pháº§n chi tiáº¿t cá»§a mÃ£. TÃ i liá»‡u tham kháº£oChapter 5 - Knowing What to Comment Keywords crutch comments: cÃ¡c comment sá»­ dá»¥ng Ä‘á»ƒ chá»‘ng náº¡ng cho má»™t cÃ¡i tÃªn tá»“i Director Commentary: CÃ¡c comment Ä‘áº¡o diá»…n cho 1 Ä‘oáº¡n code, nÃ³ nÃªn cÃ³ trong code cá»§a báº¡n â€œBig Pictureâ€ Comments: CÃ¡c comment tá»•ng quÃ¡t vá» codebase, cÃ¡c lá»›p, thÆ° má»¥c cá»§a báº¡n Ä‘Æ°á»£c tá»• chá»©c nhÆ° tháº¿ nÃ o cho cÃ¡c ngÆ°á»i má»›i :D","link":"/2020/05/24/Chapter-5-Knowing-What-to-Comment/"},{"title":"Chapter 10: Extracting Unrelated Subproblems","text":"KÄ© thuáº­t lÃ  táº¥t cáº£ vá» viá»‡c chia nhá» váº¥n Ä‘á» lá»›n thÃ nh nhá»¯ng váº¥n Ä‘á» nhá» hÆ¡n vÃ  Ä‘Æ°a ra cÃ¡c giáº£i phÃ¡p cho váº¥n Ä‘á» Ä‘Ã³ láº¡i vá»›i nhau. Ãp dá»¥ng nguyÃªn táº¯c nÃ y lÃ m code dá»… dÃ ng Ä‘á»c hÆ¡n. Lá»i khuyÃªn cá»§a chÆ°Æ¡ng nÃ y lÃ  chá»§ Ä‘á»™ng xÃ¡c Ä‘á»‹nh vÃ  trÃ­ch xuáº¥t cÃ¡c bÃ i toÃ¡n con khÃ´ng liÃªn quan. Äiá»u Ä‘Ã³ cÃ³ nghÄ©a: NhÃ¬n vÃ o 1 hÃ m vÃ  khá»‘i code vÃ  tá»± há»i â€œMá»¥c Ä‘Ã­ch á»Ÿ má»©c high-level cá»§a Ä‘oáº¡n code nÃ y?â€ Vá»›i má»—i dÃ²ng code, há»i â€œNÃ³ cÃ³ lÃ m trá»±c tiáº¿p má»¥c Ä‘Ã­ch Ä‘Ã³? KhÃ´ng thÃ¬ nÃ³ Ä‘ang giáº£i quyáº¿t cÃ¡c váº¥n Ä‘á» con khÃ´ng liÃªn quan cáº§n thiáº¿t Ä‘á»ƒ Ä‘Ã¡p á»©ng má»¥c Ä‘Ã­ch Ä‘Ã³?â€ Náº¿u Ä‘á»§ cÃ¡c dÃ²ng Ä‘ang giáº£i quyáº¿t cÃ¡c váº¥n Ä‘á» con khÃ´ng liÃªn quan, trÃ­ch xuáº¥t code nÃ y vÃ o trong cÃ¡c hÃ m tÃ¡ch biá»‡t. TrÃ­ch xuáº¥t code vÃ o cÃ¡c hÃ m riÃªng viá»‡t cÃ³ láº½ lÃ  viá»‡c báº¡n lÃ m hÃ ng ngÃ y. NhÆ°ng trong chÆ°Æ¡ng nÃ y, chÃºng ta quyáº¿t Ä‘á»‹nh táº­p trung vÃ o trÆ°á»ng há»£p riÃªng vÃ  trÃ­ch xuáº¥t vÃ o cÃ¡c váº¥n Ä‘á» con khÃ´ng liÃªn quanâ€ nÆ¡i mÃ  trÃ­ch xuáº¥t code khÃ´ng biets táº¡i sao nÃ³ láº¡i Ä‘Æ°á»£c gá»i. NhÆ° báº¡n tháº¥y, Ä‘Ã¢y lÃ  1 kÄ© thuáº­t dá»… dÃ ng Ä‘á»ƒ Ã¡p dá»±ng nhÆ°ng cáº£i thiá»‡n code cá»§a báº¡n Ä‘Ã¡ng ká»ƒ. NhÆ°ng vÃ¬ 1 sá»‘ lÃ½ do nÃ o Ä‘Ã³, cÃ¡c láº­p trÃ¬nh viÃªn khÃ´ng sá»­ dá»¥ng Ä‘á»§ ká»¹ thuáº­t nÃ y. BÃ­ quyáº¿t (Máº¹o) nÃ y chá»§ Ä‘á»™ng nhÃ¬n cho cÃ¡c váº¥n Ä‘á» con khÃ´ng liÃªn quan. Trong chÆ°Æ¡ng nÃ y chÃºng ta sáº½ cÃ¹ng xem xÃ©t 1 vÃ i vÃ­ dá»¥ minh há»a kÄ© thuáº­t nÃ y Ä‘á»ƒ giáº£i quyáº¿t cÃ¡c váº¥n Ä‘á» khÃ¡c nhau báº¡n cÃ³ thá»ƒ gáº·p pháº£i. Introductory Example: findClosestLocation()Má»¥c Ä‘Ã­ch chÃ­nh cá»§a Ä‘oáº¡n code JavaScript dÆ°á»›i Ä‘Ã¢y lÃ  tÃ¬m kiáº¿m vá»‹ trÃ­ gáº§n nháº¥t cá»§a 1 Ä‘iá»ƒmâ€ (Ä‘á»«ng chÃº Ã½ quÃ¡ vÃ o pháº§n Ä‘á»‹a lÃ½, pháº§n in nghiÃªng):1234567891011121314151617181920212223// Return which element of 'array' is closest to the given latitude/longitude.// Models the Earth as a perfect sphere.var findClosestLocation = function (lat, lng, array) { var closest; var closest_dist = Number.MAX_VALUE; for (var i = 0; i &lt; array.length; i += 1) { // Convert both points to radians. var lat_rad = radians(lat); var lng_rad = radians(lng); var lat2_rad = radians(array[i].latitude); var lng2_rad = radians(array[i].longitude); // Use the &quot;Spherical Law of Cosines&quot; formula. var dist = Math.acos(Math.sin(lat_rad) * Math.sin(lat2_rad) + Math.cos(lat_rad) * Math.cos(lat2_rad) * Math.cos(lng2_rad - lng_rad)); if (dist &lt; closest_dist) { closest = array[i]; closest_dist = dist; } } return closest;};Äa sá»‘ code trong vÃ²ng láº·p lÃ m nhá»¯ng viá»‡c cho cÃ¡c váº¥n Ä‘á» con khÃ´ng liÃªn quan: tÃ­nh toÃ¡n khoáº£ng cÃ¡ch hÃ¬nh cáº§u giá»¯a 2 Ä‘iá»ƒm lat/long*. VÃ¬ ráº¥t nhiá»u code lÃ m viá»‡c nÃ y, Ã½ nghÄ©a hÆ¡n báº¡n nÃªn trÃ­ch xuáº¥t nÃ³ thÃ nh 1 hÃ m riÃªng vá»›i tÃªn spherical_distance():1234567891011var spherical_distance = function (lat1, lng1, lat2, lng2) { var lat1_rad = radians(lat1); var lng1_rad = radians(lng1); var lat2_rad = radians(lat2); var lng2_rad = radians(lng2); // Use the &quot;Spherical Law of Cosines&quot; formula. return Math.acos(Math.sin(lat1_rad) * Math.sin(lat2_rad) + Math.cos(lat1_rad) * Math.cos(lat2_rad) * Math.cos(lng2_rad - lng1_rad));};BÃ¢y giá» Ä‘oáº¡n code cÃ²n láº¡i trá»Ÿ thÃ nh:123456789101112var findClosestLocation = function (lat, lng, array) { var closest; var closest_dist = Number.MAX_VALUE; for (var i = 0; i &lt; array.length; i += 1) { var dist = spherical_distance(lat, lng, array[i].latitude, array[i].longitude); if (dist &lt; closest_dist) { closest = array[i]; closest_dist = dist; } } return closest;};Äoáº¡n code nÃ y Ä‘Ã£ dá»… dÃ ng Ä‘á»c hÆ¡n vÃ¬ ngÆ°á»i Ä‘á»c cÃ³ thá»ƒ táº­p trung vÃ o má»¥c Ä‘Ã­ch cao nháº¥t cá»§a nÃ³ mÃ  khÃ´ng bá»‹ phÃ¢n tÃ¢m vÃ o viá»‡c tÃ­nh khoáº£ng cÃ¡ch Ä‘á»‹a lÃ½. NhÆ° 1 pháº§n thÆ°á»Ÿng bá»• sung, spherical_distance() sáº½ dá»… dÃ ng Ä‘á»ƒ test cÃ´ láº­p. VÃ  spherical_distance() lÃ  1 loáº¡i hÃ m cÃ³ thá»ƒ Ä‘Æ°á»£c sá»­ dá»¥ng láº¡i trong tÆ°Æ¡ng lai. Äiá»u nÃ y lÃ½ giáº£i vÃ¬ sao nÃ³ lÃ  cÃ¡c váº¥n Ä‘á» con â€œkhÃ´ng liÃªn quanâ€ - nÃ³ hoÃ n toÃ n tá»± chá»©a chÃ­nh nÃ³ vÃ  khÃ´ng biáº¿t á»©ng dá»¥ng sá»­ dá»¥ng nÃ³ nhÆ° tháº¿ nÃ o. Pure Utility Code (Pháº§n nÃ y kiá»ƒu hepler, codebase cung cáº¥p cÃ¡c code tiá»‡n Ã­ch áº¥y)ÄÃ¢y lÃ  bá»™ trung tÃ¢m cá»§a cÃ¡c nhiá»‡m vá»¥ cÆ¡ báº£n Ä‘a sá»‘ chÆ°Æ¡ng trÃ¬nh cáº§n lÃ m, nhÆ° cÃ¡c thao tÃ¡c chuá»—i, sá»­ dá»¥ng hash tables vÃ  Ä‘á»c/ghi files. ThÆ°á»ng xuyÃªn, cÃ¡c â€œtiá»‡n Ã­ch cÆ¡ báº£nâ€ nÃ y Ä‘Ã£ thá»±c thi cÃ¡c built-in libraries trong ngÃ´n ngá»¯ láº­p trÃ¬nh. VÃ­ dá»¥, náº¿u báº¡n muá»‘n Ä‘á»c ná»™i dung file trong PHP, báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng hÃ m file_get_contents(&quot;filename&quot;) hoáº·c vá»›i Python, báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng open(&quot;filename&quot;).read(). NhÆ°ng Ä‘Ã´i khi báº¡n pháº£i tá»± Ä‘iá»n vÃ o chá»— trá»‘ng. Trong C++, vÃ­ dá»¥, khÃ´ng cÃ³ cÃ¡ch ngáº¯n gá»n nÃ o Ä‘á»c 1 file Ä‘áº§u vÃ o. Thay vÃ o Ä‘Ã³, báº¡n cháº¯n cháº¯n pháº£i viáº¿t code nhÆ° sau:12345678910111213ifstream file(file_name);// Calculate the file's size, and allocate a buffer of that size.file.seekg(0, ios::end);const int file_size = file.tellg();char* file_buf = new char [file_size];// Read the entire file into the buffer.file.seekg(0, ios::beg);file.read(file_buf, file_size);file.close();...ÄÃ¢y lÃ  vÃ­ dá»¥ cÆ¡ báº£n Ä‘á»ƒ hiá»ƒu cÃ¡c váº¥n Ä‘á» khÃ´ng liÃªn quan nÃªn Ä‘Æ°á»£c trÃ­ch xuáº¥t vÃ o 1 hÃ m riÃªng vá»›i tÃªn gá»i ReadFileToString(). BÃ¢y giá» phÃ n cÃ²n láº¡i codebase cá»§a báº¡n cÃ³ thá»ƒ gá»i nhÆ° C++ Ä‘Ã£ cÃ³ hÃ m ReadFileToString(). NÃ³i chung náº¿u báº¡n tháº¥y mÃ¬nh Ä‘ang nghÄ© â€œTÃ´i muá»‘n thÆ° viá»‡n cá»§a chÃºng ta cÃ³ hÃ m XYZ()â€, thÃ¬ hÃ£y viáº¿t nÃ³! (Giáº£ Ä‘á»‹nh lÃ  nÃ³ chÆ°a tá»“n táº¡i). Theo thá»i gian, báº¡n sáº½ xÃ¢y dá»±ng Ä‘Æ°á»£c 1 táº­p cÃ¡c mÃ£ tiá»‡n Ã­ch cÃ³ thá»ƒ sá»­ dá»¥ng trÃªn cÃ¡c dá»± Ã¡n. Other General-Purpose CodeKhi debugging JavaScript, cÃ¡c láº­p trÃ¬nh viÃªn thÆ°á»ng sá»­ dá»¥ng alert() Ä‘á»ƒ hiá»ƒn thá»‹ 1 thÃ´ng bÃ¡o chá»©a cÃ¡c thÃ´ng tin há» cáº§n, nÃ³ lÃ  phiÃªn báº£n â€œprintf() debuggingâ€ cá»§a Web. VÃ­ dá»¥, hÃ m sao gá»i submits dá»¯ liá»‡u tá»›i server sá»­ dá»¥ng Ajax vÃ  sau Ä‘Ã³ hiá»ƒn thá»‹ trá»±c tiáº¿p káº¿t quáº£ nháº­n Ä‘Æ°á»£c tá»« server:12345678910111213ajax_post({ url: 'http://example.com/submit', data: data, on_success: function (response_data) { var str = &quot;{\\n&quot;; for (var key in response_data) { str += &quot; &quot; + key + &quot; = &quot; + response_data[key] + &quot;\\n&quot;; } alert(str + &quot;}&quot;); // Continue handling 'response_data' ... }});Má»¥c Ä‘Ã­ch chÃ­nh cá»§a hÃ m nÃ y lÃ  Táº¡o má»™t lá»i gá»i Ajax trÃªn server vÃ  xá»­ lÃ½ responseâ€. NhÆ°ng ráº¥t nhiá»u code láº¡i Ä‘ang xá»­ lÃ½ váº¥n Ä‘á» con khÃ´ng liÃªn quan, Pretty-print a dictionary*. Váº­y nÃªn dá»… dÃ ng tÃ¡ch Ä‘oáº¡n code nÃ y vÃ o 1 hÃ m nhÆ° format_pretty(obj):1234567var format_pretty = function (obj) { var str = &quot;{\\n&quot;; for (var key in obj) { str += &quot; &quot; + key + &quot; = &quot; + obj[key] + &quot;\\n&quot;; } return str + &quot;}&quot;;}; Unexpected BenefitsCÃ³ ráº¥t nhiá»u lÃ½ do mÃ  trÃ­ch xuáº¥t format_pretty() lÃ  1 Ã½ tÆ°á»Ÿng tá»‘t. NÃ³ lÃ m lá»i gá»i code Ä‘Æ¡n giáº£n hÆ¡n vÃ  format_pretty() cÃ³ nhá»¯ng chá»©c nÄƒng tiá»‡n dá»¥ng xung quanh. NhÆ°ng cÃ³ nhá»¯ng lÃ½ do tuyá»‡t vá»i khÃ¡c khÃ´ng rÃµ rÃ ng: dá»… dÃ ng cáº£i tiáº¿n ormat_pretty() khi mÃ  code lÃ  cá»§a chÃ­nh nÃ³. Khi báº¡n Ä‘ang lÃ m viá»‡c vá»›i 1 hÃ m nhá» hÆ¡n khÃ´ng liÃªn quan, cáº£m giÃ¡c dá»… dÃ ng Ä‘á»ƒ thÃªm tÃ­nh nÄƒng, cáº£i thiá»‡n kháº£ nÄƒng Ä‘á»c code, xem xÃ©t cÃ¡c trÆ°á»ng há»£p cáº¡nh vÃ  nhiá»u hÆ¡n ná»¯a. ÄÃ¢y lÃ  1 vÃ i trÆ°á»ng há»£p format_pretty(obj) khÃ´ng xá»­ lÃ½: NÃ³ mong Ä‘á»£i obj lÃ  1 Ä‘á»‘i tÆ°á»£ng. Náº¿u thay vÃ¬ Ä‘Ã³ nÃ³ lÃ  1 chuá»—i (hoáº·c undefined) Ä‘oáº¡n code hiá»‡n táº¡i cÃ³ thá»ƒ nÃ©m ra 1 ngoáº¡i lá»‡ NÃ³ mong Ä‘á»£i má»—i giÃ¡ trá»‹ trong obj lÃ  kiá»ƒu Ä‘Æ¡n giáº£n. Náº¿u thay vÃ¬ nÃ³ chá»©a cÃ¡c object lá»“ng nhau, Ä‘oáº¡n code hiá»‡n táº¡i sáº½ hiá»ƒn thá»‹ [object Object] cÃ³ váº» khÃ´ng Ä‘áº¹p. TrÆ°á»›c khi báº¡n tÃ¡ch format_pretty() tá»« hÃ m chá»§ cá»§a nÃ³, nÃ³ sáº½ cáº£m tháº¥y ráº¥t nhiá»u viá»‡c cáº§n pháº£i cáº£i thiá»‡n. (TrÃªn thá»±c táº¿, viá»‡c in Ä‘á»‡ quy Ä‘á»‘i tÆ°á»£ng lá»“ng nhau ráº¥t khÃ³ mÃ  khÃ´ng cÃ³ 1 hÃ m tÃ¡ch biá»‡t) NhÆ°ng bÃ¢y gÆ°á», thÃªm hÃ m nÃ y thÃ¬ viá»‡c Ä‘Ã³ sáº½ dá»… dÃ ng. HÃ£y cÃ¹ng xem cÃ¡ch cáº£i tiáº¿n Ä‘oáº¡n code Ä‘Ã³:1234567891011121314151617var format_pretty = function (obj, indent) { // Handle null, undefined, strings, and non-objects. if (obj === null) return &quot;null&quot;; if (obj === undefined) return &quot;undefined&quot;; if (typeof obj === &quot;string&quot;) return '&quot;' + obj + '&quot;'; if (typeof obj !== &quot;object&quot;) return String(obj); if (indent === undefined) indent = &quot;&quot;; // Handle (non-null) objects. var str = &quot;{\\n&quot;; for (var key in obj) { str += indent + &quot; &quot; + key + &quot; = &quot;; str += format_pretty(obj[key], indent + &quot; &quot;) + &quot;\\n&quot;; } return str + indent + &quot;}&quot;;};Äoáº¡n code trÃªn Ä‘Ã£ sá»­a Ä‘Æ°á»£c nhá»¯ng thiáº¿t sÃ³t Ä‘Æ°á»£c liá»‡t kÃª á»Ÿ trÃªn vÃ  táº¡o Ä‘áº§u ra nhÆ° sau:1234567891011{ key1 = 1 key2 = true key3 = undefined key4 = null key5 = { key5a = { key5a1 = &quot;hello world&quot; } }} Create a Lot of General-Purpose CodeHÃ m ReadFileToString() vÃ  format_pretty() lÃ  nhá»¯ng vÃ­ dá»¥ tuyá»‡t vá»i cho cÃ¡c váº¥n Ä‘á» con khÃ´ng liÃªn quan. NÃ³ ráº¥t cÆ¡ báº£n vÃ  Ã¡p dá»¥ng rá»™ng rÃ£i vÃ  Ä‘Æ°á»£c sá»­ dá»¥ng láº¡i trong cÃ¡c dá»± Ã¡n. Codebase thÆ°á»ng xuyÃªn cÃ³ nhá»¯ng thÆ° má»¥c Ä‘áº·c biá»‡t dÃ nh cho nhá»¯ng Ä‘oáº¡n code nhÆ° váº­y (vÃ­ dá»¥ nhÆ° util/) do Ä‘Ã³ báº¡n cÃ³ thá»ƒ dá»… dÃ ng chia sáº». Code cho má»¥c Ä‘Ã­ch chung lÃ  tá»‘t vÃ¬ nÃ³ Ä‘Ã£ hoÃ n toÃ n tÃ¡ch rá»i pháº§n cÃ²n láº¡i cá»§a project. Code nhÆ° váº­y dá»… dÃ ng phÃ¡t triá»ƒn, dá»… dÃ ng kiá»ƒm thá»­ vÃ  dá»… dÃ ng Ä‘á»ƒ hiá»ƒu. Náº¿u táº¥t cáº£ cÃ¡c code cá»§a báº¡n chá»‰ nÃªn nhÆ° váº­y!! Suy nghÄ© nhiá»u hÆ¡n vá» sá»©c máº¡nh cá»§a cÃ¡c thÆ° viá»‡n vÃ  há»‡ thá»‘ng báº¡n sá»­ dá»¥ng, nhÆ° SQL databases, JavaScript libraries, vÃ  HTML. Báº¡n khÃ´ng pháº£i lo láº¯ng vá» nhá»¯ng thá»© bÃªn trong nÃ³ - cÃ¡c codebase nÃ y hoÃ n toÃ n Ä‘á»™c láº­p vá»›i project cá»§a báº¡n. VÃ  káº¿t quáº£, pháº§n cÃ²n láº¡i codebase project báº£n báº¡n sáº½ nhá». CÃ ng nhiá»u dá»± Ã¡n cá»§a báº¡n, báº¡n cÃ³ thá»ƒ tÃ¡ch ra lÃ m thÆ° viá»‡n bá»‹ cÃ´ láº­p thÃ¬ cÃ ng tá»‘t, bá»Ÿi vÃ¬ pháº§n cÃ²n láº¡i cá»§a mÃ£ cá»§a báº¡n sáº½ nhá» hÆ¡n vÃ  dá»… suy nghÄ© hÆ¡n. IS THIS TOP-DOWN OR BOTTOM-UP PROGRAMMING?Top-down programming is a style where the highest-level modules and functions are designed first and the lower-level functions are implemented as needed to support them. Bottom-up programming tries to anticipate and solve all the subproblems first and then build the higher-level components using these pieces. This chapter isnâ€™t advocating one method over the other. Most programming involves a combinationof both. Whatâ€™s important is the end result: subproblems are removed and tackled separately. Project-Specific FunctionalityVá» Ã½ tÆ°á»Ÿng, cÃ¡c váº¥n Ä‘á» con báº¡n trÃ­ch xuáº¥t cÃ³ thá»ƒ hoÃ n toÃ n khÃ´ng theo dá»± Ã¡n. NhÆ°ng tháº­m chÃ­ nhÆ° váº­y, nÃ³ váº«n okay. PhÃ¡ vá»¡ cÃ¡c váº¥n Ä‘á» con váº«n lÃ  lÃ m viá»‡c tuyá»‡t vá»i. ÄÃ¢y lÃ  1 vÃ­ dá»¥ tá»« 1 website Ä‘Ã¡nh giÃ¡ kinh doanh. Äoáº¡n code Python táº¡o Ä‘á»‘i tÆ°á»£ng Business vÃ  set name, url vÃ  data_creadted cho nÃ³:1234567891011business = Business()business.name = request.POST[&quot;name&quot;]url_path_name = business.name.lower()url_path_name = re.sub(r&quot;['\\.]&quot;, &quot;&quot;, url_path_name)url_path_name = re.sub(r&quot;[^a-z0-9]+&quot;, &quot;-&quot;, url_path_name)url_path_name = url_path_name.strip(&quot;-&quot;)business.url = &quot;/biz/&quot; + url_path_namebusiness.date_created = datetime.datetime.utcnow()business.save_to_database()url giáº£ Ä‘á»‹nh lÃ  báº£n â€œcleanâ€ cá»§a name. VÃ­ dá»¥, náº¿u name lÃ  â€œA.C. Joeâ€™s Tire &amp; Smog, Inc.â€ thÃ¬ url sáº½ lÃ  â€œ/biz/ac-joes-tire-smog-incâ€. Váº¥n Ä‘á» con khÃ´ng liÃªn quan á»Ÿ Ä‘Ã¢y lÃ : biáº¿n tÃªn thÃ nh 1 URL há»£p lá»‡. ChÃºng ta cÃ³ thá»ƒ trÃ­ch xuáº¥t Ä‘oáº¡n code nÃ y:12345678CHARS_TO_REMOVE = re.compile(r&quot;['\\.]+&quot;)CHARS_TO_DASH = re.compile(r&quot;[^a-z0-9]+&quot;)def make_url_friendly(text): text = text.lower() text = CHARS_TO_REMOVE.sub('', text) text = CHARS_TO_DASH.sub('-', text) return text.strip(&quot;-&quot;)BÃ¢y giá» Ä‘oáº¡n code ban Ä‘áº§u cÃ³ cÃ¡c máº«u â€œthÃ´ng thÆ°á»ngâ€ nhiá»u hÆ¡n:12345business = Business()business.name = request.POST[&quot;name&quot;]business.url = &quot;/biz/&quot; + make_url_friendly(business.name)business.date_created = datetime.datetime.utcnow()business.save_to_database()Äoáº¡n code nÃ y yÃªu cáº§u Ã­t thá»i gian hÆ¡n Ä‘á»ƒ Ä‘á»c vÃ¬ báº¡n khÃ´ng bá»‹ máº¥t táº­p trung vÃ o cÃ¡c biá»ƒu thá»©c chÃ­nh quy vÃ  cÃ¡c xá»­ lÃ½ string. Báº¡n nÃªn Ä‘áº·t code cho make_url_friendly() á»Ÿ chá»— nÃ o? NÃ³ dÆ°á»ng nhÆ° lÃ  1 hÃ m khÃ¡c chung, do Ä‘Ã³ há»£p lÃ½ thÃ¬ nÃ³ nÃªn Ä‘áº·t trong thÆ° má»¥c riÃªng biá»‡t util/. Máº·t khÃ¡c, biá»ƒu thá»©c chÃ­nh quy nÃ y Ä‘Æ°á»£c thiáº¿t káº¿ vá»›i tÃªn doanh nghiá»‡p U.S, do Ä‘Ã³ cÃ³ thá»ƒ Ä‘oáº¡n code nÃªn trong file nÃ³ Ä‘ang sá»­ dá»¥ng. Thá»±c táº¿ Ä‘iá»u Ä‘Ã³ khÃ´ng quan trá»ng, vÃ  báº¡n cÃ³ thá»ƒ dá»… dÃ ng chuyá»ƒn thÆ° má»¥c sao Ä‘Ã³. Äiá»u quan trá»ng á»Ÿ Ä‘Ã¢y mÃ  hÃ m make_url_friendly() Ä‘Æ°á»£c tÃ¡ch ra. Simplifying an Existing InterfaceMá»i ngÆ°á»i yÃªu thÃ­ch khi thÆ° viá»‡n cÃ³ gian diá»‡n rÃµ rÃ ng - 1 trong sá»‘ Ä‘Ã³ lÃ  cÃ³ vÃ i tham sá»‘, khÃ´ng cáº§n cÃ i Ä‘áº·t niá»u vÃ  thÆ°á»ng Ã­t cáº§n tÃ¬m hiá»ƒu. NÃ³ lÃ m cho code cá»§a báº¡n nhÃ¬n thanh lá»‹ch: Ä‘Æ¡n giáº£n vÃ  máº¡nh máº½ cÃ¹ng 1 thá»i Ä‘iá»ƒm. NhÆ°ng náº¿u interface báº¡n Ä‘ang sá»­ dá»¥ng khÃ´ng rÃµ rÃ ng, báº¡n cÃ³ thá»ƒ lÃ m cÃ³ cÃ¡c hÃ m â€œbá»câ€ nÃ³ VÃ­ dá»¥ lÃ m viá»‡c vá»›i browser cookie trong JavaScript. Vá» khÃ¡i niá»‡m, cookies lÃ  1 táº­p cÃ¡c cáº·p key/value. NhÆ°ng interface mÃ  browser cung cáº¥p chá»‰ cÃ³ chuá»—i document.cookie nhÆ° sau:1name1=value1; name2=value2; ...Äá»ƒ tÃ¬m cookie báº¡n muá»‘n, báº¡n buá»™c pháº£i chuyá»ƒn chuá»—i khá»•ng lá»“ nÃ y. ÄÃ¢y lÃ  1 vÃ­ dá»¥ code Ä‘á»c giÃ¡ trá»‹ tá»« cookie vá»›i tÃªn â€œmax_resultsâ€:12345678var max_results;var cookies = document.cookie.split(';');for (var i = 0; i &lt; cookies.length; i++) { var c = cookies[i]; c = c.replace(/^[ ]+/, ''); // remove leading spaces if (c.indexOf(&quot;max_results=&quot;) === 0) max_results = Number(c.substring(12, c.length));} Wow, 1 Ä‘oáº¡n mÃ£ xáº¥u xÃ­. TÃµ rÃ ng, cÃ³ 1 hÃ m get_cookie() chá» Ä‘á»£i chÃºng ta lÃ m Ä‘á»ƒ chÃºng ta chá»‰ cáº§n viáº¿t:1var max_results = Number(get_cookie(&quot;max_results&quot;));Táº¡o hoáº·c thay Ä‘á»•i giÃ¡ trá»‹ cookie tháº­m chÃ­ lÃ  xa láº¡. Báº¡n pháº£i sáº» document.cookie giÃ¡ trá»‹ vá»›i cÃº phÃ¡p:1document.cookie = &quot;max_results=50; expires=Wed, 1 Jan 2020 20:53:47 UTC; path=/&quot;;CÃ¢u lá»‡nh nhÃ¬n nhÆ° nÃ³ Ä‘ang ghi Ä‘Ã¨ táº¥t cáº£ cÃ¡c cookies Ä‘Ã£ tá»“n táº¡i khÃ¡c nhÆ°ng (magically), nÃ³ khÃ´ng lÃ m váº­y. Má»™t interface lÃ½ tÆ°á»Ÿng Ä‘á»ƒ set 1 cookie sáº½ nhÆ° sau:1set_cookie(name, value, days_to_expire);XÃ³a bá» 1 cookie cÅ©ng khÃ´ng trá»±c quan: báº¡n pháº£i set cookie vá» háº¿t háº¡n trong quÃ¡ khá»©. Thay vÃ¬ Ä‘Ã³, má»™t interface lÃ½ tÆ°á»Ÿng nhÃ¬n Ä‘Æ¡n giáº£n nhÆ° sau:1delete_cookie(name);BÃ i há»c á»Ÿ Ä‘Ã¢y lÃ  báº¡n khÃ´ng bao giá» pháº£i giáº£i quyáº¿t cho má»™t giao diá»‡n mÃ  Ã­t hÆ¡n lÃ½ tÆ°á»Ÿng. Báº¡n cÃ³ thá»ƒ luÃ´n luá»™n táº¡o cÃ¡c hÃ m bá»c Ä‘á»ƒ áº©n cÃ¡c chi tiáº¿t xáº¥u cá»§a 1 interface báº¡n bá»‹ máº¯c káº¹t. Reshaping an Interface to Your NeedsRáº¥t nhiá»u code trong 1 chÆ°Æ¡ng trÃ¬nh chá»‰ há»— trá»£ code khÃ¡c - vÃ­ dá»¥, thiáº¿t láº­p Ä‘áº§u vÃ o cho 1 hÃ m hoáº·c xá»­ lÃ½ Ä‘áº§u ra. Code â€œkeo dÃ¡nâ€ nÃ y thÆ°á»ng khÃ´ng lÃ m gÃ¬ vá»›i logic thá»±c táº¿ trong chÆ°Æ¡ng trÃ¬nh cá»§a báº¡n. Nhá»¯ng Ä‘oáº¡n mÃ£ nhÆ° váº­y lÃ  1 á»©ng cá»­ viÃªn tuyá»‡t vá»i Ä‘á»ƒ kÃ©o ra vÃ o 1 hÃ m riÃªng biá»‡t. VÃ­ dá»¥, hÃ£y nÃ³i báº¡n cÃ³ má»™t Python dictionary chá»©a thÃ´ng tin nháº¡y cáº£m cá»§a user nhÆ° { &quot;username&quot;: &quot;...&quot;, &quot;password&quot;: &quot;...&quot; } vÃ  báº¡n cáº§n Ä‘Æ°a táº¥t cáº£ thÃ´ng tin Ä‘Ã³ vÃ o trong URL. Bá»Ÿi vÃ¬ nÃ³ nháº¡y cáº£m, báº¡n quyáº¿t Ä‘á»‹nh mÃ£ hÃ³a tá»« Ä‘iá»ƒn nÃ y, sá»­ dá»¥ng Cipher class. NhÆ°ng Cipher mong Ä‘á»£i chuá»—i cÃ¡c bytes lÃ m Ä‘áº§u vÃ o, khÃ´ng pháº£i 1 dictionary. VÃ  Cipher tráº£ vá» chuá»—i bytes, nhÆ°ng chÃºng ta cáº§n URL-safe. Cipher cÅ©ng nháº­n vÃ o 1 vÃ o tham sá»‘ thÃªm vÃ  khÃ¡ cá»“ng ká»nh Ä‘á»ƒ sá»­ dá»¥ng. Nhá»¯ng gÃ¬ báº¯t Ä‘áº§u nhÆ° 1 nhiá»‡m vá»¥ Ä‘Æ¡n giáº£n, trong Ä‘Ã³ cÃ³ ráº¥t nhiá»u code káº¿t dÃ­nh:1234567user_info = { &quot;username&quot;: &quot;...&quot;, &quot;password&quot;: &quot;...&quot; }user_str = json.dumps(user_info)cipher = Cipher(&quot;aes_128_cbc&quot;, key=PRIVATE_KEY, init_vector=INIT_VECTOR, op=ENCODE)encrypted_bytes = cipher.update(user_str)encrypted_bytes += cipher.final() # flush out the current 128 bit blockurl = &quot;http://example.com/?user_info=&quot; + base64.urlsafe_b64encode(encrypted_bytes)...Máº·c dÃ¹ váº¥n Ä‘á» chÃºng ta Ä‘ang giáº£i quyáº¿t lÃ  mÃ£ hÃ³a thÃ´ng tin user vÃ o 1 URL, pháº§n lá»›n Ä‘oáº¡n code nÃ y chá»‰ lÃ m mÃ£ hÃ³a Ä‘á»‘i tÆ°á»£ng Python vÃ o chuá»—i URL thÃ¢n thiá»‡n. Sáº½ Ä‘Æ¡n giáº£n Ä‘á»ƒ thÃªm váº¥n Ä‘á» con:123456def url_safe_encrypt(obj): obj_str = json.dumps(obj) cipher = Cipher(&quot;aes_128_cbc&quot;, key=PRIVATE_KEY, init_vector=INIT_VECTOR, op=ENCODE) encrypted_bytes = cipher.update(obj_str) encrypted_bytes += cipher.final() # flush out the current 128 bit block return base64.urlsafe_b64encode(encrypted_bytes) Sau Ä‘Ã³, káº¿t quáº£ code thá»±c thi logic thá»±c sá»± trong chÆ°Æ¡ng trÃ¬nh chá»‰ Ä‘Æ¡n giáº£n:12user_info = { &quot;username&quot;: &quot;...&quot;, &quot;password&quot;: &quot;...&quot; }url = &quot;http://example.com/?user_info=&quot; + url_safe_encrypt(user_info) Taking Things Too Far: ÄÆ°a má»i thá»© Ä‘i quÃ¡ xaNhÆ° chÃºng ta Ä‘Ã£ nÃ³i tá»« Ä‘áº§u chÆ°Æ¡ng, má»¥c Ä‘Ã­ch cá»§a chÃºng ta lÃ  â€œtÃ­ch cá»±c xÃ¡c Ä‘á»‹nh vÃ  trÃ­ch xuáº¥t cÃ¡c váº¥n Ä‘á» con khÃ´ng liÃªn quanâ€. ChÃºng ta nÃ³i â€œtÃ­ch cá»±câ€ vÃ¬ Ä‘a sá»‘ ngÆ°á»i viáº¿t code khÃ´ng Ä‘á»§ tÃ­ch cá»±c. NhÆ°ng nÃ³ cÃ³ thá»ƒ nháº­n Ä‘Æ°á»£c quÃ¡ má»©c vÃ  Ä‘Æ°a má»i thá»© Ä‘i quÃ¡ xa. VÃ­ dá»¥, Ä‘oáº¡n code tá»« pháº§n trÆ°á»›c cÃ³ thá»ƒ phÃ¡ vá»¡ nhiá»u hÆ¡n, nhÆ° sau:12345678910111213141516171819user_info = { &quot;username&quot;: &quot;...&quot;, &quot;password&quot;: &quot;...&quot; }url = &quot;http://example.com/?user_info=&quot; + url_safe_encrypt_obj(user_info)def url_safe_encrypt_obj(obj): obj_str = json.dumps(obj) return url_safe_encrypt_str(obj_str)def url_safe_encrypt_str(data): encrypted_bytes = encrypt(data) return base64.urlsafe_b64encode(encrypted_bytes)def encrypt(data): cipher = make_cipher() encrypted_bytes = cipher.update(data) encrypted_bytes += cipher.final() # flush out any remaining bytes return encrypted_bytesdef make_cipher():return Cipher(&quot;aes_128_cbc&quot;, key=PRIVATE_KEY, init_vector=INIT_VECTOR, op=ENCODE)Cho táº¥t cáº£ cÃ¡c tiny functions nÃ y thá»±c sá»± lÃ m tá»•n thÆ°Æ¡ng kháº£ nÄƒng Ä‘á»c vÃ¬ ngÆ°á»i Ä‘á»c pháº£i theo dÃµi quÃ¡ nhiá»u vÃ  theo dÃµi con Ä‘Æ°á»ng sá»± thá»±c thi Ä‘Ã²i há»i pháº£i nháº£y xung quanh. ÄÃ¢y lÃ  1 chi phÃ­ nhá» (nhÆ°ng há»¯u hÃ¬nh) kháº£ nÄƒng Ä‘á»c code cá»§a viá»‡c thÃªm 1 hÃ m má»›i vÃ o code cá»§a báº¡n. Trong trÆ°á»ng há»£p trÆ°á»›c, khÃ´ng cÃ³ gÃ¬ Ä‘áº¡t Ä‘Æ°á»£c Ä‘á»ƒ bÃ¹ Ä‘áº¯p chi phÃ­ nÃ y. NÃ³ cÃ³ lÃ½ thÃªm cÃ¡c hÃ m nhá» hÆ¡n nÃ y náº¿u chÃºng cáº§n bá»Ÿi cÃ¡c pháº§n khÃ¡c trong project cá»§a báº¡n. NhÆ°ng cho Ä‘áº¿n lÃºc Ä‘Ã³, khÃ´ng cÃ³ nhu cáº§u. Summary1 cÃ¡ch Ä‘Æ¡n giáº£n Ä‘á»ƒ nghÄ© vá» chÆ°Æ¡ng nÃ y lÃ  tÃ¡ch biá»‡t cÃ¡c chung mÃ£ (generic code) ra khá»i code cá»¥ thá»ƒ cá»§a project.. HÃ³a ra, Ä‘a sá»‘ code Ä‘á»u lÃ  chung. Báº±ng cÃ¡ch xÃ¢y dá»±ng 1 bá»™ thÆ° viá»‡n lá»›n vÃ  cÃ¡c helper functions Ä‘á»ƒ giáº£i quyáº¿t cÃ¡c váº¥n Ä‘á» chung, nhá»¯ng gÃ¬ cÃ²n láº¡i sáº½ thá»±c sá»± lÃ  mÃ£ chÃ­nh nhá» cÃ¡i mÃ  lÃ m cho chÆ°Æ¡ng trÃ¬nh cá»§a báº¡n trá»Ÿ nÃªn Ä‘á»™c Ä‘Ã¡o. LÃ½ do chÃ­nh kÄ© thuáº­t nÃ y giÃºp cÃ¡c láº­p trÃ¬nh viÃªn táº­p trung vÃ o cÃ¡c váº¥n Ä‘á» nhá» hÆ¡n, xÃ¡c Ä‘á»‹nh rÃµ rÃ ng hÆ¡n cÃ¡i mÃ  Ä‘Æ°á»£c tÃ¡ch biá»‡t ra khá»i pháº§n cÃ²n láº¡i trong project cá»§a báº¡n. Káº¿t quáº£ lÃ , giáº£i quyáº¿t cÃ¡c váº¥n Ä‘á» khÃ´ng liÃªn quan cÃ³ xu hÆ°á»›ng ká»¹ lÆ°á»¡ng vÃ  Ä‘Ãºng Ä‘áº¯n hÆ¡n. Báº¡n cÅ©ng cÃ³ thá»ƒ sá»­ dá»¥ng láº¡i chÃºng sau Ä‘Ã³. FURTHER READING: Äá»ŒC THÃŠM Martin Fowlerâ€™s Refactoring: Improving the Design of Existing Code (Fowler et al., Addison-Wesley Professional, 1999) describes the â€œExtract Methodâ€ of refactoring and catalogs many other ways to refactor your code. Kent Beckâ€™s Smalltalk Best Practice Patterns (Prentice Hall, 1996) describes the â€œComposed Method Pattern,â€ which lists a number of principles for breaking down your code into lots of little functions. In particular, one of the principles is â€œKeep all of the operations in a single method at the same level of abstraction.â€ These ideas are similar to our advice of â€œextracting unrelated subproblems.â€ What we discussed in this chapter is a simple and particular case of when to extract a method.","link":"/2020/05/24/Chapter-10-Extracting-Unrelated-Subproblems/"},{"title":"[Collection] Practice 13: Ranking a Competition","text":"ÄÃ¢y lÃ  1 project tÃ´i viáº¿t 1 vÃ i thÃ¡ng trÆ°á»›c. á»¨ng dá»¥ng quáº£n lÃ½ cuá»™c thi vÃ  tÃ´i cáº§n viáº¿t code Ä‘á»ƒ lÃ m sao Ä‘á»ƒ tÃ­nh rank cÃ¡c team sau khi cuá»™c thi káº¿t thÃºc.TÃ´i báº¯t Ä‘áº§u nháº­n vá»›i collection lÃ  Ä‘iá»ƒm cÃ¡c Ä‘á»™i nhÆ° sau12345678910$scores = collect([ ['score' =&gt; 76, 'team' =&gt; 'A'], ['score' =&gt; 62, 'team' =&gt; 'B'], ['score' =&gt; 82, 'team' =&gt; 'C'], ['score' =&gt; 86, 'team' =&gt; 'D'], ['score' =&gt; 91, 'team' =&gt; 'E'], ['score' =&gt; 67, 'team' =&gt; 'F'], ['score' =&gt; 67, 'team' =&gt; 'G'], ['score' =&gt; 82, 'team' =&gt; 'H'],]);NÃ³ cÃ³ váº» Ä‘Æ¡n giáº£n báº±ng cÃ¡ch sá»­ dá»¥ng method sortByDesc, cÃ¡i mÃ  sáº½ nháº­n vÃ o tÃªn trÆ°á»ng vÃ  sáº¯p xáº¿p nÃ³ nhÆ° 1 tham sá»‘1234567891011$rankedScores = $scores-&gt;sortByDesc('score');// =&gt; [// ['score' =&gt; 91, 'team' =&gt; 'E'],// ['score' =&gt; 86, 'team' =&gt; 'D'],// ['score' =&gt; 82, 'team' =&gt; 'C'],// ['score' =&gt; 82, 'team' =&gt; 'H'],// ['score' =&gt; 76, 'team' =&gt; 'A'],// ['score' =&gt; 67, 'team' =&gt; 'F'],// ['score' =&gt; 67, 'team' =&gt; 'G'],// ['score' =&gt; 62, 'team' =&gt; 'B'],// ];BÃ¢y giá» chÃºng Ä‘Ã£ Ä‘Æ°á»£c sáº¯p xáº¿p, chÃºng ta chá»‰ cÃ³ thá»ƒ sá»­ dá»¥ng chá»‰ sá»‘ cá»§a máº£ng cá»™ng thÃªm 1 nhÆ° lÃ  rank, Ä‘Ãºng ko? KhÃ´ng háº³n, bá»Ÿi vÃ¬ sortByDesc thá»±c sá»± váº«n giá»¯ láº¡i key cÅ©, do váº­y máº·c dÃ¹ $rankedScores Ä‘Ã£ Ä‘Æ°á»£c sáº¯p xáº¿p Ä‘Ãºng thá»© tá»± nhÆ°ng chÃºng thá»±c sá»± , chÃºng váº«n cÃ³ key rÃµ rÃ ng khÃ´ng pháº£i lÃ  ranking mong Ä‘á»£i1234567891011$rankedScores = $scores-&gt;sortByDesc('score');// =&gt; [// 4 =&gt; ['score' =&gt; 91, 'team' =&gt; 'E'],// 3 =&gt; ['score' =&gt; 86, 'team' =&gt; 'D'],// 2 =&gt; ['score' =&gt; 82, 'team' =&gt; 'C'],// 7 =&gt; ['score' =&gt; 82, 'team' =&gt; 'H'],// 0 =&gt; ['score' =&gt; 76, 'team' =&gt; 'A'],// 5 =&gt; ['score' =&gt; 67, 'team' =&gt; 'F'],// 6 =&gt; ['score' =&gt; 67, 'team' =&gt; 'G'],// 1 =&gt; ['score' =&gt; 62, 'team' =&gt; 'B'],// ];Má»™t cÃ¡ch Ä‘Æ¡n giáº£n Ä‘á»ƒ fix chá»— nÃ y lÃ  gá»i phÆ°Æ¡ng thá»©c values, nÃ³ sáº½ xÃ³a cÃ¡c key Ä‘Ã£ tá»“n táº¡i Ä‘i vÃ  reset chÃºng vá» dáº¡ng bÃ¬nh thÆ°á»ng1234567891011$rankedScores = $scores-&gt;sortByDesc('score')-&gt;values();// =&gt; [// 0 =&gt; ['score' =&gt; 91, 'team' =&gt; 'E'],// 1 =&gt; ['score' =&gt; 86, 'team' =&gt; 'D'],// 2 =&gt; ['score' =&gt; 82, 'team' =&gt; 'C'],// 3 =&gt; ['score' =&gt; 82, 'team' =&gt; 'H'],// 4 =&gt; ['score' =&gt; 76, 'team' =&gt; 'A'],// 5 =&gt; ['score' =&gt; 67, 'team' =&gt; 'F'],// 6 =&gt; ['score' =&gt; 67, 'team' =&gt; 'G'],// 7 =&gt; ['score' =&gt; 62, 'team' =&gt; 'B'],// ];CÃ³ váº» tá»‘t hÆ¡n 1 chÃºt rá»“i nhÆ°ng ranking thá»±c táº¿ váº«n bá»‹ giáº£m Ä‘i 1 Ä‘Ãºng khÃ´ng? TÃ´i nghÄ© nÃ³ sáº½ tá»‘t hÆ¡n náº¿u báº¡n cÃ³ thá»ƒ thÃªm trÆ°á»ng rank cho má»—i Ä‘iá»ƒm Ä‘á»ƒ láº¥y rank thá»±c sá»±, báº¯t Ä‘áº§u tá»« 1 thay vÃ¬ 0. 1. Zipping-in the RanksMá»™t cÃ¡ch Ä‘á»ƒ lÃ m viá»‡c nÃ y lÃ  dÃ¹ng zip Ä‘iá»ƒm sá»‘ vá»›i danh sÃ¡ch ranks. ChÃºng ta cÃ³ thá»ƒ sinh danh sÃ¡ch cÃ¡c ranks báº±ng cÃ¡ch sá»­ dá»¥ng range($start, $end)123456789101112$rankedScores = $scores-&gt;sortByDesc('score') -&gt;zip(range(1, $scores-&gt;count()));// =&gt; [// [['score' =&gt; 91, 'team' =&gt; 'E'], 1],// [['score' =&gt; 86, 'team' =&gt; 'D'], 2],// [['score' =&gt; 82, 'team' =&gt; 'C'], 3],// [['score' =&gt; 82, 'team' =&gt; 'H'], 4],// [['score' =&gt; 76, 'team' =&gt; 'A'], 5],// [['score' =&gt; 67, 'team' =&gt; 'F'], 6],// [['score' =&gt; 67, 'team' =&gt; 'G'], 7],// [['score' =&gt; 62, 'team' =&gt; 'B'], 8],// ];Má»™t cÃ¡ch tá»‘t khi sá»­ dá»¥ng theo hÆ°á»›ng nÃ y lÃ  chÃºng ta cÃ³ thá»ƒ bá» lá»i gá»i values, chÃºng ta khÃ´ng pháº£i thá»±c sá»± lo vá» váº¥n Ä‘á» keys thÃªm 1 láº§n nÃ o ná»¯a. Sau khi zip Ä‘iá»ƒm sá»‘ vá»›i rank cá»§a há», chÃºng ta cÃ³ thá»ƒ sá»­ dá»¥ng map Ä‘á»ƒ thÃªm rank vÃ o nhÆ° 1 trÆ°á»ng thá»±c sá»±:123456789101112131415161718$rankedScores = $scores-&gt;sortByDesc('score') -&gt;zip(range(1, $scores-&gt;count())) -&gt;map(function ($scoreAndRank) { list($score, $rank) = $scoreAndRank; return array_merge($score, [ 'rank' =&gt; $rank ]); });// =&gt; [// ['rank' =&gt; 1, 'score' =&gt; 91, 'team' =&gt; 'E'],// ['rank' =&gt; 2, 'score' =&gt; 86, 'team' =&gt; 'D'],// ['rank' =&gt; 3, 'score' =&gt; 82, 'team' =&gt; 'C'],// ['rank' =&gt; 4, 'score' =&gt; 82, 'team' =&gt; 'H'],// ['rank' =&gt; 5, 'score' =&gt; 76, 'team' =&gt; 'A'],// ['rank' =&gt; 6, 'score' =&gt; 67, 'team' =&gt; 'F'],// ['rank' =&gt; 7, 'score' =&gt; 67, 'team' =&gt; 'G'],// ['rank' =&gt; 8, 'score' =&gt; 62, 'team' =&gt; 'B'],// ]; 2. Dealing with Ties (Giao dá»‹ch vá»›i Ä‘iá»ƒm báº±ng nhau)Náº¿u báº¡n nhÃ¬n ká»¹ Ä‘iá»ƒm Ä‘Ã£ Ä‘Æ°á»£c sáº¯p xáº¿p, báº¡n sáº½ nháº­n tháº¥y cÃ³ 2 táº­p cÃ³ Ä‘iá»ƒm báº±ng nhau12['rank' =&gt; 3, 'score' =&gt; 82, 'team' =&gt; 'C'],['rank' =&gt; 4, 'score' =&gt; 82, 'team' =&gt; 'H'],Liá»‡u cÃ³ thá»±c sá»± chÆ¡i Ä‘áº¹p khÃ´ng khi team C nháº­n vá»‹ trÃ­ thá»© 3 cÃ²n team H nháº­n vÃ­ trÃ­ thá»© 4 máº·c dÃ¹ 2 Ä‘á»™i báº±ng Ä‘iá»ƒm? Táº¡i sao khÃ´ng cÃ³ cÃ¡ch xá»­ Ã½ nÃ o khÃ¡c? CÃ¡ch xá»­ lÃ½ cÃ³ thá»ƒ Ã¡p dá»¥ng luáº­t xáº¿p rank https://en.wikipedia.org/wiki/Ranking#Standard_competition_ranking_.28.221224.22_ranking.29 khi 2 Ä‘á»™i báº±ng Ä‘iá»ƒm, bá» qua thá»© háº¡ng vÃ  nhá»¯ng Ä‘iá»ƒm sá»‘ khÃ¡c. VÃ  Ä‘Ã¢y lÃ  cÃ¡i theo nhÆ° chuáº©n ranking sáº½ cáº§n Ä‘iá»u chá»‰nh:12345678910[ ['rank' =&gt; 1, 'score' =&gt; 91, 'team' =&gt; 'E'], ['rank' =&gt; 2, 'score' =&gt; 86, 'team' =&gt; 'D'], ['rank' =&gt; 3, 'score' =&gt; 82, 'team' =&gt; 'C'], ['rank' =&gt; 3, 'score' =&gt; 82, 'team' =&gt; 'H'], ['rank' =&gt; 5, 'score' =&gt; 76, 'team' =&gt; 'A'], ['rank' =&gt; 6, 'score' =&gt; 67, 'team' =&gt; 'F'], ['rank' =&gt; 6, 'score' =&gt; 67, 'team' =&gt; 'G'], ['rank' =&gt; 8, 'score' =&gt; 62, 'team' =&gt; 'B'],];OK, Ã½ tÆ°á»Ÿng lÃ  váº­y, nhÆ°ng lÃ m sao chÃºng ta cÃ³ thá»ƒ thá»±c thi chÃºng? 3. One Step at a TimeTÃ´i cÃ³ chÃºt thÃº nháº­n khi lÃ m: Máº¥t ráº¥t nhiá»u thá»i gian khi tÃ´i giáº£i quyáº¿t váº¥n Ä‘á» nÃ y vá»›i collection pipelines, tÃ´i khÃ´ng cÃ³ Ã½ tÆ°á»Ÿng gÃ¬ Ä‘á»ƒ giáº£i quyáº¿t váº¥n Ä‘á» nÃ y. Má»™t trong nhá»¯ng thá»© tá»‘t Ä‘áº¹p nháº¥t mÃ  collection pipeline mang láº¡i lÃ  má»—i bÆ°á»›c nhá» vÃ  rá»i ráº¡c. ChÃºng ta Ä‘Ã£ nÃ³i 1 chÃºt vá» nÃ³, vá» cÃ¡ch mÃ  nÃ³ lÃ m cho code trá»Ÿ nÃªn dá»… theo dÃµi hÆ¡n nhÆ°ng khÃ´ng dá»… Ä‘á»ƒ viáº¿t. Thay vÃ¬ tÃ¬m ra táº¥t cáº£ cÃ¡c thuáº­t toÃ¡n, tÃ´i chá»‰ chÆ°a bao giá» pháº£i lo láº¯ng vá» viá»‡c nháº­n 1 bÆ°á»›c nÃ o Ä‘Ã³ gáº§n hÆ¡n cho váº¥n Ä‘á» tÃ´i Ä‘ang gáº·p pháº£i. Náº¿u cÃ³ Ä‘á»§ thá»i gian, tÃ´i Ä‘Ã£ cÃ³ thá»ƒ káº¿t thÃºc váº¥n Ä‘á». NhÆ°ng tÃ´i Ä‘ang cá»‘ cáº§n thá»±c hiá»‡n bÆ°á»›c nÃ o Ä‘á»ƒ thá»±c thi Ä‘Æ°á»£c viá»‡c sáº¯p xáº¿p rank theo chuáº©n? 4. Grouping by ScoreNáº¿u team báº¡n Ä‘ang cÃ³ cÃ¡c Ä‘iá»ƒm giá»‘ng nhau vÃ  há»— trá»£ nháº­n cÃ¡c rank giá»‘ng nhau, sáº½ sáº¯p xáº¿p káº¿t quáº£ theo score cÃ³ giáº£i lÃ  Ä‘á»§ Ä‘á»ƒ giáº£i quyáº¿t váº¥n Ä‘á»:12345678910$rankedScores = $scores-&gt;sortByDesc('score') -&gt;zip(range(1, $scores-&gt;count())) -&gt;map(function ($scoreAndRank) { list($score, $rank) = $scoreAndRank; return array_merge($score, [ 'rank' =&gt; $rank ]); }) -&gt;groupBy('score');Káº¿t quáº£ chÃºng ta nháº­n Ä‘Æ°á»£c sáº½ nhÆ° sau:12345678910111213141516171819202122[ 91 =&gt; [ ['rank' =&gt; 1, 'score' =&gt; 91, 'team' =&gt; 'E'] ], 86 =&gt; [ ['rank' =&gt; 2, 'score' =&gt; 86, 'team' =&gt; 'D'] ], 82 =&gt; [ ['rank' =&gt; 3, 'score' =&gt; 82, 'team' =&gt; 'C'], ['rank' =&gt; 4, 'score' =&gt; 82, 'team' =&gt; 'H'], ], 76 =&gt; [ ['rank' =&gt; 5, 'score' =&gt; 76, 'team' =&gt; 'A'] ], 67 =&gt; [ ['rank' =&gt; 6, 'score' =&gt; 67, 'team' =&gt; 'F'], ['rank' =&gt; 7, 'score' =&gt; 67, 'team' =&gt; 'G'], ], 62 =&gt; [ ['rank' =&gt; 8, 'score' =&gt; 62, 'team' =&gt; 'B'] ],]; 5. Adjusting the RanksNhÆ° váº­y chÃºng ta cÃ³ táº¥t cáº£ káº¿t quáº£ Ä‘Ã£ Ä‘Æ°á»£c nhÃ³m theo Ä‘iá»ƒm vÃ  chÃºng ta muá»‘n cháº¯c cháº¯n ráº±ng 1 vÃ i team cÃ³ Ä‘iá»ƒm giá»‘ng nhau sáº½ cÃ³ rank tá»‘t nháº¥t cÃ³ thá»ƒ. HÃ£y nhÃ¬n xem 1 pháº§n cá»§a cÃ¡c cáº·p Ä‘iá»ƒm giá»‘ng nhau vÃ  chÃºng ta cÃ³ thá»ƒ nghá»‰ cÃ¡ch nÃ o Ä‘á»ƒ lÃ m viá»‡c vá»›i nÃ³:1234$tiedScores = collect([ ['rank' =&gt; 3, 'score' =&gt; 82, 'team' =&gt; 'C'], ['rank' =&gt; 4, 'score' =&gt; 82, 'team' =&gt; 'H'],]);Vá»›i nhÃ³m káº¿t quáº£ nÃ y, lÃ m sao chÃºng ta cháº¯c cháº¯n ráº±ng cáº£ 2 Ä‘á»u á»Ÿ vá»‹ trÃ­ thá»© 3. Äáº§u tiÃªn chÃºng ta cáº§n tÃ¬m ra rank tá»‘t nháº¥t trong nhÃ³m. ChÃºng ta cÃ³ thá»ƒ lÃ m Ä‘iá»u nÃ y báº±ng cÃ¡ch sá»­ dá»¥ng pluck Ä‘á»ƒ láº¥y táº­p collection cá»§a má»—i rank vÃ  sá»­ dá»¥ng min Ä‘á»ƒ láº¥y rank nhá» nháº¥t cá»§a collection:1$lowestRank = $tiedScores-&gt;pluck('rank')-&gt;min();Äá»§ dá»… rá»“i! BÃ¢y giá» chÃºng ta cáº§n gÃ¡n rank giá»‘ng nhau vá»›i má»—i team. ChÃºng ta cÃ³ thá»ƒ sá»­ dá»¥ng map cho má»—i team Ä‘á»ƒ chuyá»ƒn Ä‘á»•i má»—i káº¿t quáº£:123456$lowestRank = $tiedScores-&gt;pluck('rank')-&gt;min();$adjustedScores = $tiedScores-&gt;map(function ($rankedScore) use ($lowestRank) { $rankedScore['rank'] = $lowestRank; return $rankedScore;}) ChÃºng ta cÃ³ 1 chÃºt cáº©n tháº­n vÃ¬ chÃºng ta khÃ´ng Ä‘Æ°á»£c phÃ©p biáº¿n Ä‘á»•i trong hÃ m map, báº¡n nhá»› chá»©? Trong trÆ°á»ng há»£p nÃ y, sá»± thay Ä‘á»•i rank key khÃ´ng biáº¿n Ä‘á»•i gÃ¬ vá» máº·t ká»¹ thuáº­t ngoÃ i hÃ m closure vÃ¬ hÃ m trong PHP Ä‘Æ°á»£c pass by value nhÆ°ng náº¿u chÃºng ta lÃ m viá»‡c vá»›i objects, nÃ³ sáº½ lÃ  váº¥n Ä‘á» lá»›n.Vá»›i sá»± lá»£i Ã­ch nháº¥t quÃ¡n, chÃºng tÃ´i khuyÃªn báº¡n nÃªn tráº£ vá» hÃ m má»›i, sá»­ dá»¥ng array_merge Ä‘á»ƒ thay tháº¿ rank cÅ© báº±ng 1 hÃ m má»›i:123456$lowestRank = $tiedScores-&gt;pluck('rank')-&gt;min();$adjustedScores = $tiedScores-&gt;map(function ($rankedScore) use ($lowestRank) { return array_merge($rankedScore, [ 'rank' =&gt; $lowestRank ]);})Sau khi Ã¡p dá»¥ng viá»‡c chuyá»ƒn Ä‘á»•i, chÃºng ra nháº­n Ä‘Æ°á»£c táº­p cÃ¡c Ä‘iá»ƒm má»›i nhÃ¬n nhÆ° sau:1234[ ['rank' =&gt; 3, 'score' =&gt; 82, 'team' =&gt; 'C'], ['rank' =&gt; 3, 'score' =&gt; 82, 'team' =&gt; 'H'],];BÃ¢y giá», cáº£ 2 team cÃ³ Ä‘iá»ƒm giá»‘ng nhau vá»›i vá»‹ trÃ­ thá»© 3, Ä‘Ãºng nhÆ° chÃºng ta muá»‘n, perfect!Äá»ƒ Ã¡p dá»¥ng viá»‡c chuyá»ƒn Ä‘á»•i cho má»—i nhÃ³m Ä‘iá»ƒm, chÃºng ta chá»‰ cáº§n map má»—i nhÃ³m lÃ  Ä‘Æ°á»£c. 6. Collapse and Sort: Thu gá»n vÃ  sáº¯p xáº¿pBÃ¢y giá» káº¿t quáº£ cá»§a chÃºng ta Ä‘Ã£ Ä‘Æ°á»£c sáº¯p xáº¿p theo Ä‘iá»ƒm. ChÃºng ta cÃ³ thá»ƒ lÃ m pháº³ng chÃºng xuá»‘ng báº±ng cÃ¡ch sá»­ dá»¥ng collapse. Káº¿t quáº£ thu Ä‘Æ°á»£c sáº½ nhÆ° sau:12345678910[ ['rank' =&gt; 1, 'score' =&gt; 91, 'team' =&gt; 'E'], ['rank' =&gt; 2, 'score' =&gt; 86, 'team' =&gt; 'D'], ['rank' =&gt; 3, 'score' =&gt; 82, 'team' =&gt; 'C'], ['rank' =&gt; 3, 'score' =&gt; 82, 'team' =&gt; 'H'], ['rank' =&gt; 5, 'score' =&gt; 76, 'team' =&gt; 'A'], ['rank' =&gt; 6, 'score' =&gt; 67, 'team' =&gt; 'F'], ['rank' =&gt; 6, 'score' =&gt; 67, 'team' =&gt; 'G'], ['rank' =&gt; 8, 'score' =&gt; 62, 'team' =&gt; 'B'],];Tuyá»‡t vá»i, chÃºng ta Ä‘Ã£ cÃ³ káº¿t quáº£ nhÆ° chÃºng ta mong Ä‘á»£i. Sau Ä‘Ã³ chÃºng ta cÃ³ thá»ƒ sáº¯p xáº¿p rank theo Ã½. 7. Cleaning UpÄÃ¢y lÃ  nhá»¯ng thá»© cháº·t cháº½ tÃ´i sáº½ Ä‘áº©y vÃ o trong hÃ m1234567891011121314151617181920212223function rank_scores($scores){ return collect($scores) -&gt;sortByDesc('score') -&gt;zip(range(1, $scores-&gt;count())) -&gt;map(function ($scoreAndRank) { list($score, $rank) = $scoreAndRank; return array_merge($score, [ 'rank' =&gt; $rank ]); }) -&gt;groupBy('score') -&gt;map(function ($tiedScores) { $lowestRank = $tiedScores-&gt;pluck('rank')-&gt;min(); return $tiedScores-&gt;map(function ($rankedScore) use ($lowestRank) { return array_merge($rankedScore, [ 'rank' =&gt; $lowestRank ]); }); }) -&gt;collapse() -&gt;sortBy('rank');}HÃ£y nhÃ¬n chá»— code nÃ y, pháº§n hÃ m map thá»© 2 hoÃ n toÃ n cÃ³ thá»ƒ thay tháº¿ bá»Ÿi 1 hÃ m vá»›i tÃªn gá»i apply_min_rank12345678910111213141516171819202122232425262728/**function rank_scores($scores){ return collect($scores) -&gt;sortByDesc('score') -&gt;zip(range(1, $scores-&gt;count())) -&gt;map(function ($scoreAndRank) { list($score, $rank) = $scoreAndRank; return array_merge($score, [ 'rank' =&gt; $rank ]); }) -&gt;groupBy('score')**/ -&gt;map(function ($tiedScores) { $lowestRank = $tiedScores-&gt;pluck('rank')-&gt;min(); return $tiedScores-&gt;map(function ($rankedScore) use ($lowestRank) { return array_merge($rankedScore, [ 'rank' =&gt; $lowestRank ]); }); })/** -&gt;collapse() -&gt;sortBy('rank');}**/Thay tháº¿ báº±ng:1234567891011121314151617181920212223242526272829303132/**function rank_scores($scores){ return collect($scores) -&gt;sortByDesc('score') -&gt;zip(range(1, $scores-&gt;count())) -&gt;map(function ($scoreAndRank) { list($score, $rank) = $scoreAndRank; return array_merge($score, [ 'rank' =&gt; $rank ]); }) -&gt;groupBy('score')**/ -&gt;map(function ($tiedScores) { return apply_min_rank($tiedScores); })/** -&gt;collapse() -&gt;sortBy('rank');}**/function apply_min_rank($tiedScores){ $lowestRank = $tiedScores-&gt;pluck('rank')-&gt;min(); return $tiedScores-&gt;map(function ($rankedScore) use ($lowestRank) { return array_merge($rankedScore, [ 'rank' =&gt; $lowestRank ]); });}NhÃ¬n cÃ³ váº» Ä‘áº¹p hÆ¡n 1 chÃºt xÃ­u, NhÆ°ng chÃºng chÆ°a thá»±c sá»± giÃ u tÃ­nh biá»ƒu Ä‘áº¡t. 8. Grouping OperationsPháº§n map á»Ÿ trÃªn Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ gÃ¡n vÃ  khá»Ÿi táº¡o rank cho má»—i Ä‘iá»ƒm.1234567891011121314151617181920212223242526function rank_scores($scores){ return collect($scores) -&gt;sortByDesc('score') -&gt;zip(range(1, $scores-&gt;count())) -&gt;map(function ($scoreAndRank) { list($score, $rank) = $scoreAndRank; return array_merge($score, [ 'rank' =&gt; $rank ]); })/** -&gt;groupBy('score') -&gt;map(function ($tiedScores) { $lowestRank = $tiedScores-&gt;pluck('rank')-&gt;min(); return $tiedScores-&gt;map(function ($rankedScore) use ($lowestRank) { return array_merge($rankedScore, [ 'rank' =&gt; $lowestRank ]); }); }) -&gt;collapse() -&gt;sortBy('rank');}**/TÆ°Æ¡ng tá»± 3 bÆ°á»›c á»Ÿ dÆ°á»›i Ä‘ang chá»‰nh sá»­a rank cÃ³ cÃ¹ng Ä‘iá»ƒm sá»‘.1234567891011121314151617181920212223242526/**function rank_scores($scores){ return collect($scores) -&gt;sortByDesc('score') -&gt;zip(range(1, $scores-&gt;count())) -&gt;map(function ($scoreAndRank) { list($score, $rank) = $scoreAndRank; return array_merge($score, [ 'rank' =&gt; $rank ]); })**/ -&gt;groupBy('score') -&gt;map(function ($tiedScores) { $lowestRank = $tiedScores-&gt;pluck('rank')-&gt;min(); return $tiedScores-&gt;map(function ($rankedScore) use ($lowestRank) { return array_merge($rankedScore, [ 'rank' =&gt; $lowestRank ]); }); }) -&gt;collapse() -&gt;sortBy('rank');}ChÃºng ta cÃ³ thá»ƒ xá»­ chÃºng khÃ´ng nhá»‰? 9. Breaking the ChainNhÆ° Ä‘Ã£ nÃ³i á»Ÿ trÃªn, hÃ m assign_initial_rankings sáº½ cÃ³ dáº¡ng nhÆ° sau:1234567891011function assign_initial_rankings($scores){ return $scores-&gt;sortByDesc('score') -&gt;zip(range(1, $scores-&gt;count())) -&gt;map(function ($scoreAndRank) { list($score, $rank) = $scoreAndRank; return array_merge($score, [ 'rank' =&gt; $rank ]); });}VÃ  hÃ m adjust_rankings_for_ties:12345678function adjust_rankings_for_ties($scores){ return $scores-&gt;groupBy('score') -&gt;map(function ($tiedScores) { return apply_min_rank($tiedScores); }) -&gt;collapse();}Cáº£ 2 Ä‘á»u Ä‘Æ¡n giáº£n vÃ  dá»… dÃ ng Ä‘á»ƒ hiá»ƒu khi chÃºng ta tÃ¡ch ta nhÆ°ng chÃºng ta sáº½ káº¿t há»£p chÃºng vÃ o pipeline nhÆ° tháº¿ nÃ o? HÃ³a ra chÃºng lÃ  khÃ´ng thá»ƒ, chÃºng ta pháº£i ngáº¯t pipeline vÃ  sá»­ dá»¥ng biáº¿n táº¡m thá»i1234567function rank_scores($scores){ $rankedScores = assign_initial_rankings(collect($scores)); $adjustedScores = adjust_rankings_for_ties($rankedScores); return $adjustedScores-&gt;sortBy('rank');}NhÃ¬n hÆ¡i tÃ¹ nhá»‰. ChÃºng ta cÃ³ thá»ƒ thÃªm nhá»¯ng pháº§n nÃ y nhÆ° lÃ  cÃ¡c method vÃ o collection cá»§a chÃºng ta báº±ng cÃ¡ch sá»­ dá»¥ng macros nhÆ°ng chÃºng khÃ´ng thá»±c sá»± cÃ³ Ã½ nghÄ©a nhÆ° csac phÆ°Æ¡ng thá»©c cá»§a collection. Cáº£ 2 Ä‘á»u thá»±c hiá»‡n cÃ¡c má»¥c Ä‘Ã­ch khÃ¡c nhau vÃ  chÃºng khÃ´ng thá»±c sá»± thuá»™c vá» má»¥c Ä‘Ã­ch chung cá»§a cÃ¡c toÃ¡n tá»­ collection Máº¥t má»™t khoáº£ng thá»i gian dÃ i, tÃ´i chá»‰ cháº¥p nháº­n nhá»¯ng háº¡n cháº¿ nÃ y vÃ  thoÃ¡t nÃ³ ra khá»i pipeline khi tÃ´i cáº§n, nhÆ°ng gáº§n Ä‘Ã¢y tÃ´i Ä‘Ã£ váº¥p ngÃ£ trong 1 tiÃªu chuáº©n cÃ¡i mÃ  lÃ m cho tÃ´i lÃ m tá»‘t cáº£ 2 váº¥n Ä‘á» nÃ y. 10. The Pipe MacroChÃºng ta sáº½ cÃ³ macro Ä‘Æ¡n giáº£n nhÆ° sau:123Collection::macro('pipe', function ($callback) { return $callback($this);});Táº¥t cáº£ nÃ³ lÃ m lÃ  gá»i phÆ°Æ¡ng thá»©c pipe cÃ¡i mÃ  nháº­n vÃ o 1 callback, truyá»n collection vÃ o callack vÃ  tráº£ láº¡i káº¿t quáº£. Khi Ä‘Ã³ code sáº½ Ä‘Æ¡n giáº£n nhÆ° sau:1234567891011function rank_scores($scores){ return collect($scores) -&gt;pipe(function ($scores) { return assign_initial_rankings($scores); }) -&gt;pipe(function ($rankedScores) { return adjust_rankings_for_ties($rankedScores); }) -&gt;sortBy('rank');}NhÆ° váº­y chÃºng ta láº¡i nháº­n Ä‘Æ°á»£c 1 pipeline! PHP cho phÃ©p ta Ä‘á»‘i xá»­ vá»›i string nhÆ° lÃ  1 callback náº¿u nÃ³ trÃ¹ng vá»›i tÃªn function Do váº­y chÃºng ta tháº­m chÃ­ cho thá»ƒ viáº¿t:1234567function rank_scores($scores){ return collect($scores) -&gt;pipe('assign_initial_rankings') -&gt;pipe('adjust_rankings_for_ties') -&gt;sortBy('rank');}KhÃ´ng thá»ƒ cÃ³ nhiá»u biá»ƒu cáº£m hÆ¡n ná»¯a. VÃ  Ä‘Ã¢y lÃ  luá»“ng chung cá»§a cáº£ cÃ´ng viá»‡c phÃ¢n rank:123456789101112131415161718192021222324252627282930313233function rank_scores($scores){ return collect($scores) -&gt;pipe('assign_initial_rankings') -&gt;pipe('adjust_rankings_for_ties') -&gt;sortBy('rank');}function assign_initial_rankings($scores){ return $scores-&gt;sortByDesc('score') -&gt;zip(range(1, $scores-&gt;count())) -&gt;map(function ($scoreAndRank) { list($score, $rank) = $scoreAndRank; return array_merge($score, [ 'rank' =&gt; $rank ]); });}function adjust_rankings_for_ties($scores){ return $scores-&gt;groupBy('score')-&gt;map(function ($tiedScores) { return apply_min_rank($tiedScores); })-&gt;collapse();}function apply_min_rank($tiedScores){ $lowestRank = $tiedScores-&gt;pluck('rank')-&gt;min(); return $tiedScores-&gt;map(function ($rankedScore) use ($lowestRank) { return array_merge($rankedScore, [ 'rank' =&gt; $lowestRank ]); });}Tháº­t khÃ´ng tá»‡ vá»›i má»™t váº¥n Ä‘á» phá»©c táº¡p pháº£i khÃ´ng nÃ o!!!","link":"/2019/12/27/Collection-Practice-13-Ranking-a-Competition/"},{"title":"[Docker] Dockerfile instructions","text":"CÃ¹ng tÃ¬m hiá»ƒu má»™t vÃ i instructions Ä‘Æ°á»£c sá»­ dá»¥ng nhiá»u trong Dockerfile. Pháº§n nÃ y tÃ´i tá»•ng há»£p chá»§ yáº¿u tá»« Dockerfile best pratice luÃ´n, chá»‰ cÃ³ 1 Ã­t Ä‘Ã¡ kÃ© sang Dockerfile reference. Do Ä‘Ã³ náº¿u muá»‘n xem chi tiáº¿t instruction Ä‘Ã³ cÃº phÃ¡p vÃ  hoáº¡t Ä‘á»™ng chi tiáº¿t, hÃ£y vÃ o Dockerfile reference Ä‘á»ƒ Ä‘á»c. FROMImage Ä‘Æ°á»£c sá»­ dá»¥ng lÃ m basic. Báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng nÃ³ káº¿t há»£p vá»›i ARG. Tuy nhiÃªn, cÃ¡c ARG Ä‘Æ°á»£c khai bÃ¡o trÆ°á»›c FROM thÃ¬ sáº½ khÃ´ng Ä‘Æ°á»£c sá»­ dá»¥ng trong cÃ¡c bÆ°á»›c build tiáº¿p theo, do Ä‘Ã³ báº¡n cáº§n khai bÃ¡o láº¡i:1234ARG VERSION=latestFROM busybox:$VERSIONARG VERSIONRUN echo $VERSION &gt; image_versionChÃºng tÃ´i khuyÃªn báº¡n nÃªn sá»­ dá»¥ng cÃ¡c Alpine image vÃ¬ nÃ³ Ä‘Æ°á»£c kiá»ƒm soÃ¡t cháº·t cháº½ hÆ¡n, kÃ­ch thÆ°á»›c nhá» (dÆ°á»›i 5MB) so vá»›i cÃ¡c báº£n Linux Ä‘áº§y Ä‘á»§. LABELPháº§n nÃ y cÃ³ thá»ƒ sá»­ dá»¥ng Ä‘á»ƒ bá»• sung lÆ°u trá»¯ cÃ¡c thÃ´ng tin, thÃ´ng tin sá»Ÿ há»¯u hoáº·c báº¥t cá»© thÃ´ng tin gÃ¬ báº¡n muá»‘n mÃ´ táº£ thÃªm vá» docker. Khi sá»­ dá»¥ng string, nÃ³ cáº§n Ä‘áº·t trong dáº¥u â€œâ€ vÃ  cáº§n escape náº¿u kÃ­ tá»± Ä‘áº·c biá»‡t:123456# Set one or more individual labelsLABEL com.example.version=&quot;0.0.1-beta&quot;LABEL vendor1=&quot;ACME Incorporated&quot;LABEL vendor2=ZENITH\\ IncorporatedLABEL com.example.release-date=&quot;2015-02-12&quot;LABEL com.example.version.is-production=&quot;&quot; RUNRUN thÆ°á»ng sá»­ dá»¥ng Ä‘á»ƒ cÃ i pháº§n má»m hoáº·c package nhÆ° báº¡n cáº§n cÃ i trÃªn ubuntu áº¥y RUN sáº½ thá»±c thi 1 vÃ i lá»‡nh trÃªn 1 táº§ng má»›i á»Ÿ Ä‘áº§u image hiá»‡n táº¡i vÃ  commit káº¿t quáº£. Káº¿t quáº£ Ä‘Æ°á»£c ghi láº¡i vÃ  sá»­ dá»¥ng á»Ÿ cÃ¡c bÆ°á»›c tiáº¿p theo trong Dockerfile RUN sáº½ cÃ³ 2 cáº¥u trÃºc: RUN &lt;command&gt; (shell form, the command is run in a shell, which by default is /bin/sh -c on Linux or cmd /S /C on Windows) RUN [&quot;executable&quot;, &quot;param1&quot;, &quot;param2&quot;] (exec form) (Máº·c Ä‘á»‹nh thÃ¬ nÃ³ sáº½ lÃ  shell form) exec form cÅ©ng Ä‘Æ°á»£c sá»­ dá»¥ng nhiá»u, nÃ³ cÅ©ng cÃ³ thá»ƒ sá»­ dá»¥ng Ä‘á»ƒ cháº¡y shell form:1RUN [&quot;/bin/bash&quot;, &quot;-c&quot;, &quot;echo hello&quot;] Note: KhÃ´ng giá»‘ng nhÆ° shell form, exec form khÃ´ng gá»i 1 command shell. Äiá»u Ä‘Ã³ cÃ³ nghÄ©a cÃ¡c xá»­ lÃ½ shell thÃ´ng thÆ°á»ng sáº½ khÃ´ng diá»…n ra. VÃ­ dá»¥ RUN [ â€œechoâ€, â€œ$HOMEâ€ ] sáº½ khÃ´ng thay tháº¿ biáº¿n $HOME. Náº¿u báº¡n muá»‘n thá»±c thi shell thÃ¬ sá»­ dá»¥ng shell form hoáº·c thá»±c thi shell 1 cÃ¡ch trá»±c tiáº¿p, vÃ­ dá»¥ RUN [ â€œshâ€, â€œ-câ€, â€œecho $HOMEâ€ ]. Khi sá»­ dá»¥ng exec for vÃ  thá»±c thi shell trá»±c tiáº¿p nhÆ° shell form, nÃ³ lÃ  shell lÃ m viá»‡c vá»›i má»Ÿ rá»™ng vá»›i biáº¿n mÃ´i trÆ°á»ng chá»© khÃ´ng pháº£i docker. Note (Báº£n gá»‘c): Unlike the shell form, the exec form does not invoke a command shell. This means that normal shell processing does not happen. For example, RUN [ â€œechoâ€, â€œ$HOMEâ€ ] will not do variable substitution on $HOME. If you want shell processing then either use the shell form or execute a shell directly, for example: RUN [ â€œshâ€, â€œ-câ€, â€œecho $HOMEâ€ ]. When using the exec form and executing a shell directly, as in the case for the shell form, it is the shell that is doing the environment variable expansion, not docker. Cache cá»§a RUN khÃ´ng bá»‹ tá»± Ä‘á»™ng vÃ´ hiá»‡u trong quÃ¡ trÃ¬nh build tiáº¿p theo (tá»©c lÃ  Ä‘Æ°á»£c sá»­ dá»¥ng láº¡i). Cache cá»§a lá»‡nh RUN apt-get dist-upgrade -y sáº½ Ä‘Æ°á»£c sá»­ dá»¥ng láº¡i trong láº§n build tiáº¿p theo. Cache sáº½ vÃ´ hiá»‡u hÃ³a khi báº¡n build láº¡i vá»›i tÃ¹y chá»n --no-cache nhÆ° docker build --no-cache APT-GETÄa sá»‘ trÆ°á»ng há»£p sá»­ dá»¥ng RUN lÃ  Ä‘á»ƒ cháº¡y á»©ng dá»¥ng cá»§a apt-get. Bá»Ÿi vÃ¬ nÃ³ Ä‘á»ƒ cÃ i Ä‘áº·t cÃ¡c package cháº¡y lá»‡nh RUN apt-get, tuy nhiÃªn cÅ©ng cÃ³ 1 vÃ i chÃº Ã½ vá»›i lá»‡nh nÃ y: TrÃ¡nh RUN apt-get upgrade vÃ  dist-upgrade vÃ¬ nhiá»u package trong sá»‘ cÃ¡c package thiáº¿t yáº¿u cá»§a image cha khÃ´ng thá»ƒ nÃ¢ng cáº¥p bÃªn trong 1 container khÃ´ng cÃ³ Ä‘áº·c quyá»n. Náº¿u 1 package Ä‘Æ°á»£c chá»©a trong parent image Ä‘Ã£ out-of-date, liÃªn há»‡ Ä‘á»™i ngÅ© maintain nÃ³ HÃ£y sá»­ dá»¥ng káº¿t há»£p RUN apt-get update káº¿t há»£p vá»›i apt-get install nhÆ° vÃ­ dá»¥ sau: 1234567891011121314RUN apt-get update &amp;&amp; apt-get install -y \\ aufs-tools \\ automake \\ build-essential \\ curl \\ dpkg-sig \\ libcap-dev \\ libsqlite3-dev \\ mercurial \\ reprepro \\ ruby1.9.1 \\ ruby1.9.1-dev \\ s3cmd=1.1.* \\ &amp;&amp; rm -rf /var/lib/apt/lists/* Cháº¡y cÃ¡c lá»‡nh nhÆ° thá»±c thi trong container. Sá»­ dá»¥ng dáº¥u phÃ¢n cÃ¡ch Ä‘á»ƒ tÃ¡ch biá»‡t nhiá»u lá»‡nh trÃªn nhiá»u dÃ²ng cho dá»… Ä‘á»c vÃ  maintain: 12RUN /bin/bash -c 'source $HOME/.bashrc; \\ echo $HOME' USING PIPES Má»™t vÃ i lá»‡nh RUN phá»¥ thuá»™c vÃ o káº¿t quáº£ output cá»§a 1 vÃ i lá»‡nh khÃ¡c, lÃºc Ä‘Ã³, hÃ£y sá»­ dá»¥ng pipe (|)1RUN wget -O - https://some.site | wc -l &gt; /numberIf you want the command to fail due to an error at any stage in the pipe, prepend set -o pipefail &amp;&amp; to ensure that an unexpected error prevents the build from inadvertently succeeding. For example:1RUN set -o pipefail &amp;&amp; wget -O - https://some.site | wc -l &gt; /number Note: KhÃ´ng há»— trá»£ tÃ¹y chá»n -o pipefail CMDThe CMD instruction has three forms: CMD [&quot;executable&quot;,&quot;param1&quot;,&quot;param2&quot;] (exec form, this is the preferred form) CMD [&quot;param1&quot;,&quot;param2&quot;] (as default parameters to ENTRYPOINT) CMD command param1 param2 (shell form) Hai cÃ¡ch Ä‘áº§u thÆ°á»ng Ä‘Æ°á»£c sá»­ dá»¥ng nhiá»u, Ä‘áº·c biá»‡t lÃ  cÃ¡c sá»‘ 2. NÃ³ thÆ°á»ng káº¿t há»£p vá»›i ENTRYPOINT vÃ  báº¡n nÃªn Ä‘á»c á»Ÿ pháº§n sau. Lá»‡nh CMD nÃªn Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ cháº¡y pháº§n má»m Ä‘Æ°á»£c chá»©a trong image cá»§a báº¡n cÃ¹ng vá»›i 1 vÃ i tham sá»‘ (vÃ­ dá»± nhÆ° cháº¡y nodejs: node tenfile, hay php artisan serve trong Laravel áº¥y =)). CMD Ä‘a sá»‘ nÃªn Ä‘Æ°á»£c sá»­ dá»¥ng dÆ°á»›i dáº¡ng :1CMD [&quot;executable&quot;, &quot;param1&quot;, &quot;param2&quot;â€¦]VÃ­ dá»¥ nhÆ° apache1CMD [&quot;apache2&quot;,&quot;-DFOREGROUND&quot;]Trong Ä‘a sá»‘ cÃ¡c trÆ°á»ng há»£p khÃ¡c, CMD Ä‘Æ°á»£c sá»­ dá»¥ng nhÆ° 1 sá»± tÃ­ch há»£p shell, nhÆ° bash, python vÃ  perl. VÃ­ dá»¥ CMD [&quot;perl&quot;, &quot;-de0&quot;], CMD [&quot;python&quot;], or CMD [&quot;php&quot;, &quot;-a&quot;]. Sá»­ dá»¥ng cÃ¡c lá»‡nh nhÆ° trÃªn tÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i viá»‡c báº¡n thá»±c thi docker nhÆ° docker run -it python. CMD sáº½ ráº¥t hiáº¿m khi Ä‘Æ°á»£c sá»­ dá»¥ng theo cÃ¡ch CMD [&quot;param&quot;, &quot;param&quot;] káº¿t há»£p vá»›i ENTRYPOINT, trá»« khi báº¡n vÃ  ngÆ°á»i dÃ¹ng Ä‘Ã£ quÃ¡ khen thuá»™c vá»›i cÃ¡ch sá»­ dá»¥ng ENTRYPOINT hoáº¡t Ä‘á»™ng nhÆ° tháº¿ nÃ o EXPOSE1EXPOSE &lt;port&gt; [&lt;port&gt;/&lt;protocol&gt;...] BÃ¬nh thÆ°á»ng cÃ¡c Docker container hoáº¡t Ä‘á»™ng Ä‘á»™c láº­p, khÃ´ng chia sáº½ cho nhau cÃ¡i gÃ¬, ai biáº¿t nhÃ  náº¥y (MySQL biáº¿t MySQL, Nginx biáº¿t Nginx, khÃ´ng má»Ÿ láº¯ng nghe káº¿t ná»‘i tá»« Ä‘Ã¢u Ä‘áº¿n). NhÆ°ng nhÆ° váº­y khÃ´ng á»•n, chÃºng cáº§n láº¯ng nghe vÃ  káº¿t ná»‘i vá»›i nhau Ä‘á»ƒ táº¡o Ä‘Æ°á»£c 1 á»©ng dá»¥ng. EXPOSE giÃºp chÃºng ta lÃ m viá»‡c nÃ y. Lá»‡nh EXPOSE chá»‰ ra cá»•ng nÃ o mÃ  1 container láº¯ng nghe káº¿t ná»‘i. Do Ä‘Ã³ báº¡n nÃªn sá»­ dá»¥ng cÃ¡c cá»•ng truyá»n thá»‘ng vÃ  chung nháº¥t cho á»©ng dá»¥ng cá»§a mÃ¬nh. VÃ­ dá»¥ nhÆ° Apache sáº½ EXPOSE cá»•ng 80 trong khi image cá»§a MongoDB sáº½ sá»­ dá»¥ng EXPOSE 27017 12EXPOSE 80/tcpEXPOSE 80/udp Äá»ƒ truy cáº­p bÃªn ngoÃ i (nhÆ° local machine cháº³ng háº¡n), báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng docker run vá»›i vá»›i Ã¡nh xáº¡ cá»•ng Ä‘Æ°á»£c chá»‰ Ä‘á»‹nh Ä‘áº¿n cá»•ng mÃ  báº¡n lá»±a chá»n, vá»›i tÃ¹y chá»n -p. Äá»‘i vá»›i cÃ¡c conatianer liÃªn káº¿t vá»›i nhau, Docker cung cáº¥p cÃ¡c biáº¿n mÃ´i trÆ°á»ng Ä‘á»‘i vá»›i Ä‘Æ°á»ng dáº«n tá»« container nháº­n Ä‘Æ°á»£c trá»Ÿ vá» container nguá»“n (vÃ­ dá»¥ nhÆ° biáº¿n MYSQL_PORT_3306_TCP). 1docker run -p 80:80/tcp -p 80:80/udp ... It functions as a type of documentation between the person who builds the image and the person who runs the container, about which ports are intended to be published. Giáº£i thÃ­ch: EXPOSE cÃ³ thá»ƒ cÃ³ hoáº·c khÃ´ng, container cá»§a báº¡n váº«n cháº¡y vÃ  cÃ³ thá»ƒ váº«n Ä‘Æ°á»£c expose bÃ¬nh thÆ°á»ng vá»›i docker-compose. Tuy nhiÃªn hÃ£y thÃªm nÃ³, vÃ¬ cÅ©ng cháº³ng tá»‘n cÃ´ng gÃ¬, vÃ  coi nÃ³ nhÆ° 1 dáº¡ng cá»§a tÃ i liá»‡u truyá»n Ä‘áº¡t thÃ´ng tin giá»¯a ngÆ°á»i xÃ¢y dá»±ng container vÃ  ngÆ°á»i cháº¡y container, vá» nhá»¯ng cá»•ng nÃ o mÃ  sáº½ Ä‘Æ°á»£c publish ENV12ENV &lt;key&gt; &lt;value&gt;ENV &lt;key&gt;=&lt;value&gt; ... Cho phÃ©p pháº§n má»m cá»§a báº¡n dá»… dÃ ng cháº¡y, báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng ENV cáº­p nháº­t PATH trong biáº¿n mÃ´i trÆ°á»ng cho nhá»¯ng pháº§n má»m Ä‘Æ°á»£c cÃ i trong container. VÃ­ dá»¥ ENV PATH /usr/local/nginx/bin:$PATH Ä‘á»ƒ cháº¯c cháº¯n ráº±ng CMD [&quot;nginx&quot;] hoáº¡t Ä‘á»™ng. Lá»‡nh ENV cÅ©ng há»¯u Ã­ch khi cung cáº¥p cÃ¡c biáº¿n mÃ´i trÆ°á»ng cho báº¡n, nhÆ° cÃ¡c const trong khi láº­p trÃ¬nh, hoáº·c cÃ¡c phiÃªn báº£n Ä‘á»ƒ báº¡n dá»… dÃ ng báº£o trÃ¬ hÆ¡n:1234ENV PG_MAJOR 9.3ENV PG_VERSION 9.3.4RUN curl -SL http://example.com/postgres-$PG_VERSION.tar.xz | tar -xJC /usr/src/postgress &amp;&amp; â€¦ENV PATH /usr/local/postgres-$PG_MAJOR/bin:$PATH Má»—i dÃ²ng ENV táº¡o 1 ra 1 táº§ng trung gian má»›i, tÆ°Æ¡ng tá»± nhÆ° RUN. Äiá»u Ä‘Ã³ cÃ³ nghÄ©a, tháº­m chÃ­ báº¡n Ä‘Ã£ unset biáº¿n mÃ´i trÆ°á»ng á»Ÿ 1 táº§ng nÃ o Ä‘Ã³ trong tÆ°Æ¡ng lai, nÃ³ váº«n tá»“n táº¡i á»Ÿ layer nÃ y vÃ  giÃ¡ trá»‹ cá»§a nÃ³ khÃ´ng bá»‹ há»§y bá». Báº¡n cÃ³ thá»ƒ build Dockerfile sau vÃ  kiá»ƒm tra nÃ³1234FROM alpineENV ADMIN_USER=&quot;mark&quot;RUN echo $ADMIN_USER &gt; ./markRUN unset ADMIN_USER123$ docker run --rm test sh -c 'echo $ADMIN_USER'markÄá»ƒ ngÄƒn cháº·n viá»‡c nÃ y, hÃ£y xá»­ nÃ³ á»Ÿ chÃ­nh layer Ä‘Æ¡n Ä‘Ã³ báº±ng ; hoáº·c &amp;&amp;12345FROM alpineRUN export ADMIN_USER=&quot;mark&quot; \\ &amp;&amp; echo $ADMIN_USER &gt; ./mark \\ &amp;&amp; unset ADMIN_USERCMD sh1$ docker run --rm test sh -c 'echo $ADMIN_USER' ADD or COPY12ADD [--chown=&lt;user&gt;:&lt;group&gt;] &lt;src&gt;... &lt;dest&gt;ADD [--chown=&lt;user&gt;:&lt;group&gt;] [&quot;&lt;src&gt;&quot;,... &quot;&lt;dest&gt;&quot;] (this form is required for paths containing whitespace) Cáº£ 2 lá»‡nh nÃ y Ä‘á»u thá»±c hiá»‡n copy new files, thÆ° má»¥c tá»« &lt;src&gt; vÃ  thÃªm nÃ³ vÃ o thÆ° má»¥c filesystem &lt;dest&gt; trong image. The ADD instruction copies new files, directories or remote file URLs from &lt;src&gt; and adds them to the filesystem of the image at the path &lt;dest&gt;. The COPY instruction copies new files or directories from &lt;src&gt; and adds them to the filesystem of the container at the path &lt;dest&gt;. Máº·c dÃ¹ nhÃ¬n thÃ¬ ADD vÃ  COPY tÆ°Æ¡ng tá»± vá» chá»©c nÄƒng, nhÆ°ng nÃ³i chung COPY váº«n Ä‘Æ°á»£c Æ°a chuá»™ng hÆ¡n. ÄÃ³ lÃ  bá»Ÿi vÃ¬ nÃ³ minh báº¡ch nhiá»u hÆ¡n ADD. COPY chá»‰ há»— trá»£ cÃ¡c phÃ©p sao chÃ©p cÆ¡ báº£n cÃ¡c file local vÃ o trong container trong khi ADD cÃ³ 1 vÃ i chá»©c nÄƒng (nhÆ° giáº£i nÃ©n file tar, remote URL support) cÃ¡i mÃ  khÃ´ng Ä‘Æ°á»£c minh báº¡ch ngay láº­p tá»©c. Do Ä‘Ã³, cÃ¡ch sá»­ dá»¥ng tá»‘t nháº¥t cho ADD lÃ  tá»± Ä‘á»™ng trÃ­ch xuÃ¢t tá»‡p tar local vÃ o image nhÆ° ADD rootfs.tar.xz / Náº¿u báº¡n cÃ³ nhiá»u bÆ°á»›c trong Dockerfile sá»­ dá»¥ng cÃ¡c file khÃ¡c nhau trong context cá»§a báº¡n, COPY tá»«ng file má»™t hÆ¡n lÃ  copy táº¥t cáº£ trong 1 láº§n. Äiá»u nÃ y Ä‘á»ƒ cháº¯c cháº¯n ráº±ng má»—i bÆ°á»›c build, cache sáº½ bá»‹ vÃ´ hiá»‡u hÃ³a (buá»™c cÃ¡c bÆ°á»›c nÃ y pháº£i cháº¡y láº¡i) náº¿u cÃ¡c tá»‡p Ä‘Æ°á»£c yÃªu cáº§u cá»¥ thá»ƒ thay Ä‘á»•i (thay vÃ¬ cháº¡y láº¡i háº¿t mÃ  1 file cÃ³ thá»ƒ khÃ´ng liÃªn quan thay Ä‘á»•i). VÃ­ dá»¥:123COPY requirements.txt /tmp/RUN pip install --requirement /tmp/requirements.txtCOPY . /tmp/Káº¿t quáº£ viá»‡c vÃ´ hiá»‡u hÃ³a cache cá»§a RUN sáº½ Ã­t hÆ¡n báº¿n báº¡n Ä‘áº·t COPY . /tmp/ trÆ°á»›c nÃ³ (vÃ¬ khi thay Ä‘á»•i requirements.txt má»›i bá»‹ vÃ´ hiá»‡u hÃ³a cache. Báº¡n Ä‘áº·t COPY . /tmp/ trÆ°á»›c thÃ¬ thay Ä‘á»•i báº¥t kÃ¬ file nÃ o Ä‘á»u vÃ´ hiá»‡u hÃ³a cache) Do váº¥n Ä‘á» kÃ­ch thÆ°á»›c (size) cá»§a image, viá»‡c sá»­ dá»¥ng ADD Ä‘á»ƒ náº¡p cÃ¡c package tá»« remote URLs KHÃ”NG Ä‘Æ°á»£c khuyáº¿n khÃ­ch. Thay vÃ o Ä‘Ã³, báº¡n nÃªn sá»­ dá»¥ng curl hoáº·c wget. VÃ  báº±ng cÃ¡ch nÃ y, báº¡n cÃ³ thá»ƒ xÃ³a file Ä‘i sau khi báº¡n giáº£i nÃ©n vÃ  sá»­ dá»¥ng Ä‘á»ƒ khÃ´ng áº£nh hÆ°á»Ÿng Ä‘áº¿n cÃ¡c layer khÃ¡c trong image. VÃ­ dá»¥ thay vÃ¬ nhÆ° váº­y:123ADD http://example.com/big.tar.xz /usr/src/things/RUN tar -xJf /usr/src/things/big.tar.xz -C /usr/src/thingsRUN make -C /usr/src/things allThÃ¬ báº¡n nÃªn:1234RUN mkdir -p /usr/src/things \\ &amp;&amp; curl -SL http://example.com/big.tar.xz \\ | tar -xJC /usr/src/things \\ &amp;&amp; make -C /usr/src/things all ENTRYPOINTENTRYPOINT cÃ³ 2 kiá»ƒu: ENTRYPOINT [&quot;executable&quot;, &quot;param1&quot;, &quot;param2&quot;] (exec form, preferred) ENTRYPOINT command param1 param2 (shell form) Má»™t ENTRYPOINT cho phÃ©p báº¡n cáº¥u hÃ¬nh Ä‘á»ƒ thá»±c thi container VÃ­ dá»¥ start nginx vá»›i cá»•ng 80:1docker run -i -t --rm -p 80:80 nginxdocker run &lt;image&gt; sáº½ Ä‘Æ°á»£c thÃªm vÃ o sau táº¥t cáº£ cÃ¡c thÃ nh pháº§n vá»›i exec form ENTRYPOINT vÃ  sáº½ ghi Ä‘Ã¨ táº¥t cáº£ cÃ¡c thÃ nh pháº§n Ä‘Æ°á»£c chá»‰ Ä‘á»‹nh sá»­ dá»¥ng CMD shell form cháº·n 1 vÃ i CMD hoáº·c lá»‡nh run vá»›i 1 vÃ i tham sá»‘ nhÆ°ng nhÆ°á»£c Ä‘iá»ƒm cá»§a kiá»ƒu ENTRYPOINT nÃ y sáº½ báº¯t Ä‘áº§u nhÆ° lÃ  1 subcommand cá»§a /bin/sh -c, cÃ¡i mÃ  sáº½ khÃ´ng cÃ³ tÃ­n hiá»‡u. Äiá»u Ä‘Ã³ cÃ³ nghÄ©a thá»±c thi nÃ y sáº½ khÃ´ng pháº£i lÃ  PID cá»§a container 1 vÃ  sáº½ khÃ´ng nháº­n Ä‘Æ°á»£c cÃ¡c tÃ­n hiá»‡u tá»« Unix - do Ä‘Ã³ sá»± thá»±c thi container nÃ y sáº½ khÃ´ng nháº­n má»™t SIGTERM tá»« docker stop &lt;container&gt; Chá»‰ lá»‡nh ENTRYPOINT cuá»‘i cÃ¹ng trong Dockerfile lÃ  cÃ³ hiá»‡u lá»±c. Exec form ENTRYPOINT exampleBáº¡n cÃ³ thá»ƒ sá»­ dá»¥ng exec form cá»§a ENTRYPOINT Ä‘á»ƒ thiáº¿t láº­p lá»‡nh máº·c Ä‘á»‹nh vÃ  cÃ¡c Ä‘á»‘i sá»‘ vÃ  sau Ä‘Ã³ sá»­ dá»¥ng CMD Ä‘á»ƒ thiáº¿t láº­p thÃªm cÃ¡c tham sá»‘ cÃ³ nhiá»u kháº£ nÄƒng thay Ä‘á»•i 123FROM ubuntuENTRYPOINT [&quot;top&quot;, &quot;-b&quot;]CMD [&quot;-c&quot;] VÃ  khi báº¡n cháº¡y container, báº¡n sáº½ nhÃ¬n tháº¥y top chá»‰ lÃ  1 tiáº¿n trÃ¬nh:123456789$ docker run -it --rm --name test top -Htop - 08:25:00 up 7:27, 0 users, load average: 0.00, 0.01, 0.05Threads: 1 total, 1 running, 0 sleeping, 0 stopped, 0 zombie%Cpu(s): 0.1 us, 0.1 sy, 0.0 ni, 99.7 id, 0.0 wa, 0.0 hi, 0.0 si, 0.0 stKiB Mem: 2056668 total, 1616832 used, 439836 free, 99352 buffersKiB Swap: 1441840 total, 0 used, 1441840 free. 1324440 cached MemPID USER PR NI VIRT RES SHR S %CPU %MEM TIME+ COMMAND1 root 20 0 19744 2336 2080 R 0.0 0.1 0:00.04 topÄá»ƒ xem káº¿t quáº£ nhiá»u hÆ¡n ná»¯a, báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng docker exec1234$ docker exec -it test ps auxUSER PID %CPU %MEM VSZ RSS TTY STAT START TIME COMMANDroot 1 2.6 0.1 19752 2352 ? Ss+ 08:24 0:00 top -b -Hroot 7 0.0 0.1 15572 2164 ? R+ 08:25 0:00 ps auxVÃ  báº¡n cÃ³ thá»ƒ gá»­i 1 request top Ä‘á»ƒ táº¯t docker Ä‘ang sá»­ dá»¥ng Ä‘i docker stop test. Má»™t vÃ­ dá»¥ khÃ¡c sá»­ dá»¥ng ENTRYPOINT Ä‘á»ƒ cháº¡y Apache: 12345FROM debian:stableRUN apt-get update &amp;&amp; apt-get install -y --force-yes apache2EXPOSE 80 443VOLUME [&quot;/var/www&quot;, &quot;/var/log/apache2&quot;, &quot;/etc/apache2&quot;]ENTRYPOINT [&quot;/usr/sbin/apache2ctl&quot;, &quot;-D&quot;, &quot;FOREGROUND&quot;] Náº¿u báº¡n cáº§n viáº¿t 1 script khá»Ÿi Ä‘á»™ng cá»§a 1 sá»± thá»±c thi Ä‘Æ¡n, báº¡n cÃ³ thá»ƒ cháº¯c cháº¯n ráº±ng lá»‡nh cuá»‘i cÃ¹ng nháº­n Ä‘Æ°á»£c tÃ­n hiá»‡u Unix báº±ng cÃ¡ch sá»­ dá»¥ng exec vÃ  gosu commands1234567891011121314#!/usr/bin/env bashset -eif [ &quot;$1&quot; = 'postgres' ]; then chown -R postgres &quot;$PGDATA&quot; if [ -z &quot;$(ls -A &quot;$PGDATA&quot;)&quot; ]; then gosu postgres initdb fi exec gosu postgres &quot;$@&quot;fiexec &quot;$@&quot;Cuá»‘i cÃ¹ng, náº¿u báº¡n cáº§n thÃªm 1 sá»‘ sá»± dá»n dáº¹p (hoáº·c káº¿t ná»‘i vá»›i container khÃ¡c) khi shutdown hoáº·c Ä‘ang cÃ³ nhiá»u hÆ¡n 1 sá»± thá»±c thi, báº¡n cÃ³ thá»ƒ cáº§n cháº¯c cháº¯n ráº±ng script ENTRYPOINT nháº­n Unix signals, vÆ°á»£t qua chÃºng vÃ  sau Ä‘Ã³ thá»±c hiá»‡n 1 sá»‘ cÃ´ng viá»‡c khÃ¡c:123456789101112131415161718#!/bin/sh# Note: I've written this using sh so it works in the busybox container too# USE the trap if you need to also do manual cleanup after the service is stopped,# or need to start multiple services in the one containertrap &quot;echo TRAPed signal&quot; HUP INT QUIT TERM# start service in background here/usr/sbin/apachectl startecho &quot;[hit enter key to exit] or run 'docker stop &lt;container&gt;'&quot;read# stop service and clean up hereecho &quot;stopping apache&quot;/usr/sbin/apachectl stopecho &quot;exited $0&quot;If you run this image with docker run -it --rm -p 80:80 --name test apache, you can then examine the containerâ€™s processes with docker exec, or docker top, and then ask the script to stop Apache:123456789101112131415161718$ docker exec -it test ps auxUSER PID %CPU %MEM VSZ RSS TTY STAT START TIME COMMANDroot 1 0.1 0.0 4448 692 ? Ss+ 00:42 0:00 /bin/sh /run.sh 123 cmd cmd2root 19 0.0 0.2 71304 4440 ? Ss 00:42 0:00 /usr/sbin/apache2 -k startwww-data 20 0.2 0.2 360468 6004 ? Sl 00:42 0:00 /usr/sbin/apache2 -k startwww-data 21 0.2 0.2 360468 6000 ? Sl 00:42 0:00 /usr/sbin/apache2 -k startroot 81 0.0 0.1 15572 2140 ? R+ 00:44 0:00 ps aux$ docker top testPID USER COMMAND10035 root {run.sh} /bin/sh /run.sh 123 cmd cmd210054 root /usr/sbin/apache2 -k start10055 33 /usr/sbin/apache2 -k start10056 33 /usr/sbin/apache2 -k start$ /usr/bin/time docker stop testtestreal 0m 0.27suser 0m 0.03ssys 0m 0.03s Má»™t vÃ i chÃº Ã½ tÆ°Æ¡ng tá»± RUN Note: The exec form is parsed as a JSON array, which means that you must use double-quotes (â€œ) around words not single-quotes (â€˜). Note: Unlike the shell form, the exec form does not invoke a command shell. This means that normal shell processing does not happen. For example, ENTRYPOINT [ â€œechoâ€, â€œ$HOMEâ€ ] will not do variable substitution on $HOME. If you want shell processing then either use the shell form or execute a shell directly, for example: ENTRYPOINT [ â€œshâ€, â€œ-câ€, â€œecho $HOMEâ€ ]. When using the exec form and executing a shell directly, as in the case for the shell form, it is the shell that is doing the environment variable expansion, not docker. Shell form ENTRYPOINT exampleThá»±c thi cÃ¡c lá»‡nh shell Understand how CMD and ENTRYPOINT interactCáº£ CMD vÃ  ENTRYPOINT Ä‘á»u Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ Ä‘á»‹nh nghÄ©a ra cÃ¡c lá»‡nh sáº½ Ä‘Æ°á»£c thá»±c thi Ä‘á»ƒ cháº¡y container. Tuy nhiÃªn cÃ³ 1 vÃ i rules káº¿t há»£p 2 lá»‡nh nÃ y báº¡n cáº§n biáº¿t: Dockerfile nÃªn chá»‰ cÃ³ 1 lá»‡nh CMD hoáº·c ENTRYPOINT ENTRYPOINT nÃªn Ä‘Æ°á»£c xÃ¡c Ä‘á»‹nh khi sá»­ dá»¥ng container nhÆ° lÃ  má»™t thá»±c thi. CMD nÃªn Ä‘Æ°á»£c sá»­ dá»¥ng nhÆ° 1 cÃ¡ch Ä‘á»‹nh nghÄ©a cÃ¡c Ä‘á»‘i sá»‘ máº·c Ä‘á»‹nh cá»§a 1 ENTRYPOINT hoáº·c lÃ  Ä‘á»ƒ thá»±c thi 1 ad-hoc comamnd trong 1 container CMD sáº½ bá»‹ ghi Ä‘Ã¨ khi cháº¡y container vá»›i cÃ¡c Ä‘á»‘i sá»‘ thay tháº¿ Báº£ng sau sáº½ chá»‰ ra lá»‡nh Ä‘Æ°á»£c thá»±c thi thá»±c sá»± cho má»—i sá»± káº¿t há»£p ENTRYPOINT / CMD ChÃº Ã½: Náº¿u CMD Ä‘Æ°á»£c xÃ¡c Ä‘á»‹nh tá»« 1 base image, setting ENTRYPOINT sáº½ reset CMD vá» 1 giÃ¡ trá»‹ trá»‘ng. Trong trÆ°á»ng há»£p nÃ y, CMD cáº§n pháº£i Ä‘Æ°á»£c xÃ¡c Ä‘á»‹nh trong current image Ä‘á»ƒ cÃ³ giÃ¡ trá»‹ VOLUMEThe VOLUME instruction creates a mount point with the specified name and marks it as holding externally mounted volumes from native host or other containers Lá»‡nh nÃ y Ä‘á»ƒ táº¡o 1 Ä‘iá»ƒm liÃªn káº¿t (mount point) vá»›i tÃªn rÃµ rÃ ng vÃ  Ä‘Ã¡nh dáº¥u nÃ³ nhÆ° lÃ  nÆ¡i lÆ°u trá»¯ volumes Ä‘Æ°á»£c mount ra ngoÃ i tá»« host lÆ°u trá»¯ hoáº·c containers khÃ¡c. GiÃ¡ trá»‹ cá»§a nÃ³ cÃ³ thá»ƒ lÃ  máº£ng JSON VOLUME [&quot;/var/log/&quot;] hoáº·c plain string vá»›i nhiá»u Ä‘á»‘i sá»‘ nhÆ° VOLUME /var/log or VOLUME /var/log /var/db Lá»‡nh docker run khá»Ÿi táº¡o 1 volume Ä‘Æ°á»£c táº¡o má»›i vá»›i 1 vÃ i dá»¯ liá»‡u Ä‘Ã£ tá»“n táº¡i trong location Ä‘Æ°á»£c chá»‰ Ä‘á»‹nh tá»« base image. VÃ­ dá»¥:1234FROM ubuntuRUN mkdir /myvolRUN echo &quot;hello world&quot; &gt; /myvol/greetingVOLUME /myvolKáº¿t quáº£ Dockerfile trong 1 image khi cháº¡y docker run táº¡o ra 1 Ä‘iá»ƒm liÃªn káº¿t táº¡i thÆ° má»¥c /myvol vÃ  copy greeting file vÃ o trong volumn Ä‘Æ°á»£c táº¡o má»›i Ä‘Ã³. Notes about specifying volumes Volumes on Windows-based containers: Khi sá»­ dá»¥ng Windows-based containers, Ä‘Ã­ch cá»§a 1 volumn trong 1 container pháº£i lÃ  1 trong: a non-existing or empty directory a drive other than C: Changing the volume from within the Dockerfile: Náº¿u 1 vÃ i bÆ°á»›c build thay Ä‘á»•i dá»¯ liá»‡u bÃªn trong volumne sau khi nÃ³ Ä‘Æ°á»£c khai bÃ¡o, cÃ¡c thay Ä‘á»•i nÃ y sáº½ bá»‹ loáº¡i bá»(Hiá»ƒu lÃ  Ä‘Ã£ VOLUMNE rá»“i mÃ  lá»‡nh sau trong Dockerfile thay Ä‘á»•i file trong thÆ° má»¥c Ä‘Ã³ ná»¯a thÃ¬ khÃ´ng Ä‘Æ°á»£c cáº­p nháº­t Ä‘Ã¢u :D =&gt; chÆ°a thá»­) JSON formatting: Khi sá»­ dá»¥ng JSON array báº¡n pháº£i sá»­ dá»¥ng dáº¥u nhÃ¡y kÃ©p â€œ thay vÃ¬ nhÃ¡y Ä‘Æ¡n â€˜ The host directory is declared at container run-timer: ThÆ° má»¥c host (mountpoint) vá» báº£n cháº¥t, phá»¥ thuá»™c vÃ o host (host-dependent). Äiá»u nÃ y Ä‘á»ƒ báº£o vá»‡ tÃ­nh di Ä‘á»™ng cá»§a image, vÃ¬ má»™t thÆ° má»¥c cá»§a host khÃ´ng thá»ƒ Ä‘áº£m báº£o ráº±ng nÃ³ Ä‘Ã£ cÃ³ trÃªn táº¥t cáº£ cÃ¡c hosts. VÃ¬ lÃ­ do nÃ y, báº¡n khÃ´ng thá»ƒ mount 1 thÆ° má»¥c host tá»« trong Dockerfile. Lá»‡nh VOLUME khÃ´ng há»— trá»£ viá»‡c chá»‰ Ä‘á»‹nh má»™t tham sá»‘ host-dir. Báº¡n pháº£i chá»‰ Ä‘á»‹nh mountpoint Ä‘Æ°á»£c báº¡n táº¡o ra hoáº·c khi cháº¡y container (tÃ´i Ä‘ang hiá»ƒu pháº§n nÃ y lÃ  cÃ¡c thÆ° má»¥c cÃ³ sáºµn cá»§a host thÃ¬ khÃ´ng mount Ä‘Æ°á»£c, vÃ­ dá»¥ nhÆ° khÃ´ng mount thÆ° má»¥c /var tá»« container ubuntu sang Ä‘Æ°á»£c vÃ¬ nÃ³ thuá»™c vá» host, chá»‰ mount nhá»¯ng file, thÆ° má»¥c mÃ¬nh táº¡o ra thÃ´i :D) USER12USER &lt;user&gt;[:&lt;group&gt;] orUSER &lt;UID&gt;[:&lt;GID&gt;] Lá»‡nh nÃ y táº¡o táº­p ngÆ°á»i dÃ¹ng (hoáº·c UID) vÃ  nhÃ³m ngÆ°á»i dÃ¹ng (GID) Ä‘á»ƒ sá»­ dá»¥ng khi cháº¡y image cho cÃ¡c lá»‡nh RUN, CMD vÃ  ENTRYPOINT trong Dockerfile Warning: When the user doesnâ€™t have a primary group then the image (or the next instructions) will be run with the root group. On Windows, the user must be created first if itâ€™s not a built-in account. This can be done with the net user command called as part of a Dockerfile. 12345FROM microsoft/windowsservercore# Create Windows user in the containerRUN net user /add patrick# Set it for subsequent commandsUSER patrick WORKDIR1WORKDIR /path/to/workdir Lá»‡nh nÃ y chá»‰ ra táº­p cÃ¡c thÆ° má»¥c Ä‘á»ƒ lÃ m viá»‡c vá»›i cÃ¡c lá»‡nh RUN, CMD, ENTRYPOINT, COPY vÃ  ADD trong Dockerfile. Náº¿u WORKDIR khÃ´ng tá»“n táº¡i, nÃ³ sáº½ Ä‘Æ°á»£c táº¡o tháº­m chÃ­ náº¿u nÃ³ khÃ´ng Ä‘Æ°á»£c sá»­ dá»¥ng trong 1 cÃ¡c bÆ°á»›c cá»§a Dockerfile. Lá»‡nh WORKDIR cÃ³ thá»ƒ sá»­ dá»¥ng nhiá»u láº§n trong 1 Dockerfile. Náº¿u lÃ  má»™t Ä‘Æ°á»ng dáº«n tuyá»‡t Ä‘á»‘i, nÃ³ sáº½ cÃ³ liÃªn quan Ä‘áº¿n Ä‘Æ°á»ng dáº«n cá»§a lá»‡nh WORKDIR trÆ°á»›c Ä‘Ã³ VÃ­ dá»¥:1234WORKDIR /aWORKDIR bWORKDIR cRUN pwdThÃ¬ lá»‡nh pwd sáº½ Ä‘Æ°á»£c thá»±c thi trong thÆ° má»¥c /a/b/c Lá»‡nh WORKDIR cÃ³ thá»ƒ phÃ¢n giáº£i Ä‘Æ°á»£c cÃ¡c biáº¿n mÃ´i trÆ°á»ng sá»­ dá»¥ng bá»Ÿi ENV123ENV DIRPATH /pathWORKDIR $DIRPATH/$DIRNAMERUN pwd ARG1ARG &lt;name&gt;[=&lt;default value&gt;] Sá»­ dá»¥ng Ä‘á»ƒ Ä‘á»‹nh nghÄ©a cÃ¡c biáº¿n mÃ  ngÆ°á»i dÃ¹ng cÃ³ thá»ƒ truyá»n Ä‘á»™ng khi build vá»›i lá»‡nh docker build sá»­ dá»¥ng flag â€“build-arg =. Hoáº·c cÃ³ thá»ƒ sá»­ dá»¥ng trong Dockerfile1234FROM busyboxARG user1ARG buildno... Tá»•ng káº¿t FROM chá»‰ ra chÃºng ta base image chÃºng ta sá»­ dá»¥ng, LABEL bá»• sung cÃ¡c thÃ´ng tin liÃªn quan Ä‘áº¿n báº£n quyá»n, bá»• sung thÃ´ng tin RUN Ä‘Æ°á»£c sá»­ dá»¥ng káº¿t há»£p apt-get, thÆ°á»ng Ä‘Æ°á»£c sá»­ dá»¥ng cÃ i Ä‘áº·t package. NgoÃ i ra nÃ³ cÅ©ng Ä‘Æ°á»£c sá»­ dá»¥ng cháº¡y cÃ¡c bash hoáº·c cÃ¡c php, go, python script ENV sá»­ dá»¥ng Ä‘á»ƒ gÃ¡n cÃ¡c biáº¿n CONST nhÆ° láº­p trÃ¬nh, nhÆ° váº­y code cá»§a báº¡n sáº½ dá»… dÃ ng theo dÃµi hÆ¡n. CMD vÃ  ENTRYPOINT Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ cháº¡y cÃ¡c lá»‡nh báº­t container cá»§a báº¡n (nhÆ° báº­t Apache2, nginx, nodejs â€¦) Má»™t container Ä‘Æ°á»£c táº¡o ra sáº½ Ä‘á»™c láº­p vá»›i cÃ¡c container khÃ¡c. Do Ä‘Ã³ cáº§n cÃ³ 1 sá»‘ tham sá»‘ Ä‘á»ƒ giao tiáº¿p vá»›i nhau EXPOSE: má»Ÿ 1 cá»•ng láº¯ng nghe káº¿t ná»‘i ra bÃªn ngoÃ i VOLUME: chia sáº» file, thÆ° má»¥c ra ngoÃ i host hoáº·c cÃ¡c container khÃ¡c ADD, COPY: copy thÆ° má»¥c tá»« host vÃ o container RUN, ENTRYPOINT, CMD cÃ³ 2 dáº¡ng vÃ  exec form vÃ  shell form. (CMD cÃ³ thÃªm 1 dáº¡ng ná»¯a chá»‰ nháº­n tham sá»‘ tá»« ENTRYPOINT). ChÃºng ta thá»­ xem 2 form nÃ y cÃ³ gÃ¬ khÃ¡c biá»‡t nhÃ©: Exec form rá»™ng hÆ¡n shell form, trá» Ä‘Æ°á»£c thÆ° má»¥c nÃ o Ä‘á»ƒ thá»±c thi lá»‡nh. Shell form lá»‡nh sáº½ cháº¡y trong 1 shell, cÃ¡i mÃ  Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a lÃ  /bin/sh -c trÃªn Linux hoáº·c cmd /S /C trÃªn Windows123# Shell formRUN /bin/bash -c 'source $HOME/.bashrc; \\echo $HOME'123456# Exec formFROM debian:stableRUN apt-get update &amp;&amp; apt-get install -y --force-yes apache2EXPOSE 80 443VOLUME [&quot;/var/www&quot;, &quot;/var/log/apache2&quot;, &quot;/etc/apache2&quot;]ENTRYPOINT [&quot;/usr/sbin/apache2ctl&quot;, &quot;-D&quot;, &quot;FOREGROUND&quot;Shell cÅ©ng cÃ³ thá»ƒ sá»­ dá»¥ng tá»« exec form1RUN [&quot;/bin/bash&quot;, &quot;-c&quot;, &quot;echo hello&quot;]VÃ  má»™t note ná»¯a lÃ  dÃ¹ng exec form RUN [ &quot;echo&quot;, &quot;$HOME&quot; ] Note: Unlike the shell form, the exec form does not invoke a command shell. This means that normal shell processing does not happen. For example, ENTRYPOINT [ â€œechoâ€, â€œ$HOMEâ€ ] will not do variable substitution on $HOME. If you want shell processing then either use the shell form or execute a shell directly, for example: ENTRYPOINT [ â€œshâ€, â€œ-câ€, â€œecho $HOMEâ€ ]. When using the exec form and executing a shell directly, as in the case for the shell form, it is the shell that is doing the environment variable expansion, not docker. Note: Unlike the shell form, the exec form does not invoke a command shell. This means that normal shell processing does not happen. For example, CMD [ â€œechoâ€, â€œ$HOMEâ€ ] will not do variable substitution on $HOME. If you want shell processing then either use the shell form or execute a shell directly, for example: CMD [ â€œshâ€, â€œ-câ€, â€œecho $HOMEâ€ ]. When using the exec form and executing a shell directly, as in the case for the shell form, it is the shell that is doing the environment variable expansion, not docker. Note: Unlike the shell form, the exec form does not invoke a command shell. This means that normal shell processing does not happen. For example, RUN [ â€œechoâ€, â€œ$HOMEâ€ ] will not do variable substitution on $HOME. If you want shell processing then either use the shell form or execute a shell directly, for example: RUN [ â€œshâ€, â€œ-câ€, â€œecho $HOMEâ€ ]. When using the exec form and executing a shell directly, as in the case for the shell form, it is the shell that is doing the environment variable expansion, not docker. CÃ³ 1 sá»± káº¿t há»£p CMD vÃ  ENTRYPOINT ráº¥t hay nhÃ© (Xem láº¡i áº£nh :D). VÃ  trong 1 Dockerfile, chá»‰ nÃªn cÃ³ 1 CMD vÃ  ENTRYPOINT nhÃ© (note táº¡i Understand how CMD and ENTRYPOINT interact) Má»™t vÃ­ dá»¥ Dockerfile cho Apache212345678910111213141516171819202122232425FROM ubuntu:16.04# Note: MAINTAINER Ä‘Ã£ khÃ´ng cÃ²n Ä‘Æ°á»£c sá»­ dá»¥ng ná»¯a nhÃ©MAINTAINER James Turnbull &lt;james@example.com&gt;ENV REFRESHED_AT 2016-06-01 RUN apt-get -yqq updateRUN apt-get -yqq install apache2 VOLUME [ &quot;/var/www/html&quot; ]WORKDIR /var/www/html ENV APACHE_RUN_USER www-dataENV APACHE_RUN_GROUP www-dataENV APACHE_LOG_DIR /var/log/apache2ENV APACHE_PID_FILE /var/run/apache2.pidENV APACHE_RUN_DIR /var/run/apache2ENV APACHE_LOCK_DIR /var/lock/apache2 RUN mkdir -p $APACHE_RUN_DIR $APACHE_LOCK_DIR $APACHE_LOG_DIR EXPOSE 80 ENTRYPOINT [ &quot;/usr/sbin/apache2&quot; ]CMD [&quot;-D&quot;, &quot;FOREGROUND&quot;] TÃ i liá»‡u tham kháº£o: Dockerfile best paractices Dockerfile reference","link":"/2020/04/12/Docker-Dockerfile-instructions/"},{"title":"[JS] Event","text":"ThÃ¡i BÃ¬nh, chiá»u 30 Táº¿t, trá»i Ã¢m u, se se láº¡nh â€¦ Sá»± kiá»‡n vÃ  actions hoáº·c occurrences (sá»± kiá»‡n) xáº£y ra trong há»‡ thá»‘ng báº¡n Ä‘ang láº­p trÃ¬nh, cÃ¡i mÃ  há»‡ thá»‘ng nÃ³i cho báº¡n biáº¿t Ä‘á»ƒ báº¡n cÃ³ thá»ƒ response vá»›i nÃ³ trong 1 vÃ i cÃ¡ch náº¿u báº¡n mong muá»‘n. VÃ­ dá»¥ náº¿u báº¡n ngÆ°á»i dÃ¹ng click 1 button trÃªn trang web, báº¡n cÃ³ thá»ƒ muá»‘n response 1 hÃ nh Ä‘á»™ng Ä‘á»ƒ hiá»ƒn thá»‹ thÃ´ng tin gÃ¬ Ä‘Ã³. Má»—i sá»± kiá»‡n kháº£ dá»¥ng cÃ³ 1 event handler, cÃ¡i lÃ  1 khá»‘i code (thÆ°á»ng sáº½ lÃ  JavaScript function do báº¡n táº¡o ra) sáº½ cháº¡y khi sá»± kiá»‡n kÃ­ch hoáº¡t. ChÃº Ã½ ráº±ng Ä‘Ã´i khi nÃ³ Ä‘Æ°á»£c gá»i lÃ  event listeners - chÃºng cÃ³ thá»ƒ hoÃ¡n Ä‘á»•i cho nhau vÃ¬ má»¥c Ä‘Ã­ch cá»§a chÃºng tÃ´i, máº·c dÃ¹ nÃ³i Ä‘Ãºng ra, chÃºng hoáº¡t Ä‘á»™ng cÃ¹ng nhau. Note: Web events are not part of the core JavaScript language â€” they are defined as part of the APIs built into the browser. Ways of using web eventsCÃ³ 1 vÃ i cÃ¡ch Ä‘á»ƒ chÃºng ta thÃªm event listener code vÃ o trang web. Trong pháº§n nÃ y, chÃºng ta review 1 vÃ i cÃ¡ch vÃ  tháº£o luáº­n xem chÃºng ta nÃªn dÃ¹ng cÃ¡ch nÃ o. Event handler propertiesCÃ“ ráº¥t nhiá»u properties tá»“n táº¡i chá»©a event handler code chÃºng ta cÃ³ thá»ƒ gáº·p thÆ°á»ng xuyÃªn:123456const btn = document.querySelector('button');btn.onclick = function() { const rndCol = 'rgb(' + random(255) + ',' + random(255) + ',' + random(255) + ')'; document.body.style.backgroundColor = rndCol;}Thuá»™c tÃ­nh onclick nhÆ° trÃªn lÃ  má»™t vÃ­ dá»¥, ngoÃ i ra nÃ³ cÃ²n ráº¥t nhiá»u cÃ¡c thuá»™c tÃ­nh khÃ¡c. btn.onfocus and btn.onblur â€” The color changes when the button is focused and unfocused; try pressing tab to focus on the button and press tab again to focus away from the button. These are often used to display information about how to fill in form fields when they are focused, or display an error message if a form field has just been filled in with an incorrect value. btn.ondblclick â€” The color changes only when the button is double-clicked. window.onkeypress, window.onkeydown, window.onkeyup â€” The color changes when a key is pressed on the keyboard. The keypress event refers to a general press (button down and then up), while keydown and keyup refer to just the key down and key up parts of the keystroke, respectively. Note that it doesnâ€™t work if you try to register this event handler on the button itself â€” weâ€™ve had to register it on the window object, which represents the entire browser window. btn.onmouseover and btn.onmouseout â€” The color changes when the mouse pointer is moved so it begins hovering over the button, or when pointer stops hovering over the button and moves off of it, respectively. CÃ³ 1 vÃ i sá»± kiá»‡n ráº¥t phá»• biáº¿n vÃ  kháº£ dá»¥ng cho báº¥t kÃ¬ element nÃ o (vÃ­ dá»¥ onclik handler cÃ³ thá»ƒ Ä‘Äƒng kÃ­ gáº§n nhÆ° vá»›i báº¥t kÃ¬ element), tuy nhiÃªn cÃ³ 1 vÃ i thuá»™c tÃ­nh Ä‘áº·t biá»‡t chá»‰ há»¯u Ã­ch vá»›i tÃ¬nh huá»‘ng nháº¥t Ä‘á»‹nh (vÃ­ dá»¥ onplay chá»‰ kháº£ dá»¥ng vá»›i cÃ¡c tháº» nháº¥t Ä‘á»‹nh, nhÆ° &lt;video&gt;) Inline event handlers â€” donâ€™t use theseBáº¡n cÅ©ng cÃ³ thá»ƒ tháº¥y máº«u code nhÆ° tháº¿ nÃ y trong code cá»§a báº¡n:123456&lt;button onclick=&quot;bgChange()&quot;&gt;Press me&lt;/button&gt;function bgChange() { const rndCol = 'rgb(' + random(255) + ',' + random(255) + ',' + random(255) + ')'; document.body.style.backgroundColor = rndCol;}Hoáº·c thÃªm trá»±c tiáº¿p code JavaScript vÃ o trong thuá»™c tÃ­nh nhÆ° vÃ­ dá»¥:12&lt;button onclick=&quot;alert('Hello, this is my old-fashioned event handler!');&quot;&gt;Press me&lt;/button&gt;Báº¡n cÃ³ thá»ƒ tÃ¬m nhiá»u thuá»™c tÃ­nh HTML tÆ°Æ¡ng Ä‘Æ°Æ¡ng cho nhiá»u event handler properties, tuy nhiÃªn báº¡n khÃ´ng nÃªn sá»­ dá»¥ng nÃ³ - nÃ³ lÃ  má»™t bad practice. NÃ³ thá»±c sá»± khÃ³ Ä‘á»ƒ quáº£n lÃ½ code vÃ  khÃ´ng hiá»‡u quáº£. Vá»›i 1 ngÆ°á»i báº¯t Ä‘áº§u, khÃ´ng nÃªn trá»™n láº«n file HTML vá»›i JS cá»§a báº¡n lÃ m 1 vÃ¬ nÃ³ ráº¥t khÃ³ phÃ¢n tÃ­ch cÃº phÃ¡p, Ä‘á»ƒ táº¥t cáº£ cÃ¡c file JS cá»§a báº¡n á»Ÿ 1 chá»— khÃ¡c sáº½ tá»‘t hÆ¡n, báº¡n cÃ³ thá»ƒ Ã¡p dá»¥ng má»—i file JS vá»›i nhiá»u file HTML khÃ¡c nhau. Ká»ƒ cáº£ khi Ä‘á»ƒ chÃºng trong 1 file, inline event handlers cÅ©ng khÃ´ng pháº£i lÃ  1 Ã½ tÆ°á»Ÿng tá»‘t. Má»™t button thÃ¬ OK, nhÆ°ng chuyá»‡n gÃ¬ xáº£y ra náº¿u cÃ³ 100 buttons, báº¡n sáº½ pháº£i thÃªm 100 thuá»™c tÃ­nh vÃ o file, lÃºc Ä‘Ã³ báº£o trÃ¬ code sáº½ trá»Ÿ thÃ nh 1 cÆ¡n Ã¡c má»™ng. Vá»›i JS, báº¡n cÃ³ thá»ƒ thÃªm 1 hÃ m event handler vá»›i táº¥t cáº£ cÃ¡c button trong trang web khÃ´ng váº¥n Ä‘á» bao nhiÃªu láº§n báº±ng cÃ¡ch sá»­ dá»¥ng nhÆ° sau:12345const buttons = document.querySelectorAll('button');for (let i = 0; i &lt; buttons.length; i++) { buttons[i].onclick = bgChange;}Hay má»™t tÃ¹y chá»n khÃ¡c sá»­ dá»¥ng forEach built-in method cÃ³ sáºµn cá»§a NodeList objects:123buttons.forEach(function(button) { button.onclick = bgChange;}); addEventListener() and removeEventListener()Loáº¡i má»›i nháº¥t cá»§a cháº¿ event Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a trong Ä‘á»‘i tÆ°á»£ng DOM level 2 cÃ¡i mÃ  cung cáº¥p trÃ¬nh duyá»‡t vá»›i 1 hÃ m má»›i addEventListener(). HÃ m nÃ y lÃ  1 cÃ¡ch tÆ°Æ¡ng tá»± event handler properties nhÆ°ng cÃº phÃ¡p cÃ³ Ä‘Ã´i chÃºt khÃ¡c biá»‡t12345678const btn = document.querySelector('button');function bgChange() { const rndCol = 'rgb(' + random(255) + ',' + random(255) + ',' + random(255) + ')'; document.body.style.backgroundColor = rndCol;} btn.addEventListener('click', bgChange); Trong hÃ m addEventListener() function, cÃ³ 2 tham sá»‘, tÃªn sá»± kiá»‡n chÃºng ta muá»‘n Ä‘Äƒng kÃ­ vÃ  Ä‘oáº¡n code bao gá»“m handler function chÃºng ta muá»‘n cháº¡y Ä‘á»ƒ pháº£n há»“i láº¡i sá»± kiá»‡n. ChÃº Ã½ ráº±ng hoÃ n toÃ n cÃ³ thá»ƒ Ä‘áº·t toÃ n bá»™ code trong hÃ m addEventListener() nhÆ° 1 hÃ m vÃ´ danh nhÆ° sau:1234btn.addEventListener('click', function() { var rndCol = 'rgb(' + random(255) + ',' + random(255) + ',' + random(255) + ')'; document.body.style.backgroundColor = rndCol;});CÆ¡ cháº¿ nÃ y cÃ³ 1 vÃ i lá»£i Ã­ch so vá»›i 2 cÆ¡ cháº¿ trÆ°á»›c Ä‘Ã³. Äáº§u tiÃªn lÃ  nÃ³ cÃ³ 1 hÃ m Ä‘á»‘i tÃ¡c removeEventListener() cÃ¡i mÃ  sáº½ xÃ³a listener trÆ°á»›c Ä‘Ã³ Ä‘Ã£ Ä‘Æ°á»£c thÃªm. VÃ­ dá»¥ sau sáº½ xÃ³a listener Ä‘Æ°á»£c thÃªm á»Ÿ trÃªn:1btn.removeEventListener('click', bgChange);Äiá»u nÃ y khÃ´ng cÃ³ Ã½ nghÄ©a láº¯m Ä‘á»‘i vá»›i cÃ¡c chÆ°Æ¡ng trÃ¬nh nhá», nhÆ°ng Ä‘á»‘i vá»›i chÆ°Æ¡ng trÃ¬nh lá»›n hÆ¡n, phá»©c táº¡p hÆ¡n cÃ³ cÃ³ thá»ƒ cá»±c kÃ¬ hiá»‡u quáº£ Ä‘á»ƒ dá»n dáº¹p event handlers khÃ´ng sá»­ dá»¥ng. NgoÃ i ra, vÃ­ dá»¥, Ä‘iá»u nÃ y cho phÃ©p báº¡n cÃ³ cÃ¹ng má»™t button thá»±c hiá»‡n cÃ¡c hÃ nh Ä‘á»™ng khÃ¡c nhau trong cÃ¡c trÆ°á»ng há»£p khÃ¡c nhau - táº¥t cáº£ nhá»¯ng gÃ¬ báº¡n pháº£i lÃ m lÃ  thÃªm hoáº·c xÃ³a cÃ¡c event handlers. Thá»© 2, báº¡n cÅ©ng cÃ³ thá»ƒ Ä‘Äƒng kÃ­ nhiá»u handlers cho listener giá»‘ng nhau. Hai handlers dÆ°á»›i Ä‘Ã¢y khÃ´ng thá»ƒ Ä‘Æ°á»£c Ã¡p dá»¥ng:12myElement.onclick = functionA;myElement.onclick = functionB;DÃ²ng thá»© 2 Ä‘Ã£ overwrites giÃ¡ trá»‹ onclick Ä‘Æ°á»£c set bá»Ÿi dÃ²ng Ä‘áº§u. LÃºc Ä‘Ã³ báº¡n cáº§n12myElement.addEventListener('click', functionA);myElement.addEventListener('click', functionB);Khi Ä‘Ã³ cáº£ 2 hÃ m Ä‘á»u Ä‘Æ°á»£c thá»±c thi khi element Ä‘Æ°á»£c click. NgoÃ i ra nÃ³ cÃ²n nhiá»u lá»£i Ã­ch khÃ¡c thÃ´ng qua cÃ¡c tÃ¹y chá»n cá»§a sá»± kiá»‡n, báº¡n cÃ³ thá»ƒ tÃ¬m hiá»ƒu thÃªm táº¡i trang chá»§ cá»§a nÃ³. What mechanism should I use?Trong cáº£ 3 cÆ¡ cháº¿, báº¡n khÃ´ng nÃªn sá»­ dá»¥ng HTML event handler attributes, nÃ³ Ä‘Ã£ outdated, vÃ  lÃ  1 bad practice nhÆ° Ä‘Ã£ Ä‘á» cáº­p á»Ÿ trÃªn. Hai cÃ¡i cÃ²n láº¡i tÆ°Æ¡ng Ä‘á»‘i cÃ³ thá»ƒ thay tháº¿ cho nhau, Ã­t nháº¥t lÃ  cho nhá»¯ng má»¥c Ä‘Ã­ch Ä‘Æ¡n giáº£n: Event handler properties Ã­t sá»©c máº¡nh vÃ  tÃ¹y chá»n hÆ¡n nhÆ°ng nÃ³ láº¡i cÃ³ kháº£ nÄƒng tÆ°Æ¡ng thÃ­ch vá»›i trÃ¬nh duyá»‡t (há»— trá»£ trÃ¬nh duyá»‡t IE8). Báº¡n nÃªn báº¯t Ä‘áº§u vá»›i cÆ¡ cháº¿ nÃ y náº¿u báº¡n Ä‘ang há»c JS. DOM Level 2 Events (addEventListener(), etc.) cÃ³ nhiá»u sá»©c máº¡nh hÆ¡n nhÆ°ng cÅ©ng phá»©c táº¡p vÃ  khÃ´ng pháº£i tÆ°Æ¡ng thÃ­ch vá»›i nhiá»u trÃ¬nh duyá»‡t (há»— trá»¡ IE9). Báº¡n nÃªn sá»­ dá»¥ng khi báº¡n Ä‘Ã£ cÃ³ kinh nghiá»‡m. Lá»£i Ã­ch chÃ­nh cá»§a cÆ¡ cháº¿ thá»© 3 lÃ  báº¡n cÃ³ thá»ƒ xÃ³a event handler code náº¿u cáº§n, sá»­ dá»¥ng removeEventListener() vÃ  thÃªm nhiá»u listeners vá»›i 1 sá»± kiá»‡n cho element náº¿u yÃªu cáº§u. VÃ­ dá»¥ báº¡n cÃ³ thá»ƒ gá»i addEventListener('click', function() {...}) trÃªn 1 element nhiá»u láº§n vá»›i nhiá»u hÃ m khÃ¡c nhau trong Ä‘á»‘i sá»‘ thá»© 2. NÃ³ lÃ  Ä‘iá»u khÃ´ng thá»ƒ vá»›i event handler properties vÃ¬ má»™t vÃ i viá»‡c gÃ¡n trong cÃ¡c láº§n tiáº¿p theo sáº½ ghi Ä‘Ã¨ láº§n trÆ°á»›c Ä‘Ã³, vÃ­ dá»¥:123element.onclick = function1;element.onclick = function2;etc. Note: Náº¿u báº¡n Ä‘Æ°á»£c yÃªu cáº§u há»— trá»£ cÃ¡c trÃ¬nh duyá»‡t cÅ© hÆ¡n Internet Explorer 8 trong cÃ´ng viá»‡c cá»§a mÃ¬nh, báº¡n cÃ³ thá»ƒ gáº·p khÃ³ khÄƒn, vÃ¬ cÃ¡c trÃ¬nh duyá»‡t cá»• nÃ y sá»­ dá»¥ng cÃ¡c mÃ´ hÃ¬nh sá»± kiá»‡n khÃ¡c nhau tá»« cÃ¡c trÃ¬nh duyá»‡t má»›i hÆ¡n. NhÆ°ng khÃ´ng bao giá» sá»£ hÃ£i, háº§u háº¿t cÃ¡c thÆ° viá»‡n JavaScript (vÃ­ dá»¥ jQuery) Ä‘á»u cÃ³ cÃ¡c hÃ m dá»±ng sáºµn giÃºp loáº¡i bá» sá»± khÃ¡c biá»‡t giá»¯a cÃ¡c trÃ¬nh duyá»‡t. Äá»«ng lo láº¯ng vá» Ä‘iá»u nÃ y quÃ¡ nhiá»u á»Ÿ giai Ä‘oáº¡n nÃ y trong hÃ nh trÃ¬nh há»c táº­p cá»§a báº¡n. Other event conceptsEvent objectsÄÃ´i khi chÃºng ta truyá»n vÃ o hÃ m xá»­ lÃ½ event má»™t Ä‘á»‘i tÆ°á»£ng vá»›i tÃªn Ä‘áº¡i loáº¡i nhÆ° event, evt hay Ä‘Æ¡n giáº£n chá»‰ lÃ  e. NÃ³ Ä‘Æ°á»£c gá»i lÃ  event object vÃ  nÃ³ tá»± Ä‘á»™ng truyá»n vÃ o hÃ m xá»­ lÃ½ sá»± kiá»‡n Ä‘á»ƒ thÃªm cÃ¡c chá»©c nÄƒng vÃ  thÃ´ng tin. VÃ­ dá»¥:1234567function bgChange(e) { const rndCol = 'rgb(' + random(255) + ',' + random(255) + ',' + random(255) + ')'; e.target.style.backgroundColor = rndCol; console.log(e);} btn.addEventListener('click', bgChange);Báº¡n cÃ³ thá»ƒ xem fullcode táº¡i https://github.com/mdn/learning-area/blob/master/javascript/building-blocks/events/random-color-eventobject.html Note: You can use any name you like for the event object â€” you just need to choose a name that you can then use to reference it inside the event handler function.e/evt/event are most commonly used by developers because they are short and easy to remember. Itâ€™s always good to be consistent â€” with yourself, and with others if possible. Event bubbling and captureChá»§ Ä‘á» cuá»‘i cÃ¹ng chÃºng tÃ´i muá»‘n nÃ³i lÃ  thá»© mÃ  báº¡n cÃ³ thá»ƒ khÃ´ng gáº·p thÆ°á»ng xuyÃªn nhÆ°ng nÃ³ cÃ³ thá»ƒ thá»±c sá»± gÃ¢y hoáº£ng loáº¡n cho báº¡n náº¿u báº¡n khÃ´ng hiá»ƒu.Event bubbling and capture vÃ  2 cÆ¡ cháº¿ mÃ´ táº£ cÃ¡i diá»…n ra khi 2 hÃ m xá»­ lÃ½ cho 1 sá»± kiá»‡n thÃ´ng nhau Ä‘Æ°á»£c kÃ­ch hoáº¡t trong 1 element. Xem vÃ­ dá»¥ sau Ä‘á»ƒ hiá»ƒu nÃ³: VÃ­ dá»¥ cá»±c kÃ¬ Ä‘Æ¡n giáº£n shows vÃ  hides 1 &lt;div&gt; vá»›i &lt;video&gt; bÃªn trong:123456789&lt;button&gt;Display video&lt;/button&gt;&lt;div class=&quot;hidden&quot;&gt; &lt;video&gt; &lt;source src=&quot;rabbit320.mp4&quot; type=&quot;video/mp4&quot;&gt; &lt;source src=&quot;rabbit320.webm&quot; type=&quot;video/webm&quot;&gt; &lt;p&gt;Your browser doesn't support HTML5 video. Here is a &lt;a href=&quot;rabbit320.mp4&quot;&gt;link to the video&lt;/a&gt; instead.&lt;/p&gt; &lt;/video&gt;&lt;/div&gt;Khi báº¡n click &lt;button&gt;, video sáº½ hiá»ƒu thá»‹ báº±ng cÃ¡ch thay Ä‘á»•i thuá»™c tÃ­nh class trong &lt;div&gt; tá»« hidden thÃ nh showing:123btn.onclick = function() { videoBox.setAttribute('class', 'showing');}Sau Ä‘Ã³ cÃ³ 2 thÃªm sá»± kiá»‡n onclick event handlers - 1 cho &lt;div&gt; vÃ  cÃ¡i thá»© 2 cho &lt;video&gt;. Ã tÆ°á»Ÿng lÃ  khi khu vá»±c &lt;div&gt; ngoÃ i video Ä‘Æ°á»£c click, box nÃ y sáº½ áº©n láº¡i, cÃ²n khi video click, video sáº½ báº¯t Ä‘áº§u cháº¡y:1234567videoBox.onclick = function() { videoBox.setAttribute('class', 'hidden');};video.onclick = function() { video.play();};NhÆ°ng mÃ  láº¡i cÃ³ 1 váº¥n Ä‘á» - hiá»‡n táº¡i, khi báº¡n click video Ä‘á»ƒ báº¯t Ä‘áº§u cháº¡y nhÆ°ng nÃ³ cÅ©ng lÃ &lt;div&gt; bá»‹ áº©n Ä‘i trong cÃ¹ng thá»i Ä‘iá»ƒm. ÄÃ³ lÃ  bá»Ÿi vÃ¬ &lt;video&gt; bÃªn trong tháº» &lt;div&gt;, vÃ¬ váº­y khi báº¡n click video thÃ¬ thá»±c cháº¥t nÃ³ cháº¡y cáº£ 2 sá»± kiá»‡n. Bubbling and capturing explainedKhi 1 sá»± kiá»‡n Ä‘Æ°á»£c phÃ¡t ra tá»« 1 element, cÃ¡i mÃ  cÃ³ parent elements (nhÆ° vÃ­ dá»¥ &lt;video&gt; cÃ³ tháº» &lt;div&gt; lÃ  cha), cÃ¡c browsers hiá»‡n Ä‘áº¡i sáº½ cháº¡y 1 giai Ä‘oáº¡n khÃ¡c nhau: the capturing phase and the bubbling phase. In the capturing phase: TrÃ¬nh duyá»‡ kiá»ƒm tra náº¿u tá»• tiÃªn bÃªn ngoÃ i gáº§n nháº¥t &lt;html&gt; (outer-most ancestor) cÃ³ sá»± kiá»‡n onclick Ä‘Æ°á»£c Ä‘Äƒng kÃ­ trong giai Ä‘oáº¡n báº¯t sá»± kiá»‡n vÃ  cháº¡y nÃ³ náº¿u cÃ³ Sau Ä‘Ã³ nÃ³ di chuyá»ƒn vÃ o pháº§n tá»­ tiáº¿p theo bÃªn trong &lt;html&gt; vÃ  lÃ m tÆ°Æ¡ng tá»±, sau Ä‘Ã³ tiáº¿p tá»¥c cho Ä‘áº¿n khi nÃ³ cháº¡m Ä‘áº¿n thÃ nh pháº§n cÃ¡i mÃ  thá»±c sá»± Ä‘Æ°á»£c click vÃ o In the bubbling phase, the exact opposite occurs: TrÃ¬nh duyá»‡t sáº½ kiá»ƒm tra Ä‘á»ƒ xem náº¿u thÃ nh pháº§n thá»±c sá»± Ä‘Æ°á»£c click cÃ³ 1 onclick event handler Ä‘Æ°á»£c Ä‘Äƒng kÃ­ trong giai Ä‘oáº¡n sá»§i bá»t, cháº¡y nÃ³ náº¿u cÃ³ Sau Ä‘Ã³ nÃ³ di chuyá»ƒn vÃ o cÃ¡c element tá»• tiÃªn láº­p tá»©c vÃ  thá»±c hiá»‡n tÆ°Æ¡ng tá»±, tiáº¿p tá»¥c nhÆ° váº­y cho Ä‘áº¿n &lt;html&gt; element Trong cÃ¡c browers hiá»‡n Ä‘áº¡i, máº·c Ä‘á»‹nh táº¥t cáº£ event handlers Ä‘Æ°á»£c Ä‘Äƒng kÃ­ trong giai Ä‘oáº¡n sá»§i bá»t. Bá»Ÿi váº­y trong vÃ­ dá»¥ hiá»‡n táº¡i, khi báº¡n click video, sá»± kiá»‡n sá»§i bá»t tá»« &lt;video&gt; sáº½ Ä‘Æ°á»£c hÆ°á»›ng ra tá»›i tháº» &lt;html&gt;. Chi tiáº¿t sáº½ nhÆ° sau: NÃ³ tÃ¬m video.onclick â€¦ handler vÃ  cháº¡y nÃ³ do váº­y Ä‘áº§u tiÃªn video sáº½ báº¯t Ä‘áº§u cháº¡y Sau Ä‘Ã³ tÃ¬m kiáº¿m videoBox.onclikâ€¦ handler vÃ  cháº¡y nÃ³, do váº­y video sáº½ bá»‹ áº©n Ä‘i Fixing the problem with stopPropagation()ÄÃ¢y lÃ  1 hÃ nh vi khÃ³ chá»‹u nhÆ°ng cÃ³ 1 cÃ¡ch Ä‘á»ƒ fix nÃ³. Äá»‘i tÆ°á»£ng Event chuáº©n cÃ³ 1 hÃ m kháº£ dá»¥ng lÃ  stopPropagation(), khi Ä‘Æ°á»£c gá»i trong 1 handlers cá»§a event object, handler Ä‘áº§u tiÃªn sáº½ cháº¡y nhÆ°ng sá»± kiá»‡n khÃ´ng sá»§i bá»t má»™t láº§n nÃ o ná»¯a, vÃ¬ váº­y khÃ´ng cÃ³ thÃªm handlers nÃ o sáº½ Ä‘Æ°á»£c cháº¡y:1234video.onclick = function(e) { e.stopPropagation(); video.play();}; Note: Táº¡i sao chÃºng ta pháº£i quan tÃ¢m cáº£ capturing and bubbling? Well, vÃ o 1 ngÃ y tá»“i tá»‡, trÃ¬nh duyá»‡t Ã­t cÃ¡c tÆ°Æ¡ng thÃ­ch há»£n nhÆ° chÃºng ta cÃ³ bÃ¢y giá», Netscape chá»‰ sá»­ dá»¥ng event capturing vÃ  Internet Explorer chá»‰ sá»­ dá»¥ng event bubbling. Khi W3C quyáº¿t Ä‘á»‹nh cá»‘ gáº¯ng chuáº©n hÃ³a hÃ nh vi vÃ  Ä‘áº¡t Ä‘Æ°á»£c sá»± Ä‘á»“ng thuáº­n, há» Ä‘Ã£ káº¿t thÃºc vá»›i há»‡ thá»‘ng nÃ y bao gá»“m cáº£ hai, Ä‘Ã³ lÃ  má»™t trÃ¬nh duyá»‡t hiá»‡n Ä‘áº¡i Ä‘Æ°á»£c triá»ƒn khai Note: NhÆ° Ä‘Ã£ Ä‘á» cáº­p á»Ÿ trÃªn, máº·c Ä‘á»‹nh táº¥t cáº£ cÃ¡c event handlers Ä‘Æ°á»£c Ä‘Äƒng kÃ­ trong bubbling phase vÃ  Ä‘iá»u nÃ y lÃ m Ã½ nghÄ©a hÆ¡n cho háº§u háº¿t thá»i gian. Náº¿u báº¡n thá»±c sá»± muá»‘n Ä‘Äƒng kÃ­ 1 sá»± kiá»‡n trong phase capturing, báº¡n cÃ³ thá»ƒ Ä‘Äƒng kÃ½ hanlder cá»§a báº¡n báº±nh cÃ¡ch sá»­ dá»¥ng addEventListener() vÃ  setting tÃ¹y chá»n thá»© 3 lÃ  true Event delegation: á»¦y quyá»n sá»± kiá»‡nBubbling cÅ©ng cho phÃ©p chÃºng ta táº­n dá»¥ng lá»£i tháº¿ cá»§a event delegation - khÃ¡i niá»‡m nÃ y dá»±a vÃ o 1 thá»±c táº¿ náº¿u báº¡n muá»‘n 1 vÃ i Ä‘oáº¡n code cháº¡y khi báº¡n click vÃ o 1 vÃ i sá»‘ lÆ°á»£ng lá»›n cÃ¡c child elements, báº¡n cÃ³ thá»ƒ set event listener cho cha cá»§a chÃºng vÃ  cÃ³ sá»± kiá»‡n cÃ¡i mÃ  diá»…n ra á»Ÿ chÃºng ná»•i bá»t hÆ¡n cha cÃ³ thá»ƒ pháº£i set event listener trong má»—i tháº» con. Nhá»› ráº±ng trÆ°á»›c Ä‘Ã³ chÃºng nÃ³ nÃ³i bubbling liÃªn quan Ä‘áº¿n viá»‡c kiá»ƒm tra element sá»± kiá»‡n Ä‘Æ°á»£c kÃ­ch hoáº¡t for an event handler first mÃ  moving up to Ä‘áº¿n element cha cá»§a nÃ³? Má»™t vÃ­ dá»¥ tá»‘t lÃ  cÃ³ nhiá»u danh sÃ¡ch items - náº¿u báº¡n muá»‘n má»—i chÃºng hiá»ƒn thá»‹ 1 message khi click, báº¡n cÃ³ thá»ƒ set click event listener trÃªn tháº» cha &lt;ul&gt; vÃ  sá»± kiá»‡n sáº½ ná»•i bá»t tá»« má»—i items Ä‘áº¿n &lt;ul&gt; Even delegation cho phÃ©p báº¡n trÃ¡nh Ä‘Æ°á»£c thÃªm sá»± kiá»‡n cho má»—i nodes riÃªng biá»‡t, thay vÃ o Ä‘Ã³ event listener Ä‘Æ°á»£c thÃªm vÃ o 1 tháº» cha. Event listener phÃ¢n tÃ­ch tá»« event Ä‘Æ°á»£c ná»•i bá»t Ä‘á»ƒ tÃ¬m ra tháº» con. KhÃ¡i niÃªm cÆ¡ báº£n khÃ¡ Ä‘Æ¡n giáº£n nhÆ°ng nhiá»u ngÆ°á»i khÃ´ng hiá»ƒu cÃ¡ch thá»©c hoáº¡t Ä‘á»™ng cá»§a event delegation. HÃ£y Ä‘á»ƒ tÃ´i giáº£i thÃ­ch nhÃ© Xem Ä‘oáº¡n mÃ£ UL vá»›i 1 vÃ i tháº» con12345678&lt;ul id=&quot;parent-list&quot;&gt; &lt;li id=&quot;post-1&quot;&gt;Item 1&lt;/li&gt; &lt;li id=&quot;post-2&quot;&gt;Item 2&lt;/li&gt; &lt;li id=&quot;post-3&quot;&gt;Item 3&lt;/li&gt; &lt;li id=&quot;post-4&quot;&gt;Item 4&lt;/li&gt; &lt;li id=&quot;post-5&quot;&gt;Item 5&lt;/li&gt; &lt;li id=&quot;post-6&quot;&gt;Item 6&lt;/li&gt;&lt;/ul&gt;BÃ¢y giá» chÃºng ta gÃ¡n sá»± kiá»‡n cho má»—i tháº» con khi Ä‘Æ°á»£c click. Báº¡n cÃ³ thá»ƒ thÃªm cÃ¡c event listener riÃªng biá»‡t cho má»—i tháº» LI riÃªng, nhÆ°ng náº¿u LI thÆ°á»ng xuyÃªn Ä‘Æ°á»£c thÃªm hoáº·c xÃ³a thÃ¬ sao? ThÃªm vÃ  xÃ³a event listeners sáº½ trá»Ÿ thÃ nh 1 cÆ¡n Ã¡c má»™ng Ä‘áº·c biá»‡t lÃ  khi Ä‘oáº¡n code thÃªm vÃ  xÃ³a á»Ÿ cÃ¡c vá»‹ trÃ­ khÃ¡c nhau trong á»©ng dá»¥ng cá»§a báº¡n. Giáº£i phÃ¡p tá»‘t Ä‘á»ƒ thÃªm event listener lÃ  thÃªm vÃ o tháº» cha UL. NhÆ°ng náº¿u báº¡n thÃªm vÃ o tháº» cha, lÃ m báº¡n biáº¿t Ä‘Æ°á»£c element nÃ o Ä‘Æ°á»£c click? ÄÆ¡n giáº£n: khi sá»± kiá»‡n ná»•i bá»t lÃªn cho UL element, báº¡n sáº½ kiá»ƒm tra thuá»™c tÃ­nh target cá»§a Ä‘á»‘i tÆ°á»£ng event Ä‘á»ƒ cÃ³ Ä‘Æ°á»£c 1 tham chiáº¿u Ä‘áº¿n node Ä‘Æ°á»£c click thá»±c táº¿. ÄÃ¢y lÃ  vÃ­ dá»¥ cÆ¡ báº£n JavaScrit minh há»a event delagation:123456789// Get the element, add a click listener...document.getElementById(&quot;parent-list&quot;).addEventListener(&quot;click&quot;, function(e) { // e.target is the clicked element! // If it was a list item if(e.target &amp;&amp; e.target.nodeName == &quot;LI&quot;) { // List item found! Output the ID! console.log(&quot;List item &quot;, e.target.id.replace(&quot;post-&quot;, &quot;&quot;), &quot; was clicked!&quot;); }});Báº¯t Ä‘áº§u báº±ng cÃ¡ch thÃªm 1 click event listener tá»›i tháº» cha. Khi event listener Ä‘Æ°á»£c kÃ­ch hoáº¡t, kiá»ƒm tra event element Ä‘á»ƒ cháº¯c cháº¯n nÃ³ lÃ  loáº¡i element Ä‘ang báº¯t. Náº¿u nÃ³ lÃ  LI element, boom: Ä‘Ãºng cÃ¡i tao cáº§n Ä‘Ã¢y rá»“i. Náº¿u khÃ´ng pháº£i element ta cÃ¢n, sá»± kiá»‡n sáº½ bá»‹ bá» qua. VÃ­ dá»¥ cá»±c kÃ¬ Ä‘Æ¡n giáº£n -UL vÃ  LI sá»± so sÃ¡nh tháº³ng tiáº¿n. HÃ£y thá»­ 1 vÃ i thá»© khÃ³ hÆ¡n. HÃ£y xem xÃ©t tháº» cha DIV cÃ³ nhiá»u con nhÆ°ng chÃºng ta chá»‰ quan tÃ¢m 1 nhÃ£n A vá»›i class CSS classA:1234567// Get the parent DIV, add click listener...document.getElementById(&quot;myDiv&quot;).addEventListener(&quot;click&quot;,function(e) { // e.target was the clicked element if (e.target &amp;&amp; e.target.matches(&quot;a.classA&quot;)) { console.log(&quot;Anchor element clicked!&quot;); }});Báº¡n cÃ³ thá»ƒ xem Element.matches API táº¡i Ä‘Ã¢y: https://davidwalsh.name/element-matches-selector VÃ¬ háº§u háº¿t cÃ¡c nhÃ  phÃ¡t triá»ƒn sá»­ dá»¥ng thÆ° viá»‡n JavaScript Ä‘á»ƒ xá»­ lÃ½ sá»± kiá»‡n vÃ  pháº§n tá»­ DOM cá»§a há», tÃ´i khuyÃªn báº¡n nÃªn sá»­ dá»¥ng phÆ°Æ¡ng phÃ¡p á»§y quyá»n sá»± kiá»‡n cá»§a thÆ° viá»‡n, vÃ¬ há» cÃ³ kháº£ nÄƒng xÃ¡c Ä‘á»‹nh á»§y nhiá»‡m vÃ  pháº§n tá»­ nÃ¢ng cao. Hi vá»ng bÃ i viáº¿t há»¯u Ã­ch cho báº¡n vá» nhá»¯ng khÃ¡i niá»‡m xung quanh á»§y quyá»n sá»± kiá»‡n vÃ  cÃ¡c thuáº­n tiá»‡n xung quanh sá»©c máº¡nh cá»§a sá»± á»§y quyá»n nÃ y. TÃ i liá»‡u tham kháº£o: CÃ¡c sá»± kiá»‡n cho 1 trang web: Event reference Introduction to events","link":"/2020/01/24/JS-Event/"},{"title":"[JS] Making asynchronous programming easier with async and await","text":"ThÃ¡i BÃ¬nh, chiá»u 30 Táº¿t, trá»i Ã¢m u, se se láº¡nh â€¦ Async/await má»›i Ä‘Æ°á»£c thÃªm gáº§n Ä‘Ã¢y, 1 pháº§n cá»§a so-callled ECMAScript 2017 JavaScript edition. Chá»©c nÄƒng nÃ y cáº£i thiá»‡n cÃº phÃ¡p cá»§a Promises, lÃ m cho code báº¥t Ä‘á»“ng bá»™ dá»… dÃ ng viáº¿t vÃ  Ä‘á»c hÆ¡n. NÃ³ lÃ m cho async code nhÃ¬n giá»‘ng old-school code Ä‘á»“ng bá»™ do Ä‘Ã³ chÃºng ráº¥t Ä‘Ã¡ng Ä‘á»ƒ há»c. BÃ i viáº¿t nÃ y chá»‰ cho báº¡n cÃ¡i báº¡n cáº§n biáº¿t. The basics of async/awaitCÃ³ 2 pháº§n Ä‘á»ƒ sá»­ dá»¥ng async/await trong code cá»§a báº¡n The async keywordCÃ¡i Ä‘áº§u tiÃªn chÃºng ta cÃ³ lÃ  tá»« khÃ³a async, cÃ¡i mÃ  Ä‘áº·t trÆ°á»›c khai bÃ¡o hÃ m Ä‘á»ƒ táº¡o má»™t hÃ m báº¥t Ä‘á»“ng bá»™. Thá»­ lÃ m quen nÃ o :12function hello() { return &quot;Hello&quot; };hello();Gá»i hÃ m bÃ¢y giá» sáº½ tráº£ vá» 1 promise. ÄÃ¢y lÃ  1 trong Ä‘áº·c Ä‘iá»ƒm cá»§a async functions - nÃ³ biáº¿n báº¥t ká»³ má»™t hÃ m nÃ o thÃ nh 1 promise. Báº¡n cÅ©ng cÃ³ thá»ƒ viáº¿t async function expression nhÆ° sau:12let hello = async function() { return &quot;Hello&quot; };hello();Hay arrow functions:1let hello = async () =&gt; { return &quot;Hello&quot; }; ÄÃ³ lÃ  táº¥t cáº£ nhá»¯ng thá»© Ä‘Æ¡n giáº£n giá»‘ng nhau. Äá»ƒ thá»±c sá»± láº¥y giÃ¡ trá»‹ tráº£ vá» cá»§a 1 promise hoÃ n thÃ nh, vÃ¬ nÃ³ tráº£ vá» má»™t promise, chÃºng ta cÃ³ thá»ƒ sá»­ dá»¥ng khá»‘i .then()1hello().then((value) =&gt; console.log(value))Hay tháº­m chá»‹ cÃ³ thá»ƒ viáº¿t ngáº¯n hÆ¡n:1hello().then(console.log) TÃºm cÃ¡i vÃ¡y láº¡i, tá»« khÃ³a async Ä‘Æ°á»£c thÃªm vÃ o cÃ¡c hÃ m Ä‘á»ƒ nÃ³i ráº±ng chÃºng tráº£ vá» 1 promise thay vÃ¬ tráº£ vá» trá»±c tiáº¿p káº¿t quáº£. ThÃªm vÃ o Ä‘Ã³, nÃ³ cÅ©ng cho phÃ©p cÃ¡c hÃ m Ä‘á»“ng bá»™ trÃ¡nh Ä‘Æ°á»£c cÃ¡c chi phÃ­ phÃ¡t sinh khi cháº¡y vá»›i sá»± há»— trá»£ khi sá»­ dá»¥ng await. Báº¡n chá»‰ cáº§n thÃªm tá»« khÃ³a async khi khai bÃ¡o, JavaScript cÃ³ thá»ƒ tá»‘i Æ°u hÃ³a chÆ°Æ¡ng trÃ¬nh cá»§a báº¡n cho báº¡n. Sweet! The await keywordÆ¯u Ä‘iá»ƒm thá»±c sá»± cá»§a async function trá»Ÿ nÃªn rÃµ rÃ ng khi báº¡n káº¿t há»£p nÃ³ vá»›i tá»« khÃ³a await. NÃ³ cÃ³ thá»ƒ Ä‘Æ°á»£c Ä‘áº·t trÆ°á»›c 1 vÃ i async promise-based function Ä‘á»ƒ dá»«ng code cá»§a báº¡n táº¡i dÃ²ng Ä‘Ã³ cho tá»›i khi promise hoÃ n táº¥t, sau Ä‘Ã³ tráº£ vá» giÃ¡ trá»‹ káº¿t quáº£. Trong khi Ä‘Ã³, cÃ¡c mÃ£ khÃ¡c váº«n Ä‘Æ°á»£c thá»±c thi. Báº¡n cÅ©ng cÃ³ thá»ƒ sá»­ dá»¥ng await khi gá»i 1 vÃ i hÃ m cÃ¡i mÃ  tráº£ vá» Promise trong cÃ¡c web API functions.12345async function hello() { return greeting = await Promise.resolve(&quot;Hello&quot;);};hello().then(alert);Táº¥t nhiÃªn vÃ­ dá»¥ trÃªn lÃ  vÃ´ nghÄ©a, nÃ³ chá»‰ dÃ¹ng lÃ m vÃ­ dá»¥ minh há»a vá» cÃº phÃ¡p. Rewriting promise code with async/awaitHÃ£y nhÃ¬n láº¡i vÃ­ dá»¥ tá»« bÃ i trÆ°á»›c vá» fetch(), chÃºng ta Ä‘Ã£ viáº¿t theo async functions:1234567891011fetch('coffee.jpg').then(response =&gt; response.blob()).then(myBlob =&gt; { let objectURL = URL.createObjectURL(myBlob); let image = document.createElement('img'); image.src = objectURL; document.body.appendChild(image);}).catch(e =&gt; { console.log('There has been a problem with your fetch operation: ' + e.message);});NhÆ°ng bÃ¢y giá» báº¡n nÃªn cÃ³ 1 thÃ nh 1 chuyÃªn gia xá»­ lÃ½ promise vÃ  cÃ³ thá»ƒ Ã¡p dá»¥ng async/await, viáº¿t láº¡i nhÃ¬n Ä‘Æ¡n giáº£n hÆ¡n biáº¿t bao nhiÃªu:1234567891011async function myFetch() { let response = await fetch('coffee.jpg'); let myBlob = await response.blob(); let objectURL = URL.createObjectURL(myBlob); let image = document.createElement('img'); image.src = objectURL; document.body.appendChild(image);}myFetch();Äoáº¡n code Ä‘Ã£ trá»Ÿ nÃªn Ä‘Æ¡n giáº£n hÆ¡n vÃ  dá»… dÃ ng Ä‘á»ƒ hiá»ƒu - khÃ´ng cÃ³ khá»‘i .then() nÃ o ná»¯a. Tá»« khi tá»« khÃ³a async biáº¿n 1 hÃ m trá»Ÿ thÃ nh promise, báº¡n cÃ³ thá»ƒ refactor Ä‘oáº¡n code cá»§a báº¡n sá»­ dá»¥ng káº¿t há»£p promise vÃ  await, Ä‘Æ°a ná»­a sau Ä‘oáº¡n code cá»§a báº¡n vÃ o trong khá»‘i má»›i linh hoáº¡t hÆ¡n.1234567891011async function myFetch() { let response = await fetch('coffee.jpg'); return await response.blob();}myFetch().then((blob) =&gt; { let objectURL = URL.createObjectURL(blob); let image = document.createElement('img'); image.src = objectURL; document.body.appendChild(image);}); But how does it work?Báº¡n Ä‘Æ°á»£c chÃº Ã½ ráº±ng chÃºng ta sáº½ nhÃ³m Ä‘oáº¡n code bÃªn trong hÃ m vÃ  chÃºng sáº½ khai bÃ¡o async trÆ°á»›c tá»« khÃ³a function. Äiá»u nÃ y thá»±c sá»± cáº§n thiáº¿t, báº¡n pháº£i táº¡o ra 1 hÃ m async cÃ¡i mÃ  sáº½ cháº¡y code báº¥t Ä‘á»“ng bá»™, await chá»‰ lÃ m viá»‡c trong hÃ m async functions. Trong hÃ m myFetch(), báº¡n cÃ³ thá»ƒ tháº¥y Ä‘oáº¡n code khÃ¡ giá»‘ng vá»›i phiÃªn báº£n promise trÆ°á»›c Ä‘Ã³, nhÆ°ng cÃ³ 1 sá»‘ khÃ¡c biá»‡t. Thay vÃ¬ cáº§n xÃ¢u chuá»—i khá»‘i .then() cuá»‘i má»—i phÆ°Æ¡ng thá»©c promise, báº¡n chá»‰ cáº§n thÃªm 1 tá»« khÃ³a await trÆ°á»›c phÆ°Æ¡ng thá»©c Ä‘Æ°á»£c gá»i vÃ  sau Ä‘Ã³ gÃ¡n káº¿t quáº£ vÃ o 1 biáº¿n. Tá»« khÃ³a await sáº½ lÃ m Ä‘oáº¡n code cá»§a báº¡n dá»«ng láº¡i á»Ÿ dÃ²ng Ä‘Ã³, cho phÃ©p cÃ¡c Ä‘oáº¡n code khÃ¡c thá»±c thi trong lÃºc Ä‘Ã³, cho Ä‘áº¿n khi async function Ä‘Ã£ tráº£ vá» káº¿t quáº£ cá»§a nÃ³. Má»™t khi Ä‘iá»u nÃ y hoÃ n táº¥t, code cá»§a báº¡n tiáº¿p tÃºc thá»±c thi dÃ¹ng tiáº¿p theo. VÃ­ dá»¥1let response = await fetch('coffee.jpg');Response sáº½ Ä‘Æ°á»£c tráº£ vá» khi hoÃ n táº¥t fetch() promise vÃ  Ä‘Æ°á»£c gÃ¡n cho biáº¿n response khi Ä‘Ã£ pháº£n há»“i vÃ  trÃ¬nh phÃ¢n tÃ­ch cÃº phÃ¡p táº¡m dá»«ng trÃªn dÃ²ng nÃ y cho Ä‘áº¿n khi Ä‘iá»u Ä‘Ã³ xáº£y ra. Má»™t khi Ä‘Ã£ pháº£n há»“i, trÃ¬nh phÃ¢n tÃ­ch sáº½ di chuyá»ƒn tá»›i dÃ²ng tiáº¿p theo, cÃ¡i mÃ  sáº½ táº¡o Blob. DÃ²ng nÃ y cÅ©ng gá»i Ä‘áº¿n async promise-based method, vÃ¬ chÃºng ta sá»­ dá»¥ng await á»Ÿ Ä‘Ã¢y lÃ  Ä‘Ãºng. Khi káº¿t quáº£ cá»§a toÃ¡n tá»­ tráº£ vá», chÃºng ta sáº½ tráº£ nÃ³ ra ngoÃ i hÃ m myFetch(). Äiá»u Ä‘Ã³ cÃ³ nghÄ©a lÃ  khi chÃºng ta gá»i hÃ m myFetch(), nÃ³ sáº½ tráº£ vá» 1 promise, do Ä‘Ã³ chÃºng ta cáº§n 1 chuá»—i .then() sau Ä‘Ã³ Ä‘á»ƒ hiá»‡n thá»‹ blod ra mÃ n hÃ¬nh. Báº¡n cÃ³ thá»ƒ Ä‘Ã£ nghÄ© â€œthis is really cool!â€ vÃ  báº¡n Ä‘Ã£ Ä‘Ãºng - Ã­t khá»‘i .then() hÆ¡n bá»c code cá»§a báº¡n vÃ  nÃ³ nhÃ¬n cÅ©ng nhÆ° code Ä‘á»“ng bá»™ vÃ  trá»±c quan hÆ¡n. Adding error handlingNáº¿u báº¡n muá»‘n thÃªm 1 xá»­ lÃ½ lá»—i, sáº½ cÃ³ 1 vÃ i tÃ¹y chá»n cho báº¡n. Báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng khá»‘i try/catch vá»›i async/await123456789101112131415async function myFetch() { try { let response = await fetch('coffee.jpg'); let myBlob = await response.blob(); let objectURL = URL.createObjectURL(myBlob); let image = document.createElement('img'); image.src = objectURL; document.body.appendChild(image); } catch(e) { console.log(e); }}myFetch();Khá»‘i catch truyá»n vÃ o 1 error object, cÃ¡i mÃ  chÃºng ta gá»i lÃ  e, hiá»‡n táº¡i chá»‰ hiá»ƒn thá»‹ ra, báº¡n cÃ³ thá»ƒ xá»­ lÃ½ khÃ¡c Náº¿u báº¡n muá»‘n sá»­ dá»¥ng cÃ¡ch thá»© 2 (Ä‘Ã£ refactor), báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng khá»‘i .catch() cuá»‘i cÃ¹ng khá»‘i .then()1234567891011121314async function myFetch() { let response = await fetch('coffee.jpg'); return await response.blob();}myFetch().then((blob) =&gt; { let objectURL = URL.createObjectURL(blob); let image = document.createElement('img'); image.src = objectURL; document.body.appendChild(image);}).catch((e) =&gt; console.log(e)); Báº¡n cÃ³ thá»ƒ xem cáº£ 2 vÃ­ dá»¥ nÃ y táº¡isimple-fetch-async-await-try-catch.html (see source code) vÃ simple-fetch-async-await-promise-catch.html (see source code) Awaiting a Promise.all()async/await lÃ  built on top of promise, bá»Ÿi váº­y nÃ³ tÆ°Æ¡ng thÃ­ch vá»›i táº¥t cáº£ cÃ¡c tÃ­nh nÄƒng cá»§a Promises. Chá»©c nÄƒng nÃ y bao gá»“m Promise.all() - báº¡n cÃ³ thá»ƒ khÃ¡ háº¡nh phÃºc khi await 1 Promise.all() láº¥y táº¥t cáº£ káº¿t quáº£ Ä‘Æ°á»£c tráº£ vá» vÃ o 1 biáº¿n, code giá»‘ng nhÆ° Ä‘á»“ng bá»™1234567891011121314151617181920212223242526272829303132333435363738394041async function fetchAndDecode(url, type) { let response = await fetch(url); let content; if(type === 'blob') { content = await response.blob(); } else if(type === 'text') { content = await response.text(); } return content;}async function displayContent() { let coffee = fetchAndDecode('coffee.jpg', 'blob'); let tea = fetchAndDecode('tea.jpg', 'blob'); let description = fetchAndDecode('description.txt', 'text'); let values = await Promise.all([coffee, tea, description]); let objectURL1 = URL.createObjectURL(values[0]); let objectURL2 = URL.createObjectURL(values[1]); let descText = values[2]; let image1 = document.createElement('img'); let image2 = document.createElement('img'); image1.src = objectURL1; image2.src = objectURL2; document.body.appendChild(image1); document.body.appendChild(image2); let para = document.createElement('p'); para.textContent = descText; document.body.appendChild(para);}displayContent().catch((e) =&gt; console.log(e));Báº¡n cÃ³ thá»ƒ tháº¥y ráº±ng fetchAnDecode() function Ä‘Ã£ Ä‘Æ°á»£c chuyá»ƒn thÃ nh async function vÃ  dÃ²ng1let values = await Promise.all([coffee, tea, description]);Báº±ng cÃ¡ch sá»­ dá»¥ng await, chÃºng ta cÃ³ thá»ƒ nháº­n táº¥t cáº£ káº¿t quáº£ tráº£ vá» cá»§a 3 promises trong máº£ng values khi mÃ  táº¥t cáº£ chÃºng Ä‘á»u cÃ³ giÃ¡ trá»‹, cÃ¡ch nÃ y nhÃ¬n ráº¥t giá»‘ng code Ä‘á»“ng bá»™. ChÃºng ta cÃ³ thá»ƒ bá»c táº¥t cáº£ code trong báº¥t Ä‘á»“ng bá»™ displayContent() lÃ m code trá»Ÿ nÃªn dá»… Ä‘á»c hÆ¡n ráº¥t nhiá»u. Äá»ƒ xá»­ lÃ½ error, chÃºng ta cÃ³ khá»‘i .catch() trong displayContent(), khá»‘i nÃ y sáº½ xá»­ lÃ½ cÃ¡c lá»—i xuáº¥t hiá»‡n á»Ÿ cáº£ 2 functions Note: Báº¡n cÅ©ng cÃ³ thá»ƒ sá»­ dá»¥ng khá»‘i finally vá»›i async function to show a final report on how the operation went The downsides of async/await: NhÆ°á»£c Ä‘iá»ƒm cá»§a async/awaitAsync/await thá»±c sá»± há»¯u Ã­ch nhÆ° chÃºng ta Ä‘Ã£ biáº¿t, nhÆ°ng nÃ³ váº«n cÃ³ 1 vÃ i nhÆ°á»£c Ä‘iá»ƒm. Async/await lÃ m code cá»§a báº¡n nhÃ¬n nhÆ° Ä‘á»“ng bá»™ vÃ  trong 1 vÃ i cÃ¡ch nÃ³ lÃ m cho code Ä‘á»“ng bá»™ hÆ¡n. Khá»‘i tá»« khÃ³a await thá»±c thi táº¥t cáº£ code Ä‘áº¿n khi promise hoÃ n táº¥t chÃ­nh xÃ¡c nhÆ° nÃ³ sáº½ lÃ m vá»›i má»™t hoáº¡t Ä‘á»™ng Ä‘á»“ng bá»™. NÃ³ cÅ©ng cho phÃ©p cÃ¡c tasks khÃ¡c tiáº¿p tá»¥c cháº¡y trong lÃºc Ä‘Ã³ nhÆ°ng code cá»§a báº¡n thÃ¬ bá»‹ cháº·n. Äiá»u Ä‘Ã³ cÃ³ nghÄ©a code cá»§a báº¡n sáº½ cháº­m hÆ¡n bá»Ÿi 1 sá»‘ lÆ°á»£ng Ä‘Ã¡ng ká»ƒ cÃ¡c promise Ä‘ang Ä‘á»£i ngay sau Ä‘Ã³. Má»—i await sáº½ chá» promise trÆ°á»›c Ä‘Ã³ káº¿t thÃºc, trong khi thá»±c táº¿ cÃ¡i mÃ  báº¡n muá»‘n lÃ  cÃ¡c promises sáº½ xá»­ lÃ½ Ä‘á»“ng thá»i. CÃ³ má»™t cÃ¡ch há»¯u hiá»‡u cÃ³ thá»ƒ xá»­ lÃ½ váº¥n Ä‘á» nÃ y - Ä‘áº·t táº¥t cáº£ cÃ¡c quÃ¡ trÃ¬nh xá»­ promise trong má»™t Promise objects, gÃ¡n nÃ³ vÃ o biáº¿n vÃ  sau Ä‘Ã³ await táº¥t cáº£ chÃºng sau. Báº¡n cÃ³ thá»ƒ xem 2 vÃ­ dá»¥ sau Ä‘á»ƒ tháº¥y sá»± khÃ¡c biá»‡t, cÃ¹ng pháº§n tÃ­ch nhÃ©. Cáº£ 2 Ä‘á»u báº¯t Ä‘áº§u vá»›i 1 custom promise function cÃ¡i mÃ  xá»­ lÃ½ báº¥t Ä‘á»“ng bá»™ vá»›i setTimeout():1234567function timeoutPromise(interval) { return new Promise((resolve, reject) =&gt; { setTimeout(function(){ resolve(&quot;done&quot;); }, interval); });};Sau Ä‘Ã³ hÃ m async timeTest() sáº½ chá» 3 timeoutPromise():123async function timeTest() { ...}Sau má»—i láº§n sáº½ Ä‘o thá»i gian thá»±c thi cá»§a timeTest() promise vÃ  in káº¿t quáº£ ra:123456let startTime = Date.now();timeTest().then(() =&gt; { let finishTime = Date.now(); let timeTaken = finishTime - startTime; alert(&quot;Time taken in milliseconds: &quot; + timeTaken);})BÃ¢y giá» chÃºng ta sáº½ cÃ³ timeTest() cho má»—i trÆ°á»ng há»£p. Trong vÃ­ dá»¥ slow-async-await.html, timeTest() nhÃ¬n nhÆ° sau:12345async function timeTest() { await timeoutPromise(3000); await timeoutPromise(3000); await timeoutPromise(3000);}ÄÃ¢y lÃ  viá»‡c sá»­ dá»¥ng await Ä‘Æ¡n giáº£n cho 3 lá»i gá»i timeoutPromise() trá»±c tiáº¿p, má»‘i cÃ¡i máº¥t 3s, cÃ¡i sau chá» cÃ¡i trÆ°á»›c cháº¡y xong nhÆ° váº­y sáº½ máº¥t 9s. HÆ¡i tÃ¹ nhá»‰, nhÆ°ng trong fast-async-await.html, timeTest() sáº½ nhÆ° sau:123456789async function timeTest() { const timeoutPromise1 = timeoutPromise(3000); const timeoutPromise2 = timeoutPromise(3000); const timeoutPromise3 = timeoutPromise(3000); await timeoutPromise1; await timeoutPromise2; await timeoutPromise3;}BÃ¢y giá» chÃºng ta lÆ°u 3 Promise objects vÃ o biáº¿n, cÃ³ tÃ¡c dá»¥ng thiáº¿t láº­p cÃ¡c tiáº¿n trÃ¬nh liÃªn quan cá»§a chÃºng, táº¥t cáº£ cháº¡y Ä‘á»“ng thá»i. Tiáº¿p theo chÃºng ta chá» Ä‘á»£i káº¿t quáº£, bá»Ÿi vÃ¬ cÃ¡c promises báº¯t Ä‘áº§u quÃ¡ trÃ¬nh thá»i gian giá»‘ng nhau, táº¥t cáº£ sáº½ káº¿t thÃºc cÃ¹ng 1 lÃºc vÃ  khi báº¡n cháº¡y vÃ­ dá»¥ thá»© 2 nÃ y, báº¡n sáº½ tháº¥y chá»‰ máº¥t 3s! HÃ£y nhá»› Ä‘iá»u nÃ y nhÃ©, vÃ¬ nÃ³ áº£nh hÆ°á»Ÿng Ä‘áº¿n hiá»‡u suáº¥t Ä‘Ã³ :D CÃ²n 1 sá»± báº¥t tiá»‡n ná»¯a lÃ  báº¡n pháº£i bá»c await 1 promises bÃªn trong má»™t hÃ m async. Async/await class methodsPháº§n chÃº Ã½ cuá»‘i cÃ¹ng trÆ°á»›c khi chÃºng ta sang chá»§ Ä‘á» má»›i lÃ  báº¡n cÃ³ thá»ƒ thÃªm async vÃ o class/objetcs methods Ä‘á»ƒ lÃ m cho chÃºng tráº£ vá» promise sau Ä‘Ã³ await cÃ¡c promise bÃªn trong chÃºng123456789101112131415161718192021class Person { constructor(first, last, age, gender, interests) { this.name = { first, last }; this.age = age; this.gender = gender; this.interests = interests; } async greeting() { return await Promise.resolve(`Hi! I'm ${this.name.first}`); }; farewell() { console.log(`${this.name.first} has left the building. Bye for now!`); };}let han = new Person('Han', 'Solo', 25, 'male', ['Smuggling']);Sau Ä‘Ã³ cÃ³ thá»ƒ sá»­ dá»¥ng nhÆ° sau:1han.greeting().then(console.log); Browser supportBáº¡n hÃ£y cÃ¢n nháº¯c khi quyáº¿t Ä‘á»‹nh sá»­ dá»¥ng async/await há»— trá»£ cÃ¡c trÃ¬nh duyá»‡t cÅ©. ChÃºng chá»‰ kháº£ dá»¥ng vá»›i cÃ¡c phiÃªn báº£n trÃ¬nh duyá»‡t má»›i, nhÆ° promise, cÃ³ thá»ƒ khÃ´ng há»— trá»£ vá»›i Internet Explorer vÃ  Opera Mini. Náº¿u báº¡n muá»‘n sá»­ dá»¥ng async/await trÃªn cÃ¡c trÃ¬nh duyá»‡t cÅ©, hÃ£y xem xÃ©t sá»­ dá»¥ng BabelJS library, cÃ¡i mÃ  cho phÃ©p báº¡n viáº¿t á»©ng dá»¥ng vá»›i ká»¹ thuáº­t JavaScript má»›i nháº¥t vÃ  Ä‘á»ƒ Babel tÃ¬m ra nhá»¯ng thay Ä‘á»•i cáº§n thiáº¿t cá»§a trÃ¬nh duyá»‡t cá»§a báº¡n. Khi gáº·p má»™t trÃ¬nh duyá»‡t khÃ´ng há»— trá»£ async / await, polyfill cá»§a Babel cÃ³ thá»ƒ tá»± Ä‘á»™ng cung cáº¥p cÃ¡c dá»± phÃ²ng hoáº¡t Ä‘á»™ng trong cÃ¡c trÃ¬nh duyá»‡t cÅ© hÆ¡n. Tá»•ng káº¿t: async/await lÃ  cÃº phÃ¡p refactor cho cÃ¡c Promise, ráº¥t há»¯u Ã­ch. NÃ³ lÃ m code cho báº¡n dá»… Ä‘á»c, nhÆ° luá»“ng Ä‘á»“ng bá»™, loáº¡i bá» cÃ¡c khá»‘i .then(). Khi gáº·p await keywork, code cá»§a báº¡n sáº½ dá»«ng á»Ÿ Ä‘Ã³, cÃ¡c task khÃ¡c (code ngoÃ i khá»‘i asyn/await nÃ y) váº«n cháº¡y. Khi nÃ o hÃ m async Ä‘ang await tráº£ vá» káº¿t quáº£, code bÃªn trong khá»‘i async nÃ y sáº½ cháº¡y dÃ²ng tiáº¿p theo. The await keyword blocks execution of all the code that follows until the promise fulfills, exactly as it would with a synchronous operation. It does allow other tasks to continue to run in the meantime, but your own code is blocked. The await keyword causes the JavaScript runtime to pause your code on this line, allowing other code to execute in the meantime, until the async function call has returned its result. Once thatâ€™s complete, your code continues to execute starting on the next line CÃ³ má»™t cÃ¡ch kháº¯c phá»¥c nhÆ°á»£c Ä‘iá»ƒm chá» Ä‘á»£i cá»§a async ráº¥t hay Ä‘Ã³ lÃ  gÃ¡n cÃ¡c async function vÃ o cÃ¡c biáº¿n vÃ  chá» chÃºng sau Ä‘Ã³. Nháº¯c láº¡i Promise cháº¡y nhÆ° tháº¿ nÃ y á»Ÿ bÃ i trÆ°á»›c Ä‘á»ƒ hiá»ƒu vá» async/await cháº¡y nhÃ©, vÃ¬ async/await thá»±c cháº¥t lÃ  Promise mÃ : Promise Ä‘Æ°á»£c Ä‘áº·t trong hÃ ng Ä‘á»£i sá»± kiá»‡n vÃ  xá»­ lÃ½ khi luá»“ng chÃ­nh Ä‘Ã£ káº¿t thÃºc Ä‘á»ƒ trÃ¡nh block luá»“ng chÃ­nh (JS ngÃ´n ngá»¯ Ä‘Æ¡n luá»“ng nhÃ©). TÃ i liá»‡u tham kháº£oMaking asynchronous programming easier with async and await","link":"/2020/01/24/JS-Making-asynchronous-programming-easier-with-async-and-await/"},{"title":"[Laravel] Event vs Notification","text":"CÃ³ hai khÃ¡i niá»‡m má»i ngÆ°á»i hay lÃºng tÃºng khi sá»­ dá»¥ng, Ä‘Ã³ lÃ  sá»± kiá»‡n (Event) vÃ  thÃ´ng bÃ¡o (Notification). Hai khÃ¡i niá»‡m nÃ y khÃ¡ tÆ°Æ¡ng Ä‘á»“ng, nÃ³ Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ quáº£ng bÃ¡ (broadcast) má»™t thÃ´ng Ä‘iá»‡p gÃ¬ Ä‘Ã³ tá»« server Ä‘áº¿n cho ngÆ°á»i dÃ¹ng. ÄÃ´i khi trong á»©ng dá»¥ng cá»§a báº¡n, báº¡n cÃ³ thá»ƒ Ã¡p dá»¥ng cÃ¡i nÃ y thay cho cÃ¡i kia, vÃ  táº¥t nhiÃªn á»©ng dá»¥ng váº«n hoáº¡t Ä‘á»™ng bÃ¬nh thÆ°á»ng. Tuy nhiÃªn Ä‘á»ƒ cho Ä‘Ãºng ngá»¯ nghÄ©a, tÃ´i xin so sÃ¡nh qua vá» sá»± khÃ¡c nhau cá»§a 2 khÃ¡i niá»‡m nÃ y vÃ  cÃ¡c Ã¡p dá»¥ng nÃ³ trong Laravel. Sá»± kiá»‡n (Event)Sá»± kiá»‡n theo mÃ¬nh hiá»ƒu lÃ  má»™t Ä‘iá»u gÃ¬ Ä‘Ã³ xáº£y ra trong há»‡ thá»‘ng vÃ  cáº§n cÃ³ cÃ¡c pháº£n á»©ng láº¡i (láº¯ng nghe) sá»± kiá»‡n Ä‘Ã³. KhÃ¡i niá»‡m nÃ y khÃ´ng chá»‰ vá»›i Laravel, nÃ³ rá»™ng hÆ¡n lÃ  vá»›i cáº£ JavaScript, bÃªn JS cÃ³ láº½ cÃ²n sá»­ dá»¥ng nhiá»u hÆ¡n, cÃ¡c listener thÆ°á»ng Ä‘Æ°á»£c truyá»n dÆ°á»›i dáº¡ng callback. Trong cuá»™c sá»‘ng háº±ng ngÃ y chÃºng ta cÅ©ng cÃ³ ráº¥t nhiá»u sá»± kiá»‡n: vÃ­ dá»¥ nhÆ° khi báº¡n mua hÃ ng, báº¡n Ä‘Ã£ Ä‘áº·t hÃ ng xong, Ä‘Ã³ sáº½ lÃ  1 sá»± kiá»‡n vá»›i cá»­a hÃ ng, há» cáº§n láº¯ng nghe sá»± kiá»‡n nÃ y sau Ä‘Ã³ thá»±c hiá»‡n cÃ¡c nhiá»‡m vá»¥ ghi hÃ³a Ä‘Æ¡n, gá»­i thÃ´ng bÃ¡o mua hÃ ng cho báº¡n qua email, thá»±c hiá»‡n thanh toÃ¡n. NhÆ° váº­y ráº¥t rÃµ rÃ ng, 1 sá»± kiá»‡n sáº½ bao gá»“m 2 pháº§n chÃ­nh: ÄÄƒng kÃ½ sá»± kiá»‡n vÃ  Láº¯ng nghe - khi sá»± kiá»‡n xáº£y ra thÃ¬ xá»­ lÃ½ nhÆ° tháº¿ nÃ o. Laravel sá»­ dá»¥ng sá»± kiá»‡n nhÆ° tháº¿ nÃ oÄáº§u tiÃªn Ä‘á»ƒ Ä‘Äƒng kÃ­ sá»± kiá»‡n trong Laravel, báº¡n sá»­ dá»¥ng lá»‡nh artisan Ä‘á»ƒ táº¡o:1php artisan make:event EventName Báº¡n cÃ³ Ä‘á»ƒ Ã½ 1 chÃº Ã½ nhá» trÃªn docs vÃ  cÃ¡c bÃ i hÆ°á»›ng dáº«n Laravel, EventName thÆ°á»ng sáº½ á»Ÿ dáº¡ng quÃ¡ khá»©, vÃ­ dá»¥ nhÆ°: sáº£n pháº©m Ä‘Ã£ Ä‘Æ°á»£c mua, bÃ i viáº¿t Ä‘Ã£ Ä‘Æ°á»£c click, ngÆ°á»i dÃ¹ng Ä‘Ã£ Ä‘Äƒng kÃ­ tÃ i khoáº£n â€¦Do Ä‘Ã³ Ä‘Ã¢y cÅ©ng lÃ  lÆ°u Ã½ nhá» khi báº¡n Ä‘áº·t tÃªn cÃ¡c sá»± kiá»‡n. Má»™t vÃ i vÃ­ dá»¥ vá» tÃªn sá»± kiá»‡n báº¡n cÃ³ thá»ƒ gáº·p: ProductPurchased OrderShipped UserRegistered Khi Ä‘Ã£ Ä‘Äƒng kÃ­ sá»± kiá»‡n rá»“i, cÃ´ng viá»‡c tiáº¿p theo lÃ  Ä‘Äƒng kÃ­ Listenner Ä‘á»ƒ xá»­ lÃ½ khi sá»± kiá»‡n xáº£y ra:1php artisan make:listener ListenerNameLáº¡i má»™t chÃº Ã½ ná»¯a, tÃªn cá»§a listener thÃ¬ váº«n nhÆ° cÃ¡c phÆ°Æ¡ng thá»©c bÃ¬nh thÆ°á»ng =)). Má»™t vÃ i tÃªn listener báº¡n cÃ³ thá»ƒ tham kháº£o: SendEmailVerificationNotification AwardAchievements SendShipmentNotification Tiáº¿p theo chÃºng ta cáº§n Ä‘Äƒng kÃ­ event vá»›i listener. NhÆ° váº­y chÃºng ta Ä‘Ã£ cÃ³ Event vÃ  Listener, tuy nhiÃªn chÃºng Ä‘ang tá»“n táº¡i Ä‘á»™c láº­p mÃ  khÃ´ng cÃ³ sá»± liÃªn káº¿t. Äá»ƒ liÃªn káº¿t chÃºng láº¡i vá»›i nhau, chÃºng ta sáº½ Ä‘Äƒng kÃ­ trong file App\\Providers\\EventServiceProvider. Má»™t sá»± kiá»‡n cÃ³ thá»ƒ Ä‘Æ°á»£c Ä‘Äƒng kÃ­ nhiá»u listener lÃ  má»™t listener cÅ©ng cÃ³ thá»ƒ thuá»™c nhiá»u event, nhÆ°ng trÆ°á»ng há»£p nÃ y cÃ³ láº½ hiáº¿m:123456789101112131415161718192021222324252627282930313233343536373839&lt;?phpnamespace App\\Providers;use App\\Events\\ProductPurchased;use App\\Listeners\\AwardAchievements;use Illuminate\\Auth\\Events\\Registered;use Illuminate\\Auth\\Listeners\\SendEmailVerificationNotification;use Illuminate\\Foundation\\Support\\Providers\\EventServiceProvider as ServiceProvider;use Illuminate\\Support\\Facades\\Event;class EventServiceProvider extends ServiceProvider{ /** * The event listener mappings for the application. * * @var array */ protected $listen = [ Registered::class =&gt; [ SendEmailVerificationNotification::class, ], ProductPurchased::class =&gt; [ AwardAchievements::class, ], ]; /** * Register any events for your application. * * @return void */ public function boot() { parent::boot(); // }} Má»™t vÃ i thÃ´ng tin khÃ¡c vá» sá»± kiá»‡n trong Laravel1. Sá»± kiá»‡n nÃ y cÃ³ thá»ƒ Ä‘Æ°á»£c Ä‘Äƒng kÃ­ báº±ng cÃ¡ch khÃ¡c. Báº¡n Ä‘Äƒng kÃ­ tÃªn event, listener class vÃ o luÃ´n file EventServiceProvider rá»“i sau Ä‘Ã³ sinh sá»± kiá»‡n báº±ng:1php artisan event:generateHÃ£y sá»­ dá»¥ng cáº£ namespace file Ä‘Ã³ Ä‘á»ƒ táº¡o file Ä‘Ãºng nhÆ° dá»± kiáº¿n nhÃ©.12use App\\Events\\ProductPurchased;use App\\Listeners\\AwardAchievements;VÃ¬ náº¿u khÃ´ng cÃ³ use nÃ y nÃ³ sáº½ táº¡o luÃ´n á»Ÿ thÆ° má»¥c vá»›i EventServiceProvider. 2. Laravel cÃ³ thá»ƒ tá»± tÃ¬m kiáº¿m Ä‘Æ°á»£c sá»± kiá»‡n vÃ  listener Báº¡n khÃ´ng cáº§n Ä‘Äƒng kÃ­ vÃ o $listen trong file EventServiceProvider (khÃ´ng khuyáº¿n khÃ­ch cÃ¡ch nÃ y vÃ¬ khÃ³ theo dÃµi sá»± kiá»‡n)Äá»ƒ lÃ m viá»‡c nÃ y, báº¡n hÃ£y sá»­ dá»¥ng thÃªm phÆ°Æ¡ng thá»©c trong EventServiceProvider123456789/** * Determine if events and listeners should be automatically discovered. * * @return bool */public function shouldDiscoverEvents(){ return true;}3. CÃ¡c Event trong Laravel hoÃ n toÃ n cÃ³ thá»ƒ Ä‘áº©y vÃ o hÃ ng Ä‘á»£i giÃºp tÄƒng tá»‘c Ä‘á»™ xá»­ lÃ½ (vÃ­ dá»¥ nhÆ° thao tÃ¡c gá»­i mail cÃ³ thá»ƒ máº¥t nhiá»u thá»i gian) 4. Dispatching Events Äá»ƒ phÃ¡t ra sá»± kiá»‡n, cÃ³ thá»ƒ sá»­ dá»¥ng phÆ°Æ¡ng thá»©c dispatch() cá»§a event. Tuy nhiÃªn Ä‘á»ƒ cÃº phÃ¡p Ä‘Æ¡n giáº£n, báº¡n sá»­ dá»¥ng luÃ´n helper event cho tiá»‡n :D12ProductPurchased::dispatch('toy');event(new ProductPurchased('toy')); 5. Xem danh sÃ¡ch cÃ¡c sá»± kiá»‡n vÃ  listener tÆ°Æ¡ng á»©ng1php aritsan event:listNgoÃ i ra cÃ²n cÃ³ cÃ¡c lá»‡nh sau liÃªn quan Ä‘áº¿n event:12345event event:cache Discover and cache the application's events and listeners event:clear Clear all cached events and listeners event:generate Generate the missing events and listeners based on registration event:list List the application's events and listeners 6. Event Subscribers Event Subscribers sá»­ dá»¥ng Ä‘á»ƒ theo dÃµi cÃ¡c sá»± kiá»‡n trong chÃ­nh cÃ¡c class Ä‘Ã³, cho phÃ©p báº¡n Ä‘á»‹nh nghÄ©a cÃ¡c event handlers trong 1 lá»›p Ä‘Æ¡n. Pháº§n nÃ y báº¡n hiá»ƒu lÃ  khÃ´ng cáº§n sá»­ dá»¥ng nhiá»u listener cho má»—i sá»± kiá»‡n mÃ  sá»­ dá»¥ng nÃ³ thÃ nh 1 lá»›p Ä‘Æ¡n â€¦ Táº¡o Event Subscribers12345678910111213141516171819202122232425262728293031323334&lt;?phpnamespace App\\Listeners;class OrderEventSubscriber{ /** * Handle user buy a product. */ public function handleBuyProduct($event) {} /** * Handle order are shipped. */ public function handleSendOrderEmail($event) {} /** * Register the listeners for the subscriber. * * @param \\Illuminate\\Events\\Dispatcher $events */ public function subscribe($events) { $events-&gt;listen( 'App\\Events\\ProductPurchased', 'App\\Listeners\\UserEventSubscriber@handleBuyProduct' ); $events-&gt;listen( 'App\\Events\\OrderShipped', 'App\\Listeners\\UserEventSubscriber@handleSendOrderEmail' ); }} ÄÄƒng kÃ­ Event Subscribers Sá»­ dá»¥ng biáº¿n $subscribers nhÃ©:1234567891011121314151617181920212223242526&lt;?phpnamespace App\\Providers;use Illuminate\\Foundation\\Support\\Providers\\EventServiceProvider as ServiceProvider;class EventServiceProvider extends ServiceProvider{ /** * The event listener mappings for the application. * * @var array */ protected $listen = [ // ]; /** * The subscriber classes to register. * * @var array */ protected $subscribe = [ 'App\\Listeners\\OrderEventSubscriber', ];}Pháº§n nÃ y Ä‘Æ°á»£c sá»­ dá»¥ng khi mÃ  cÃ¡c táº­p sá»± kiá»‡n cÃ³ liÃªn quan Ä‘áº¿n nhau, nhÆ° váº­y sáº½ tiá»‡n theo dÃµi hÆ¡n. NhÆ° vÃ­ dá»¥ á»Ÿ trÃªn, ngÆ°á»i ta nhÃ³m cÃ¡c táº­p sá»± kiá»‡n liÃªn quan Ä‘áº¿n Ä‘Æ¡n hÃ ng vÃ o 1 listener duy nháº¥t :D Tá»•ng káº¿t vá» sá»± kiá»‡n NhÆ° váº­y 1 sá»± kiá»‡n cÃ³ 2 pháº§n: ÄÄƒng kÃ­ event (thÆ° má»¥c App\\Events) vÃ  Xá»­ lÃ½ sá»± kiá»‡n dÆ°á»›i dáº¡ng Listener (App\\Listeners). Sá»± kiá»‡n cÃ³ thá»ƒ Ä‘áº©y vÃ o hÃ ng Ä‘á»£i. Laravel cÃ³ cung cáº¥p chá»©c nÄƒng discover events. Khi cÃ³ 1 táº­p sá»± kiá»‡n liÃªn quan mÃ  khÃ´ng muá»‘n chia nhá» Listener (VÃ­ dá»¥ nhÆ° authentication, xá»­ lÃ½ Ä‘Æ¡n hÃ ng), báº¡n cÃ³ thá»ƒ nhÃ³m chngs láº¡i vá»›i Event Subscribers táº¡o 1 listener duy nháº¥t). NotificationHÃ£y trá»Ÿ láº¡i bÃ i toÃ¡n mua hÃ ng á»Ÿ bÃªn trÃªn. Khi mÃ  má»™t ngÆ°á»i dÃ¹ng mua hÃ ng, chÃºng ta táº¡o ra má»™t thÃ´ng bÃ¡o. ThÃ´ng bÃ¡o nÃ y cÃ³ nhiá»‡m vá»¥ gá»­i má»™t tin nháº¯n Ä‘áº¿n cho ngÆ°á»i dÃ¹ng, tin nháº¯n nÃ y cÃ³ thá»ƒ lÃ  SMS/Slack-messgae/Email hoáº·c má»™t thÃ´ng bÃ¡o lÃªn web nhÆ° facebook. ChÃºng ta chá»n thÃ´ng bÃ¡o vÃ¬ chÃºng ta muá»‘n gá»­i má»™t â€œmessageâ€ giá»‘ng nhau thÃ´ng qua nhiá»u channel. Khoan hÃ£y so sÃ¡nh vá» sá»± kiá»‡n vÃ  thÃ´ng bÃ¡o, hÃ£y cÃ¹ng xem Laravel thá»±c hiá»‡n nÃ³ nhÆ° tháº¿ nÃ o Táº¡o má»™t thÃ´ng bÃ¡oÄá»ƒ táº¡o 1 thÃ´ng bÃ¡o trong Laravel, khÃ¡ Ä‘Æ¡n giáº£n, báº¡n sá»­ dá»¥ng lá»‡nh artisan 1php artisan make:notification InvoicePaid Máº·c Ä‘á»‹nh, class Notification nÃ y sáº½ cÃ³ 1 phÆ°Æ¡ng thá»©c cho 2 channel Ä‘á»ƒ gá»­i thÃ´ng bÃ¡o lÃ  email vÃ  database. Vá» cÃ¡ch sá»­ dá»¥ng cá»§a cÃ¡c channel nÃ y mÃ¬nh sáº½ Ä‘á» cáº­p trong pháº§n sau Gá»­i thÃ´ng bÃ¡oThÃ´ng bÃ¡o cÃ³ thá»ƒ gá»­i báº±ng 2 cÃ¡ch: sá»­ dá»¥ng phÆ°Æ¡ng thá»©c notify cá»§a trait Notifiable hoáº·c sá»­ dá»¥ng Notification facade:123use App\\Notifications\\InvoicePaid;$user-&gt;notify(new InvoiceaymentPaid($invoice));Hoáº·c1Notification::send(request()-&gt;user(), new InvoiceaymentPaid()); Má»™t vÃ i thÃ´ng tin khÃ¡c vá» notification trong Laravel1. Báº¡n cÃ³ thá»ƒ chá»n kÃªnh gá»­i, má»™t hoáº·c nhiá»u NÃ³ phá»¥ thuá»™c vÃ o biáº¿n $notification thÃ´ng qua phÆ°Æ¡ng thá»©c via. CÃ³ thá»ƒ thÃªm Ä‘iá»u kiá»‡n nha :D12345678910/** * Get the notification's delivery channels. * * @param mixed $notifiable * @return array */public function via($notifiable){ return $notifiable-&gt;prefers_sms ? ['nexmo'] : ['mail', 'database'];} 2. Queueing Notifications CÅ©ng giá»‘ng nhÆ° sá»± kiá»‡n, báº¡n hoÃ n toÃ n cÃ³ thá»ƒ Ä‘áº·t thÃ´ng bÃ¡o cá»§a mÃ¬nh vÃ o queue Ä‘á»ƒ tÄƒng tá»‘c Ä‘á»™ xá»­ lÃ½ 3. Gá»­i thÃ´ng bÃ¡o theo yÃªu cáº§u ÄÃ´i khi báº¡n cáº§n gá»­i thÃ´ng bÃ¡o tá»›i 1 vÃ i ngÆ°á»i khÃ´ng Ä‘Æ°á»£c lÆ°u trá»¯ nhÆ° lÃ  1 â€œuserâ€ trong á»©ng dá»¥ng cá»§a báº¡n. HÃ£y sá»­ dá»¥ng phÆ°Æ¡ng thá»©c Notification::route, báº¡n cÃ³ thá»ƒ chá»‰ Ä‘á»‹nh Ä‘Æ°á»£c ngÆ°á»i nháº­n thÃ´ng bÃ¡o:123Notification::route('mail', 'taylor@example.com') -&gt;route('nexmo', '5555555555') -&gt;notify(new InvoicePaid($invoice)); KÃªnh chuyá»ƒn tiáº¿p thÃ´ng tinLaravel cung cáº¥p cho báº¡n ráº¥t nhiá»u cÃ¡c channel cho phÃ©p báº¡n chuyá»ƒn tiáº¿p thÃ´ng bÃ¡o tá»›i ngÆ°á»i dÃ¹ng. Trong pháº¡m vi bÃ i viáº¿t, mÃ¬nh giá»›i thiá»‡u 2 kÃªnh cÆ¡ báº£n lÃ  Database vÃ  Email, cÃ¡c channel.Táº¥t cáº£ cÃ¡c channel Ä‘á»ƒ gá»­i thÃ´ng bÃ¡o báº¡n chá»‰ cáº§n thá»±c hiá»‡n 2 viá»‡c: Ä‘áº§u tiÃªn, khai bÃ¡o channel báº¡n muá»‘n sá»­ dá»¥ng Ä‘Ã³ vÃ o phÆ°Æ¡ng thá»©c via vÃ  sau Ä‘Ã³ sá»­ dá»¥ng phÆ°Æ¡ng thá»©c tÆ°Æ¡ng á»©ng trong class Notification Ä‘á»ƒ xá»­ lÃ½ cÃ¡c gá»­i mail hoáº·c ná»™i dung thÃ´ng bÃ¡o. Mail NotificationsÄá»ƒ sá»­ dá»¥ng gá»­i thÃ´ng bÃ¡o qua email, báº¡n Ä‘Äƒng kÃ­ nÃ³ trong via trÆ°á»›c (cÃ¡i nÃ y máº·c Ä‘á»‹nh laravel Ä‘Ã£ sá»­ dá»¥ng)1234public function via($notifiable){ return ['mail'];}Sau Ä‘Ã³ thá»±c hiá»‡n gá»­i mai nhÆ° tháº¿ nÃ o, gá»­i tá»›i ai vÃ  ná»™i dung gÃ¬, báº¡n hoÃ n toÃ n thá»±c hiá»‡n trong phÆ°Æ¡ng thá»©c toMail cá»§a lá»›p Notification:12345678910111213141516/** * Get the mail representation of the notification. * * @param mixed $notifiable * @return \\Illuminate\\Notifications\\Messages\\MailMessage */public function toMail($notifiable){ $url = url('/invoice/'.$this-&gt;invoice-&gt;id); return (new MailMessage) -&gt;greeting('Hello!') -&gt;line('One of your invoices has been paid!') -&gt;action('View Invoice', $url) -&gt;line('Thank you for using our application!');}Báº¡n hoÃ n toÃ n cÃ³ thá»ƒ tÃ¹y biáº¿n viá»‡c gá»­i mail nÃ y nhÆ° chá»n template, xá»­ lÃ½ lá»—i, chá»n ngÆ°á»i gá»­i, ngÆ°á»i nháº­n, xá»­ lÃ½ queue. Chi tiáº¿t cÃ³ thá»ƒ xem táº¡i trang chá»§. Database NotificationsPháº§n nÃ y mÃ¬nh cÅ©ng tháº¥y khÃ¡ hay. Database channel sáº½ lÆ°u trá»¯ thÃ´ng tin thÃ´ng bÃ¡o vÃ o database. Báº£ng nÃ y sáº½ chÆ°a cÃ¡c thÃ´ng tin nhÆ° loáº¡i thÃ´ng bÃ¡o cÅ©ng nhÆ° dá»¯ liá»‡u dáº¡ng JSON tÃ¹y chá»‰nh mÃ´ táº£ cho thÃ´ng bÃ¡o. Äáº§u tiÃªn báº¡n táº¡o báº£ng vÃ  migrate dá»¯ liá»‡u123php artisan notifications:tablephp artisan migrateBáº£ng notification sáº½ cÃ³ nhá»¯ng trÆ°á»ng cÆ¡ báº£n sau: id: khÃ³a type: Tham chiáº¿u tá»›i Notification class. Báº¡n cÃ³ thá»ƒ check type nÃ y Ä‘á»ƒ hiá»ƒn thá»‹ thÃ´ng bÃ¡o phÃ¹ há»£p. NhÆ° vÃ­ dá»¥ trÃªn trÆ°á»ng nÃ y sáº½ lÃ  App\\Notifications\\PaymentReceived notifiable_type: Class nÃ o phÃ¡t ra thÃ´ng bÃ¡o. VÃ­ dá»¥ thÆ°á»ng lÃ  user: App\\User notifiable_id: id cá»§a notifiable_type data: dá»¯ liá»‡u dáº¡ng JSON vá» cÃ¡c thÃ´ng tin cá»§a thÃ´ng bÃ¡o. VÃ­ dá»¥ 1234{ &quot;amount&quot;: 90, &quot;customer_name&quot;: &quot;Ming&quot;} Tá»« data nÃ y báº¡n cÃ³ thá»ƒ táº¡o ra cÃ¡c ná»™i dung thÃ´ng bÃ¡o phÃ¹ há»£p. read_at: trÆ°á»ng nÃ y Ä‘á»ƒ xÃ¡c Ä‘á»‹nh thÃ´ng bÃ¡o Ä‘Ã£ Ä‘Æ°á»£c Ä‘á»c lÃºc nÃ o, táº¥t nhiÃªn máº·c Ä‘á»‹nh nÃ³ sáº½ lÃ  null. CÃ¡c thÃ´ng bÃ¡o chÆ°a Ä‘á»c hay Ä‘Ã£ Ä‘á»c sáº½ Ä‘Æ°á»£c load dá»±a vÃ o trÆ°á»ng nÃ y. created_at, updated_at: lÆ°u tá»i gian vÃ  update thÃ´ng bÃ¡o ÄÄƒng kÃ­ channel trong phÆ°Æ¡ng thá»©c via 1234public function via($notifiable){ return ['mail', 'database'];} Format thÃ´ng bÃ¡o dá»±a vÃ o 2 phÆ°Æ¡ng thá»©c toDatabase vÃ  toArray. CÃ¡c phÆ°Æ¡ng thá»©c nÃ y sáº½ nháº­n vÃ o $notifiable vÃ  sáº½ tráº£ vá» dáº¡ng máº£ng. Káº¿t quáº£ máº£ng tráº£ vá» sáº½ Ä‘Æ°á»£c encoded nhÆ° JSON Ä‘Æ°á»£c lÆ°u trá»¯ trong cá»™t data cá»§a báº£ng notifications:12345678910111213/** * Get the array representation of the notification. * * @param mixed $notifiable * @return array */public function toArray($notifiable){ return [ 'invoice_id' =&gt; $this-&gt;invoice-&gt;id, 'amount' =&gt; $this-&gt;invoice-&gt;amount, ];} toDatabase Vs. toArray The toArray method is also used by the broadcast channel to determine which data to broadcast to your JavaScript client. If you would like to have two different array representations for the database and broadcast channels, you should define a toDatabase method instead of a toArray method. Láº¥y dá»¯ liá»‡u thÃ´ng bÃ¡o Má»™t vÃ i phÆ°Æ¡ng thá»©c láº¥y dá»¯ liá»‡u thÃ´ng bÃ¡o: Láº¥y háº¿t12345$user = App\\User::find(1);foreach ($user-&gt;notifications as $notification) { echo $notification-&gt;type;}Láº¥y cÃ¡c thÃ´ng bÃ¡o chÆ°a Ä‘á»c12345$user = App\\User::find(1);foreach ($user-&gt;unreadNotifications as $notification) { echo $notification-&gt;type;} ÄÃ¡nh dáº¥u Ä‘Ã£ Ä‘á»c thÃ´ng bÃ¡o12345$user = App\\User::find(1);foreach ($user-&gt;unreadNotifications as $notification) { $notification-&gt;markAsRead();}Hoáº·c1$user-&gt;unreadNotifications-&gt;markAsRead();XÃ³a thÃ´ng bÃ¡o1$user-&gt;notifications()-&gt;delete(); NgoÃ i ra Laravel cÃ²n cung cáº¥p cÃ¡c channel khÃ¡c giÃºp báº¡n gá»­i thÃ´ng bÃ¡o tiá»‡n dá»¥ng SMS Notifications: Gá»­i thÃ´ng bÃ¡o qua tin nháº¯n SMS. Báº¡n cÃ³ thá»ƒ tham kháº£o thÃªm táº¡i: https://laravel.com/docs/5.8/notifications#sending-notifications vÃ  https://laracasts.com/series/laravel-6-from-scratch/episodes/48 Slack Notifications: Gá»­i thÃ´ng bÃ¡o qua há»‡ thá»‘ng chat Slack. Broadcast Notifications: Quáº£ng bÃ¡ thÃ´ng bÃ¡o vá»›i Pusher vÃ  Laravel Echo. Tá»•ng káº¿t vá» thÃ´ng bÃ¡o ThÃ´ng bÃ¡o cÃ³ thá»ƒ Ä‘Æ°á»£c xem lÃ  cÃ¡ch thá»©c gá»­i 1 thÃ´ng Ä‘iá»‡p Ä‘áº¿n ngÆ°á»i dÃ¹ng báº±ng nhiá»u kÃªnh khÃ¡c nhau. Hoáº·c nÃ³ cÅ©ng lÃ  gá»­i 1 thÃ´ng Ä‘iá»‡p giá»‘ng nhau Ä‘áº¿n nhiá»u ngÆ°á»i dÃ¹ng khÃ¡c nhau. Chá»n kÃªnh gá»­i qua phÆ°Æ¡ng thá»©c via, format ná»™i dung vÃ  thá»±c hiá»‡n gá»­i thÃ´ng qua cÃ¡c phÆ°Æ¡ng thá»©c toArray, toMail,â€¦ tÆ°Æ¡ng á»©ng ThÃ´ng bÃ¡o hoÃ n toÃ n cÃ³ thá»ƒ Ä‘áº·t vÃ o hÃ ng Ä‘á»£i Ä‘á»ƒ trÃ¡nh block á»©ng dá»¥ng. Laravel cung cáº¥p Ä‘áº§y Ä‘á»§ cÃ¡c hÃ m cho thÃ´ng bÃ¡o: láº¥y táº¥t cáº£ thÃ´ng bÃ¡o, láº¥y cÃ¡c thÃ´ng bÃ¡o Ä‘Ã£ Ä‘á»c, chÆ°a Ä‘á»c, hay cÃ¡c hÃ m Ä‘á»c thÃ´ng bÃ¡o, Ä‘Ã¡nh dáº¥u chÆ°a Ä‘á»c, xÃ³a :D Táº£n máº¡n vá» sá»± kiá»‡n vs thÃ´ng bÃ¡oChÃºng ta cÃ³ thá»ƒ tháº¥y ráº±ng, khi Ä‘áº·t xong 1 Ä‘Æ¡n hÃ ng, server cáº§n gá»­i 1 email vá» thÃ´ng tin Ä‘Æ¡n hÃ ng Ä‘áº¿n cho client, vÃ  lÃºc nÃ y chÃºng ta dÃ¹ng event hay notification Ä‘á»ƒ thá»±c hiá»‡n Ä‘á»u Ä‘Æ°á»£c. Tuy nhiÃªn Ä‘á»ƒ cho Ä‘Ãºng ngá»¯ nghÄ©a, tÃ´i nghÄ© chÃºng ta nÃªn sá»­ dá»¥ng thÃ´ng bÃ¡o. Sá»± kiá»‡n nÃªn Ä‘Æ°á»£c sá»­ dá»¥ng khi chÃºng ta cáº§n lÃ m 1 sá»‘ viá»‡c gÃ¬ Ä‘Ã³ khi Ä‘iá»u kiá»‡n cho trÆ°á»›c xáº£y ra vÃ  cÃ¡c cÃ´ng viá»‡c pháº£n á»©ng láº¡i sá»± kiá»‡n nÃ y PHáº¢I Ä‘Æ°á»£c thá»±c hiá»‡n trong luá»“ng lÃ m viá»‡c, vÃ­ dá»¥ Sá»± kiá»‡n gá»­i email kÃ­ch hoáº¡t khi ngÆ°á»i dÃ¹ng Ä‘Äƒng kÃ­ Sá»± kiá»‡n cáº­p nháº­t lÆ°á»£ng view bÃ i viáº¿t khi 1 bÃ i viáº¿t Ä‘Æ°á»£c click vÃ o â€¦ (trong cÃ¡c vÃ­ dá»¥ trÃªn, sá»± kiá»‡n mÃ  khÃ´ng thá»±c hiá»‡n thÃ¬ sai logic). Sá»± kiá»‡n thÆ°á»ng lÃ  cÃ¡c thao tÃ¡c database, Ä‘Ã´i khi lÃ  gá»­i email ThÃ´ng bÃ¡o thÃ¬ khÃ¡c, nÃ³ nÃªn Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ ghi láº¡i cÃ¡i Ä‘Ã£ xáº£y ra, vÃ­ dá»¥ nhÆ°: 1 ai Ä‘Ã³ Ä‘Ã£ thÃ­ch áº£nh cá»§a báº¡n =&gt; ghi láº¡i hÃ nh Ä‘á»™ng nÃ y thÃ´ng bÃ¡o tá»›i client, 1 hÃ ng Ä‘á»™ng Ä‘áº·t hÃ ng cá»§a báº¡n vá»«a hoÃ n táº¥t =&gt; ghi láº¡i viá»‡c Ä‘áº·t hÃ ng vÃ  gá»­i tá»›i cho client qua email, SMS, khÃ´ng cáº§n user xÃ¡c nháº­n gÃ¬ mÃ  chá»‰ xem láº¡i náº¿u muá»‘n =)) NhÆ° váº­y thÃ´ng bÃ¡o chá»‰ lÃ  bá»• sung chá»©c nÄƒng cho á»©ng dá»¥ng, khÃ´ng cáº§n pháº£n há»“i tá»« ngÆ°á»i dÃ¹ng. ThÃ´ng bÃ¡o lÃ  1 cÃ¡ch tá»‘t Ä‘á»ƒ gá»­i 1 thÃ´ng Ä‘iá»‡p qua nhiá»u kÃªnh hoáº·c gá»­i 1 thÃ´ng Ä‘iá»‡p tá»›i nhiá»u ngÆ°á»i dÃ¹ng khÃ¡c nhau. CÃ¡i nÃ y chá»‰ lÃ  tá»± báº£n thÃ¢n mÃ¬nh tháº¥y thÃ´i, tÃ¹y vÃ o á»©ng dá»¥ng mÃ  báº¡n chá»n event hay notification cho há»£p lÃ½ nhÃ©. Táº¥t nhiÃªn cÅ©ng Ä‘á»«ng sá»­ dá»¥ng event kiá»ƒu nhÆ° sau khi Ä‘Æ¡n hÃ ng Ä‘Æ°á»£c táº¡o thÃ¬ táº¡o chuá»—i event: gá»­i email tá»›i client, gá»­i SMS tá»›i client thÃ¬ cÅ©ng hÆ¡i kÃ¬ :D TÃ i liá»‡u tham kháº£o Notifications Laravel Events Laravel Laracast Laravel Broadcasting: Notification vs Event - StackOverFlow","link":"/2020/04/02/Laravel-Event-Notification/"},{"title":"React with redux-saga Testing","text":"Testing á»©ng dá»¥ng cá»§a báº¡n lÃ  má»™t pháº§n quan trá»ng Ä‘á»‘i vá»›i sá»± phÃ¡t triá»ƒn pháº§n má»m chuyÃªn nghiá»‡p. CÃ³ 1 vÃ i thá»© báº¡n nÃªn test. Má»™t vÃ i ká»¹ thuáº­t Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ test tÃ´i xin giá»›i thiá»‡u khi test á»©ng dá»¥ng react káº¿t há»£p redux, saga lÃ  Unit Testing, Snapshot Testing, Shallow rendering.Note: Framework sá»­ dá»¥ng demo á»¨ng dá»¥ng React káº¿t há»£p redux-saga: Äá»ƒ cho Ä‘Æ¡n giáº£n, tÃ´i sá»­ dá»¥ng React Boilerplate Ä‘á»ƒ demo vÃ¬ nÃ³ Ä‘Ã£ Ä‘Æ°á»£c setup má»™t á»©ng dá»¥ng Ä‘áº§y Ä‘á»§ vá»›i cÃ¡c ká»¹ thuáº­t Ä‘Ã£ ká»ƒ trÃªn. Framework test: JEST káº¿t há»£p Sinon TrÆ°á»›c tiÃªn chÃºng ta liá»‡t kÃª qua má»™t sá»‘ thÃ nh pháº§n cáº§n test cÃ³ trong á»©ng dá»¥ng React, redux-saga: Action. Reducer: NÆ¡i tiáº¿p nháº­n action vÃ  xá»­ lÃ½. Saga: middleware. React component. CÃ¡c ká»¹ thuáº­t testingUnit testingUnit testing lÃ  1 thá»±c hÃ nh viá»‡c test vá»›i Ä‘Æ¡n vá»‹ nhá» nháº¥t cÃ³ thá»ƒ trong code vÃ  cÃ¡c hÃ m cá»§a chÃºng ta. ChÃºng ta cháº¡y cÃ¡c test vÃ  kiá»ƒm tra tá»± Ä‘á»™ng cÃ¡c hÃ m cá»§a chÃºng ta lÃ m viá»‡c cÃ³ Ä‘Ãºng nhÆ° chÃºng ta mong Ä‘á»£i chÃºng lÃ m. ChÃºng ta assert (yÃªu cáº§u, Ä‘Ã²i há»i) ráº±ng gá»­i 1 táº­p Ä‘áº§u vÃ o vÃ  hÃ m cá»§a chÃºng ta tráº£ vá» cÃ¡c giÃ¡ trá»‹ phÃ¹ há»£p vÃ  xá»­ lÃ½ cÃ¡c váº¥n Ä‘á». Boilerplate Ä‘Ã£ há»— trá»£ sáºµn Jest test framework Ä‘á»ƒ cháº¡y test vÃ  táº¡o xÃ¡c sá»± xÃ¡c nháº­n. ThÆ° viá»‡n lÃ m cho chÃºng ta viáº¿t test Ä‘Æ¡n giáº£n nhÆ° cÃ¡c lá»i nÃ³i: báº¡n mÃ´ táº£ (describe) 1 Ä‘Æ¡n vá»‹ trong code cá»§a báº¡n vÃ  mong Ä‘á»£i (expect) nÃ³ (it) lÃ m viá»‡c gÃ¬ Ä‘Ã³ Ä‘Ãºng: 123456789describe('add()', () =&gt; { it('adds two numbers', () =&gt; { expect(add(2, 3)).toEqual(5); }); it(&quot;doesn't add the third number&quot;, () =&gt; { expect(add(2, 3, 5)).toEqual(add(2, 3)); });}); Snapshot TestingÄÃ¢y lÃ  má»™t ká»¹ thuáº­t ráº¥t há»¯u Ã­ch Ä‘Æ°á»£c JEST há»— trá»£ Ä‘á»ƒ test báº¥t cá»© khi nÃ o báº¡n muá»‘n Ä‘áº£m báº£o ráº±ng giao diá»‡n ngÆ°á»i dÃ¹ng (UI) cá»§a báº¡n khÃ´ng cÃ³ cÃ¡c thay Ä‘á»•i báº¥t ngá». Ã tÆ°á»Ÿng cá»§a ká»¹ thuáº­t nÃ y lÃ  vá»›i má»—i test case, báº¡n sáº½ renders cÃ¡c component, ghi nháº­n láº¡i 1 snapshot vÃ  so sÃ¡nh nÃ³ vá»›i snapshot Ä‘Ã£ Ä‘Æ°á»£c lÆ°u láº¡i tá»« trÆ°á»›c vá»›i cÃ¹ng test case Ä‘Ã³. Test khÃ´ng thÃ nh cÃ´ng náº¿u 2 snapshot khÃ´ng khá»›p nhau. Tuy nhiÃªn trong trÆ°á»ng há»£p 2 snapshot khÃ´ng khá»›p nhau, náº¿u báº¡n tháº¥y sá»± thay Ä‘á»•i Ä‘Ã³ lÃ  Ä‘Ãºng nhÆ° cÃ¡i báº¡n dá»± kiáº¿n (khÃ´ng báº¥t ngá») thÃ¬ báº¡n cÃ³ thá»ƒ cáº­p nháº­t snapshot, cháº¡y láº¡i Ä‘á»ƒ test case trá»Ÿ thÃ nh Ä‘Ãºng lÃ  cáº­p nháº­t phiÃªn báº£n snapshot nÃ y cho cÃ¡c láº§n test sau Ä‘Ã³ :D Ká»¹ thuáº­t nÃ y khÃ´ng chá»‰ Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ test UI, nÃ³ cÃ³ thá»ƒ Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ test saga, lÆ°u cÃ¡c tráº¡ng thÃ¡i cá»§a action, chÃºng ta sáº½ xem xÃ©t nÃ³ chi tiáº¿t trong pháº§n Saga Testing. Shallow renderingKá»¹ thuáº­t nÃ y táº¡m dá»‹ch lÃ  render â€œnÃ´ngâ€. Khi báº¡n chá»‰ muá»‘n viáº¿t unit test cho React, ká»¹ thuáº­t nÃ y cÃ³ thá»ƒ há»¯u Ã­ch. Ká»¹ thuáº­t cho phÃ©p báº¡n káº¿t xuáº¥t má»™t thÃ nh pháº§n sÃ¢u á»Ÿ má»™t cáº¥p Ä‘á»™ (â€œone level deepâ€) vÃ  xÃ¡c nháº­n giÃ¡ trá»‹ tráº£ vá» tá»« phÆ°Æ¡ng thá»©c render cá»§a nÃ³ tráº£ vá» mÃ  khÃ´ng pháº£i lo láº¯ng vá» cÃ¡c hÃ nh vi cá»§a cÃ¡c thÃ nh pháº§n con khÃ´ng Ä‘Æ°á»£c khá»Ÿi táº¡o hoáº·c hiá»ƒn thá»‹. Äiá»u nÃ y cÃ³ nghÄ©a, nÃ³ khÃ´ng yÃªu cáº§u DOM. Ká»¹ thuáº­t nÃ y cÃ³ thá»ƒ Ä‘Æ°á»£c coi lÃ  unit test cho cÃ¡c component cá»§a React (chá»‰ quan tÃ¢m káº¿t quáº£ tráº£ vá» hÃ m render, khÃ´ng quan tÃ¢m cÃ¡c hÃ nh vi vÃ  tháº» con). Tuy nhiÃªn Ä‘Ã³ cÅ©ng chÃ­nh lÃ  Ä‘iá»ƒm yáº¿u cá»§a nÃ³ VÃ¬ khÃ´ng render ra DOM nÃªn nÃ³ khÃ´ng thá»ƒ test Ä‘Æ°á»£c cÃ¡c hÃ nh vi vá»›i cÃ¡c component (click, change â€¦) Báº¡n pháº£i thá»±c hiá»‡n test thá»§ cÃ´ng vá»›i tá»«ng commponent Ká»¹ thuáº­t nÃ y cÃ¡ nhÃ¢n mÃ¬nh tháº¥y Ã­t Ä‘Æ°á»£c sá»­ dá»¥ng. Äá»ƒ test cÃ¡c component trong React, ká»¹ thuáº­t snapshot testing vá»›i sá»± giÃºp Ä‘á»¡ cá»§a 1 vÃ i thÆ° viá»‡n cÃ³ váº» há»¯u Ã­ch hÆ¡n. Action, reducer testingReducerVá»›i reducer báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng unit test hoáº·c snapshot Ä‘á»ƒ test. Unit test Ä‘Æ°á»£c sá»­ dá»¥ng náº¿u state Ã­t thay Ä‘á»•i (Ä‘á»ƒ trÃ¡nh cáº­p nháº­p code liÃªn tá»¥c), náº¿u khÃ´ng, hÃ£y cÃ¢n nháº¯c sá»­ dá»¥ng snapshot testing. VÃ­ dá»¥ khi test init state reducer: 123456789describe('NavBarReducer', () =&gt; { it('returns the initial state', () =&gt; { expect(NavBarReducer(undefined, {})).toEqual({ open: false, }); }); it('handles the toggleNav action', () =&gt; {});}); Vá»›i init state lÃ : 123{ open: false,} Tuy nhiÃªn phÆ°Æ¡ng phÃ¡p test nÃ y cÃ³ 1 Ä‘iá»ƒm yáº¿u lÃ  khi cÃ³ 1 ai Ä‘Ã³ thay Ä‘á»•i init state =&gt; báº¡n pháº£i thay Ä‘á»•i code??Thay vÃ o Ä‘Ã³ cÃ³ thá»ƒ sá»­ dá»¥ng snapshot, khi ai Ä‘Ã³ thay Ä‘á»•i init state =&gt; bÃ¡o lá»—i change snapshot. Tá»« Ä‘Ã³ báº¡n cÃ³ thá»ƒ so sÃ¡nh Ä‘á»ƒ cáº­p nháº­t snapshot khi test mÃ  khÃ´ng pháº£i cáº­p nháº­t code 1234567describe('NavBarReducer', () =&gt; { it('returns the initial state', () =&gt; { expect(NavBarReducer(undefined, {})).toMatchSnapshot(); }); it('handles the toggleNav action', () =&gt; {});}); ActionsMá»™t Redux action lÃ  1 cÃ¡c hÃ m thuáº§n tÃºy vÃ¬ váº­y khÃ´ng khÃ³ Ä‘á»ƒ test nÃ³, sá»­ dá»¥ng unit test, truyá»n input vÃ  expect output thÃ´i :D 12345it('should return the correct constant', () =&gt; { expect(toggleNav()).toEqual({ type: TOGGLE_NAV, });}); Saga TestingCÃ³ 2 cÃ¡ch chÃ­nh Ä‘á»ƒ test Sagas: test hÃ m generator tá»«ng bÆ°á»›c má»™t hoáº·c cháº¡y full saga vÃ  kiá»ƒm tra cÃ¡c effects Ä‘Æ°á»£c táº¡o ra tá»« saga Testing the Saga Generator FunctionÄá»ƒ test tá»«ng bÆ°á»›c má»™t cÃ¡c hÃ m generator báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng hÃ m next().value Ä‘á»ƒ láº¥y ra cÃ¡c giÃ¡ trá»‹ tráº£ vá» tá»« yield, sau Ä‘Ã³ káº¿t há»£p ká»¹ thuáº­t snapshot hoáº·c cÃ¡c káº¿t quáº£ tráº£ vá» Ä‘Ã³ Ä‘á»ƒ so sÃ¡nh vá»›i káº¿t quáº£ mong Ä‘á»£i.ChÃºng ta cÃ¹ng xem xÃ©t vÃ­ dá»¥ vá» saga sau: 12345678910111213141516/** * Github repos request/response handler */export function* getRepos() { // Select username from store const username = yield select(makeSelectUsername()); const requestURL = `https://api.github.com/users/${username}/repos?type=all&amp;sort=updated`; try { // Call our request helper (see 'utils/request') const repos = yield call(request, requestURL); yield put(reposLoaded(repos, username)); } catch (err) { yield put(repoLoadingError(err)); }} ChÃºng ta sáº½ dÃ¹ng next().value Ä‘á»ƒ láº¥y ra cÃ¡c giÃ¡ trá»‹ tá»« yield vÃ  so sÃ¡nh vá»›i káº¿t quáº£ ta mong muá»‘n: 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748/** * Tests for HomePage sagas */import { put, takeLatest } from 'redux-saga/effects';import { LOAD_REPOS } from 'containers/App/constants';import { reposLoaded, repoLoadingError } from 'containers/App/actions';import githubData, { getRepos } from '../saga';const username = 'mxstbr';/* eslint-disable redux-saga/yield-effects */describe('getRepos Saga', () =&gt; { let getReposGenerator; // We have to test twice, once for a successful load and once for an unsuccessful one // so we do all the stuff that happens beforehand automatically in the beforeEach beforeEach(() =&gt; { getReposGenerator = getRepos(); const selectDescriptor = getReposGenerator.next().value; expect(selectDescriptor).toMatchSnapshot(); const callDescriptor = getReposGenerator.next(username).value; expect(callDescriptor).toMatchSnapshot(); }); it('should dispatch the reposLoaded action if it requests the data successfully', () =&gt; { const response = [ { name: 'First repo', }, { name: 'Second repo', }, ]; const putDescriptor = getReposGenerator.next(response).value; expect(putDescriptor).toEqual(put(reposLoaded(response, username))); }); it('should call the repoLoadingError action if the response errors', () =&gt; { const response = new Error('Some error'); const putDescriptor = getReposGenerator.throw(response).value; expect(putDescriptor).toEqual(put(repoLoadingError(response))); });}); Branching SagaThá»‰nh thoáº£ng, saga cá»§a báº¡n láº¡i cÃ³ má»™t vÃ i káº¿t quáº£ khÃ¡c nhau. Khi Ä‘Ã³ Ä‘á»ƒ test cÃ¡c nhÃ¡nh khÃ¡c nhau, báº¡n cáº§n truyá»n giÃ¡ trá»‹ tráº£ vá» mong Ä‘á»£i tá»« yield trÆ°á»›c Ä‘Ã³ vÃ o hÃ m next Ä‘á»ƒ thá»±c hiá»‡n vÃ o cÃ¡c branch. Chi tiáº¿t cÃ¡ch test nÃ y tham kháº£o táº¡i Ä‘Ã¢y. Testing the full SagaMáº·c dÃ¹ ráº¥t há»¯u Ã­ch khi test tá»«ng bÆ°á»›c má»™t vá»›i saga, nhÆ°ng trÃªn thá»±c táº¿ nÃ³ cÃ³ thá»ƒ lÃ m cho test cá»§a saga Ä‘Æ¡n giáº£n vÃ  ngáº¯n. Thay vÃ o Ä‘Ã³ má»™t cÃ¡ch thÃ­ch há»£p hÆ¡n Ä‘á»ƒ test cho cáº£ saga vÃ  mong Ä‘á»£i cÃ¡c effects Ä‘Ã£ xáº£y ra. ChÃºng ta cÃ¹ng quay láº¡i vá»›i vÃ­ dá»¥ trÃªn. ChÃºng ta sáº½ test cáº£ hÃ nh Ä‘á»™ng call API láº¥y repos cá»§a 1 ngÆ°á»i dÃ¹ng trong trÆ°á»ng há»£p thÃ nh cÃ´ng vÃ  mong Ä‘á»£i hÃ nh Ä‘á»™ng put(reposLoaded(repos, username)) Ä‘Æ°á»£c xáº£y ra.TrÆ°á»›c háº¿t chÃºng ta cáº§n mock function request. Viá»‡c lÃ m nÃ y Ä‘á»ƒ mÃ´ phá»ng giÃ¡ trá»‹ tráº£ vá» thÃ nh cÃ´ng API thay vÃ¬ ta gá»i API thá»±c táº¿, má»™t ká»¹ thuáº­t phá»• biáº¿n Ä‘Æ°á»£c sá»­ dá»¥ng trong test. 123456789const dispatched = [];const saga = runSaga( { dispatch: action =&gt; dispatched.push(action), getState: () =&gt; ({ state: 'test' }), }, getRepos,); VÃ  rá»“i test cáº£ saga thÃ´i: 12345678910111213141516171819202122232425describe('getRepos fullSaga', () =&gt; { it('should put expected event', async () =&gt; { const dispatched = []; const response = [ { name: 'First repo', }, { name: 'Second repo', }, ]; sinon.stub(request, 'default').callsFake(function fakeFn() { return response; }); await runSaga( { dispatch: action =&gt; dispatched.push(action), getState: () =&gt; ({ state: 'test' }), }, getRepos, ).toPromise(); expect(dispatched).toEqual([reposLoaded(response, '')]); });}); Component TestingUnit Tesing vá»›i action vÃ  reducer lÃ  ngon, nhÆ°ng báº¡n cÃ³ thá»ƒ lÃ m tháº­m chÃ­ lÃ  nhiá»u hÆ¡n Ä‘á»ƒ cháº¯c cháº¯n ráº±ng khÃ´ng gÃ¬ bá»‹ break trong á»©ng dá»¥ng cá»§a báº¡n. VÃ¬ React lÃ  táº§ng view cá»§a á»©ng dá»¥ng, hÃ£y xem xÃ©t cÃ¡c test Components Shallow rendering react-testing-library Snapshot testing Behavior testing Shallow renderingNhÆ° Ä‘Ã£ Ä‘á» cáº­p trong lÃ½ thuyáº¿t, nÃ³ lÃ  ká»¹ thuáº­t Unit Test vá»›i cÃ¡c component cá»§a React mÃ  khÃ´ng cáº§n dÃ¹ng DOM. Æ¯u Ä‘iá»ƒmHÃ£y xem xÃ©t nÃ³ cÃ³ nghÄ©a gÃ¬ vá»›i tháº» Ä‘Æ¡n giáº£n &lt;Button&gt; 1234567891011121314// Button.jsimport React from 'react';import CheckmarkIcon from './CheckmarkIcon';function Button(props) { return ( &lt;button className=&quot;btn&quot; onClick={props.onClick}&gt; &lt;CheckmarkIcon /&gt; {React.Children.only(props.children)} &lt;/button&gt; );}export default Button; =&gt; Note: This is a stateless (â€œdumbâ€) component Äiá»u Ä‘Ã³ cÃ³ nghÄ©a 1 component khÃ¡c sá»­ dá»¥ng nÃ³ sáº½ cÃ³ dáº¡ng: 1234567// HomePage.jsimport Button from './Button';function HomePage() { return &lt;Button onClick={this.doSomething}&gt;Click me!&lt;/Button&gt;;} =&gt; Note: This is a stateful (â€œsmartâ€) component! Khi render thÃ´ng thÆ°á»ng vá»›i hÃ m chuáº©n ReactDOM.render, Ä‘Ã¢y sáº½ lÃ  HTML output (Nháº­n xÃ©t Ä‘Æ°á»£c thÃªm song song Ä‘á»ƒ so sÃ¡nh cÃ¡c cáº¥u trÃºc trong HTML tá»« nguá»“n JSX) 1234&lt;button&gt; &lt;!-- &lt;Button&gt; --&gt; &lt;i class=&quot;fa fa-checkmark&quot;&gt;&lt;/i&gt; &lt;!-- &lt;CheckmarkIcon /&gt; --&gt; Click Me! &lt;!-- { props.children } --&gt;&lt;/button&gt; &lt;!-- &lt;/Button&gt; --&gt; TrÃ¡i láº¡i, khi render vá»›i shallow render, chÃºng ta sáº½ nháº­n chuá»—i string vá»›i Ä‘oáº¡n HTML nhÆ° sau: 1234&lt;button&gt; &lt;!-- &lt;Button&gt; --&gt; &lt;CheckmarkIcon /&gt; &lt;!-- NOT RENDERED! --&gt; Click Me! &lt;!-- { props.children } --&gt;&lt;/button&gt; &lt;!-- &lt;/Button&gt; --&gt; Náº¿u chÃºng ta test Button vá»›i render thÃ´ng thÆ°á»ng, khi cÃ³ 1 váº¥n Ä‘á» vá»›i CheckmarkIcon sau Ä‘Ã³ test vá»›i Button sáº½ fail. Äiá»u nÃ y ráº¥t khÃ³ khÄƒn Ä‘á»ƒ tÃ¬m nguyÃªn nhÃ¢n (khÃ´ng biáº¿t CheckmarkIcon lá»—i hay Button lá»—i). Sá»­ dá»¥ng shallow renderder, chÃºng ta cÃ´ láº­p Ä‘Æ°á»£c cÃ¡c sá»± cá»‘ do chÃºng ta khÃ´ng render 1 vÃ i tháº» nÃ o khÃ¡c ngoÃ i tháº» chÃºng ta Ä‘ang test. ÄÃ¢y cÃ³ thá»ƒ coi lÃ  Æ°u Ä‘iá»ƒm duy nháº¥t cá»§a ká»¹ thuáº­t nÃ y so vá»›i cÃ¡c ká»¹ thuáº­t test component khÃ¡c. NhÆ°á»£c Ä‘iá»ƒmVáº¥n Ä‘á» cá»§a shallow renderer lÃ  táº¥t cáº£ cÃ¡c assertions pháº£i lÃ m thá»§ cÃ´ng, vÃ  báº¡n cÃ³ thá»ƒ khÃ´ng báº¥t cá»© Ä‘iá»u gÃ¬ cáº§n DOM. react-testing-libraryÄá»ƒ viáº¿t Ä‘Æ°á»£c nhiá»u test cÃ³ thá»ƒ maintain cÃ¡i mÃ  sáº½ giá»‘ng hÆ¡n cÃ¡ch mÃ  chÃºng ta sá»­ dá»¥ng component á»Ÿ thá»±c táº¿, chÃºng cÃ³ cÃ³ cÃ¡i gá»i lÃ  react-testing-library. ThÆ° viá»‡n nÃ y renders component cá»§a chÃºng ta vá»›i DOM thá»±c táº¿ vÃ  cung cáº¥p cÃ¡c tiá»‡n Ã­ch Ä‘á»ƒ truy váº¥n nÃ³. HÃ£y xem xÃ©t component &lt;Button /&gt;. Äáº§u tiÃªn, hÃ£y check xem nÃ³ cÃ³ Ä‘Æ°á»£c renders vá»›i con cá»§a nÃ³, náº¿u cÃ³, vÃ  thá»© 2 lÃ  nÃ³ cÃ³ xá»­ lÃ½ sá»± kiá»‡n click? 123456789import React from 'react';import { render, fireEvent } from 'react-testing-library';import Button from '../Button';describe('&lt;Button /&gt;', () =&gt; { it('renders and matches the snapshot', () =&gt; {}); it('handles clicks', () =&gt; {});}); Snapshot testingHÃ£y báº¯t Ä‘áº§u báº±ng cÃ¡ch cháº¯c cháº¯n ráº±ng nÃ³ render ra cÃ¡c component vÃ  khÃ´ng thay Ä‘á»•i nÃ o Ä‘Æ°á»£c xáº£y ra ká»ƒ tá»« láº§n cuá»‘i, láº§n mÃ  nÃ³ Ä‘Æ°á»£c test thÃ nh cÃ´ng. ChÃºng ta sáº½ lÃ m váº­y báº±ng cÃ¡ch render nÃ³ vÃ  táº¡o 1 snapshot cÃ¡i mÃ  cÃ³ thá»ƒ so sÃ¡nh vá»›i snapshot Ä‘Ã£ Ä‘Æ°á»£c commit trÆ°á»›c Ä‘Ã³. Náº¿u khÃ´ng cÃ³ snapshot nÃ o tá»“n táº¡i, 1 cÃ¡i má»›i sáº½ Ä‘Æ°á»£c táº¡o. Do Ä‘Ã³, Ä‘áº§u tiÃªn chÃºng ta sáº½ call render. NÃ³ sáº½ render component &lt;Button /&gt; vÃ o container, vÃ  máº·c Ä‘á»‹nh lÃ  1 &lt;div&gt;Ä‘Æ°á»£c thÃªm vÃ o document.body. ChÃºng ta sau Ä‘Ã³ sáº½ táº¡o ra 1 snapshot vÃ  expect snapshot Ä‘Ã³ giá»‘ng vá»›i snapshot Ä‘Ã£ tá»“n táº¡i (nháº­n vÃ o tá»« láº§n cháº¡y trÆ°á»›c Ä‘Ã³ cá»§a test nÃ y) vÃ  commit nÃ³ lÃªn repo. 123456it('renders and matches the snapshot', () =&gt; { const text = 'Click me!'; const { container } = render(&lt;Button&gt;{text}&lt;/Button&gt;); expect(container.firstChild).toMatchSnapshot();}); render tráº£ vá» 1 Ä‘á»‘i tÆ°á»£ng vá»›i thuá»™c tÃ­nh container cÃ¡i sáº½ chá»©a Ä‘Æ°á»£c render tá»« &lt;Button /&gt; componentVÃ¬ Ä‘Ã¢y lÃ  render vá»›i DOM thÃ´ng thÆ°á»ng, chÃºng ta cÃ³ thá»ƒ truy váº¥n vÃ o component báº±ng cÃ¡ch sá»­ dá»¥ng container.firseChild. CÃ¡i nÃ y sáº½ lÃ  snapshot, Ä‘Æ°á»£c chá»©a trong thÆ° má»¥c __snapshots__ trong folder tests. Cháº¯c cháº¯n ráº±ng báº¡n Ä‘Ã£ commit snapshots nÃ y lÃªn repo cá»§a báº¡n. Tuyá»‡t vá»i. BÃ¢y giá» náº¿u báº¡n thá»±c hiá»‡n 1 vÃ i thay Ä‘á»•i vá»›i component &lt;Button /&gt;, test cá»§a báº¡n sáº½ tráº£ vá» fail vÃ  báº¡n sáº½ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cÃ¡i gÃ¬ Ä‘Ã£ thay Ä‘á»•i. Náº¿u thay Ä‘á»•i Ä‘Ã³ Ä‘Ãºng vá»›i cÃ¡i mÃ  báº¡n muá»‘n, hÃ£y update snapshots vÃ  commit nÃ³ vÃ o repo thÃ´i :D. Test cÃ¡c hÃ nh viTest cÃ¡c sá»± kiá»‡n nhÆ° click vÃ o button. ChÃºng ta sáº½ sá»­ dá»¥ng mock function Ä‘á»ƒ lÃ m viá»‡c nÃ y. Má»™t mock function lÃ  1 hÃ m sáº½ theo dÃµi: náº¿u, sá»± thÆ°á»ng xuyÃªn vÃ  cÃ¡c Ä‘á»‘i sá»‘ nÃ o sáº½ Ä‘Æ°á»£c gá»i (if, how often and with what arguments). ChÃºng ta truyá»n hÃ m nÃ y nhÆ° lÃ  hÃ m xá»­ lÃ½ sá»± kiá»‡n onClick, mÃ´ phá»ng 1 láº§n nháº¥p vÃ  cuá»‘i cÃ¹ng, kiá»ƒm tra hÃ m mock Ä‘Ã£ Ä‘Æ°á»£c gá»i: 12345678it('handles clicks', () =&gt; { const onClickMock = jest.fn(); const text = 'Click me!'; const { getByText } = render(&lt;Button onClick={onClickMock}&gt;{text}&lt;/Button&gt;); fireEvent.click(getByText(text)); expect(onClickSpy).toHaveBeenCalledTimes(1);}); VÃ  cuá»‘i cÃ¹ng, test Ä‘áº§y Ä‘á»§ cá»§a chÃºng ta sáº½ cÃ³ dáº¡ng: 123456789101112131415161718192021import React from 'react';import { render, fireEvent } from 'react-testing-library';import Button from '../Button';describe('&lt;Button /&gt;', () =&gt; { it('renders and matches the snapshot', () =&gt; { const text = 'Click me!'; const { container } = render(&lt;Button&gt;{text}&lt;/Button&gt;); expect(container.firstChild).toMatchSnapshot(); }); it('handles clicks', () =&gt; { const onClickMock = jest.fn(); const text = 'Click me!'; const { getByText } = render(&lt;Button onClick={onClickMock}&gt;{text}&lt;/Button&gt;); fireEvent.click(getByText(text)); expect(onClickSpy).toHaveBeenCalledTimes(1); });}); Tá»•ng káº¿t Khi test action vÃ  reducer: sá»­ dá»¥ng Unit Testing Khi test component: sá»­ dá»¥ng snapshot Khi test saga: sá»­ dá»¥ng snapshot, cÃ³ thá»ƒ test full saga hoáº·c step-by-step TÃ i liá»‡u tham kháº£o React Boilerplate JEST Shallow Renderer Generator Function Sinon JS My demo github link Q&amp;A Stack Overflow","link":"/2019/09/02/React-with-redux-saga-Testing/"},{"title":"Section 16: Security &amp; Compliance","text":"TÃ¬m hiá»ƒu 1 sá»‘ pháº§n liÃªn quan Ä‘áº¿n viá»‡c tuÃ¢n thá»§ vÃ  báº£o máº­t trÃªn AWS! AWS Shared Responsibility ModelPháº§n nÃ y sáº½ cÃ³ 2-3 cÃ¢u há»i trong Ä‘á» thi, vÃ  viá»‡c hiá»ƒu Ä‘Æ°á»£c trÃ¡ch nhiá»‡m giá»¯a báº¡n vÃ  AWS lÃ  Ä‘iá»u ráº¥t quan trá»ng AWS responsibility - Security of the Cloud Báº£o vá»‡ cÆ¡ sá»Ÿ háº¡ táº§ng (pháº§n cá»©ng, pháº§n má»m, cÆ¡ sá»Ÿ váº­t cháº¥t vÃ  máº¡ng) cháº¡y táº¥t cáº£ cÃ¡c dá»‹ch vá»¥ AWS Quáº£n lÃ½ cÃ¡c dá»‹ch vá»¥ nhÆ° S3, Dynamo DB, RDS, etc. Customer responsibility - Security in the Cloud Äá»‘i vá»›i EC2 instance, customer cÃ³ trÃ¡ch nhiá»‡m quáº£n lÃ½ OS khÃ¡ch (bao gá»“m cÃ¡c báº£n cáº­p nháº­t báº£o máº­t vÃ  báº£n vÃ¡), firewall vÃ  cáº¥u hÃ¬nh máº¡ng, IAM MÃ£ hoÃ¡ dá»¯ liá»‡u á»©ng dá»¥ng Shared controls: Patch Management, Configuration Management, Awareness &amp; Training VÃ­ dá»¥ vá»›i RDS TrÃ¡ch nhiá»‡m cá»§a AWS Quáº£n lÃ½ phiÃªn báº£n EC2 cÆ¡ báº£n, vÃ´ hiá»‡u hoÃ¡ truy cáº­p SSH Báº£n vÃ¡ DB tá»± Ä‘á»™ng Báº£n vÃ¡ OS tá»± Ä‘á»™ng Kiá»ƒm tra disks vÃ  instance cÆ¡ báº£n vÃ  Ä‘áº£m báº£o cÃ¡c chá»©c nÄƒng cá»§a nÃ³ hoáº¡t Ä‘á»™ng TrÃ¡ch nhiá»‡m cá»§a báº¡n Kiá»ƒm tra ports / IP / security group cá»§a cÃ¡c inbound rules trong DB cá»§a SG PhÃ¢n quyá»n vÃ  táº¡o user trong database Táº¡o database cáº§n hoáº·c khÃ´ng cáº§n quyá»n truy cáº­p public Cháº¯c cháº¯n ráº±ng parameter groups hoáº·c DB Ä‘Æ°á»£c cáº¥u hÃ¬nh chá»‰ cho phÃ©p truy cáº­p SSL CÃ i Ä‘áº·t mÃ£ hoÃ¡ database VÃ­ dá»¥ vá»›i S3 TrÃ¡ch nhiá»‡m AWS Äáº£m báº£o bá»™ nhá»› khÃ´ng giá»›i háº¡n Äáº£m báº£o mÃ£ hoÃ¡ Äáº£m báº£o phÃ¢n tÃ¡ch dá»¯ liá»‡u giá»¯a cÃ¡c customer khÃ¡c nhau Äáº£m báº£o ráº±ng nhÃ¢n viÃªn cá»§a AWS khÃ´ng thá»ƒ truy cáº­p dá»¯ liá»‡u cá»§a báº¡n TrÃ¡ch nhiá»‡m cá»§a báº¡n Cáº¥u hÃ¬nh cÃ¡c bucket CÃ i Ä‘áº·t Bucket policy / public IAM user vÃ  roles Báº­t mÃ£ hoÃ¡ Shared Responsibility Model diagramRef: https://aws.amazon.com/compliance/shared-responsibility-model/ DDoS Protection: WAF &amp; Shield DDOS Protection on AWS AWS Shield Standard: giÃºp báº¡n chá»‘ng láº¡i táº¥n cÃ´ng DDOS mÃ  khÃ´ng phÃ¡t sinh giÃ¡ AWS Shield Advanced: Báº£o vá»‡ 24/7 DDoS cao hÆ¡n AWS WAF: Lá»c cÃ¡c request nháº¥t Ä‘á»‹nh dá»±a vÃ o cÃ¡c rules CloudFront and Route 53 Báº£o vá»‡ tÃ­nh kháº£ dá»¥ng báº±ng cÃ¡ch sá»­ dá»¥ng cÃ¡c global edge network (máº¡ng biÃªn toÃ n cáº§u) Káº¿t há»£p vá»›i AWS Shield, cung cáº¥p kháº£ nÄƒng giáº£m thiá»ƒu táº¥n cÃ´ng á»Ÿ (rÃ¬a) Sáºµn sÃ ng scale - táº­n dá»¥ng AWS Auto Scaling AWS Shield AWS Shield Standard Dá»‹ch vá»¥ miá»…n phÃ­ Ä‘Æ°á»£c kÃ­ch hoáº¡t cho má»i khÃ¡ch hÃ ng AWS Cung cáº¥p kháº£ nÄƒng báº£o vá»‡ khá»i cÃ¡c cuá»™c táº¥n cÃ´ng nhÆ° SYN / UDP Floods, cÃ¡c cuá»™c táº¥n cÃ´ng Reflection vÃ  cÃ¡c cuá»™c táº¥n cÃ´ng layer 3 / layer 4 khÃ¡c AWS Shield Advanced Dá»‹ch vá»¥ giáº£m thiá»ƒu DDoS tÃ¹y chá»n ($ 3.000 má»—i thÃ¡ng cho má»—i tá»• chá»©c) Báº£o vá»‡ khá»i cÃ¡c cuá»™c táº¥n cÃ´ng phá»©c táº¡p hÆ¡n trÃªn Amazon EC2, Elastic Load Balancing (ELB), Amazon CloudFront, AWS Global Accelerator, and Route 53 24/7 truy cáº­p, liÃªn há»‡ vá»›i cÃ¡c team pháº£n há»“i DDoS (DDoS response team - DRP) Báº£o vá»‡ khá»i má»©c phÃ­ cao hÆ¡n trong thá»i gian sá»­ dá»¥ng tÄƒng Ä‘á»™t biáº¿n do DDoS AWS WAF â€“ Web Application Firewall Báº£o vá»‡ cÃ¡c á»©ng dá»¥ng web cá»§a báº¡n khá»i cÃ¡c hÃ¬nh thá»©c khai thÃ¡c web phá»• biáº¿n (Layer 7) Layer 7 is HTTP (vs Layer 4 is TCP) Deploy trÃªn Application Load Balancer, API Gateway, CloudFront Äá»‹nh nghÄ©a cÃ¡c Web ACL (Web Access Control List): CÃ¡c Rule cÃ³ thá»ƒ chá»©a Ip Address, HTTP body, or URI strings Báº£o vá»‡ khá»i cÃ¡c táº¥n cÃ´ng phá»• biáº¿n nhÆ° SQL Injection vÃ  Cross-Site Scripting (XSS) Size constraints, geo-match (block countries) CÃ¡c quy táº¯c dá»±a trÃªn tá»· lá»‡ (Ä‘á»ƒ Ä‘áº¿m sá»‘ láº§n xuáº¥t hiá»‡n cá»§a cÃ¡c sá»± kiá»‡n) - Ä‘á»ƒ báº£o vá»‡ DDoS Kiáº¿n trÃºc vÃ­ dá»¥ chá»‘ng DDoSRef: https://d1.awsstatic.com/whitepapers/Security/DDoS_White_Paper.pdf Penetration TestingSo, penetration testing is when youâ€™re trying to attack your own infrastructure to test your security. KhÃ¡ch hÃ ng AWS Ä‘Æ°á»£c hoan nghÃªnh thá»±c hiá»‡n Ä‘Ã¡nh giÃ¡ báº£o máº­t hoáº·c kiá»ƒm tra thÃ¢m nháº­p Ä‘á»‘i vá»›i cÆ¡ sá»Ÿ háº¡ táº§ng AWS cá»§a há» mÃ  khÃ´ng cáº§n phÃª duyá»‡t trÆ°á»›c Ä‘á»‘i vá»›i 8 dá»‹ch vá»¥: Amazon EC2 instances, NAT Gateways, and Elastic Load Balancers Amazon RDS Amazon CloudFront Amazon Aurora Amazon API Gateways AWS Lambda and Lambda Edge functions Amazon Lightsail resources Amazon Elastic Beanstalk environments (Danh sÃ¡ch nÃ y cÃ³ thá»ƒ tÄƒng theo thá»i gian) Penetration Testing on your AWS Cloud CÃ¡c hoáº¡t Ä‘á»™ng bá»‹ cáº¥m DNS zone walking via Amazon Route 53 Hosted Zones Denial of Service (DoS), Distributed Denial of Service (DDoS), Simulated DoS, Simulated DDoS Port flooding Protocol flooding Request flooding (login request flooding, API request flooding) Náº¿u cÃ³ báº¥t cá»© váº¥n Ä‘á» gÃ¬ liÃªn quan, liÃªn há»‡ vá»›i aws-security-simulated-event@amazon.com Read more: https://aws.amazon.com/security/penetration-testing/ Data at rest vs. Data in transit Tráº¡ng thÃ¡i nghá»‰: dá»¯ liá»‡u Ä‘Ã£ Ä‘Æ°á»£c lÆ°u trá»¯ hoáº·c Ä‘ang lÆ°u trá»¯ trÃªn 1 thiáº¿t bá»‹. VÃ­ dá»¥ nhÆ° lÆ°u trÃªn á»• cá»©ng, lÆ°u RDS hoáº·c trong S3 Äang chuyá»ƒn tiáº¿p (Ä‘ang chuyá»ƒn Ä‘á»™ng): dá»¯ liá»‡u Ä‘Æ°á»£c di chuyá»ƒn tá»« vá»‹ trÃ­ nÃ y sang vá»‹ trÃ­ khÃ¡c, nhÆ° chuyá»ƒn dá»¯ liá»‡u tá»« cÃ¡c server táº¡i chá»— sang AWS, tá»« EC2 sang Dynamo DB,.. ChÃºng ta muá»‘n mÃ£ hoÃ¡ dá»¯ liá»‡u á»Ÿ cáº£ 2 tráº¡ng thÃ¡i Ä‘á»ƒ báº£o vá»‡ chÃºng. Äá»ƒ lÃ m Ä‘iá»u nÃ y, chÃºng ta táº­n dá»¥ng cÃ¡c khoÃ¡ mÃ£ hoÃ¡ (encrytion keys) Encryption with KMS &amp; CloudHSMAWS KMS (Key Management Service)Báº¥t cá»© khi nÃ o báº¡n nghe tháº¥y â€œmÃ£ hÃ³aâ€ cho má»™t dá»‹ch vá»¥ AWS, ráº¥t cÃ³ thá»ƒ Ä‘Ã³ lÃ  KMS KMS = AWS manages the encryption keys for us MÃ£ hoÃ¡ sáº½ Ä‘Æ°á»£c sá»­ dá»¥ng EBS volumes: encrypt volumes S3 buckets: Server-side encryption of objects Redshift database: encryption of data RDS database: encryption of data EFS drives: encryption of data CÃ¡c mÃ£ hoÃ¡ sáº½ Ä‘Æ°á»£c kÃ­ch hoáº¡t tá»± Ä‘á»™ng CloudTrail Logs S3 Glacier Storage Gateway CloudHSM Vá»›i KMS AWS quáº£n lÃ½ pháº§n má»m mÃ£ hoÃ¡ thÃ¬ CloudHSM AWS sáº½ cung cáº¥p pháº§n cá»©ng mÃ£ hoÃ¡ CÃ¡c pháº§n cá»©ng nÃ y lÃ  chuyÃªn dá»¥ng (HSM = Hardware Security Module) Báº¡n tá»± quáº£n lÃ½ cÃ¡c key mÃ£ hoÃ¡ cá»§a mÃ¬nh chá»© khÃ´ng pháº£i AWS Thiáº¿t bá»‹ HSM cÃ³ kháº£ nÄƒng chá»‘ng giáº£ máº¡o, tuÃ¢n thá»§ FIPS 140-2 Level 3 CloudHSM Diagram Types of Customer Master Keys: CMK Customer Managed CMK: Táº¡o, quáº£n lÃ½ vÃ  sá»­ dá»¥ng bá»Ÿi khÃ¡ch hÃ ng, cÃ³ thá»ƒ báº­t hoáº·c táº¯t Ãp dá»¥ng chÃ­nh sÃ¡ch luÃ¢n chuyá»ƒn (khÃ³a má»›i Ä‘Æ°á»£c táº¡o hÃ ng nÄƒm, khÃ³a cÅ© Ä‘Æ°á»£c giá»¯ nguyÃªn) CÃ³ thá»ƒ bring-your-own-key AWS managed CMK: ÄÆ°á»£c AWS táº¡o, quáº£n lÃ½ vÃ  sá»­ dá»¥ng thay máº·t khÃ¡ch hÃ ng ÄÆ°á»£c sá»­ dá»¥ng bá»Ÿi AWS services (aws/s3, aws/ebs, aws/redshift) â€¢ AWS owned CMK: Táº­p há»£p cÃ¡c CMK mÃ  má»™t dá»‹ch vá»¥ AWS sá»Ÿ há»¯u vÃ  quáº£n lÃ½ Ä‘á»ƒ sá»­ dá»¥ng trong nhiá»u tÃ i khoáº£n AWS cÃ³ thá»ƒ sá»­ dá»¥ng nhá»¯ng thá»© Ä‘Ã³ Ä‘á»ƒ báº£o vá»‡ tÃ i nguyÃªn trong tÃ i khoáº£n cá»§a báº¡n (nhÆ°ng báº¡n khÃ´ng thá»ƒ xem cÃ¡c khÃ³a) CloudHSM Keys (custom keystore): CÃ¡c khÃ³a Ä‘Æ°á»£c táº¡o tá»« thiáº¿t bá»‹ pháº§n cá»©ng CloudHSM cá»§a riÃªng báº¡n CÃ¡c toÃ¡n tá»­ mÃ£ hoÃ¡ Ä‘Æ°á»£c thá»±c hiá»‡n trong CloudHSM cluster Lab 02: Encryption with KMS &amp; CloudHSM Hands On BÆ°á»›c 1: VÃ o dá»‹ch vá»¥ Key Management Service (KMS)As we can see, we have three types of keys. We have the customer managed keys, which you can create but they will cost you some money or you have the AWS manage keys and theyâ€™re created for the services of AWS and the custom key store which is going to use a CloudHSM cluster that you need to create, own and manage. Tab AWS managament: VÃ o volume trong EC2, táº¡o Volumn, Chá»n mÃ£ hoÃ¡ =&gt; Master Key CloudTrail: Log file vá»›i cÃ¡c thá»ƒ loáº¡i SSE-KMS luÃ´n (File S3) Customer managed keys: Táº¡o key VÃ o volumn EC2 táº¡o láº¡i Volumn vá»›i mÃ£ hoÃ¡ =&gt; Chá»n Ä‘Æ°á»£c key cá»§a báº¡n Secrets Manager OverviewSo Secrets Manager is a great way to store secrets, but on top of it, you can force the rotation of these secrets, I mean, they have to change every X number of days. For example, you can say, â€œOkay, every 90 days, I want to change my passwords.â€ VÃ o dá»‹ch vá»¥ Secret Manager. =&gt; Store a new secret (CÃ³ giÃ¡ nhÃ©, nhÃ¬n á»Ÿ má»¥c Price) Táº¡o key vÃ  chá»n cÃ¡c tá»± Ä‘á»™ng rotation Xem cáº£ sample code luÃ´n, cÃ³ váº» xá»‹n =)) Artifact Overview (not really a service) Cá»•ng cung cáº¥p cho khÃ¡ch hÃ ng quyá»n truy cáº­p theo yÃªu cáº§u vÃ o tÃ i liá»‡u tuÃ¢n thá»§ AWS vÃ  cÃ¡c thá»a thuáº­n AWS Report + Agreements VÃ o service Artifact =&gt; Global service Download report Accept 1 agreements =&gt; CÃ³ váº» chá»‰ lÃ  docs hÆ¡n lÃ  1 dá»‹ch vá»¥ Artifact Reports: Cho phÃ©p báº¡n táº£i xuá»‘ng cÃ¡c tÃ i liá»‡u tuÃ¢n thá»§ vÃ  báº£o máº­t AWS tá»« cÃ¡c Ä‘Ã¡nh giÃ¡ cá»§a bÃªn thá»© ba, cháº³ng háº¡n nhÆ° chá»©ng nháº­n AWS ISO, Payment Card Industry (PCI), and System and Organization Control (SOC) reports Artifact Agreements: Cho phÃ©p báº¡n xem xÃ©t, cháº¥p nháº­n vÃ  theo dÃµi tráº¡ng thÃ¡i cá»§a cÃ¡c thá»a thuáº­n AWS, cháº³ng háº¡n nhÆ° Business Associate Addendum (BAA) or the Health Insurance Portability and Accountability Act (HIPAA) cho tÃ i khoáº£n cÃ¡ nhÃ¢n hoáº·c trong tá»• chá»©c cá»§a báº¡n CÃ³ thá»ƒ Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ há»— trá»£ kiá»ƒm toÃ¡n ná»™i bá»™ hoáº·c tuÃ¢n thá»§ Amazon GuardDutyDÃ nh cho Machine Learming (mÃ©o hiá»ƒu) Inspector Overview ÄÃ¡nh giÃ¡ báº£o máº­t tá»± Ä‘á»™ng cho EC2 Instances PhÃ¢n tÃ­ch há»‡ Ä‘iá»u hÃ nh Ä‘ang cháº¡y chá»‘ng láº¡i cÃ¡c lá»— há»•ng Ä‘Ã£ biáº¿t PhÃ¢n tÃ­ch kháº£ nÄƒng truy cáº­p máº¡ng khÃ´ng mong muá»‘n AWS Inspector Agent pháº£i Ä‘Æ°á»£c cÃ i trong OS trong EC2 instances Sau khi Ä‘Ã¡nh giÃ¡, báº¡n sáº½ nháº­n Ä‘Æ°á»£c má»™t bÃ¡o cÃ¡o vá»›i danh sÃ¡ch cÃ¡c lá»— há»•ng báº£o máº­t AWS Config Overview =&gt; Labs GiÃºp kiá»ƒm tra vÃ  ghi láº¡i sá»± tuÃ¢n thá»§ cá»§a cÃ¡c tÃ i nguyÃªn AWS cá»§a báº¡n GiÃºp ghi láº¡i cÃ¡c cáº¥u hÃ¬nh vÃ  thay Ä‘á»•i theo thá»i gian Kháº£ nÄƒng lÆ°u trá»¯ dá»¯ liá»‡u cáº¥u hÃ¬nh vÃ o S3 (do Athena phÃ¢n tÃ­ch) CÃ¡c cÃ¢u há»i cÃ³ thá»ƒ Ä‘Æ°á»£c giáº£i quyáº¿t báº±ng AWS Config: CÃ³ quyá»n truy cáº­p SSH khÃ´ng háº¡n cháº¿ vÃ o cÃ¡c security group cá»§a tÃ´i khÃ´ng? CÃ¡c bucket cÃ³ pháº£i Ä‘ang public access? Cáº¥u hÃ¬nh ALB cá»§a tÃ´i Ä‘Ã£ thay Ä‘á»•i nhÆ° tháº¿ nÃ o theo thá»i gian? Báº¡n cÃ³ thá»ƒ nháº­n Ä‘Æ°á»£c cÃ¡c cáº£nh bÃ¡o (SNS notification) cho cÃ¡c thay Ä‘á»•i AWS Config lÃ  dá»‹ch vá»¥ cho má»—i region CÃ³ thá»ƒ tá»•ng há»£p giá»¯a cÃ¡c khu vá»±c vÃ  tÃ i khoáº£n Lab 03: AWS ConfigMacie Overview - Machine LearningSecurity Hub Overview =&gt; CÃ³ price CÃ´ng cá»¥ báº£o máº­t trung tÃ¢m Ä‘á»ƒ quáº£n lÃ½ báº£o máº­t trÃªn má»™t sá»‘ tÃ i khoáº£n AWS vÃ  tá»± Ä‘á»™ng kiá»ƒm tra báº£o máº­t Dashboard Ä‘Æ°á»£c tÃ­ch há»£p hiá»ƒn thá»‹ cÃ¡c tráº¡ng thÃ¡i báº£o máº­t vÃ  tuÃ¢n thá»§ hiá»‡n táº¡i Ä‘á»ƒ cÃ³ cÃ¡c hÃ nh Ä‘á»™ng nhanh chÃ³ng Tá»± Ä‘á»™ng tá»•ng há»£p cÃ¡c cáº£nh bÃ¡o á»Ÿ cÃ¡c Ä‘á»‹nh dáº¡ng Ä‘Æ°á»£c xÃ¡c Ä‘á»‹nh trÆ°á»›c hoáº·c phÃ¡t hiá»‡n cÃ¡ nhÃ¢n tá»« cÃ¡c dá»‹ch vá»¥ AWS vÃ  cÃ¡c cÃ´ng cá»¥ Ä‘á»‘i tÃ¡c AWS khÃ¡c nhau: GuardDuty Inspector Macie IAMAccessAnalyzer AWS Systems Manager AWS Firewall Manager AWS Partner Network Solutions Cáº§n pháº£i enable AWS Config Service trÆ°á»›c Amazon Detective Overview GuardDuty, Macie vÃ  Security Hub Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ xÃ¡c Ä‘á»‹nh cÃ¡c váº¥n Ä‘á» hoáº·c phÃ¡t hiá»‡n tiá»m áº©n vá» báº£o máº­t ÄÃ´i khi cÃ¡c phÃ¡t hiá»‡n báº£o máº­t yÃªu cáº§u phÃ¢n tÃ­ch sÃ¢u hÆ¡n Ä‘á»ƒ xÃ¡c Ä‘á»‹nh nguyÃªn nhÃ¢n gá»‘c rá»… vÃ  thá»±c hiá»‡n hÃ nh Ä‘á»™ng - Ä‘Ã³ lÃ  má»™t quÃ¡ trÃ¬nh phá»©c táº¡p Amazon DÃªtctive phÃ¢n tÃ­ch, Ä‘iá»u tra vÃ  nhanh chÃ³ng xÃ¡c Ä‘á»‹nh nguyÃªn nhÃ¢n gá»‘c rá»… cá»§a cÃ¡c váº¥n Ä‘á» báº£o máº­t hoáº·c cÃ¡c hoáº¡t Ä‘á»™ng Ä‘Ã¡ng ngá» (sá»­ dá»¥ng ML vÃ  Ä‘á»“ thá»‹) Tá»± Ä‘á»™ng thu tháº­p vÃ  xá»­ lÃ½ cÃ¡c sá»± kiá»‡n tá»« Nháº­t kÃ½ luá»“ng VPC, CloudTrail, GuardDuty vÃ  táº¡o cháº¿ Ä‘á»™ xem thá»‘ng nháº¥t Táº¡o hÃ¬nh áº£nh trá»±c quan vá»›i cÃ¡c chi tiáº¿t vÃ  ngá»¯ cáº£nh Ä‘á»ƒ tÃ¬m ra nguyÃªn nhÃ¢n gá»‘c rá»… AWS Abuse BÃ¡o cÃ¡o cÃ¡c tÃ i nguyÃªn AWS bá»‹ nghi ngá» Ä‘Æ°á»£c sá»­ dá»¥ng cho cÃ¡c má»¥c Ä‘Ã­ch láº¡m dá»¥ng hoáº·c báº¥t há»£p phÃ¡p CÃ¡c hÃ nh vi láº¡m dá»¥ng &amp; bá»‹ cáº¥m lÃ : Spam - nháº­n cÃ¡c email khÃ´ng mong muá»‘n tá»« Ä‘á»‹a chá»‰ IP thuá»™c sá»Ÿ há»¯u cá»§a AWS, cÃ¡c trang web vÃ  diá»…n Ä‘Ã n bá»‹ spam bá»Ÿi cÃ¡c tÃ i nguyÃªn AWS QuÃ©t cá»•ng - gá»­i cÃ¡c gÃ³i Ä‘áº¿n cÃ¡c cá»•ng cá»§a báº¡n Ä‘á»ƒ phÃ¡t hiá»‡n ra cÃ¡c gÃ³i khÃ´ng an toÃ n DoS hoáº·c DDoS Intrusion attempts â€“ logging in on your resources LÆ°u trá»¯ ná»™i dung bá»‹ pháº£n Ä‘á»‘i hoáº·c cÃ³ báº£n quyá»n - phÃ¢n phá»‘i ná»™i dung báº¥t há»£p phÃ¡p hoáº·c cÃ³ báº£n quyá»n mÃ  khÃ´ng cÃ³ sá»± Ä‘á»“ng Ã½ PhÃ¢n phá»‘i pháº§n má»m Ä‘á»™c háº¡i - TÃ i nguyÃªn AWS phÃ¢n phá»‘i pháº§n má»m Ä‘á»ƒ gÃ¢y háº¡i cho mÃ¡y tÃ­nh hoáº·c mÃ¡y mÃ³c Contact the AWS Abuse team: AWS abuse form, or abuse@amazonaws.com Root User Privileges Root user = Account Owner (created when the account is created) CÃ³ toÃ n quyá»n truy cáº­p vÃ o táº¥t cáº£ cÃ¡c dá»‹ch vá»¥ vÃ  tÃ i nguyÃªn AWS KhÃ³a cÃ¡c access keys ngÆ°á»i dÃ¹ng root tÃ i khoáº£n AWS cá»§a báº¡n! KhÃ´ng sá»­ dá»¥ng tÃ i khoáº£n gá»‘c cho cÃ¡c cÃ´ng viá»‡c hÃ ng ngÃ y, ngay cáº£ cÃ¡c cÃ´ng viá»‡c quáº£n trá»‹ CÃ¡c hÃ nh Ä‘á»™ng chá»‰ cÃ³ thá»ƒ Ä‘Æ°á»£c thá»±c hiá»‡n bá»Ÿi ngÆ°á»i dÃ¹ng root: **Thay Ä‘á»•i setting tÃ i khoáº£n (account name, email address, root user password, root user access keys) Xem cÃ¡c hoÃ¡ Ä‘Æ¡n thuáº¿ nháº¥t Ä‘á»‹nh â€¢ Close your AWS account KhÃ´i phá»¥c quyá»n ngÆ°á»i dÃ¹ng IAM Thay Ä‘á»•i hoáº·c há»§y gÃ³i AWS Support cá»§a báº¡n ÄÄƒng kÃ­ vá»›i tÆ° cÃ¡ch ngÆ°á»i bÃ¡n trÃªn Reserved Instance Marketplace Cáº¥u hÃ¬nh Amazon S3 bucket Ä‘á»ƒ enable MFA Sá»­a hoáº·c xoÃ¡ 1 Amazon S3 bucket policy cÃ¡i mÃ  bao gá»“m má»™t VPC ID or VPC endpoint ID khÃ´ng há»£p lá»‡ ÄÄƒng nháº­p GovCloud Security &amp; Compliance Summary Shared Responsibility on AWS Shield: Automatic DDoS Protection + 24/7 support for advanced WAF: Firewall to filter incoming requests based on rules Penetration Testing KMS: Encryption keys managed by AWS CloudHSM: Hardware encryption, we manage encryption keys Artifact: Get access to compliance reports such as PCI, ISO, etcâ€¦ GuardDuty: Find malicious behavior with VPC, DNS &amp; CloudTrail Logs Inspector : For EC2 only, install agent and find vulnerabilities Config: Track config changes and compliance against rules Macie: Find sensitive data (ex: PII data) in Amazon S3 buckets CloudTrail:Track API calls made by users within account AWS Security Hub: gather security findings from multiple AWS accounts Amazon Detective: find the root cause of security issues or suspicious activities AWS Abuse: Report AWS resources used for abusive or illegal purposes Root user privileges: Change account settings Close your AWS account Change or cancel your AWS Support plan Register as a seller in the Reserved Instance Marketplace","link":"/2021/05/22/Section-16-Security-Compliance/"},{"title":"Section 18: Account Management, Billing &amp; Support","text":"CÃ¹ng tÃ¬m hiá»ƒu cÃ¡ch tá»• chá»©c cÃ¡c account trong má»™t tá»• chá»©c vÃ  cÃ¡c tools theo dÃµi, giÃ¡m sÃ¡t cost trong AWS nhÃ© ^^ Organizations Overview ÄÃ¢y lÃ  má»™t dá»‹ch vá»¥ Global Cho phÃ©p quáº£n lÃ½ nhiá»u tÃ i khoáº£n AWS TÃ i khoáº£n chÃ­nh sáº½ lÃ  master account CÃ¡c lá»£i Ã­ch vá» giÃ¡: Thanh toÃ¡n tá»•ng há»£p trÃªn táº¥t cáº£ cÃ¡c tÃ i khoáº£n - má»™t phÆ°Æ¡ng thá»©c thanh toÃ¡n Lá»£i Ã­ch vá» giÃ¡ tá»« viá»‡c sá»­ dá»¥ng tá»•ng há»£p (giáº£m giÃ¡ sá»‘ lÆ°á»£ng cho EC2, S3 â€¦) Tá»•ng há»£p cÃ¡c Reserved EC2 instances Ä‘á»ƒ tá»‘i Æ°u lÆ°u trá»¯ CÃ³ sáºµn cÃ¡c API Ä‘á»ƒ tá»± Ä‘á»™ng táº¡o cÃ¡c tÃ i khoáº£n AWS Háº¡n cháº¿ quyá»n truy cáº­p trÃªn cÃ¡c tÃ i khoáº£n báº±ng cÃ¡c sá»­ dá»¥ng cÃ¡c chÃ­nh sÃ¡ch kiá»ƒm soÃ¡t dá»‹ch vá»¥ (Service Control Policies - SCP) So all the things highlighted in bold in this slides are going to be common exam questions. Multi Account StrategiesMá»™t vÃ i chiáº¿n lÆ°á»£c sá»­ dá»¥ng nhiá»u tÃ i khoáº£n Táº¡o cÃ¡c tÃ i khoáº£n cho má»—i phÃ²ng ban, cho má»—i trung tÃ¢m chi phÃ­ dá»±a trÃªn vÃ¹ng truy cáº­p (sá»­ dá»¥ng SCP) hoáº·c tá»‘t hÆ¡n thÃ¬ cÃ´ láº­p tÃ i nguyÃªn (vÃ­ dá»¥ VPC) Ä‘á»ƒ cÃ³ Ä‘Æ°á»£c sá»± giá»›i háº¡n phÃ¢n tÃ¡ch dá»‹ch vá»¥ dá»±a trÃªn má»—i tÃ i khoáº£n vÃ  logging Sá»­ dá»¥ng nhiá»u tÃ i khoáº£n vs má»™t tÃ i khoáº£n trÃªn nhiá»u VPC Sá»­ dá»¥ng tagging cho má»¥c Ä‘Ã­ch thanh toÃ¡n Enable CloudTrail trÃªn táº¥t cáº£ cÃ¡c tÃ i khoáº£n vÃ  gá»­i logs Ä‘áº¿n tÃ i khoáº£n S3 trung tÃ¢m Gá»­i CloudWatch Logs Ä‘áº¿n tÃ i khoáº£n logging trung tÃ¢m Service Control Policies (SCP) Whitelist or blacklist IAM actions Ãp dá»¥ng cho OU (áº£nh trÃªn) hoáº·c Account Level KhÃ´ng Ã¡p dá»¥ng vá»›i Master Account SCP Ä‘Æ°á»£c Ã¡p dá»¥ng vá»›i táº¥t cáº£ NgÆ°á»i dÃ¹ng vÃ  Quyá»n - Users and Roles cá»§a tÃ i khoáº£n, bao gá»“m cáº£ tÃ i khoáº£n Root SCP khÃ´ng áº£nh hÆ°á»Ÿng Ä‘áº¿n cÃ¡c quyá»n â€œliÃªn káº¿t dá»‹ch vá»¥â€: CÃ¡c quyá»n liÃªn káº¿t dá»‹ch vá»¥ enable bá»Ÿi cÃ¡c dá»‹ch vá»¥ khÃ¡c AWS vá»›i AWS Oranizations vÃ  khÃ´ng thá»ƒ bá»‹ háº¡n cháº¿ bá»Ÿi SCPs SCP pháº£i cÃ³ má»™t Allow rÃµ rÃ ng (khÃ´ng cho phÃ©p má»i thá»© nhÆ° máº·c Ä‘á»‹nh) CÃ¡c trÆ°á»ng há»£p sá»­ dá»¥ng Háº¡n cháº¿ quyá»n truy cáº­p vÃ o cÃ¡c dá»‹ch vá»¥ nháº¥t Ä‘á»‹nh (vÃ­ dá»¥: khÃ´ng thá»ƒ sá»­ dá»¥ng EMR) Thá»±c thi tuÃ¢n thá»§ PCI báº±ng cÃ¡ch vÃ´ hiá»‡u hÃ³a rÃµ rÃ ng cÃ¡c dá»‹ch vá»¥ Há»‡ thá»‘ng cáº¥p báº­c cá»§a SCP SCP Examples Blacklist and Whitelist strategies Lab 01: Organizations Hands OnAWS Control Tower Overview ÄÃ¢y lÃ  cÃ¡ch thiáº¿t láº­p vÃ  quáº£n lÃ½ mÃ´i trÆ°á»ng nhiá»u tÃ i khoáº£n AWS an toÃ n vÃ  tuÃ¢n thá»§ dá»±a trÃªn cÃ¡c best practices Lá»£i Ã­ch: Tá»± Ä‘á»™ng thiáº¿t láº­p mÃ´i trÆ°á»ng cá»§a báº¡n chá»‰ báº±ng má»™t vÃ i click Tá»± Ä‘á»™ng hoÃ¡ viá»‡c quáº£n lÃ½ cÃ¡c chÃ­nh sÃ¡ch báº±ng cÃ¡ch sá»­ dá»¥ng â€œlan canâ€ PhÃ¡t hiá»‡n cÃ¡c vi pháº¡m chÃ­nh sÃ¡ch vÃ  kháº¯c phá»¥c chÃºng GiÃ¡m sÃ¡t sá»± tuÃ¢n thá»§ thÃ´ng qua má»™t báº£ng Ä‘iá»u khiá»ƒn tÆ°Æ¡ng tÃ¡c AWS Control Tower cháº¡y trÃªn AWS Organizations: NÃ³ tá»± Ä‘á»™ng thiáº¿t láº­p AWS Ä‘á»ƒ tá»• chá»©c tÃ i khoáº£n vÃ  thá»±c hiá»‡n cÃ¡c SCP (ChÃ­nh sÃ¡ch Kiá»ƒm soÃ¡t Dá»‹ch vá»¥) Lab 02: AWS Control Tower Hands On AWS Control Tower =&gt; Set up landing zone Setting up máº¥t táº§m 60 phÃºt CÃ³ váº» nhÆ° quáº£n lÃ½ thÃªm quyá»n vÃ  cÃ¡c tÃ i khoáº£n trong tá»• chá»©c Pricing Models of the CloudAWS cÃ³ 4 mÃ´ hÃ¬nh Ä‘á»‹nh giÃ¡ Pay as you go: tráº£ dá»±a trÃªn nhá»¯ng gÃ¬ báº¡n Ä‘Ã£ sá»­ dá»¥ng Save when you reserve:: Tiáº¿t kiá»‡m chi phÃ­ hÆ¡n náº¿u báº¡n Ä‘áº·t trÆ°á»›c: Giáº£m thiá»ƒu cÃ¡c rá»§i ro, chi phÃ­ dá»± Ä‘oÃ¡n trÆ°á»›c Ä‘Æ°á»£c, yÃªu cáº§u tuÃ¢n thá»§ cÃ¡c chÃ­nh sÃ¡ch dÃ i háº¡n Pay less by using more: Tráº£ Ã­t hÆ¡n báº±ng cÃ¡ch sá»­ dá»¥ng nhiá»u hÆ¡n: giáº£m giÃ¡ dá»±a trÃªn volume Pay less as AWS grows Free services &amp; free tier in AWSAWS cÅ©ng cung cáº¥p cho báº¡n ráº¥t nhiá»u dá»‹ch vá»¥ miá»…n phÃ­ vÃ  dÃ¹ng thá»­ trong vÃ²ng 1 nÄƒm Ä‘Äƒng kÃ­ tÃ i khoáº£n IAM VPC Consolidated Billing Elastic Beanstalk =&gt; You do pay for the resources created CloudFormation =&gt; You do pay for the resources created Auto Scaling Groups =&gt; You do pay for the resources created Tham kháº£o thÃªm cÃ¡c táº§ng Free Tier: https://aws.amazon.com/free/ EC2 t2.micro instance for a year S3, EBS, ELB, AWS Data transfer Compute Pricing â€“ EC2 Chá»‰ bá»‹ tÃ­nh phÃ­ cho nhá»¯ng gÃ¬ báº¡n sá»­ dá»¥ng Sá»‘ lÆ°á»£ng instances Cáº¥u hÃ¬nh cho instance ThÃ´ng sá»‘ váº­t lÃ½ Region OS vÃ  pháº§n má»m Instance type Instance size Thá»i gian cháº¡y ELB vÃ  lÆ°á»£ng dá»¯ liá»‡u Ä‘Æ°á»£c xá»­ lÃ½ CÃ¡c giÃ¡m sÃ¡t chi tiáº¿t Chi tiáº¿t sáº½ nhÆ° sau On-demand instances: Tá»‘i thiá»ƒu lÃ  60s Tráº£ cho má»—i giÃ¢y (Linux) vÃ  má»—i giá» (Windows) Reserved instances: Giáº£m tá»›i 75% so vá»›i On-demand tÃ­nh giÃ¡ theo giá» Cam káº¿t sá»­ dá»¥ng 1 hoáº·c 3 nÄƒm Tráº£ trÆ°á»›c táº¥t cáº£, tráº£ trÆ°á»›c má»™t pháº§n hoáº·c khÃ´ng tráº£ trÆ°á»›c Spot instances: Tiáº¿t kiá»‡m tá»›i 90% so vá»›i On-demand tÃ­nh giÃ¡ theo giá» Dedicated Host On-demand Cam káº¿t sá»­ dá»¥ng 1 hoáº·c 3 nÄƒm Compute Pricing â€“ Lambda &amp; ECS Lambda Tráº£ cho má»—i láº§n gá»i Tráº£ cho thá»i gian thá»±c thi ECS MÃ´ hÃ¬nh loáº¡i khá»Ÿi cháº¡y EC2: KhÃ´ng cÃ³ phÃ­ bá»• sung, báº¡n tráº£ tiá»n cho cÃ¡c tÃ i nguyÃªn AWS Ä‘Æ°á»£c lÆ°u trá»¯ vÃ  táº¡o trong á»©ng dá»¥ng cá»§a mÃ¬nh Fargate: Tráº£ tiá»n cho vCPU vÃ  tÃ i nguyÃªn bá»™ nhá»› Ä‘Æ°á»£c phÃ¢n bá»• cho cÃ¡c á»©ng dá»¥ng cá»§a báº¡n trong vÃ¹ng chá»©a cá»§a báº¡n Storage Pricing â€“ S3 Storage class: S3 Standard, S3 Infrequent Access, S3 One-Zone IA, S3 Intelligent Tiering, S3 Glacier and S3 Glacier Deep Archive Sá»‘ lÆ°á»£ng vÃ  kÃ­ch thÆ°á»›c cá»§a Object: GiÃ¡ cÃ³ thá»ƒ Ä‘Æ°á»£c phÃ¢n cáº¥p (dá»±a trÃªn volume) Sá»‘ lÆ°á»£ng vÃ  loáº¡i request Data transfer OUT of the S3 region S3 Transfer Acceleration Chuyá»ƒn Ä‘á»•i vÃ²ng Ä‘á»i Dá»‹ch vá»¥ tÆ°Æ¡ng tá»±: EFS (tráº£ tiá»n cho má»—i láº§n sá»­ dá»¥ng, cÃ³ quy táº¯c truy cáº­p vÃ  vÃ²ng Ä‘á»i khÃ´ng thÆ°á»ng xuyÃªn) So, sending data into S3 is free, but retrieving data from S3, you will have to pay something. Storage Pricing - EBS Volume type (based on performance) Storage volume in GB per month provisionned IOPS: General Purpose SSD: Included Provisioned IOPS SSD: Provisionned amount in IOPS Magnetic: Number of requests Snapshots: Added data cost per GB per month Data transfer: Outbound data transfer are tiered for volume discounts Inbound is free Database Pricing - RDS Tráº£ dá»±a vÃ o sá»‘ giá» báº¡n sá»­ dá»¥ng Database characteristics: Engine Size Memory class Má»¥c Ä‘Ã­ch: On-demand Reserved instances (1 or 3 years) with required up-front Backup Storage: There is no additional charge for backup storage up to 100% of your total database storage for a region. Additional storage (per GB per month) Sá»‘ lÆ°á»£ng input vÃ  output request má»—i thÃ¡ng Deployment type (storage and I/O are variable): Single AZ Multiple AZs Data transfer: Outbound data transfer are tiered for volume discounts Inbound is free Content Delivery â€“ CloudFront GiÃ¡ cáº£ khÃ¡c nhau giá»¯a cÃ¡c khu vá»±c Ä‘á»‹a lÃ½ khÃ¡c nhau Tá»•ng há»£p cho tá»«ng vá»‹ trÃ­ cáº¡nh (edge location), sau Ä‘Ã³ Ã¡p dá»¥ng cho hÃ³a Ä‘Æ¡n cá»§a báº¡n Data Transfer Out (volume discount) Number of HTTP/HTTPS requests Networking Costs in AWS per GB - SimplifiedUse Private IP instead of Public IP for good savings and better network performance Use same AZ for maximum savings (at the cost of high availability) Savings Plan Overview Cam káº¿t má»™t sá»‘ tiá»n nháº¥t Ä‘inh cho má»—i giá» trong 1 hoáº·c 3 nÄƒm CÃ¡ch dá»… nháº¥t Ä‘á»ƒ thiáº¿t láº­p cÃ¡c cam káº¿t dÃ i háº¡n trÃªn AWS EC2 Savings Plan Giáº£m giÃ¡ lÃªn Ä‘áº¿n 72% so vá»›i loáº¡i On-Demand Cam káº¿t sá»­ dá»¥ng cÃ¡c nhÃ³m instance riÃªng láº» trong má»™t khu vá»±c (vÃ­ dá»¥: C5 hoáº·c M5) Báº¥t ká»ƒ AZ, kÃ­ch thÆ°á»›c (m5.xl Ä‘áº¿n m5.4xl), OS (Linux / Windows) Tráº£ trÆ°á»›c, tráº£ trÆ°á»›c má»™t pháº§n hoáº·c khÃ´ng tráº£ trÆ°á»›c Compute Savings Plan Giáº£m giÃ¡ Ä‘áº¿n 66% so vá»›i On-Demand Regardless of Family,Region, size, OS, tenancy, computeoptions Compute Options: EC2, Fargate, Lambda Thiáº¿t láº­p tá»« báº£ng Ä‘iá»u khiá»ƒn AWS Cost Explorer VÃ o dá»‹ch vá»¥ AWS Cost Explorer =&gt; Purchase Saving Plans Æ¯á»›c lÆ°á»£ng giÃ¡ xem táº¡i: https://aws.amazon.com/savingsplans/pricing/ Billing &amp; Costing Tools Overview Æ¯á»›c lÆ°á»£ng giÃ¡ trÃªn cloud: TCO Calculator Simple Monthly Calculator / Pricing Calculator Theo dÃµi giÃ¡ trÃªn cloud: Billing Dashboard CostAllocationTags Cost and Usage Reports Cost Explorer GiÃ¡m sÃ¡t káº¿ hoáº¡ch chi phÃ­: Billing Alarms Budgets ChÃºng ta cÃ¹ng Ä‘iá»ƒm qua 1 lÆ°á»£t cÃ¡c loáº¡i nÃ y nhÃ© Estimating costs in the cloudAWSTotal Cost of Ownership (TCO) Calculators AWS giÃºp báº¡n giáº£m Tá»•ng chi phÃ­ sá»Ÿ há»¯u (TCO) báº±ng cÃ¡ch giáº£m nhu cáº§u Ä‘áº§u tÆ° vÃ o cÃ¡c khoáº£n chi tiÃªu vá»‘n lá»›n vÃ  cung cáº¥p mÃ´ hÃ¬nh â€œdÃ¹ng bao nhiÃªu tráº£ báº¥y nhiÃªu: TCO cho phÃ©p báº¡n Æ°á»›c tÃ­nh chi phÃ­ tiáº¿t kiá»‡m khi sá»­ dá»¥ng AWS vÃ  cung cáº¥p táº­p bÃ¡o cÃ¡o chi tiáº¿t Má»™t vÃ i Ä‘iá»ƒm so sÃ¡nh giá»¯a On-Premises vs AWShttps://aws.amazon.com/blogs/aws/the-new-aws-tco-calculator/ TCO Result Simple Monthly Calculator / Pricing CalculatorNote: Dá»‹ch vá»¥ Ä‘Ã£ ngá»«ng tá»« 30/06/2020 nhÆ°ng váº«n xuáº¥t hiá»‡n trong cÃ¡c kÃ¬ thi =)) Sáº½ Ä‘Æ°á»£c thay tháº¿ báº±ng AWS Pricing Calculator https://calculator.aws/#/ GiÃºp báº¡n Æ°á»›c lÆ°á»£ng giÃ¡ cho cÃ¡c giáº£i phÃ¡p kiáº¿n trÃºc cá»§a báº¡n Tracking costs in the cloudAWS Billing Dashboard AWS Free Tier DashboardCost Allocation Tags Sá»­ dá»¥ng tags phÃ¢n bá»• chi phÃ­ cho phÃ©p báº¡n theo dÃµi giÃ¡ AWS á»Ÿ má»©c Ä‘á»™ chi tiáº¿t CÃ¡c tags do AWS táº¡o Tá»± Ä‘á»™ng Ã¡p dá»¥ng tÃ i nguyÃªn do báº¡n táº¡o Báº¯t Ä‘áº§u vá»›i prefix: aws (vÃ­ dá»¥ aws: createdBy CÃ¡c tags do ngÆ°á»i dÃ¹ng Ä‘á»‹nh nghÄ©a ÄÆ°á»£c Ä‘á»‹nh nghÄ©a má»›i ngÆ°á»i dÃ¹ng Báº¯t Ä‘áº§u vá»›i prefix: user Tagging and Resource Groups Tags: Ä‘Æ°á»£c sá»­ dá»¥ng cho cÃ¡c tÃ i nguyÃªn tá»• chá»©c: EC2: instances, images, load balancers, security groupsâ€¦ RDS,VPC resources, Route 53, IAM users, etcâ€¦ CÃ¡c tÃ i nguyÃªn Ä‘Æ°á»£c táº¡o bá»Ÿi CloudFormation Ä‘á»u Ä‘Æ°á»£c gáº¯n tháº» theo cÃ¹ng má»™t cÃ¡ch TÃªn tá»± do, cÃ¡c tags phá»• biáº¿n nhÆ°: Name, Enviroment, Team,â€¦ Tags cÅ©ng cÃ³ thá»ƒ Ä‘Æ°á»£c táº¡o Ä‘á»ƒ táº¡o Resource Groups Táº¡o, maintain vÃ  xem táº­p há»£p cÃ¡c tÃ i nguyÃªn chia sáº» cÃ¡c tháº» chung Quáº£n lÃ½ cÃ¡c tags nÃ y sá»­ dá»¥ng Tag Editor Cost and Usage Reports TÃ¬m hiá»ƒu sÃ¢u hÆ¡n vá» cÃ¡c chi phÃ­ vÃ  sá»­ dá»¥ng chi tiáº¿t AWS Cost &amp; Usage Reports chá»©a bá»™ dá»¯ liá»‡u sá»­ dá»¥ng vÃ  chi phÃ­ AWS toÃ n diá»‡n nháº¥t kháº£ dá»¥ng, bao gá»“m cÃ¡c siÃªu dá»¯ liá»‡u bá»• sung vá» AWS services, giÃ¡ vÃ  Ä‘áº·t trÆ°á»›c ( e.g., Amazon EC2 Reserved Instances (RIs)). AWS Cost and Usage Reports liá»‡t kÃª má»©c sá»­ dá»¥ng AWS cho tá»«ng danh má»¥c dá»‹ch vá»¥ Ä‘Æ°á»£c sá»­ dá»¥ng bá»Ÿi tÃ i khoáº£n vÃ  ngÆ°á»i dÃ¹ng IAM cá»§a tÃ i khoáº£n trong cÃ¡c má»¥c hÃ ng hÃ ng giá» hoáº·c hÃ ng ngÃ y, cÅ©ng nhÆ° báº¥t ká»³ tháº» nÃ o báº¡n Ä‘Ã£ kÃ­ch hoáº¡t cho má»¥c Ä‘Ã­ch phÃ¢n bá»• chi phÃ­. CÃ³ thá»ƒ Ä‘Æ°á»£c tÃ­ch há»£p vá»›i Athena, Redshift or QuickSight Cost Explorer (Kiá»ƒu dá»± bÃ¡o cost) CÃ³ thá»ƒ giÃºp báº¡n hÃ¬nh dung, hiá»ƒu vÃ  quáº£n lÃ½ chi phÃ­ vÃ  viá»‡c sá»­ dá»¥ng AWS cá»§a báº¡n theo thá»i gian Táº¡o bÃ¡o cÃ¡o tÃ¹y chá»‰nh phÃ¢n tÃ­ch dá»¯ liá»‡u chi phÃ­ vÃ  sá»­ dá»¥ng. PhÃ¢n tÃ­ch dá»¯ liá»‡u cá»§a báº¡n á»Ÿ cáº¥p Ä‘á»™ cao: tá»•ng chi phÃ­ vÃ  má»©c sá»­ dá»¥ng trÃªn táº¥t cáº£ cÃ¡c tÃ i khoáº£n Hoáº·c má»©c Ä‘á»™ chi tiáº¿t hÃ ng thÃ¡ng, hÃ ng giá», tÃ i nguyÃªn Chá»n Savings Plans Ä‘á»ƒ tá»‘i Æ°u (giáº£m chi phÃ­ trÃªn hoÃ¡ Ä‘Æ¡n cá»§a báº¡n) Dá»± bÃ¡o má»©c sá»­ dá»¥ng lÃªn Ä‘áº¿n 12 thÃ¡ng dá»±a trÃªn má»©c sá»­ dá»¥ng trÆ°á»›c Ä‘Ã³ Cost Explorer â€“ Monthly Cost by AWS Service Cost Explorerâ€“ Hourly &amp; Resource Level Cost Explorer â€“ Forecast Usage Monitoring Costs in the CloudBilling Alarm in CloudWatch CÃ¡c sá»‘ liá»‡u billing Ä‘Æ°á»£c lÆ°u trong CloudWatch us-east-1 Dá»¯ liá»‡u thanh toÃ¡n thÃ¬ dÃ nh cho chi phÃ­ AWS toÃ n bá»™ khu vá»±c Báº¡n hoÃ n toÃ n cÃ³ thá»ƒ thiáº¿t láº­p má»™t alarm Ä‘Æ¡n giáº£n trÃªn CloudWatch (khÃ´ng máº¡nh báº±ng AWS Budgets) AWS Budgets (NgÃ¢n sÃ¡ch) Táº¡o ngÃ¢n sÃ¡ch vÃ  gá»­i cáº£nh bÃ¡o khi chi phÃ­ vÆ°á»£t quÃ¡ ngÃ¢n sÃ¡ch CÃ³ 3 loáº¡i ngÃ¢n sÃ¡ch bao gá»“m: Usage (Ä‘Ã£ sá»­ dá»¥ng), Cost (chi phÃ­), Reservation (Ä‘áº·t trÆ°á»›c) Äá»‘i vá»›i cÃ¡c Reserved Instances (RI) Theo dÃµi viá»‡c sá»­ dá»¥ng Há»— trá»£ EC2, ElastiCache, RDS, Redshift Thiáº¿t láº­p tá»‘i Ä‘a 5 SNS thÃ´ng bÃ¡o cho má»—i ngÃ¢n sÃ¡ch CÃ³ thá»ƒ lá»c theo: Service, Linked Account,Tag, Purchase Option, Instance Type, Region, Availability Zone, API Operation, etcâ€¦ CÃ¡c tÃ¹y chá»n tÆ°Æ¡ng tá»± nhÆ° AWS Cost Explorer! 2 ngÃ¢n sÃ¡ch thÃ¬ miá»…n phÃ­, sau Ä‘Ã³ giÃ¡ sáº½ lÃ  $0.02/day/budget AWS Trusted Advisor VÃ o service Trusted Advisor Trusted Advisor lÃ  má»™t dá»‹ch vá»¥ ráº¥t há»¯u Ã­ch vá»›i khi báº¡n cÃ³ má»™t doanh nghiá»‡p hoáº·c má»™t káº¿ hoáº¡ch kinh doanh. KhÃ´ng cáº§n cÃ i Ä‘áº·t báº¥t ká»³ thá»© gÃ¬ - Ä‘Ã¡nh giÃ¡ tÃ i khoáº£n AWS cáº¥p cao PhÃ¢n tÃ­ch cÃ¡c tÃ i khoáº£n AWS cá»§a báº¡n vÃ  Ä‘Æ°a ra Ä‘á» xuáº¥t: Kiá»ƒm tra cá»‘t lÃµi (Core) vÃ  Ä‘á» xuáº¥t - táº¥t cáº£ khÃ¡ch hÃ ng CÃ³ thá»ƒ báº­t thÃ´ng bÃ¡o qua email hÃ ng tuáº§n tá»« báº£ng Ä‘iá»u khiá»ƒn Full Trusted Advisor - Kháº£ dá»¥ng vá»›i káº¿ hoáº¡ch há»— trá»£ Business &amp; Enterprise Kháº£ nÄƒng Ä‘áº·t cáº£nh bÃ¡o CloudWatch khi Ä‘áº¡t Ä‘áº¿n giá»›i háº¡n Äáº·c biá»‡t báº¡nh cÃ³ thá»ƒ láº­p trÃ¬nh: Truy cáº­p sá»­ dá»¥ng AWS Support API VÃ­ dá»¥ checking vá»›i Trusted Advisor Cost Optimization: CÃ¡c phiÃªn báº£n EC2 sá»­ dá»¥ng tháº¥p, cÃ¡c cÃ¢n báº±ng táº£i khÃ´ng táº£i, cÃ¡c EBS volumnes khÃ´ng Ä‘Æ°á»£c sá»­ dá»¥ng ná»¯a Performance: CÃ¡c phiÃªn báº£n EC2 sá»­ dá»¥ng cao, tá»‘i Æ°u hÃ³a CloudFront CDN, tá»‘i Æ°u hÃ³a thÃ´ng lÆ°á»£ng tá»« EC2 Ä‘áº¿n EBS Security: ÄÃ£ kÃ­ch hoáº¡t MFA trÃªn Root Account chÆ°a, IAM key, cÃ¡c Access Keys Ä‘Ã£ lá»™ Kháº£ nÄƒng chá»‹u lá»—i: EBS snapshot usage, Availability Zone Balance Giá»›i háº¡n cÃ¡c dá»‹ch vá»¥ AWS Support Plans PricingPlans cho cÃ¡ nhÃ¢n, nhÃ³m hoáº·c doanh nghiá»‡p, tuá»³ má»¥c Ä‘Ã­ch yÃªu cáº§u cá»§a báº¡n AWS Basic Support Plan Free Customer Service &amp; Communities: Truy cáº­p 24x7 vÃ o dá»‹ch vá»¥ khÃ¡ch hÃ ng, tÃ i liá»‡u, sÃ¡ch tráº¯ng vÃ  diá»…n Ä‘Ã n há»— trá»£. AWS Trusted Advisor: Truy cáº­p vÃ o 7 kiá»ƒm tra vÃ  hÆ°á»›ng dáº«n Trusted Advisor cá»‘t lÃµi Ä‘á»ƒ cung cáº¥p tÃ i nguyÃªn cá»§a báº¡n theo cÃ¡c phÆ°Æ¡ng phÃ¡p hay nháº¥t nháº±m tÄƒng hiá»‡u suáº¥t vÃ  cáº£i thiá»‡n báº£o máº­t. AWS Personal Health Dashboard: Cháº¿ Ä‘á»™ xem Ä‘Æ°á»£c cÃ¡ nhÃ¢n hÃ³a vá» tÃ¬nh tráº¡ng cá»§a cÃ¡c dá»‹ch vá»¥ AWS vÃ  cáº£nh bÃ¡o khi tÃ i nguyÃªn cá»§a báº¡n bá»‹ áº£nh hÆ°á»Ÿng. AWS Developer Support Plan All Basic Support Plan + Truy cáº­p email trong giá» lÃ m viá»‡c (business hours) tá»›i Cloud Support Associates KhÃ´ng giá»›i háº¡n trÆ°á»ng há»£p / 1 liÃªn há»‡ chÃ­nh Má»©c Ä‘á»™ nghiÃªm trá»ng cá»§a trÆ°á»ng há»£p / thá»i gian pháº£n há»“i: HÆ°á»›ng dáº«n chung: &lt;24 giá» lÃ m viá»‡c Há»‡ thá»‘ng bá»‹ lá»—i: &lt;12 giá» lÃ m viá»‡c AWS Business Support Plan (24/7) ÄÆ°á»£c sá»­ dá»¥ng náº¿u báº¡n cÃ³ production workloads Trusted Advisor: Full quyá»n check vÃ  truy cáº­p API 24x7 phone, email, and chat access vá»›i cÃ¡c Cloud Support Engineers KhÃ´ng giá»›i háº¡n trÆ°á»ng há»£p / sá»‘ liÃªn láº¡c khÃ´ng giá»›i háº¡n Quyá»n truy cáº­p Infrastructure Event Management vá»›i chi phÃ­ bá»• sung Má»©c Ä‘á»™ nghiÃªm trá»ng cá»§a trÆ°á»ng há»£p / thá»i gian pháº£n há»“i: HÆ°á»›ng dáº«n chung: &lt;24 giá» lÃ m viá»‡c Há»‡ thá»‘ng bá»‹ lá»—i: &lt;12 giá» lÃ m viá»‡c Thiá»‡t háº¡i há»‡ thá»‘ng production: &lt; 4 giá» Down há»‡ thá»‘ng production: &lt; 1 giá» AWS Enterprise Support Plan (24/7) Sá»­ dá»¥ng náº¿u báº¡n cÃ³ mission critical workloads All of Business Support Plan + LiÃªn há»‡ truy cáº­p vá»›i Ä‘á»™i Technical Account Manager (TAM) Concierge Support Team (cho cÃ¡c phÆ°Æ¡ng phÃ¡p hay nháº¥t vá» thanh toÃ¡n vÃ  tÃ i khoáº£n) â€¢ Infrastructure Event Management,Well-Architected &amp; Operations Reviews Má»©c Ä‘á»™ nghiÃªm trá»ng cá»§a trÆ°á»ng há»£p / thá»i gian pháº£n há»“i: â€¦ Thiá»‡t háº¡i há»‡ thá»‘ng production: &lt; 4 giá» Down há»‡ thá»‘ng production: &lt; 1 giá» Business-critical system down: &lt; 15 minutes Account Best Practices - Summary Operate multiple accounts using Organizations Use SCP (service control policies) to restrict account power Easily setup multiple accounts with best-practices with AWS Control Tower Use Tags &amp; Cost Allocation Tags for easy management &amp; billing IAM guidelines: MFA, least-privilege, password policy, password rotation Config to record all resources configurations &amp; compliance over time CloudFormation to deploy stacks across accounts and regions Trusted Advisor to get insights, Support Plan adapted to your needs Send Service Logs and Access Logs to S3 or CloudWatch Logs Äáº©y Service Logs and Access Logs tá»›i Amazon S3 hoáº·c CloudWatch Logs, tháº­m chÃ­ cÃ³ thá»ƒ trong má»™t tÃ i khoáº£n riÃªng Ä‘á»ƒ ghi nháº­t kÃ½ cháº³ng háº¡n nhÆ° báº¡n tuÃ¢n thá»§ cÃ¡c phÆ°Æ¡ng phÃ¡p báº£o máº­t tá»‘t nháº¥t. CloudTrail to record API calls made within your account If your Account is compromised: change the root password, delete and rotate all passwords / keys, contact the AWS support Billing and CostingTools â€“ Summary TCO Calculator: from on-premises to AWS Simple Monthly Calculator / Pricing Calculator: cost of services on AWS â€¢ Billing Dashboard: high level overview + free tier dashboard Cost Allocation Tags: tag resources to create details on reports Cost and Usage Reports: most comprehensive billing dataset Cost Explorer: View current usage (detailed) and forecast usage Billing Alarms: in us-east-1 â€“ track overall and per-service billing Budgets: more advanced â€“ track usage, costs, RI, and get alerts Savings Plans: easy way to save based on long-term usage of AWS","link":"/2021/07/14/Section-18-Account-Management-Billing-Support/"},{"title":"Section 8: S3","text":"S3 lÃ  má»™t trong nhá»¯ng pháº§n trung tÃ¢m xÃ¢y dá»±ng lÃªn cÃ¡c khá»‘i (blocks) trong AWS NÃ³ Ä‘Æ°á»£c quáº£ng cÃ¡o lÃ  má»™t bá»™ nhá»› â€œmá»Ÿ rá»™ng vÃ´ háº¡nâ€ Äiá»u Ä‘Ã³ cÃ³ nghÄ©a lÃ  báº¡n cÃ³ thá»ƒ lÆ°u trá»¯ bao nhiÃªu Ä‘á»‘i tÆ°á»£ng tÃ¹y thÃ­ch lÃªn Amazon S3 vÃ  cho Ä‘áº¿n nay, chÆ°a ai cÃ³ thá»ƒ sá»­ dá»¥ng háº¿t dung lÆ°á»£ng lÆ°u trá»¯ cá»§a Amazon S3. ÄÃ³ lÃ  lÃ½ do táº¡i sao AWS cho biáº¿t Ä‘Ã³ lÃ  kháº£ nÄƒng má»Ÿ rá»™ng bá»™ nhá»› vÃ´ háº¡n. S3 OverviewS3 dÃ¹ng Ä‘á»ƒ lÃ m gÃ¬ Ráº¥t nhiá»u websites sá»­ dá»¥ng Amazon S3 nhÆ° má»™t xÆ°Æ¡ng sá»‘ng Ráº¥t nhiá»u dá»‹ch vá»¥ AWS cÃ³ thá»ƒ tÃ­ch há»£p tá»‘t vá»›i S3. VÃ­ dá»¥ nhÆ° náº¿u chÃºng ta táº¡o má»™t EBS snapshot, vÃ  sau Ä‘Ã³ thá»±c sá»± snapshot nÃ y Ä‘Æ°á»£c lÆ°u trá»¯ trÃªn Amazon S3. NhÆ°ng chÃºng ta khÃ´ng nhÃ¬n tháº¥y, nhÆ°ng Ä‘Ã³ lÃ  nhá»¯ng gÃ¬ diá»…n ra Trong pháº¡m vi chá»©ng chá»‰, chÃºng ta sáº½ khÃ´ng nÃ³i sÃ¢u vá» S3. á» level CCP sáº½ yÃªu cáº§u sÃ¢u hÆ¡n. S3 Use cases Backup vÃ  lÆ°u trá»¯ Kháº¯c phá»¥c tháº£m hoáº¡: Copy dá»¯ liá»‡u S3 cho nhiá»u region khÃ¡c nhau Archive Hybrid Cloud storage Application hosting Mdia hosting Data lakes &amp; big data analytics Software delivery Static website Amazon S3 Overview - Buckets Amazon S3 cho phÃ©p má»i ngÆ°á»i lÆ°u trá»¯ objects (files) trong â€œbucketsâ€ (thÆ° má»¥c) CÃ¡c Bucket pháº£i cÃ³ 1 tÃªn duy nháº¥t pháº¡m vi toÃ n cá»¥c (cho táº¥t cáº£ cÃ¡c region táº¥t cáº£ tÃ i khoáº£n) Bucket Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a á»Ÿ region level S3 lÃ  1 dá»‹ch vá»¥ global nhÆ°ng cÃ¡c bucket láº¡i Ä‘Æ°á»£c trong trong 1 region CÃ¡c chÃº Ã½ quy táº¯c Ä‘áº·t tÃªn KhÃ´ng viáº¿t hoa KhÃ´ng cÃ³ kÃ­ tá»± gáº¡ch dÆ°á»›i 3-63 kÃ­ tá»± KhÃ´ng lÃ  má»™t IP Pháº£i báº¯t Ä‘áº§u báº±ng chá»¯ thÆ°á»ng hoáº·c sá»‘ Amazon S3 Overview - Objects Objects (files) cÃ³ 1 key Key nÃ y lÃ  FULL Ä‘Æ°á»ng dáº«n s3://my-bucket/my_file.txt s3://my-bucket/my_folder1/another_folder/my_file.txt Key bao gá»“m prefix + object name KhÃ´ng cÃ³ khÃ¡i niá»‡m â€œthÆ° má»¥câ€ trong cÃ¡c buckets (máº·c dÃ¹ nhÃ¬n UI báº¡n cÃ³ thá»ƒ nghÄ© nhÆ° váº­y) Chá»‰ cÃ³ cÃ¡c keys vá»›i tÃªn ráº¥t dÃ i thÃ¬ chá»©a dáº¥u gáº¡ch chÃ©o (â€œ/â€œ) GiÃ¡ trá»‹ cá»§a objects lÃ  ná»™i dung bÃªn trong Max Object Size lÃ  5TB (5000GB) Náº¿u báº¡n upload lá»›n hÆ¡n 5GB, pháº£i sá»­ dá»¥ng â€œmulti-part uploadâ€ Metadata (danh sÃ¡ch key/value - metadata cá»§a ngÆ°á»i dÃ¹ng hoáº·c há»‡ thá»‘ng) Tags (cáº·p khoÃ¡ Unicode - tá»‘i Ä‘a 10) - há»¯u Ã­ch cho viá»‡c báº£o máº­t / vÃ²ng Ä‘á»i Version ID (náº¿u báº¡n enabled versioning) Lab 01: S3 Hands On Táº¡o first bucket (S3 khÃ´ng há»— trá»£ Global Region) Upload 1 object Open image Object actions =&gt; Open Quay láº¡i mÃ n Detail object. Kick Object URL =&gt; Access DeniedNguyÃªn nhÃ¢n lÃ  bucket chÆ°a public HÃ£y Ä‘á»ƒ Ã½ link open báº±ng Object action =&gt; looj cÃ¡c my credentials Táº¡o images folder, up load áº£nh vÃ o thÆ° má»¥c nÃ y =&gt; xoÃ¡ folder S3 Security: Bucket Policy CÃ³ 2 thá»© liÃªn quan Ä‘áº¿n Security cá»§a S3 User based: Tá»« phÃ­a ngÆ°á»i dÃ¹ng =&gt; Ä‘á»‹nh nghÄ©a cÃ¡c IAM cho phÃ©p ngÆ°á»i dÃ¹ng nháº¥t Ä‘á»‹nh truy cáº­p IAM Resource Based: Táº¡o cÃ¡c Bucket Policies Note: Má»™t IAM cÃ³ thá»ƒ truy cáº­p má»™t S3 Object náº¿u Quyá»n cá»§a user IAM cho phÃ©p nÃ³ HOáº¶C resource policy CHO PHÃ‰P nÃ³ VÃ€ khÃ´ng cÃ³ DENY nÃ o S3 Bucket Policies Policies cá»¥ thá»ƒ hoÃ¡ dÆ°á»›i dáº¡ng JSON12345678910111213 { &quot;Version&quot;:&quot;2012-10-17&quot;, &quot;Statement&quot;:[ { &quot;Sid&quot;:&quot;AddCannedAcl&quot;, &quot;Effect&quot;:&quot;Allow&quot;, &quot;Principal&quot;: {&quot;AWS&quot;: [&quot;arn:aws:iam::111122223333:root&quot;,&quot;arn:aws:iam::444455556666:root&quot;]}, &quot;Action&quot;:[&quot;s3:PutObject&quot;,&quot;s3:PutObjectAcl&quot;], &quot;Resource&quot;:&quot;arn:aws:s3:::DOC-EXAMPLE-BUCKET/*&quot;, &quot;Condition&quot;:{&quot;StringEquals&quot;:{&quot;s3:x-amz-acl&quot;:[&quot;public-read&quot;]}} } ]} Resource: buckets and objetcs Action: Táº­p cÃ¡c API cho phÃ©p hoáº·c tá»« chá»‘i Effect: Allow / Deny Principal: TÃ i khoáº£n hoáº·c user Ã¡p dá»¥ng policy nÃ y S3 Object Lock &amp; Glacier Vault LockS3 Object Lock Ãp dá»¥ng mÃ´ hÃ¬nh WORM (Write Once Read Many) NgÄƒn cháº·n viá»‡c xoÃ¡ phiÃªn báº£n cá»§a Ä‘á»‘i tÆ°á»£ng trong má»™t khoáº£ng thá»i gian nháº¥t Ä‘á»‹nh Glacier Vault Lock Ãp dá»¥ng mÃ´ hÃ¬nh WORM (Write Once Read Many) KhoÃ¡ cÃ¡c policy Ä‘á»‘i vá»›i cÃ¡c viá»‡c sá»­a Ä‘á»•i trong tÆ°Æ¡ng lai (khÃ´ng thá»ƒ thay Ä‘á»•i, xoÃ¡ Ä‘Æ°á»£c ná»¯a) Há»¯u Ã­ch cho viá»‡c tuÃ¢n thá»§ vÃ  lÆ°u trá»¯ dá»¯ liá»‡u Lab 02: S3 Security: Bucket Policy Hands OnS3 Websites S3 cÃ³ thá»ƒ lÃ m má»™t host static websites vÃ  chÃºng cÃ³ thá»ƒ Ä‘Æ°á»£c truy cáº­p trÃªn www Website URL sáº½ cÃ³ dáº¡ng &lt;bucket-name&gt;.s3-website-&lt;AWS-region&gt;.amazonaws.com OR &lt;bucket-name&gt;.s3-website.&lt;AWS-region&gt;.amazonaws.com Náº¿u báº¡n nháº­n lá»—i 403 (Forbidden), hÃ£y kiá»ƒm tra vÃ  cháº¯c cháº¯n ráº±ng cÃ¡c bucket policy cho phÃ©p quyá»n public read Lab 03: S3 Websites Hands onS3 Versioning Khi báº¡n Ä‘Ã£ cÃ³ cÃ¡c file trÃªn S3, báº¡n cÃ³ thá»ƒ Ä‘Ã¡nh version cho chÃºng Chá»©c nÄƒng Ä‘Æ°á»£c há»— trá»£ vá»›i bucket level Khi báº¡n ghi Ä‘Ã¨ key giá»‘ng nhau, version sáº½ tÄƒng: 1,2,3 S3 Versioning ráº¥t há»¯u Ã­ch cho cÃ¡c buckets cá»§a báº¡n Báº£o vá»‡ viá»‡c xoÃ¡ file ngoÃ i Ã½ muá»‘n (kháº£ nÄƒng khÃ´i phá»¥c láº¡i 1 version) Dá»… dÃ ng rollback láº¡i cÃ¡c version trÆ°á»›c Note Má»™t vÃ i file khi khÃ´ng cÃ³ version trÆ°á»›c Ä‘Ã³, khi enable version sáº½ cÃ³ version lÃ  â€œnullâ€ Viá»‡c táº¡m dá»«ng version sáº½ khÃ´ng xoÃ¡ cÃ¡c version trÆ°á»›c Ä‘Ã³ Lab 04: Versioning hands On Äáº§u tiÃªn, enable Bucket Versioning Upload láº¡i file index.html Ä‘Ã£ Ä‘Æ°á»£c sá»­a Ä‘á»•i ná»™i dung Click vÃ o xem file index.html =&gt; Version =&gt; tháº¥y 2 version Rollback version cÅ©: Enable List version. Chá»n file cho version hiá»‡n táº¡i =&gt; Delete XoÃ¡ thá»­ 1 file áº£nh vÃ  khÃ´i phá»¥c dá»±a vÃ o list version S3 Server Access LoggingWell, chÃºng ta xem xÃ©t vÃ­ dá»¥, dá»¯ liá»‡u Ä‘Ã³ cÃ³ thá»ƒ Ä‘Æ°á»£c phÃ¢n tÃ­ch sau nÃ y báº±ng cÃ¡ch sá»­ dá»¥ng cÃ´ng cá»¥ phÃ¢n tÃ­ch dá»¯ liá»‡u, Ä‘á»ƒ thá»±c sá»± hiá»ƒu Ä‘iá»u gÃ¬ Ä‘Ã£ xáº£y ra náº¿u nhÆ° má»™t tá»‡p Ä‘Ã£ bá»‹ xÃ³a hoáº·c báº¡n nháº­n Ä‘Æ°á»£c yÃªu cáº§u tá»‡p quÃ¡ nhiá»u, loáº¡i thÃ´ng tin nÃ y. VÃ¬ váº­y, nháº­t kÃ½ truy cáº­p cÃ³ thá»ƒ ráº¥t, ráº¥t há»¯u Ã­ch. Äá»ƒ phá»¥c vá»¥ má»¥c Ä‘Ã­ch kiá»ƒm tra, báº¡n cÃ³ thá»ƒ muá»‘n ghi toÃ n bá» log truy cáº¥p tá»›i S3 buckets Báº¥t kÃ¬ cÃ¡c request nÃ o Ä‘Æ°á»£c gá»­i tá»›i S3 tá»« báº¥t kÃ¬ tÃ i khoáº£n, cháº¥p nháº­n hoáº·c tá»« chá»‘i Ä‘á»u Ä‘Æ°á»£c log láº¡i vÃ o S3 bucket khÃ¡c CÃ¡c dá»¯ liá»‡u nÃ y cÃ³ thá»ƒ Ä‘Æ°á»£c sá»­ dá»¥ng lÃ m cÃ´ng cá»¥ phÃ¢n tÃ­ch dá»¯ liá»‡u Äiá»u nÃ y cá»±c kÃ¬ há»¯u Ã­ch Ä‘á»ƒ tÃ¬m ra nguyÃªn nhÃ¢n gá»‘c rá»… cá»§a cÃ¡c váº¥n Ä‘á» báº¡n cÃ³ thá»ƒ gáº·p pháº£i hoáº·c sá»­ dá»¥ng lÃ m má»¥c Ä‘Ã­ch kiá»ƒm tra sá»­ dá»¥ng, cÃ¡c lá»—i báº¥t thÆ°á»ng â€¦ Lab 05: S3 Server Access Logging Hands On Create new Bucket Chá»n Bucket =&gt; Property =&gt; NhÃ¬n tháº¥y Server access logging LÃºc enable =&gt; target bucket??? Chá»n chÃ­nh nÃ³ luÃ´n thÃªm /logs Testing Má»Ÿ láº¡i file áº£nh VÃ o láº¡i bucket, tháº¥y sinh ra file trong thÆ° má»¥c /logs S3 Replication Overview (CRR &amp; SRR) Báº¡n pháº£i enable versioning á»Ÿ cáº£ nguá»“n vÃ  Ä‘Ã­ch Cross Region Replication (CRR): sá»­ dá»¥ng cho cÃ¡c trÆ°á»ng há»£p tuÃ¢n thá»§ dá»¯ liá»‡u, Ä‘á»™ trá»ƒ tháº¥p, nhÃ¢n rá»™ng trÃªn nhiá»u tÃ i khoáº£n Same Region Replication (SRR): sá»­ dá»¥ng cho cÃ¡c trÆ°á»ng há»£p tá»•ng há»£p log, sao chÃ©p trá»±c tiáº¿p giá»¯a tÃ i khoáº£n production vÃ  test Buckets cÃ³ thá»ƒ trong cÃ¡c tÃ i khoáº£n khÃ¡c nhau Viá»‡c sao chÃ©p lÃ  khÃ´ng Ä‘á»“ng bá»™ Báº¡n pháº£i cáº¥p quyá»n IAM thÃ­ch há»£p cho S3 Lan 06: S3 Replication Hands On Create new bucket - Chá»n region táº¡i us-east-1 vÃ  sao lÆ°u sang chÃ¢u Ã‚u =&gt; enable versioning VÃ o bucket =&gt; managament =&gt; Create replication ruleChá»n tule =&gt; This rule applies to all objects in the bucket Sau khi táº¡o xong, vÃ o replication object =&gt; 0 objects?? Do tá»« lÃºc enbale replication thÃ¬ chÆ°a cÃ³ file nÃ o Same version luÃ´n Má»—i láº§n upload bÃªn main bÃªn replication sáº½ nháº­n theo So pretty cool, weâ€™ve just set up a replication between buckets in the region EU Ireland ES West one into a replica buckets in the region US East Northern Virginia, US East one. S3 Durability and AvailabilityTÃ­nh bá»n vá»¯ng High durability (99.999999999%, 11 9â€™s) of objects across multiple AZ If you store 10,000,000 objects with Amazon S3, you can on average expect to incur a loss of a single object once every 10,000 years Same for all storage classes TÃ­nh kháº£ dá»¥ng Äo lÆ°á»ng tÄ©nh sáºµn cÃ³ cá»§a má»™t dá»‹ch vá»¥ TiÃªu chuáº©n S3 Ä‘Ã¡p á»©ng tÃ­nh kháº£ dá»¥ng 99,99%, Ä‘iá»u Ä‘Ã³ cÃ³ nghÄ©a lÃ  nÃ³ chá»‰ khÃ´ng kháº£ dá»¥ng trong 53 phÃºt trong 1 nÄƒm TÃ­nh kháº£ dá»¥ng thay Ä‘á»•i tuá»³ thuá»™c vÃ o class lá»¯u trá»¯ S3 Storage Classes OverviewBÃ¢y giá» chÃºng tÃ´i Ä‘Ã£ lÆ°u trá»¯ tá»‡p cá»§a mÃ¬nh vÃ o Amazon S3 nhÆ°ng chÃºng tÃ´i cÃ³ cÃ¡c tÃ¹y chá»n khÃ¡c nhau Ä‘á»ƒ lÆ°u trá»¯ tá»‡p cá»§a mÃ¬nh trÃªn cÃ¡c lá»›p lÆ°u trá»¯ khÃ¡c nhau. VÃ  nhá»¯ng Ä‘iá»u nÃ y cÃ³ thá»ƒ giÃºp chÃºng tÃ´i tiáº¿t kiá»‡m chi phÃ­. VÃ¬ váº­y, nhá»¯ng gÃ¬ chÃºng tÃ´i Ä‘Ã£ sá»­ dá»¥ng cho Ä‘áº¿n nayÄ‘Æ°á»£c gá»i lÃ  Amazon S3 General Purpose Storage, lá»›p nÃ y sáº½ Ä‘Æ°á»£c sá»­ dá»¥ng phá»• biáº¿n nhÆ°ng sau Ä‘Ã³ báº¡n cÃ³ thá»ƒ tá»‘i Æ°u hÃ³a nÃ³. VÃ­ dá»¥: náº¿u báº¡n Ä‘ang táº£i lÃªn má»™t tá»‡p mÃ  báº¡n biáº¿t ráº±ng sáº½ khÃ´ng Ä‘Æ°á»£c truy cáº­p thÆ°á»ng xuyÃªnVÃ¬ váº­y, truy cáº­p khÃ´ng thÆ°á»ng xuyÃªn thÃ¬ báº¡n cÃ³ má»™t táº§ng má»›i Ä‘Æ°á»£c gá»i lÃ  SAmazon S3 Standard-Infrequent Access (IA) 6 class trong S3 Amazon S3 Standard - General Purpose Amazon S3 Standard-Infrequent Access (IA) Amazon S3 One Zone-Infrequent Access Amazon S3 Intelligent Tiering Amazon Glacier Amazon Glacier Deep Archive S3 Standard â€“ General Purposes 99.99% Availability ÄÆ°á»£c sá»­ dá»¥ng Ä‘á»ƒ lÆ°u trá»¯ cÃ¡c dá»¯ liá»‡u thÆ°á»ng xuyÃªn Ä‘Æ°á»£c truy cáº­p Äá»™ trá»… tháº¥p vÃ  thÃ´ng lÆ°á»£ng cao Sustain 2 concurrent facility failures. Dá»¯ liá»‡u cá»§a báº¡n váº«n an toÃ n Use cases: PhÃ¢n tÃ­ch dá»¯ liá»‡u lá»›n, á»©ng dá»¥ng mobile vÃ  gaming, ná»™i dung phÃ¢n tÃ¡n â€¦ S3 Standard â€“ Infrequent Access (IA) ThÃ­ch há»£p vá»›i cÃ¡c dá»¯ liá»‡u Ã­t truy cáº­p thÆ°á»ng xuyÃªn nhÆ°ng yÃªu cáº§u truy cáº­p nhanh khi cáº§n 99.9% Availability Chi phÃ­ tháº¥p hÆ¡n Amzon S3 Standard nhÆ°ng phÃ¡t sinh phÃ­ truy cáº­p Sustain 2 concurrent facility failures Use cases: LÆ°u cÃ¡c dá»¯ liá»‡u Ä‘á»ƒ khÃ´i phá»¥c, sao lÆ°u S3 Intelligent-Tiering 99.9% Availability Äá»™ trá»… tháº¥p vÃ  thÃ´ng lÆ°á»£ng cao nhÆ° S3 Standard Tá»‘i Æ°u hÃ³a chi phÃ­ báº±ng cÃ¡ch tá»± Ä‘á»™ng di chuyá»ƒn cÃ¡c Ä‘á»‘i tÆ°á»£ng giá»¯a hai cáº¥p truy cáº­p dá»±a trÃªn viá»‡c thay Ä‘á»•i cÃ¡c máº«u truy cáº­p Frequent access Infrequent access CÃ³ kháº£ nÄƒng chá»‘ng láº¡i cÃ¡c sá»± kiá»‡n áº£nh hÆ°á»Ÿng Ä‘áº¿n toÃ n bá»™ Availability Zone S3 One Zone - Infrequent Access (IA) Giá»‘ng vá»›i IA nhÆ°ng dá»¯ liá»‡u chá»‰ Ä‘Æ°á»£c lÆ°u trá»¯ trong 1 single AZ 99.5% Availability Äá»™ trá»… tháº¥p vÃ  hiá»‡u suáº¥t dung lÆ°á»£ng cao Chi phÃ­ tháº¥p hÆ¡n S3-IA (khoáº£ng 20%) Use cases: LÆ°u trá»¯ cÃ¡c báº£n sao dá»± phÃ²ng thá»© cáº¥p cá»§a dá»¯ liá»‡u táº¡i chá»— hoáº·c lÆ°u trá»¯ dá»¯ liá»‡u báº¡n cÃ³ thá»ƒ táº¡o láº¡i Amazon Glacier &amp; Glacier Deep Archive Chi phÃ­ tháº¥p (tÃ­nh theo GB/thÃ¡ng) Ä‘á»ƒ lÆ°u trá»¯/sao lÆ°u Dá»¯ liá»‡u Ä‘Æ°á»£c lÆ°u trá»¯ lÃ¢u dÃ i (nhiá»u nÄƒm) CÃ¡c tuá»³ chá»n truy xuáº¥t khÃ¡c nhau vÃ  cÃ³ phÃ­ khi truy suáº¥t Amazon Glacier â€“ giÃ¡ ráº» Nhanh (1 Ä‘áº¿n 5 phÃºt) TiÃªu chuáº©n (3 Ä‘áº¿n 5 giá») Sá»‘ lÆ°á»£ng lá»›n (5 Ä‘áº¿n 12 giá») Amazon Glacier Deep Archive â€“ ráº» nháº¥t TiÃªu chuáº©n (12 giá») Sá»‘ lÆ°á»£ng lá»›n (48 giá») S3 Storage Class Comparison S3 â€“ Moving between storage classes Báº¡n hoÃ n toÃ n cÃ³ thá»ƒ cÃ¡c objects giá»¯a cÃ¡c storage class Äá»‘i vá»›i cÃ¡c object Ã­t truy cáº­p, chuyá»ƒn chÃºng sang STANDARD_IA Äá»‘i vá»›i cÃ¡c object báº¡n lÆ°u trá»¯ mÃ  khÃ´ng cáº§n real-time, GLACIER hoáº·c DEEP_ARCHIVE Di chuyá»ƒn cÃ¡c objects cÃ³ thá»ƒ lÃ m tá»± Ä‘á»™ng sá»­ dá»¥ng lifecycle configuration Lab 07: S3 Storage Classes Hands On Upload 1 file lÃªn S3. LÃºc nÃ y trong má»¥c Addtional upload options cÃ³ má»¥c Storage Class Máº·c Ä‘á»‹nh sáº½ lÃ  Standard class Sau khi Ä‘Ã£ upload xong, áº¥n vÃ o chi tiáº¿t, kÃ©o xuá»‘ng dÆ°á»›i sáº½ nhÃ¬n tháº¥y má»¥c Storage class Ok check tiáº¿p, má»Ÿ má»¥c List version tháº¥y Ä‘Æ°á»£c cÃ¡c storage class Viá»‡c tiáº¿p theo lÃ  báº¡n muá»‘n chuyá»ƒn toÃ n bá» object cá»§a báº¡n sang 1 storage class nháº¥t Ä‘inh=&gt; Chá»n Tab ManagÃªmnt =&gt; Lifecycle rules =&gt; Create=&gt; Apply all objects in the bucketÄoáº¡n actions tá»± hiá»ƒu Sau khi Ä‘Ã£ setting háº¿t, nhÃ¬n xuá»‘ng Timeline summary Ä‘á»ƒ xem chi tiáº¿t =&gt; Tá»‘i Æ°u hoÃ¡ chi phÃ­ náº¿u báº¡n cÃ³ quÃ¡ nhiá»u objects trÃªn S3 buckets Shared Responsibility Model for S3AWS Infrastructure (global security, durability, availability, sustain concurrent loss of data in two facilities) Configuration and vulnerability analysis Compliance validation You S3 Versioning S3 Bucket Policies S3 Replication Setup Logging and Monitoring â€¢ S3 Storage Classes Data encryption at rest and in transit AWS Snow Family Overview Sá»­ dá»¥ng Ä‘á»ƒ security cao hÆ¡n, 2 cÃ¡ch lÃ  Thu tháº­p vÃ  xá»­ lÃ½ dá»¯ liá»‡u trÃªn edge hoáº·c migrade data into and out of AWS Data migration: 3 loáº¡i (Snowcone, Snowball Edge, Snowmobile) Edge computing: 2 loáº¡i (Snowcone, Snowball Edge) Why Data Migration with AWS Snow FamilyCÃ¡c thÃ¡ch thá»©c Ä‘Æ°á»£c Ä‘áº·t ra Káº¿t ná»‘i háº¡n cháº¿ BÄƒng thÃ´ng háº¡n cháº¿ Chi phÃ­ máº¡ng cao BÄƒng thÃ´ng Ä‘Æ°á»£c chia sáº» (khÃ´ng thá»ƒ tá»‘i Ä‘a hÃ³a Ä‘Æ°á»ng truyá»n) Káº¿t ná»‘i á»•n Ä‘á»‹nh AWS Snow Family: offline devices to perform data migration. (thiáº¿t bá»‹ ngoáº¡i tuyáº¿n Ä‘á»ƒ thá»±c hiá»‡n viá»‡c di chuyá»ƒn dá»¯ liá»‡u) Náº¿u máº¥t hÆ¡n 1 tuáº§n Ä‘á»ƒ chuyá»ƒn dá»¯ liá»‡u qua network, hÃ£y sá»­ dá»¥ng Snowball devices! DiagramsThá»±c táº¿ thÃ¬ cÃ¡ch tranfer dá»¯ liá»‡u nÃ y lÃ  qua táº§ng váº­t lÃ½ chá»© khÃ´ng pháº£i qua network Lab 08 - AWS Snow Family Hands OnVÃ o AWS Service =&gt; AWS Snow Family =&gt; Order an AWS Snow family device=&gt; Import to S3 Note: BÆ°á»›c 7, review a job vÃ  Äá»ªNG CLICK CREATE vÃ¬ phÃ­ cao vÃ  Ä‘Ã¢y khÃ´ng pháº£i lÃ  dá»‹ch vá»¥ miá»…n phÃ­ Náº¿u lÃ  computing =&gt; LÃºc Order =&gt; Local compute and storage only Pháº§n nÃ y cÃ²n khÃ¡ nhiá»u, khi nÃ o cáº§n sáº½ tá»•ng há»£p thÃªm To be continue â€¦. AWS OpsHub TrÆ°á»›c Ä‘Ã¢y, Ä‘á»ƒ sá»­ dá»¥ng cÃ¡c Snow Family devices, báº¡n cáº§n má»™t CLI (Command Line Interface tool) Hiá»‡n nay báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng AWS OpsHub (má»™t pháº§n má»m báº¡n cÃ³ thá»ƒ cÃ i trÃªn mÃ¡y / laptop) Ä‘á»ƒ quáº£n lÃ½ cÃ¡c Snow Family Device: Má»Ÿ khoÃ¡ vÃ  Ä‘á»‹nh cÃ¡c cáº¥u hÃ¬nh riÃªng láº» hoáº·c theo cluster Chuyá»ƒn files Khá»Ÿi cháº¡y vÃ  quáº£n lÃ½ cÃ¡c phiÃªn báº£n cháº¡y trÃªn Snow Family Device GiÃ¡m sÃ¡t thÃ´ng sá»‘ thiáº¿t bá»‹ Khá»Ÿi cháº¡y cÃ¡c dá»‹ch vá»¥ tÆ°Æ¡ng thÃ­ch vá»›i thiáº¿t bá»‹ cá»§a báº¡n (vÃ­ dá»¥ nhÆ° Amazon EC2 Instance AWS DataSunc, Network File System (NFS)) Hybrid Cloud for StorageAWS Ä‘ang thÃºc Ä‘áº©y â€œÄ‘Ã¡m mÃ¢y laiâ€ Má»™t pháº§n cÆ¡ sá»Ÿ háº¡ táº§ng cá»§a báº¡n lÃ  â€œtáº¡i chá»—â€ (on-premisesâ€ Má»™t pháº§n cÆ¡ sá»Ÿ háº¡ táº§ng cá»§a báº¡n lÃ  trÃªn Ä‘Ã¡m mÃ¢y Äiá»u nÃ y cÃ³ thá»ƒ lÃ  do Long cloud migrations YÃªu cáº§u báº£o máº­t YÃªu cáº§u cÃ¡c tuÃ¢n thá»§ Chiáº¿n lÆ°á»£c IT S3 lÃ  cÃ´ng nghá»‡ lÆ°u trá»¯ Ä‘á»™c quyá»n (khÃ´ng nhÆ° EFS / NFS), váº­y lÃ m sao Ä‘á»ƒ hiá»ƒn thá»‹ dá»¯ liá»‡u S3 táº¡i chá»—? =&gt; AWS Storage Gateway! AWS Storage Gateway ÄÃ¢y lÃ  cáº§u ná»‘i giá»¯a dá»¯ liá»‡u â€œtáº¡i chá»—â€ vÃ  dá»¯ liá»‡u trÃªn cloud trong S3 Dá»‹ch vá»¥ lÆ°u trá»¯ káº¿t há»£p Ä‘á»ƒ cho phÃ©p táº¡i chá»— sá»­ dá»¥ng liá»n máº¡ch AWS Cloud Pháº§n nÃ y sáº½ tÃ¬m hiá»ƒu sau â€¦ S3 Summary Buckets vs Objects: global unique name, tied to a region S3 security: IAM policy, S3 Bucket Policy (public access), S3 Encryption S3 Websites: host a static website on Amazon S3 S3 Versioning: multiple versions for files, prevent accidental deletes S3 Access Logs: log requests made within your S3 bucket S3 Replication: same-region or cross-region, must enable versioning S3 Storage Classes: Standard, IA, 1Z-IA, Intelligent, Glacier, Glacier Deep Archive â€¢ S3 Lifecycle Rules: transition objects between classes S3 GlacierVault Lock / S3 Object Lock:WORM (Write Once Read Many) Snow Family: import data onto S3 through a physical device, edge computing OpsHub: desktop application to manage Snow Family devices Storage Gateway: hybrid solution to extend on-premises storage to S3","link":"/2021/05/08/Section-8-S3/"},{"title":"[SÆ°u táº§m] 5 kÄ© nÄƒng giáº£i quyáº¿t váº¥n Ä‘á» cá»§a má»™t kÄ© sÆ° pháº§n má»m","text":"Äá»ƒ trá»Ÿ nÃªn hiá»‡u quáº£ trong cÃ´ng viá»‡c, kÄ© sÆ° pháº§n má»m cáº§n pháº£i rÃ¨n giÅ©a cÃ¡c kÄ© nÄƒng giáº£i quyáº¿t váº¥n Ä‘á» cá»§a báº£n thÃ¢n vÃ  thÃ nh tháº¡o cÃ¡c ngÃ³n nghá» phá»©c táº¡p, yÃªu cáº§u hÃ ng nÄƒng trá»i há»c há»i vÃ  luyá»‡n táº­p. Máº·c cho nhá»¯ng ngÆ°á»i má»›i gia nháº­p nghÄ© gÃ¬, thÃ¬ thá»±c táº¿ lÃ  viá»‡c hiá»ƒu má»™t ngÃ´n ngá»¯ láº­p trÃ¬nh, má»™t framework hoáº·c ká»ƒ cáº£ lÃ  cÃ¡c giáº£i thuáº­t KHÃ”NG pháº£i lÃ  pháº§n khÃ³ trong viá»‡c xÃ¢y dá»±ng pháº§m má»m. ÄÃ¢y lÃ  bÃ i dá»‹ch, bÃ i gá»‘c cÃ¡c báº¡n cÃ³ thá»ƒ xem á»Ÿ Ä‘Ã¢y: https://dev.to/lpasqualis/the-5-problem-solving-skills-of-great-software-developers-4e6 BÃ i viáº¿t nÃ y láº§n Ä‘áº§u Ä‘Æ°á»£c Ä‘Äƒng trÃªn trang CoderHood dÆ°á»›i cÃ¡i tÃªn : The 5 Problem-Solving Skills of Great Software Developers. CoderHood lÃ  má»™t trang blog chuyÃªn vá» phÆ°Æ¡ng diá»‡n con ngÆ°á»i cá»§a ngÃ nh cÃ´ng nghá»‡ pháº§n má»m. Äá»ƒ trá»Ÿ nÃªn hiá»‡u quáº£ trong cÃ´ng viá»‡c, kÄ© sÆ° pháº§n má»m cáº§n pháº£i rÃ¨n giÅ©a cÃ¡c kÄ© nÄƒng giáº£i quyáº¿t váº¥n Ä‘á» cá»§a báº£n thÃ¢n vÃ  thÃ nh tháº¡o cÃ¡c ngÃ³n nghá» phá»©c táº¡p, yÃªu cáº§u hÃ ng nÄƒng trá»i há»c há»i vÃ  luyá»‡n táº­p. Máº·c cho nhá»¯ng ngÆ°á»i má»›i gia nháº­p nghÄ© gÃ¬, thÃ¬ thá»±c táº¿ lÃ  viá»‡c hiá»ƒu má»™t ngÃ´n ngá»¯ láº­p trÃ¬nh, má»™t framework hoáº·c ká»ƒ cáº£ lÃ  cÃ¡c giáº£i thuáº­t KHÃ”NG pháº£i lÃ  pháº§n khÃ³ trong viá»‡c xÃ¢y dá»±ng pháº§m má»m. Láº¥y vÃ­ dá»¥, hiá»ƒu cÃ¡c ngÃ´n ngá»¯ láº­p trÃ¬nh thÃ¬ dá»…, Ä‘áº·c biá»‡t lÃ  cÃ¡c ngÃ´n ngá»¯ hÆ°á»›ng thá»§ tá»¥c giá»‘ng nhÆ° C. Chá»‰ cÃ³ 32 keywords trong C, vÃ  Ã½ nghÄ©a cá»§a chÃºng thÃ¬ ráº¥t dá»… Ä‘á»ƒ hiá»ƒu: auto double int struct break else long switch case enum register typedef char extern return union const float short unsigned continue for signed void default goto sizeof volatile do if static while Äá»“ng thá»i C cÅ©ng cÃ³ 11 chá»‰ thá»‹ tiá»n xá»­ lÃ½, cÅ©ng khÃ´ng quÃ¡ khÃ³ Ä‘á»ƒ hiá»ƒu: #define #error #import #elif #if #include #else #ifdef #line #ifndef #pragma Hiá»ƒu vá» ngÃ´n ngá»¯ láº­p trÃ¬nh thÃ¬ khÃ´ng khÃ³, nhÆ°ng ghÃ©p ná»‘i cÃ¡c chá»‰ thá»‹ vá»›i nhau Ä‘á»ƒ táº¡o thÃ nh má»™t dÃ²ng lá»‡nh cÃ³ nghÄ©a thÃ¬ phá»©c táº¡p hÆ¡n ráº¥t nhiá»u. Vá» máº·t concept, nÃ³ giá»‘ng nhÆ° viá»‡c viáº¿t lÃ¡ch vá»›i ngÃ´n ngá»¯ cá»§a loÃ i ngÆ°á»i - nhÆ° lÃ  tiáº¿ng Anh cháº³ng háº¡n. Tá»«ng tá»« trong tiáº¿ng Anh cÃ³ thá»ƒ hiá»ƒu Ä‘Æ°á»£c má»™t cÃ¡ch dá»… dÃ ng, nhÆ°ng cÃ¡ch Ä‘á»ƒ ghÃ©p chÃºng láº¡i cÃ¹ng má»™t chá»— Ä‘á»ƒ táº¡o ra cÃ¡c cÃ¢u vÃ  Ä‘oáº¡n vÄƒn giÃ u Ã½ nghÄ©a, Ä‘Ãºng ngá»¯ phÃ¡p vÃ  dá»… hiá»ƒu thÃ¬ láº¡i lÃ  váº¥n Ä‘á» khÃ¡c. LÃºc Ä‘Ã³ chÃºng ta sáº½ pháº£i há»c há»i tá»« nhiá»u chá»—, nhiá»u ngÆ°á»i, Ä‘á»“ng thá»i tá»‘n ráº¥t nhiá»u thá»i gian Ä‘á»ƒ luyá»‡n táº­p. Viá»‡c xÃ¢y dá»±ng pháº§n má»m, tÆ°Æ¡ng tá»± nhÆ° váº­y, sáº½ yÃªu cáº§u nhiá»u hÆ¡n vá» ká»¹ nÄƒng giáº£i quyáº¿t váº¥n Ä‘á» so vá»›i viáº¿t code hoáº·c lÃ  hiá»ƒu biáº¿t vá» cÃ´ng nghá»‡. NhÆ°ng Ä‘á»ƒ giá»i trong viá»‡c giáº£i quyáº¿t váº¥n Ä‘á», chÃºng ta sáº½ cáº§n ráº¥t nhiá»u thá»i gian Ä‘á»ƒ luyá»‡n táº­p vÃ  tÃ­ch luá»¹ kinh nghiá»‡m. Má»™t ngÆ°á»i ká»¹ sÆ° pháº§n má»m, trÆ°á»›c háº¿t, lÃ  má»™t ngÆ°á»i giáº£i quyáº¿t váº¥n Ä‘á», vÃ  sau Ä‘Ã³, má»›i lÃ  má»™t thá»£ code. Nhá»¯ng thá»© nhÆ° ngÃ´n ngá»¯ láº­p trÃ¬nh, framework, giáº£i thuáº­t lÃ  cÃ¡c cÃ´ng cá»¥ mÃ  chÃºng ta cÃ³ thá»ƒ náº¯m Ä‘Æ°á»£c thÃ´ng qua viá»‡c há»c táº­p. CÃ²n giáº£i quyáº¿t váº¥n Ä‘á», thÃ¬ phá»©c táº¡p hÆ¡n vÃ  khÃ³ há»c hÆ¡n, khi chÃºng ta cáº§n pháº£i luyá»‡n táº­p trong thá»i gian dÃ i vÃ  cáº§n cáº£ ngÆ°á»i hÆ°á»›ng dáº«n ná»¯a. LÃ m tháº¿ nÃ o Ä‘á»ƒ nghÄ© nhÆ° má»™t kÄ© sÆ° pháº§n má»mThÃ´ng qua luyá»‡n táº­p, ká»¹ sÆ° pháº§n má»m há»c Ä‘Æ°á»£c cÃ¡ch suy nghÄ© Ä‘á»ƒ cho phÃ©p há» tÃ¬m ra cÃ¡c giáº£i phÃ¡p hiá»‡u quáº£ cho cÃ¡c váº¥n Ä‘á» cáº§n giáº£i quyáº¿t. Viá»‡c há»c thÆ°á»ng diá»…n ra má»™t cÃ¡ch tá»± nhiÃªn trong quÃ¡ trÃ¬nh lÃ m viá»‡c, nhÆ°ng nÃ³ máº¥t thá»i gian. Báº¡n cÃ³ thá»ƒ tÄƒng tá»‘c quÃ¡ trÃ¬nh há»c cá»§a mÃ¬nh báº±ng cÃ¡ch xÃ¡c Ä‘á»‹nh vÃ  táº­p trung cáº£i thiá»‡n cÃ¡c kÄ© nÄƒng cáº§n thiáº¿t Ä‘á»ƒ suy nghÄ© giá»‘ng nhÆ° má»™t kÄ© sÆ° pháº§n má»m cÃ³ nhiá»u kinh nghiá»‡m. Trong bÃ i viáº¿t nÃ y, thÃ´ng qua má»™t váº¥n Ä‘á» khÃ´ng liÃªn quan Ä‘áº¿n ká»¹ thuáº­t, tÃ´i sáº½ giáº£i thÃ­ch 5 kÄ© nÄƒng giáº£i quyáº¿t váº¥n Ä‘á» mÃ  báº¡n cáº§n há»c. VÃ  váº¥n Ä‘á» cÃ³ tÃªn lÃ : LÃ m tháº¿ nÃ o Ä‘á»ƒ pha cÃ  phÃª cho bá»‘n ngÆ°á»i vá»›i 4 kháº©u vá»‹ khÃ¡c nhau? BÃ i toÃ¡n Pha cÃ  phÃªCÃ³ bá»‘n ngÆ°á»i - A, B, C vÃ  D muá»‘n uá»‘ng cÃ  phÃª, vÃ  há» cÃ³ yÃªu cáº§u cá»¥ thá»ƒ nhÆ° sau: A: CÃ  phÃª Ä‘en B: Chá»‰ cÃ³ kem C: ÄÆ°á»ng vÃ  kem D: Chá»‰ cÃ³ Ä‘Æ°á»ng Báº¡n sáº½ pháº£i tÃ¬m ra má»™t cÃ¡ch thá»©c, hoáº·c giáº£i thuáº­t, Ä‘á»ƒ lÃ m cÃ  phÃª giá»‘ng nhÆ° yÃªu cáº§u vÃ  nhanh nháº¥t cÃ³ thá»ƒ. Má»¥c tiÃªu lÃ  tÃ¬m ra má»™t cÃ¡ch Ä‘á»ƒ báº¡n cÃ³ thá»ƒ phá»¥c vá»¥ cÃ  phÃª cho cáº£ 4 ngÆ°á»i cÃ¹ng má»™t lÃºc, vÃ  cÃ ng nÃ³ng cÃ ng tá»‘t. NÄƒm kÄ© nÄƒng giáº£i quyáº¿t váº¥n Ä‘á»Chia má»™t váº¥n Ä‘á» to vÃ  phá»©c táº¡p ra thÃ nh cÃ¡c váº¥n Ä‘á» nhá» vÃ  Ä‘Æ¡n giáº£n hÆ¡n. LÃ m cÃ  phÃª cho 4 ngÆ°á»i theo yÃªu cáº§u lÃ  yÃªu cáº§u tá»•ng thá»ƒ cho váº¥n Ä‘á» chÃºng ta Ä‘ang nÃ³i Ä‘áº¿n trong vÃ­ dá»¥ nÃ y. Tuy nhiÃªn, báº¡n khÃ´ng thá»ƒ Ä‘Æ¡n giáº£n lÃ  lÃ m cÃ  phÃª vá»›i má»™t thao tÃ¡c duy nháº¥t Ä‘Æ°á»£c. NhÆ° báº¥t kÃ¬ ngÆ°á»i nÃ o biáº¿t cÃ¡ch pha cÃ  phÃª sáº½ nÃ³i cho báº¡n, báº¡n sáº½ cáº§n pháº£i chia nhá» cÃ´ng viá»‡c ra nhiá»u task nhá» hÆ¡n. Má»—i task sáº½ cáº§n pháº£i Ä‘á»§ Ä‘Æ¡n giáº£n Ä‘á»ƒ cÃ³ thá»ƒ dá»… dÃ ng xá»­ lÃ½. DÆ°á»›i Ä‘Ã¢y lÃ  danh sÃ¡ch cÃ¡c task cáº§n pháº£i hoÃ n thÃ nh Ä‘á»ƒ cÃ³ thá»ƒ pha cÃ  phÃª thoáº£ mÃ£n yÃªu cáº§u Ä‘Æ°a ra: Kháº£ nÄƒng chia nhá» cÃ´ng viá»‡c thÃ nh cÃ¡c task lÃ  má»™t Ä‘iá»u tá»± nhiÃªn vá»›i con ngÆ°á»i, vÃ  lÃ  má»™t kÄ© nÄƒng cáº§n thiáº¿t Ä‘á»ƒ hoÃ n thÃ nh cÃ´ng viá»‡c. Äá»“ng thá»i viá»‡c lÃ m ra danh sÃ¡ch cÃ¡c task á»Ÿ trÃªn khÃ´ng yÃªu cáº§u báº¥t kÃ¬ má»™t kÄ© nÄƒng há»c táº­p hoáº·c luyá»‡n táº­p cá»¥ thá»ƒ nÃ o khÃ¡c ngoÃ i viá»‡c biáº¿t cÃ¡ch lÃ m cÃ  phÃª. NÃ³i cÃ¡ch khÃ¡c, ai cÅ©ng cÃ³ thá»ƒ lÃ m ra Ä‘Æ°á»£c danh sÃ¡ch Ä‘Ã³, dÃ¹ Ã­t hay nhiá»u. Tuy nhiÃªn, sá»± khÃ¡c nhau giá»¯a cÃ¡c váº¥n Ä‘á» gáº·p pháº£i hÃ ng ngÃ y nhÆ° lÃ  pha cÃ  phÃª so vá»›i cÃ¡c yÃªu cáº§u phá»©c táº¡p hÆ¡n nhÆ° lÃ  xÃ¢y dá»±ng pháº§n má»m á»Ÿ chá»—, cÃ¡c bÆ°á»›c dÃ¹ng Ä‘á»ƒ xÃ¢y dá»±ng pháº§n má»m hiáº¿m khi Ä‘Æ°á»£c trau dá»“i vÃ  luyá»‡n táº­p má»™t cÃ¡ch cáº©n tháº­n. Äá»ƒ cÃ³ thá»ƒ Ä‘Æ°a ra Ä‘Æ°á»£c danh sÃ¡ch cÃ¡c task cáº§n thiáº¿t cho viá»‡c táº¡o ra má»™t pháº§n cá»¥ thá»ƒ cá»§a pháº§n má»m yÃªu cáº§u chÃºng ta pháº£i lÃ m nÃ³ ráº¥t nhiá»u láº§n trÆ°á»›c Ä‘Ã³. Viá»‡c nÃ y khÃ´ng thÆ°á»ng xuyÃªn xáº£y ra láº¯m trong tháº¿ giá»›i pháº§n má»m. VÃ  Ä‘Ã³ cÅ©ng lÃ  lÃ½ do táº¡i sao mÃ  cÃ¡c kÄ© sÆ° pháº§n má»m cÃ³ kinh nghiá»‡m khÃ´ng nháº£y ngay láº­p tá»©c vÃ o viáº¿t danh sÃ¡ch cÃ¡c task. Thay vÃ o Ä‘Ã³, há» chia váº¥n Ä‘á» ra thÃ nh cÃ¡c pháº§n Ä‘Æ¡n giáº£n vÃ  cá»¥ thá»ƒ hÆ¡n. KÄ© sÆ° sáº½ xÃ¡c Ä‘á»‹nh váº¥n Ä‘á» cáº§n giáº£i quyáº¿t lÃ  CÃ¡i gÃ¬, vÃ  danh sÃ¡ch cÃ¡c task Ä‘á»ƒ giáº£i quyáº¿t cÃ¡c váº¥n Ä‘á» lÃ  LÃ m tháº¿ nÃ o. Trong vÃ­ dá»¥ vá» viá»‡c pha cÃ  phÃª, danh sÃ¡ch cÃ¡c má»¥c tiÃªu phá»¥ (pháº§n CÃ¡i gÃ¬) cÃ³ thá»ƒ Ä‘Æ°á»£c xÃ¡c Ä‘á»‹nh nhÆ° sau: Má»¥c tiÃªu phá»¥ CÃ³ cá»‘c sáºµn sÃ ng Ä‘á»ƒ chá»©a cÃ  phÃª CÃ³ Ä‘á»§ cÃ  phÃª Ä‘á»ƒ pha MÃ¡y pha cÃ  phÃª cÃ³ Ä‘á»§ nÆ°á»›c CÃ³ phá»…u lá»c vá»›i cÃ  phÃª á»Ÿ trong. Má»¥c tiÃªu nÃ y yÃªu cáº§u má»¥c tiÃªu 2 cáº§n hoÃ n thÃ nh Phá»…u lá»c cÃ³ cÃ  phÃª Ä‘Æ°á»£c Ä‘áº·t á»Ÿ trong mÃ¡y pha cÃ  phÃª. Má»¥c tiÃªu nÃ y cáº§n má»¥c tiÃªu 4 hoÃ n thÃ nh MÃ¡y pha cÃ  phÃª Ä‘ang pha cÃ  phÃª, yÃªu cáº§u má»¥c tiÃªu 3 vÃ  5 hoÃ n thÃ nh MÃ¡y pha cÃ  phÃª hoÃ n thÃ nh pha cÃ  phÃª, yÃªu cáº§u má»¥c tiÃªu 6 hoÃ n thÃ nh, vÃ  sau má»™t khoáº£ng thá»i gian CÃ³ cá»‘c Ä‘Æ°á»£c Ä‘á»• cÃ  phÃª, yÃªu cáº§u má»¥c tiÃªu 7 vÃ  1 hoÃ n thÃ nh Kem Ä‘Æ°á»£c thÃªm vÃ o 2 cá»‘c cÃ  phÃª; yÃªu cáº§u má»¥c tiÃªu 8 Ä‘Æ°á»£c hoÃ n thÃ nh ÄÆ°á»ng Ä‘Æ°á»£c thÃªm vÃ o 1 cá»‘c cÃ³ kem, vÃ  má»™t cá»‘c khÃ´ng cÃ³ kem, yÃªu cáº§u 1 vÃ  9 hoÃ n thÃ nh Äá»“ uá»‘ng trong tá»«ng cá»‘c Ä‘Æ°á»£c khuáº¥y vÃ  mix há»£p lÃ½, yÃªu cáº§u 8 9 10 hoÃ n thÃ nh Äá»ƒ Ã½ ráº±ng khÃ´ng há» cÃ³ mÃ´ táº£ cá»¥ thá»ƒ cho cÃ¡c cÃ´ng viá»‡c cáº§n pháº£i lÃ m trong task, chá»‰ cÃ³ mÃ´ táº£ cho káº¿t quáº£ cáº§n Ä‘áº¡t Ä‘Æ°á»£c vÃ  cÃ¡c task phá»¥ thuá»™c. ChÃºng ta cÅ©ng cÃ³ thá»ƒ táº¡o má»™t biá»ƒu Ä‘á»“ Ä‘á»ƒ trá»±c quan hoÃ¡ danh sÃ¡ch á»Ÿ trÃªn. CÃ¡c hÃ¬nh há»™p Ä‘áº¡i diá»‡n cho cÃ¡c má»¥c tiÃªu phá»¥c, vÃ  cÃ¡c mÅ©i tÃªn Ä‘i Ä‘áº¿n tá»«ng hÃ¬nh Ä‘áº¡i diá»‡n cho cÃ¡c yÃªu cáº§u cáº§n thoáº£ mÃ£n Ä‘á»ƒ nhiá»‡m vá»¥ phá»¥ cÃ³ thá»ƒ hoÃ n thÃ nh: Trong trÆ°á»ng há»£p cÃ´ng viá»‡c lÃ  pha cÃ  phÃª, viá»‡c viáº¿t ra list cÃ¡c task cáº§n hoÃ n thÃ nh lÃ  vá»«a Ä‘á»§. Danh sÃ¡ch sáº½ hoáº¡t Ä‘á»™ng tá»‘t vá»›i cÃ¡c váº¥n Ä‘á» Ä‘Æ¡n giáº£n, vÃ  báº¡n biáº¿t cÃ¡ch Ä‘á»ƒ giáº£i quyáº¿t váº¥n Ä‘á» Ä‘Ã³ mÃ  khÃ´ng cáº§n lÃªn káº¿ hoáº¡ch quÃ¡ nhiá»u. Tuy nhiÃªn trong viá»‡c xÃ¢y dá»±ng pháº§n má»m, hiáº¿m khi chÃºng ta gáº·p cÃ¡c váº¥n Ä‘á» Ä‘Æ¡n giáº£n nhÆ° váº­y. LÃªn káº¿ hoáº¡ch cho cÃ¡c má»¥c tiÃªu phá»¥ cho phÃ©p chÃºng ta trá»«u tÆ°á»£ng hoÃ¡ káº¿t quáº£ vá»›i hÃ nh Ä‘á»™ng, vÃ  Ä‘Ã³ lÃ  má»™t sá»± khÃ¡c biá»‡t quan trá»ng. VÃ­ dá»¥ nhÆ° á»Ÿ má»¥c tiÃªu phá»¥ sá»‘ #4: chÃºng ta cÃ³ phá»…u lá»c Ä‘Æ°á»£c Ä‘á»• Ä‘áº§y cÃ  phÃª, cÃ³ thá»ƒ sáº½ khiáº¿n chÃºng ta pháº£i Ä‘áº¿n cá»­a hÃ ng vÃ  mua phá»…u lá»c. Äiá»u cáº§n quan tÃ¢m á»Ÿ Ä‘Ã¢y lÃ  má»¥c tiÃªu cáº§n Ä‘áº¡t Ä‘Æ°á»£c, lÃ  cÃ¡i gÃ¬ cáº§n hoÃ n thÃ nh, trong khi lÃ m tháº¿ nÃ o lÃ  má»™t chuá»—i cÃ¡c lá»±a chá»n phÃ¹ há»£p vá»›i hoÃ n cáº£nh (Vd Ä‘Ã£ cÃ³ phá»…u lá»c chÆ°a hay chÃºng ta pháº£i tá»± Ä‘i mua). Suy nghÄ© song song CÃ¡c má»¥c tiÃªu phá»¥ phÃ­a trÃªn cÃ³ thá»ƒ hoÃ n thÃ nh láº§n lÆ°á»£t theo danh sÃ¡ch, tuy nhiÃªn Ä‘iá»u Ä‘Ã³ khÃ´ng thá»±c sá»± tá»‘i Æ°u. Sá»± phá»¥ thuá»™c giá»¯a cÃ¡c má»¥c tiÃªu nÃ y cho chÃºng ta má»™t gá»£i Ã½ vá» cÃ¡c cÃ´ng viá»‡c cáº§n hoÃ n thÃ nh theo má»™t tráº­t tá»± nháº¥t Ä‘á»‹nh vÃ  cÃ¡c cÃ´ng viá»‡c khÃ´ng cáº§n theo thá»© tá»±. Láº¥y vÃ­ dá»¥, báº¡n cÃ³ thá»ƒ báº¯t Ä‘áº§u xay háº¡t cÃ  phÃª, vÃ  trong khi mÃ¡y xay cÃ  phÃª Ä‘ang hoáº¡t Ä‘á»™ng, chÃºng ta cÃ³ thá»ƒ Ä‘á»• nÆ°á»›c vÃ o mÃ¡y pha cÃ  phÃª. NguyÃªn nhÃ¢n lÃ  vÃ¬ viá»‡c cho nÆ°á»›c vÃ o mÃ¡y pha cÃ  phÃª khÃ´ng báº¯t buá»™c chÃºng ta pháº£i cÃ³ cÃ  phÃª Ä‘Ã£ Ä‘Æ°á»£c xay xong. Äá»“ng thá»i, viá»‡c xay cÃ  phÃª chá»‰ yÃªu cáº§u chÃºng ta má»™t thao tÃ¡c báº­t mÃ¡y, cÃ²n láº¡i lÃ  thá»i gian chá» mÃ¡y xay hoáº¡t Ä‘á»™ng xong. Tuy nhiÃªn náº¿u mÃ¡y xay cÃ  phÃª lÃ  thá»§ cÃ´ng vÃ  báº¯t buá»™c pháº£i Ä‘á»™ng tay Ä‘á»™ng chÃ¢n, thÃ¬ Ä‘Ã³ hoÃ n toÃ n lÃ  má»™t cÃ¢u chuyá»‡n khÃ¡c. HÆ¡n ná»¯a, trong khi chá» mÃ¡y pha cÃ  phÃª hoÃ n thÃ nh cÃ´ng viá»‡c cá»§a nÃ³, chÃºng ta cÃ³ thá»ƒ láº¥y cá»‘c ra khá»i cháº¡n báº¿p. Thá»±c táº¿ thÃ¬, khÃ´ng gÃ¬ phá»¥ thuá»™c vÃ o viá»‡c cá»‘c cáº§n pháº£i sáºµn sÃ ng cho Ä‘áº¿n khi chÃºng ta báº¯t Ä‘áº§u Ä‘á»• cÃ¡c thÃ nh pháº§n cá»§a tá»«ng cá»‘c cÃ  phÃª vÃ o. Báº¡n cÅ©ng cÃ³ thá»ƒ cho Ä‘Æ°á»ng vÃ  kem vÃ o cá»‘c rá»—ng, trÆ°á»›c khi cáº£ cÃ  phÃª lÃ m xong. LÃ m nhÆ° tháº¿ nÃ y sáº½ khiáº¿n viá»‡c khuáº¥y cá»‘c cÃ  phÃª khÃ´ng cÃ²n cáº§n thiáº¿t ná»¯a. Náº¿u báº¡n Ä‘á»• nhiá»u cÃ  phÃª vÃ o má»™t cá»‘c Ä‘Ã£ cÃ³ sáºµn má»™t chÃºt kem vÃ  Ä‘Æ°á»ng, cÃ¡c thÃ nh pháº§n sáº½ tá»± hoÃ  trá»™n vá»›i nhau má»™t cÃ¡ch tá»± nhiÃªn mÃ  khÃ´ng cáº§n pháº£i khuáº¥y. NgÆ°á»£c láº¡i, náº¿u báº¡n Ä‘á»• Ä‘Æ°á»ng hay kem vÃ o má»™t cá»‘c Ä‘Ã£ cÃ³ nhiá»u cÃ  phÃª, báº¡n cáº§n pháº£i khuáº¥y Ä‘á»ƒ chÃºng hoÃ  trá»™n vÃ o vá»›i nhau. Sáº¯p xáº¿p láº¡i taskChÃºng ta sáº½ sáº¯p xáº¿p láº¡i danh cÃ¡c task vá»›i má»¥c tiÃªu táº¡o ra tá»‘i Ä‘a cÃ¡c tÃ¡c vá»¥ cÃ³ thá»ƒ lÃ m song song, nháº±m rÃºt ngáº¯n thá»i gian vÃ  bá» qua má»™t sá»‘ bÆ°á»›c khÃ´ng cáº§n thiáº¿t. Danh sÃ¡ch cÃ¡c task vá»›i thá»© tá»± tá»‘i Æ°u sáº½ lÃ . TÃ¬m mÃ¡y xay cÃ  phÃª vÃ  khá»Ÿi Ä‘á»™ng nÃ³ Trong khi mÃ¡y xay cÃ  phÃª Ä‘ang hoáº¡t Ä‘á»™ng, Ä‘á»• nÆ°á»›c vÃ o mÃ¡y pha cÃ  phÃª Khi mÃ¡y xay hoáº¡t Ä‘á»™ng xong, Ä‘á»• cÃ  phÃª vÃ o trong bá»™ lá»c Äáº·t bá»™ lá»c vÃ o mÃ¡y pha cÃ  phÃª Khá»Ÿi Ä‘á»™ng mÃ¡y pha cÃ  phÃª Trong khi cÃ  phÃª Ä‘ang Ä‘Æ°á»£c pha, láº¥y 4 cá»‘c ra khá»i cháº¡n báº¿p Cho kem vÃ o 2 cá»‘c Cho Ä‘Æ°á»ng vÃ o 1 cá»‘c khÃ´ng cÃ³ kem vÃ  1 cá»‘c cÃ³ kem Chá» cÃ  phÃª Ä‘Æ°á»£c pha xong Äá»• cÃ  phÃª vÃ o 4 cá»‘c Hoáº·c cÃ³ thá»ƒ biá»ƒu diá»…n dÆ°á»›i dáº¡ng biá»ƒu Ä‘á»“ tuáº§n tá»± nhÆ° sau: Má»¥c tiÃªu lÃ m cÃ  phÃª nhÆ° trong vÃ­ dá»¥ lÃ  khÃ¡ cá»¥ thá»ƒ vÃ  trong pháº¡m vi háº¹p. Náº¿u nhÆ° váº¥n Ä‘á» Ä‘á»•i thÃ nh báº¡n pháº£i pha cÃ  phÃª cho 5 ngÆ°á»i thay vÃ¬ 4, vÃ  má»™t sá»‘ ngÆ°á»i thÃ¬ muá»‘n cÃ³ si-rÃ´ vani trong cÃ  phÃª, vÃ  má»™t ngÆ°á»i thÃ¬ láº¡i muá»‘n bá» háº¿t caffein, thÃ¬ danh sÃ¡ch cÃ¡c má»¥c tiÃªu phá»¥ vÃ  cÃ´ng viá»‡c sáº½ cáº§n pháº£i lÃ m láº¡i. Láº­p trÃ¬nh viÃªn Ä‘Æ°á»£c há»c cÃ¡ch thiáº¿t káº¿ cÃ¡c giáº£i phÃ¡p Ä‘á»ƒ há» khÃ´ng pháº£i tÃ¡i thiáº¿t káº¿ chÃºng má»—i khi cÃ³ má»™t vÃ i tham sá»‘ thay Ä‘á»•i. Há» cÅ©ng há»c Ä‘Æ°á»£c cÃ¡ch trá»«u tÆ°á»£ng hoÃ¡ cÃ¡c váº¥n Ä‘á» Ä‘á»ƒ má»™t giáº£i phÃ¡p cÃ³ thá»ƒ giáº£i quyáº¿t Ä‘Æ°á»£c báº¥t ká»³ bá»™ váº¥n Ä‘á» nÃ o tÆ°Æ¡ng tá»± nhÆ° váº¥n Ä‘á» Ä‘Ã£ lÃ m. Trá»«u tÆ°á»£ng hoÃ¡ viá»‡c pha cÃ  phÃªTrong vÃ­ dá»¥ vá» viá»‡c pha cÃ  phÃª, báº¡n cÃ³ thá»ƒ muá»‘n trá»«u tÆ°á»£ng hoÃ¡ má»¥c tiÃªu phá»¥ Ä‘á»ƒ hoÃ n thÃ nh viá»‡c pha cÃ  phÃª cho N ngÆ°á»i chá»© khÃ´ng cá»‘ Ä‘á»‹nh lÃ  4 ngÆ°á»i. Äá»“ng thá»i báº¡n cÅ©ng muá»‘n trá»«u tÆ°á»£ng hoÃ¡ cÃ¡c thÃ nh pháº§n thÃªm vÃ o cÃ  phÃª nhÆ° lÃ  kem hay Ä‘Æ°á»ng, vÃ  gá»i nÃ³ lÃ  pháº§n thÃªm. Danh sÃ¡ch cÃ¡c thÃ nh pháº§n nÃ y cÃ³ thá»ƒ thay Ä‘á»•i theo thá»i gian, nhÆ° lÃ  si-rÃ´, cÃ¡c loáº¡i háº¡t, rÆ°á»£u vodka vÃ  báº¥t cá»© thá»© gÃ¬ ngÆ°á»i ta cÃ³ thá»ƒ cho vÃ o cÃ  phÃª. Viá»‡c trá»«u tÆ°á»£ng hoÃ¡ nhÆ° nÃ y cho phÃ©p sá»‘ lÆ°á»£ng X cÃ¡c pháº§n thÃªm cÃ³ thá»ƒ thÃªm vÃ o N cá»‘c cÃ  phÃª. Má»™t kiá»ƒu trá»«u tÆ°á»£ng khÃ¡c cÃ³ thá»ƒ lÃ  loáº¡i cÃ  phÃª. CÃ  phÃª cÃ³ vÃ  khÃ´ng cÃ³ caffein lÃ  2 loáº¡i rÃµ rÃ ng nháº¥t, nhÆ°ng cÅ©ng cÃ³ thá»ƒ cÃ³ cÃ¡c loáº¡i khÃ¡c nhÆ° lÃ  cÃ  phÃª rang chÃ¡y, rang vá»«a, rang nháº¹, cÃ  phÃª Columbian, cÃ  phÃª pha cho buá»•i sÃ¡ng, â€¦ Trong khi Ä‘Ã³ mÃ¡y pha cÃ  phÃª chá»‰ cÃ³ thá»ƒ pha má»™t loáº¡i cÃ  phÃª trong má»™t thá»i Ä‘iá»ƒm, báº¡n cÃ³ thá»ƒ tháº¥y viá»‡c nÃ y cÃ³ thá»ƒ khiáº¿n váº¥n Ä‘á» trá»Ÿ nÃªn phá»©c táº¡p nhÆ° tháº¿ nÃ o. Náº¿u má»™t vÃ i trong sá»‘ 4 ngÆ°á»i muá»‘n uá»‘ng cÃ  phÃª thÆ°á»ng, vÃ  sá»‘ cÃ²n láº¡i uá»‘ng cÃ  phÃª khÃ´ng cÃ³ caffein, yÃªu cáº§u phá»¥c vá»¥ cÃ  phÃª cho cáº£ 4 ngÆ°á»i trong cÃ¹ng 1 lÃºc vÃ  Ä‘áº£m báº£o cÃ  phÃª cÃ ng nÃ³ng cÃ ng tá»‘t sáº½ trá»Ÿ nÃªn ráº¥t phá»©c táº¡p Ä‘á»ƒ hoÃ n thÃ nh. á» thá»i Ä‘iá»ƒm Ä‘Ã³, báº¡n sáº½ pháº£i trá»«u tÆ°á»£ng hoÃ¡ Ä‘á»‹nh nghÄ©a vá» sá»‘ lÆ°á»£ng mÃ¡y cÃ  phÃª báº¡n cÃ³ - Y cÃ¡i náº¿u báº¡n cÃ³ Y loáº¡i cÃ  phÃª khÃ¡c nhau. Äá»“ng thá»i, náº¿u nhÆ° báº¡n cÃ³ Y mÃ¡y pha cÃ  phÃª hoáº¡t Ä‘á»™ng Ä‘á»™c láº­p thÃ¬ viá»‡c thá»±c hiá»‡n cÃ¡c tÃ¡c vá»¥ song song sáº½ yÃªu cáº§u thÃªm chÃºt tinh táº¿. LÃºc nÃ y, láº­p trÃ¬nh viÃªn cÃ³ thá»ƒ muá»‘n trá»«u tÆ°á»£ng hoÃ¡ sá»‘ lÆ°á»£ng ngÆ°á»i pha cÃ  phÃª. Náº¿u báº¡n cÃ³ K ngÆ°á»i pha cÃ  phÃª hoáº¡t Ä‘á»™ng cÃ¹ng nhau, thÃ¬ má»i viá»‡c sáº½ thay Ä‘á»•i nhÆ° tháº¿ nÃ o? Trá»«u tÆ°á»£ng hÆ¡n ná»¯aÄáº¿n má»™t lÃºc, báº¡n cÃ³ thá»ƒ nháº­n ra cÃ  phÃª cÅ©ng chá»‰ lÃ  má»™t loáº¡i thÃ nh pháº§n cá»§a cá»‘c cÃ  phÃª, vÃ¬ tháº¿ sao pháº£i lÃ m nÃ³ khÃ¡c biá»‡t vá»›i cÃ¡c pháº§n thÃªm khÃ¡c nhá»‰? Báº¡n cÃ³ thá»ƒ quyáº¿t Ä‘á»‹nh cÃ  phÃª cÅ©ng lÃ  má»™t thÃ nh pháº§n thÃªm vÃ o, vÃ  loáº¡i bá» hoÃ n toÃ n cÃ¡c dá»¯ liá»‡u cá»¥ thá»ƒ cho cÃ  phÃª. Tuy nhiÃªn, cÃ  phÃª yÃªu cáº§u xá»­ lÃ½ vÃ  chuáº©n bá»‹ má»™t cÃ¡ch Ä‘áº·c biá»‡t, do Ä‘Ã³ táº¥t cáº£ cÃ¡c pháº§n thÃªm khÃ¡c cÅ©ng nÃªn cho phÃ©p cÃ³ xá»­ lÃ½ vÃ  chuáº©n bá»‹ chung. VÃ­ dá»¥, náº¿u rÆ°á»£u nÃ³ng Ä‘Ã¡nh vá»›i trá»©ng lÃ  má»™t pháº§n thÃªm, sáº½ cÃ³ thá»ƒ cÃ³ háº³n má»™t luÃ´ng xá»­ lÃ½ mÃ´ phá»ng viá»‡c lÃ m ra nÃ³. NhÆ°ng á»Ÿ thá»i Ä‘iá»ƒm nÃ y, báº¡n cÃ³ thá»ƒ trá»«u tÆ°á»£ng hoÃ¡ sá»± chuáº©n bá»‹ cá»§a báº¥t ká»³ thá»© gÃ¬, vÃ  do Ä‘Ã³ rÆ°á»£u nÃ³ng Ä‘Ã¡nh trá»©ng cÅ©ng chá»‰ Ä‘Æ¡n thuáº§n lÃ  má»™t thá»© mÃ  báº¡n cÃ³ thá»ƒ táº¡o ra. Trá»«u tÆ°á»£ng quÃ¡Liá»‡u báº¡n Ä‘Ã£ báº¯t Ä‘áº§u tháº¥y Ä‘au Ä‘áº§u chÆ°a? ChÃ o má»«ng Ä‘áº¿n vá»›i tháº¿ giá»›i xoáº¯n quáº©y cá»§a viá»‡c trá»«u tÆ°á»£ng quÃ¡. Báº¡n cÃ³ thá»ƒ tháº¥y ráº±ng viá»‡c trá»«u tÆ°á»›ng hoÃ¡ cÃ³ thá»ƒ lÃ m phá»©c táº¡p bá»©c tranh tá»•ng thá»ƒ nhanh Ä‘áº¿n tháº¿ nÃ o náº¿u nhÆ° báº¡n khiáº¿n nÃ³ Ä‘i quÃ¡ giá»›i háº¡n? ChÃºng ta báº¯t Ä‘áº§u vá»›i má»™t kiá»ƒu cÃ  phÃª, 4 ngÆ°á»i cáº§n phá»¥c vá»¥, thÃ nh pháº§n thÃªm vÃ o cá»‘ Ä‘á»‹nh vÃ  má»™t ngÆ°á»i pha cháº¿. CÃ´ng viá»‡c tháº­t Ä‘Æ¡n giáº£n vÃ  tá»± nhiÃªn. Náº¿u báº¡n thá»­ trá»«u tÆ°á»£ng hoÃ¡ báº¥t kÃ¬ máº·t nÃ o cá»§a viá»‡c lÃ m cÃ  phÃª vÃ  suy ngáº«m Ä‘áº¿n kháº£ nÄƒng cÃ³ thá»ƒ cÃ³ N ngÆ°á»i Ä‘á»ƒ phá»¥c vá»¥, X loáº¡i thÃ nh pháº§n thÃªm vÃ o, Y loáº¡i cÃ  phÃª, K ngÆ°á»i pha cháº¿â€¦ thÃ¬ má»i thá»© bá»—ng trá»Ÿ nÃªn tháº­t phá»©c táº¡p, Ä‘áº·c biá»‡t khi báº¡n muá»‘n tá»‘i Æ°u chi phÃ­ vÃ  tá»‘c Ä‘á»™ thá»±c hiá»‡n. Báº¡n Ä‘Ã£ Ä‘i tá»« viá»‡c lÃ m cÃ  phÃª sang lÃ m báº¥t ká»³ sáº£n pháº©m nÃ o dÆ°á»›i Ã¡nh máº·t trá»i sá»­ dá»¥ng báº¥t kÃ¬ quy trÃ¬nh nÃ o. Wao!!! Má»™t kÄ© sÆ° pháº§n má»m cáº§u toÃ n sáº½ cá»‘ Ä‘á»ƒ trá»«u tÆ°á»£ng hoÃ¡ má»i thá»© vÃ  káº¿t thÃºc vá»›i má»™t cá»— mÃ¡y phá»©c táº¡p ráº¥t nhiá»u so vá»›i má»¥c tiÃªu ban Ä‘áº§u lÃ  phá»¥c vá»¥ cÃ  phÃª cho má»™t gia Ä‘Ã¬nh 4 ngÆ°á»i. Má»™t kÄ© sÆ° pháº§n má»m cÃ³ kinh nghiá»‡m, thÃ¬ ngÆ°á»£c láº¡i, sáº½ trá»«u tÆ°á»£ng hoÃ¡ cÃ¡c thá»© cÃ³ thá»ƒ giáº£i quyáº¿t cÃ¡c trÆ°á»ng há»£p thuá»™c vá» báº£n cháº¥t, vÃ  cÃ³ thá»ƒ suy nghÄ© Ä‘áº¿n cÃ¡c kháº£ nÄƒng trá»«u tÆ°á»£ng hoÃ¡ khÃ¡c, nhÆ°ng chá»‰ vá»›i má»¥c Ä‘Ã­ch Ä‘á»ƒ Ä‘áº£m báº£o cÃ¡c quyáº¿t Ä‘á»‹nh á»Ÿ thá»i Ä‘iá»ƒm hiá»‡n táº¡i sáº½ khÃ´ng gÃ¢y cáº£n trá»Ÿ cho cÃ¡c nhu cáº§u trong tÆ°Æ¡ng lai. CÃ¢n báº±ngKhi nÃ o chÃºng ta cáº§n dÃ¹ng trá»«u tÆ°á»£ng hoÃ¡? ÄÃ³ lÃ  má»™t nghá»‡ thuáº­t yÃªu cáº§u ráº¥t nhiá»u luyá»‡n táº­p. Kinh nghiá»‡m thá»±c táº¿ lÃ  báº¡n chá»‰ nÃªn trá»«u tÆ°á»£ng hoÃ¡ cÃ¡c trÆ°á»ng há»£p mÃ  báº¡n nghÄ© ráº±ng nÃ³ sáº½ chá»‰ yÃªu cáº§u ngáº¯n háº¡n, vÃ  hÃ£y cá»‘ Ä‘á»ƒ khÃ´ng gÃ¢y cáº£n trá»Ÿ viá»‡c trá»«u tÆ°á»£ng hoÃ¡ trong tÆ°Æ¡ng lai vá»›i cÃ¡c suy nghÄ© cá»¥ thá»ƒ á»Ÿ hiá»‡n táº¡i cÃ³ táº§m nhÃ¬n háº¹p. CÃ¢n nháº¯c vá» viá»‡c tÃ¡i sá»­ dá»¥ng cÃ¡c giáº£i phÃ¡p Ä‘Ã£ cÃ³ KhÃ´ng viá»‡c gÃ¬ pháº£i phÃ¡t minh láº¡i cÃ¡i bÃ¡nh xe. KhÃ´ng pháº£i má»i thá»© Ä‘á»u yÃªu cáº§u pháº£i lÃ m tá»« Ä‘áº§u. KÄ© sÆ° pháº§n má»m cÃ³ kinh nghiá»‡m luÃ´n luÃ´n cÃ¢n nháº¯c sá»­ dá»¥ng cÃ¡c cÃ´ng cá»¥ Ä‘Ã£ cÃ³ trÆ°á»›c khi báº¯t Ä‘áº§u thiáº¿t káº¿ má»™t giáº£i phÃ¡p tá»« Ä‘áº§u. VÃ­ dá»¥, thay vÃ¬ pháº£i pha cÃ  phÃª, báº¡n cÃ³ thá»ƒ Ä‘áº¿n ngay Starbuck mua láº¥y 4 cá»‘c vÃ  mang vá» cho báº¡n mÃ¬nh? Náº¿u báº¡n khÃ´ng cÃ³ cá»‘c, cÃ  phÃª, mÃ¡y pha cÃ  phÃª, thÃ¬ viá»‡c Ä‘áº¿n Starbucks lÃ  má»™t giáº£i phÃ¡p ráº» vÃ  nhanh hÆ¡n ráº¥t nhiá»u, Ä‘áº·c biá»‡t náº¿u báº¡n khÃ´ng cÃ³ Ã½ Ä‘á»‹nh pha cÃ  phÃª hÃ ng ngÃ y trong thá»i gian dÃ i. TÃ¬m vÃ  sá»­ dá»¥ng cÃ¡c giáº£i phÃ¡p sáºµn cÃ³ lÃ  má»™t trong cÃ¡c kÄ© nÄƒng mÃ  láº­p trÃ¬nh viÃªn cáº§n cÃ³ khi giáº£i quyáº¿t váº¥n Ä‘á». Suy nghÄ© theo luá»“ng dá»¯ liá»‡u Sau nhiá»u nÄƒm luyá»‡n táº­p, láº­p trÃ¬nh viÃªn cÃ³ kinh nghiá»‡m báº¯t Ä‘áº§u suy nghÄ© vá» pháº§n má»m, vÃ  cÃ¡ch giáº£i quyáº¿t váº¥n Ä‘á» theo luá»“ng xá»­ lÃ½ dá»¯ liá»‡u trong má»™t há»‡ thá»‘ng. Trong váº¥n Ä‘á» vá» mÃ¡y pha cÃ  phÃª, hÃ£y suy nghÄ© vá» luá»“ng cá»§a nÆ°á»›c, cÃ  phÃª, cá»‘c vÃ  cÃ¡c thÃ nh pháº§n thÃªm vÃ o, báº¯t Ä‘áº§u tá»« nguá»“n cá»§a chÃºng cho Ä‘áº¿n má»¥c tiÃªu cuá»‘i cÃ¹ng (Cá»‘c cÃ  phÃª). NÆ°á»›c báº¯t Ä‘áº§u tá»« bá»“n, cÃ  phÃª báº¯t Ä‘áº§u tá»« má»™t tÃºi Ä‘Ã³ng gÃ³i sáºµn trong báº¿p cá»§a báº¡n - trÆ°á»›c Ä‘Ã³ lÃ  á»Ÿ má»™t cá»­a hÃ ng thá»±c pháº©m. Cá»‘c báº¯t Ä‘áº§u tá»« cháº¡n Ä‘á»±ng cá»‘c vÃ  cÃ¡c thÃ nh pháº§n thÃªm vÃ o thÃ¬ xuáº¥t phÃ¡t tá»« nhiá»u nguá»“n khÃ¡c nhau tuá»³ thuá»™c vÃ o nÃ³ lÃ  cÃ¡i gÃ¬. CÃ¡c nguyÃªn liá»‡u nÃ y (dá»¯ liá»‡u) Ä‘i theo má»™t dÃ²ng cháº£y thÃ´ng qua má»™t loáº¡t cÃ¡c bÆ°á»›c xá»­ lÃ½, biáº¿n Ä‘á»•i vÃ  pha trá»™n. Tráº¡ng thÃ¡i Ä‘áº§u tiÃªn lÃ  nguyÃªn liá»‡u thÃ´ Ä‘Æ°á»£c xÃ¡c Ä‘á»‹nh á»Ÿ chá»— chá»©a cá»§a tá»«ng thÃ nh pháº§n, vÃ  tráº¡ng thÃ¡i cuá»‘i cÃ¹ng lÃ  má»™t loáº¡t cÃ¡c cá»‘c cÃ  phÃª Ä‘Æ°á»£c pha cháº¿ thÃ nh cÃ´ng. VÃ  Ä‘á»‹a chá»‰ cuá»‘i cÃ¹ng lÃ  trong miá»‡ng cá»§a 1 ai Ä‘Ã³. Suy nghÄ© theo luá»“ng dá»¯ liá»‡u cho phÃ©p chÃºng ta trá»±c quan hoÃ¡ má»¥c tiÃªu quan trá»ng nháº¥t vÃ  cÃ¡c má»¥c tiÃªu phá»¥ vá»›i má»™t series cÃ¡c hÃ¬nh khá»‘i vÃ  mÅ©i tÃªn. CÃ¡c hÃ¬nh khá»‘i Ä‘áº¡i diá»‡n cho tá»«ng hÃ nh Ä‘á»™ng áº£nh hÆ°á»Ÿng Ä‘áº¿n cÃ¡c nguyÃªn liá»‡u trong luá»“ng cá»§a há»‡ thá»‘ng, vÃ  cÃ¡c mÅ©i tÃªn sáº½ giá»‘ng nhÆ° cÃ¡c Ä‘Æ°á»ng á»‘ng Ä‘á»ƒ váº­n chuyá»ƒn cÃ¡c nguyÃªn liá»‡u tá»« nÆ¡i nÃ y Ä‘áº¿n nÆ¡i khÃ¡c.","link":"/2020/05/02/Suu-tam-5-ki-nang-giai-quyet-van-de-cua-mot-ki-su-phan-mem/"},{"title":"[Laravel] Useful Laravel Packages","text":"Má»™t vÃ i package há»¯u Ã­ch Ä‘Æ°á»£c tá»•ng há»£p tá»«: https://codewithdre.com/useful-laravel-packages Laravel CashierLaravel DuskLaravel EnvoyLaravel HorizonLaravel SocialiteLaravel PassportLaravel Passport w/ SocialiteLaravel ScoutLaravel Telescope (*) ÄÃ¢y cÃ³ thá»ƒ coi lÃ  trá»£ thá»­ Ä‘áº¯c lá»±c cá»§a laravel giÃºp cho viá»‡c debug, Ä‘áº·c biá»‡t cung cáº¥p kháº£ nÄƒng UI Ä‘áº¹p máº¯t vÃ  thÃ¢n thiá»‡n. Tuy nhiÃªn nÃ³ láº¡i cáº§n thao tÃ¡c vá»›i DB vÃ  publish code font end cho á»©ng dá»¥ng cá»§a báº¡n. Telescope phÃ¢n tÃ­ch Ä‘áº§u Ä‘á»§ vÃ  chi tiáº¿t cho báº¡n nhá»¯ng request Ä‘áº¿n á»©ng dá»¥ng exceptions, log entries, database queries, queued jobs, mail, notifications, cache operations, scheduled tasks, variable dumps vÃ  cÃ²n nhiá»u hÆ¡n ná»¯a. Telescope lÃ  1 cÃ´ng cá»¥, mÃ´i trÆ°á»ng tuyá»‡t vá»i Ä‘á»ƒ phÃ¡t triá»ƒn á»©ng dá»¥ng Laravel. Telescope makes a wonderful companion to your local Laravel development environment. Laravel Nova (sáº½ thá»­)Ref: https://nova.laravel.com/ Master You Universe Nove lÃ  1 thiáº¿t káº¿ Ä‘áº¹p cho ngÆ°á»i quáº£n trá»‹ viÃªn quáº£n lÃ½ á»©ng dá»¥ng Laravel. NÃ³ Ä‘Æ°á»£c táº¡o ra 1 cÃ¡ch cáº©n tháº­n bá»Ÿi nhá»¯ng ngÆ°á»i Ä‘Ã£ táº¡o ra Laravel Ä‘á»ƒ giÃºp báº¡n trá»Ÿ thÃ nh 1 developer nÄƒng suáº¥t hÆ¡n :D Laravel EchoLaravel Valet (*)Valet is a Laravel development environment for Mac minimalists. No Vagrant, no /etc/hosts file. You can even share your sites publicly using local tunnels. Yeah, we like it too. Khi nÃ o cÃ³ MAC sáº½ thá»­ nhÃ© =)) Laravel Valet Ä‘Æ°á»£c cáº¥u hÃ¬nh trÃªn Mac cá»§a báº¡n, luÃ´n luÃ´n cháº¡y Nginx. Valet cÃ²n lÃ  mÃ´i trÆ°á»ng phÃ¡t triá»ƒn nhanh hÆ¡n cho Laravel, sá»­ dá»¥ng khoáº£ng 7MB RAM. Valet khÃ´ng pháº£i lÃ  sá»± thay tháº¿ hoÃ n toÃ n cho Vagrant hoáº·c Homested, nhÆ°ng cung cáº¥p 1 sá»± thay tháº¿ tuyá»‡t vá»i cÃ³ nhá»¯ng thá»© cÆ¡ báº£n linh hoáº¡t, thÃ­ch tá»‘c Ä‘á»™ cao hoáº·c Ä‘ang lÃ m viá»‡c vá»›i nhá»¯ng mÃ¡y cÃ³ dung lÆ°á»£ng RAM háº¡n cháº¿. Laravel SanctumInertia.jsJigsaw (*)Ref: https://github.com/tightenco/jigsaw ÄÃ¢y lÃ  má»™t cÃ´ng cá»¥ khÃ¡c Ä‘á»ƒ render file view tÆ°Æ¡ng tá»± nhÆ° Laravel blade. Jigsaw is a framework for rapidly building static sites using the same modern tooling that powers your web applications. ChÃºng ta cÃ³ thá»ƒ sá»­ dá»¥ng cáº£ blade template vá»›i cÃ¡c markdown, kÄ© thuáº­t má»›i vá»›i jigsaw 12345678910111213141516---title: &quot;Jigsaw is awesome!&quot;---@extends('layouts.master')@section('content')&lt;h1&gt;{{ $page-&gt;title }}&lt;/h1&gt;&lt;p&gt;Contact us at {{ $page-&gt;contact_email }}&lt;/p&gt;@endsection Livewire (sáº½ thá»­, chÆ°a hiá»ƒu láº¯m)Ref: https://laravel-livewire.com/ Má»™t cÃ´ng cá»¥ cho full-stack framework cho Laravel, giÃºp viá»‡c building cÃ¡c giao diá»‡n Ä‘Æ¡n giáº£n, mÃ  khÃ´ng cáº§n cÃ¡c sá»± gÃ² bÃ³ tá»« Laravel. NÃ³ thiÃªn vá» xÃ¢y dá»±ng cÃ¡c giao diá»‡n Ä‘á»™ng mÃ  khÃ´ng cáº§n qua quÃ¡ nhiá»u bÆ°á»›c trong Laravel thÃ¬ pháº£i, sá»­ dá»¥ng Ä‘Æ°á»£c sá»©c máº¡nh to lá»›n nhÆ° Vue vÃ  React. HÃ£y xem vÃ­ dá»¥ nÃ yhttps://laravel-livewire.com/docs/quickstart Báº¡n khÃ´ng cáº§n pháº£i quÃ¡ nhiá»u route, controller mÃ  váº«n thá»±c hiá»‡n Ä‘Æ°á»£c cÃ¡c thao tÃ¡c chuyá»ƒn hÆ°á»›ng, cáº­p nháº­t dá»¯ liá»‡u vÃ o database, cáº¥u trÃºc Ä‘Æ¡n giáº£n hÆ¡n. Wink (*)Ref: https://github.com/writingink/wink Wink tÃ­ch há»£p trÃ¬nh soáº¡n tháº£o, dá»… dÃ ng giÃºp báº¡n viáº¿t vÃ  trÃ¬nh bÃ y cÃ¡c ná»™i dung vá»›i style. Wink Ä‘Æ°á»£c xÃ¢y dá»±ng dá»±a trÃªn Laravel framework, giÃºp má»i ngÆ°á»i dá»… dÃ ng cÃ i Ä‘áº·t, báº£o trÃ¬ trÃªn má»i ná»n táº£ng cloud Náº¿u báº¡n Ä‘ang viáº¿t blog, hÃ£y thá»­ nÃ³ xem sao CachetLarecipe (sáº½ thá»­)Ref: https://github.com/saleem-hadad/larecipe LaRecipe giÃºp báº¡n viáº¿t pháº§n tÃ i liá»‡u (document) rÃµ rÃ ng vÃ  Ä‘áº¹p hÆ¡n, sá»­ dá»¥ng Markdown cho dá»± Ã¡n vÃ  giá»¯ cÃ¡c tÃ i liá»‡u nÃ y trong source code cá»§a báº¡n LaRecipe is simply a code-driven package provides an easy way to create beautiful documentation for your product or application inside your Laravel app. Táº¥t cáº£ cÃ¡c pháº§n docs cho dá»± Ã¡n sáº½ Ä‘Æ°á»£c sinh ra vÃ  Ä‘Ã­nh kÃ¨m trong source code luÃ´n :D. 12345678.â”œâ”€ configâ”‚ â””â”€ larecipe.phpâ””â”€ resources â””â”€ docs â””â”€ 1.0 â”‚â”€ index.md â””â”€ overview.md Laravel Zero (*)Ref: https://laravel-zero.com/ Laravel Zero: Micro-framework for console applications Náº¿u báº¡n chá»‰ muá»‘n xÃ¢y dá»±ng 1 á»©ng dá»¥ng chá»‰ cÃ³ console (cá»­a sá»• dÃ²ng lá»‡nh) mÃ  váº«n dÃ¹ng cÃ¡c component cá»§a Laravel, micro-framework nÃ y lÃ  dÃ nh cho báº¡n. ÄÃ¢y lÃ  má»™t project cá»™ng Ä‘á»“ng, khÃ´ng pháº£i tá»« officical cá»§a Laravel duwojd táº¡o vÃ  maitain bá»Ÿi Nuno Maduro - thanh niÃªn nÃ y lÃ m luÃ´n Laravel Mojito ná»¯a @@ VÃ­ dá»¥ Ä‘Æ¡n giáº£n lÃ  chá»‰ táº¡o logo cho á»©ng dá»¥ng =)) 1php &lt;your-app-name&gt; app:install logo FlarumOctober CMSLaravel VoyagerLaravel Google Maps (*) Ref: https://github.com/farhanwazir/laravelgooglemaps Package nÃ y cÃ³ váº» chÆ°a Ä‘Æ°á»£c sá»­ dá»¥ng nhiá»u, má»›i chá»‰ nháº­n Ä‘Æ°á»£c 99 stars trÃªn Gihub, báº¡n cÃ¢n nháº¯c cÃ³ cáº§n sá»­ dá»¥ng nÃ³ khÃ´ng nhÃ©. Package tÃ­ch há»£p cÃ¡c chá»©c nÄƒng cá»§a Google map vÃ o á»©ng dá»¥ng cá»§a báº¡n :D 123456789Route::get('/', function(){ $config = array(); $config['center'] = 'New York, USA'; GMaps::initialize($config); $map = GMaps::create_map(); echo $map['js']; echo $map['html'];}); Nexmo &amp; Twilio (*)Package phá»¥c vá»¥ gá»­i thÃ´ng bÃ¡o thÃ´ng qua sá»‘ Ä‘iá»‡n thoáº¡i Pwned Validator (*) Ref: https://github.com/valorin/pwned-validator Náº¿u báº¡n muá»‘n cáº£nh bÃ¡o vÃ  xem xÃ©t Ä‘á»™ máº¡nh yáº¿u cá»§a máº­t kháº©u, package nÃ y cÃ³ thá»ƒ giÃºp báº¡n. Pwned Password lÃ  ná»­a tá»‰ máº­t kháº©u trong tháº¿ giá»›i thá»±c trÆ°á»›c Ä‘Ã¢y Ä‘Ã£ bá»‹ lá»™ trong pháº¡m vi dá»¯ liá»‡u. Viá»‡c so sÃ¡nh Ä‘Ã¡nh giÃ¡ vá»›i chÃºng sáº½ Ä‘Æ°a ra Ä‘Æ°á»£c nguy cÆ¡ máº­t kháº©u hiá»‡n táº¡i Ä‘Ã£ Ä‘á»§ máº¡nh chÆ°a? 1'password' =&gt; 'required|string|min:6|pwned:150|confirmed', Laravel AnalyticsLaravel Google Translate (*)Ref: https://github.com/JoggApp/laravel-google-translate Package sá»­ dá»¥ng Google Translate API vÃ o á»©ng dá»¥ng cá»§a báº¡n má»™t cÃ¡ch dá»… dÃ ng vá»›i tá»‘i thiá»ƒu Ä‘áº¿n khÃ´ng cáº§n cáº¥u hÃ¬nh, cÃº phÃ¡p rÃµ rÃ ng vÃ  API nháº¥t quÃ¡n. Ngon. Stripe LaravelLaravel Debugbar (*) Sá»Ÿ há»¯u 10.3k star trÃªn Github repository, Ä‘Ã¢y cháº¯c háº³n lÃ  tool há»— trá»£ dubug cho Laravel Ä‘Æ°á»£c yÃªu thÃ­ch vÃ  sá»­ dá»¥ng rá»™ng rÃ£i nháº¥t. Vá»›i sá»± dá»… dÃ ng khi cÃ i Ä‘áº·t vÃ  sá»­ dá»¥ng, khÃ´ng quÃ¡ khÃ³ hiá»ƒu khi nÃ³ láº¡i Ä‘Æ°á»£c Æ°a chuá»™ng Ä‘áº¿n váº­y. Tuy nhiÃªn nÃ³ láº¡i cung cáº¥p cÃ¡c thÃ´ng tin debug trÃªn front-end do Ä‘Ã³ nÃ³ cÃ³ váº» khÃ´ng há»¯u Ã­ch Ä‘á»ƒ debug cho cÃ¡c á»©ng dá»¥ng Laravel vá» API (Náº¿u báº¡n Ä‘ang sá»­ dá»¥ng Laravel Debugbar Ä‘á»ƒ debug á»©ng dá»¥ng cung cáº¥p API, hÃ£y cho mÃ¬nh hÆ°á»›ng dáº«n thÃªm á»Ÿ pháº§n comment nhÃ©) Laravel Debugbar thÃªm 1 thanh bar thÃ´ng minh dÆ°á»›i trÃ¬nh duyá»‡t chá»©a cÃ¡c thÃ´ng tin phá»¥c vá»¥ debug (vÃ­ dá»¥ sá»‘ lÆ°á»£ng queries). Vá»›i Eloquent, cÃ³ thá»ƒ dá»… dÃ ng thá»±c hiá»‡n cÃ¡c yÃªu cáº§u cÆ¡ sá»Ÿ dá»¯ liá»‡u khÃ´ng cáº§n thiáº¿t Ä‘á»ƒ Debugbar giÃºp xÃ¡c Ä‘á»‹nh mÃ£ khÃ´ng hiá»‡u quáº£. Clockwork (*)Ref: https://github.com/itsgoingd/clockwork Má»™t tool há»¯u hiá»‡u cho viá»‡c debug Clockwork lÃ  má»™t extension cá»§a trÃ¬nh duyá»‡t, cung cáº¥p tools Ä‘á»ƒ debug vÃ  ghi láº¡i cÃ¡c hoáº¡t Ä‘á»™ng trong á»©ng dá»¥ng PHP, bao gá»“m request data, application log, database queries, routes, visualisation of application runtime and more. Clockwork sá»­ dá»¥ng má»™t thÃ nh pháº§n server-side, táº­p há»£p táº¥t cáº£ dá»¯ liá»‡u vÃ  dá»… dÃ ng tÃ­ch há»£p vá»›i báº¥t ká»³ dá»± Ã¡n PHP nÃ o, bao gá»“m há»— trá»£ ngoÃ i luá»“ng cho cÃ¡c frameworks Báº¡n cÃ³ thá»ƒ xem giao diá»‡n dá»¯ liá»‡u Ä‘Æ°á»£c thu tháº­p Ä‘Æ°á»£c thÃ´ng qua extension Clockwork Ä‘Æ°á»£c tÃ­ch há»£p trÃªn Chrome vÃ  Firefox. Laravel N+1 Query Detector (*) Ref: https://github.com/beyondcode/laravel-query-detector Package nÃ y giÃºp báº¡n tÄƒng hiá»‡u nÄƒng cho á»©ng dá»¥ng báº±ng cÃ¡ch giáº£m sá»‘ lÆ°á»£ng truy váº¥n thá»±c thi. Package sáº½ theo dÃµi truy váº¥n cá»§a báº¡n vá»›i thá»i gian thá»±c, vÃ  sáº½ thÃ´ng bÃ¡o khi báº¡n nÃªn sá»­ dá»¥ng eager loading (N+1 queries). Laravel Self Diagnosis (*)Ref: https://github.com/beyondcode/laravel-self-diagnosis Package nÃ y cho phÃ©p báº¡n tá»± thá»±c hiá»‡n cÃ¡c kiá»ƒm tra cháº©n Ä‘oÃ¡n á»©ng dá»¥ng Laravel. NÃ³ sáº½ cÃ³ ráº¥t nhiá»u checks vÃ  cho phÃ©p báº¡n tá»± custom cÃ¡c checks nÃ y. ÄÃ¢y khÃ´ng pháº£i lÃ  lá»‡nh cá»§a Unit test, nÃ³ test á»©ng dá»¥ng, key, migrate cÃ¡c thá»© cÃ¡c thá»© áº¥y =)) Laravel Health Panel (cháº¯c cáº§n thá»­) Ref: https://github.com/antonioribeiro/health Package giÃºp báº¡n theo dÃµi â€œsá»©c khá»eâ€ á»©ng dá»¥ng cá»§a báº¡n vÃ  xem nÃ³ cÃ³ cháº¡y nhÆ° Ä‘Ãºng sá»± mong Ä‘á»£i vÃ  táº¡o ra cÃ¡c báº£ng thÃ´ng bÃ¡o tráº¡ng thÃ¡i cá»§a cÃ¡c dá»‹ch vá»¥: Kháº£ nÄƒng cáº¥u hÃ¬nh vÃ  má»Ÿ rá»™ng cao: Báº¡n cÃ³ thá»ƒ táº¡o cÃ¡c trÃ¬nh kiá»ƒm tra vÃ  thÃ´ng bÃ¡o má»›i ráº¥t dá»… dÃ ng, vÃ  báº¡n cÅ©ng cÃ³ thá»ƒ thay Ä‘á»•i má»i thá»© trÃªn Ä‘Ã³. Dá»… dÃ ng cáº¥u hÃ¬nh vá»›i file YAML Nháº­n thÃ´ng bÃ¡o qua cÃ¡c há»‡ thá»‘ng thÃ´ng bÃ¡o nhÆ°: mail, slack, telegram hoáº·c báº¥t cá»© gÃ¬ báº¡n muá»‘n. Routes cho: panel, json result, string result vÃ  resource CÃ³ thá»ƒ cáº¥u hÃ¬nh vá»›i thiáº¿t káº¿ panel Cache Lá»‹ch trÃ¬nh kiá»ƒm tra Ä‘á»ƒ tá»± Ä‘á»™ng nháº­n thÃ´ng bÃ¡o khi service lá»—i. Xem lá»—i cá»§a á»©ng dá»¥ng trÃªn báº£ng Ä‘iá»u khiá»ƒn Http pháº£n há»“i mÃ£ 200, 500 vÃ  cÃ¡c mÃ£ lá»—i khÃ¡c nhÆ° Envoye Laravel Log Viewer (*)Ref: https://github.com/rap2hpoutre/laravel-log-viewer Package nÃ y há»™ trá»£ cho viá»‡c Ä‘á»c log PHP Insights (*)Ref: https://github.com/nunomaduro/phpinsights Homepage: https://phpinsights.com/ PHP Insights Ä‘Æ°á»£c táº¡o ra cáº©n tháº­n Ä‘á»ƒ Ä‘Æ¡n giáº£n hÃ³a viá»‡c phÃ¢n tÃ­ch code cá»§a báº¡n tá»« termial vÃ  nÃ³ lÃ  Ä‘iá»ƒm khá»Ÿi Ä‘áº§u hoÃ n háº£o Ä‘á»ƒ phÃ¢n tÃ­ch cháº¥t lÆ°á»£ng code PHP cá»§a báº¡n trong project.CÃ¡c tÃ­nh nÄƒng: PhÃ¢n tÃ­ch code quality vÃ  coding style Hiá»ƒn thá»‹ Ä‘áº¹p vá»›i code architecture vÃ  complexity cá»§a nÃ³ ÄÆ°á»£c thiáº¿t káº¿ lÃ m viá»‡c vá»›i nhiá»u framework: Laravel, Symfony, Yii, Magento vÃ  hÆ¡n tháº¿ ná»¯a Chá»©a cÃ¡c built-in checks cho viá»‡c lÃ m cho mÃ£ Ä‘Ã¡ng tin cáº­y, cÃ¡c liÃªn káº¿t lá»ng láº»o, Ä‘Æ¡n giáº£n vÃ  rÃµ rÃ ng. Guzzle (*) Ref: https://github.com/guzzle/guzzle ÄÃ¢y lÃ  package Ä‘Æ°á»£c sá»­ dá»¥ng nhiá»u trong PHP Ä‘á»ƒ táº¡o HTTP Request, call API. Guzzle lÃ  1 PHP HTTP client Ä‘Æ°á»£c táº¡o 1 cÃ¡ch dá»… dÃ ng Ä‘á»ƒ gá»­i HTTP Request tÃ­ch há»£p trong dá»‹ch vá»¥ web 1234567891011121314$client = new \\GuzzleHttp\\Client();$response = $client-&gt;request('GET', 'https://api.github.com/repos/guzzle/guzzle');echo $response-&gt;getStatusCode(); // 200echo $response-&gt;getHeaderLine('content-type'); // 'application/json; charset=utf8'echo $response-&gt;getBody(); // '{&quot;id&quot;: 1420053, &quot;name&quot;: &quot;guzzle&quot;, ...}'// Send an asynchronous request.$request = new \\GuzzleHttp\\Psr7\\Request('GET', 'http://httpbin.org');$promise = $client-&gt;sendAsync($request)-&gt;then(function ($response) { echo 'I completed! ' . $response-&gt;getBody();});$promise-&gt;wait(); ThÆ° viá»‡n nÃ y cháº¯c háº³n cÃ¡c báº¡n Ä‘Ã£ sá»­ dá»¥ng cá»±c kÃ¬ nhiá»u, nÃªn mÃ¬nh khÃ´ng giá»›i thiá»‡u chi tiáº¿t quÃ¡ á»Ÿ Ä‘Ã¢y Zttp (*) Ref: https://github.com/kitetail/zttp Zttp tÆ°Æ¡ng tá»± nhÆ° Guzzle nhÆ°ng nÃ³ Ä‘Æ¡n giáº£n hÆ¡n 123456789101112131415$response = Zttp::withHeaders(['Fancy' =&gt; 'Pants'])-&gt;post($url, [ 'foo' =&gt; 'bar', 'baz' =&gt; 'qux',]);$response-&gt;status();// int$response-&gt;isOk();// true / false$response-&gt;json();// =&gt; [// 'whatever' =&gt; 'was returned',// ]; Laravel Cors (*) Ref: https://github.com/fruitcake/laravel-cors Package laravel-cors cho phÃ©p báº¡n gá»­i Cross-Origin Resource Sharing header vá»›i cáº¥u hÃ¬nh Laravel middleware Laravel Stats (*) Ref: https://github.com/stefanzweifel/laravel-stats Láº¥y cÃ¡c thÃ´ng tin chi tiáº¿t vá» dá»± Ã¡n Laravel vÃ  Lumen (khÃ¡ giá»‘ng vá»›i PHP Insights) Laravel Backup (*) Ref: https://github.com/spatie/laravel-backup Package nÃ y táº¡o 1 báº£n backup cho á»©ng dá»¥ng cá»§a báº¡n. Báº£n backup lÃ  file zip chá»©a táº¥t cáº£ file trong thÆ° má»¥c báº¡n chá»‰ Ä‘á»‹nh vá»›i 1 báº£n dump database cá»§a báº¡n. Báº£n backup cÃ³ thá»ƒ lÆ°u trá»¯ 1 vÃ i filesystems báº¡n Ä‘Ã£ cáº¥u hÃ¬nh trong Laravel 5. This Laravel package creates a backup of your application. The backup is a zip file that contains all files in the directories you specify along with a dump of your database. The backup can be stored on any of the filesystems you have configured in Laravel 5. Báº¡n cáº£m tháº¥y hoang mang vá» sao lÆ°u? KhÃ´ng váº¥n Ä‘á»! Báº¡n cÃ³ thá»ƒ sao lÆ°u á»©ng dá»¥ng cá»§a mÃ¬nh vÃ o nhiá»u filesystem cÃ¹ng 1 lÃºc. 1php artisan backup:run BladeX (*)Ref: https://github.com/spatie/laravel-blade-x Package cho phÃ©p báº¡n Ä‘á»‹nh nghÄ©a cÃ¡c component trÃªn view nhÆ° React hay Vue áº¥y :D Má»™t vÃ i chÃº Ã½ vá» hiá»‡u nÄƒng: Bá»Ÿi vÃ¬ package hoáº¡t Ä‘á»™ng trÆ°á»›c khi Blade biÃªn dá»‹ch ra views, khÃ´ng cÃ³ áº£nh hÆ°á»Ÿng Ä‘áº¿n hiá»‡u suáº¥t. Blade cÃ³ thá»ƒ chá»‰ cache táº¥t cáº£ cÃ¡c view NÃ³ lÃ  cÃ¡c tháº» Ä‘Æ°á»£c render trÃªn server (serverside) nÃªn nÃ³ khÃ´ng tÆ°Æ¡ng thÃ­ch vá»›i cÃ¡c clientside framework nhÆ° Vue Hay React 12345{{-- resources/views/components/myAlert.blade.php --}}&lt;div class=&quot;{{ $type }}&quot;&gt; {{ $message }}&lt;/div&gt; AppServiceProvider boot()1BladeX::component('components.myAlert'); 123&lt;h1&gt;My view&lt;/h1&gt;&lt;my-alert type=&quot;error&quot; :message=&quot;$message&quot; /&gt; Blade Filters (*)Ref: https://github.com/thepinecode/blade-filters Use string filters easily in Laravel Blade. 1234567891011{{ 'john' | ucfirst }} // John{{ 'john' | ucfirst | substr:0,1 }} // J{{ '1999-12-31' | date:'Y/m/d' }} // 1999/12/31{{ 'This is a title' | slug }} // this-is-a-title{{ 'This is a title' | title }} // This Is A Title{{ 'foo_bar' | studly }} // FooBar Lambo (*)Ref: https://github.com/tightenco/lambo Má»™t cÃ¡ch táº¡o á»©ng dá»¥ng khÃ¡c, super-powered laravel new Ä‘á»‘i vá»›i Laravel vÃ  Valet. 123lambo new superApplication --path=~/Siteslambo new superApplication --auth Artisan View (*)Ref: https://github.com/svenluijten/artisan-view BÃ¬nh thÆ°á»ng cÃ¡c lá»‡nh artisan khÃ´ng cÃ³ táº¡o view. Packge nÃ y giÃºp báº¡n thÃªm cÃ¡c lá»‡nh sinh ra cÃ¡c blade files, cÃ³ thá»ƒ extend cÃ¡c views khÃ¡c, thÃªm cÃ¡c section, thÃªm cÃ¡c template hoáº·c nhiá»u hÆ¡n tháº¿. 12345678# Create a view 'index.blade.php' in the default directory$ php artisan make:view index# Create a view 'index.blade.php' in a subdirectory ('pages')$ php artisan make:view pages.index# Create a view with a different file extension ('index.html')$ php artisan make:view index --extension=html Mail Eclipse (*)Ref: https://github.com/Qoraiche/laravel-mail-editor MailEclipse lÃ  1 mailable editor package cho á»©ng dá»¥ng Laravel Ä‘á»ƒ táº¡o vÃ  quáº£n lÃ½ cÃ¡c máº«u emails sá»­ dá»¥ng web UI. Báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng package nÃ y Ä‘á»ƒ phÃ¡t triá»ƒn cÃ¡c máº«u mailables mÃ  khÃ´ng cáº§n sá»­ dá»¥ng command line vÃ  chá»‰nh sá»­a cÃ¡c máº«u email trá»±c tiáº¿p vá»›i WYSIWYG editor cÃ¹ng vá»›i nhiá»u tÃ­nh nÄƒng khÃ¡c. SEO Tools (*)Ref: https://github.com/artesaos/seotools Pháº§n nÃ y giÃºp báº¡n sinh ra cÃ¡c Ä‘oáº¡n mÃ£ phá»¥c vá»¥ cho SEO. Báº¡n lÃ m tech, khÃ´ng biáº¿t cÃ¡c kÄ© thuáº­t SEO, Ä‘Ã¢y lÃ  1 packge khÃ´ng tá»“i :D. 123456789101112131415161718192021222324&lt;?phpnamespace App\\Http\\Controllers;use Artesaos\\SEOTools\\Traits\\SEOTools as SEOToolsTrait;class CommomController extends Controller{ use SEOToolsTrait; public function index() { $this-&gt;seo()-&gt;setTitle('Home'); $this-&gt;seo()-&gt;setDescription('This is my page description'); $this-&gt;seo()-&gt;opengraph()-&gt;setUrl('http://current.url.com'); $this-&gt;seo()-&gt;opengraph()-&gt;addProperty('type', 'articles'); $this-&gt;seo()-&gt;twitter()-&gt;setSite('@LuizVinicius73'); $this-&gt;seo()-&gt;jsonLd()-&gt;setType('Article'); $posts = Post::all(); return view('myindex', compact('posts')); }} VÃ  káº¿t quáº£ á»Ÿ pháº§n view 123456789101112131415161718192021222324252627282930313233&lt;html&gt;&lt;head&gt; &lt;title&gt;Title - Over 9000 Thousand!&lt;/title&gt; &lt;meta name='description' itemprop='description' content='description...' /&gt; &lt;meta name='keywords' content='key1, key2, key3' /&gt; &lt;meta property='article:published_time' content='2015-01-31T20:30:11-02:00' /&gt; &lt;meta property='article:section' content='news' /&gt; &lt;meta property=&quot;og:description&quot;content=&quot;description...&quot; /&gt; &lt;meta property=&quot;og:title&quot;content=&quot;Title&quot; /&gt; &lt;meta property=&quot;og:url&quot;content=&quot;http://current.url.com&quot; /&gt; &lt;meta property=&quot;og:type&quot;content=&quot;article&quot; /&gt; &lt;meta property=&quot;og:locale&quot;content=&quot;pt-br&quot; /&gt; &lt;meta property=&quot;og:locale:alternate&quot;content=&quot;pt-pt&quot; /&gt; &lt;meta property=&quot;og:locale:alternate&quot;content=&quot;en-us&quot; /&gt; &lt;meta property=&quot;og:site_name&quot;content=&quot;name&quot; /&gt; &lt;meta property=&quot;og:image&quot;content=&quot;http://image.url.com/cover.jpg&quot; /&gt; &lt;meta property=&quot;og:image&quot;content=&quot;http://image.url.com/img1.jpg&quot; /&gt; &lt;meta property=&quot;og:image&quot;content=&quot;http://image.url.com/img2.jpg&quot; /&gt; &lt;meta property=&quot;og:image&quot;content=&quot;http://image.url.com/img3.jpg&quot; /&gt; &lt;meta property=&quot;og:image:url&quot;content=&quot;http://image.url.com/cover.jpg&quot; /&gt; &lt;meta property=&quot;og:image:size&quot;content=&quot;300&quot; /&gt; &lt;meta name=&quot;twitter:card&quot;content=&quot;summary&quot; /&gt; &lt;meta name=&quot;twitter:title&quot;content=&quot;Title&quot; /&gt; &lt;meta name=&quot;twitter:site&quot;content=&quot;@LuizVinicius73&quot; /&gt; &lt;script type=&quot;application/ld+json&quot;&gt;{&quot;@context&quot;:&quot;https://schema.org&quot;,&quot;@type&quot;:&quot;Article&quot;,&quot;name&quot;:&quot;Title - Over 9000 Thousand!&quot;}&lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;/body&gt;&lt;/html&gt; Laravel Collection Macros (*)Ref: https://github.com/spatie/laravel-collection-macros Package thÃªm ráº¥t nhiá»u marcos, methods há»¯u Ã­ch cho collection trong Laravel 1234$data = new Collection([1, 2, 3, 4, 5, 6, 7, 8, 9, 10]);$data-&gt;third(); // 3$data-&gt;fourth(); // 4 Collect.js (*)Ref: https://github.com/ecrmnn/collect.js/Náº¿u báº¡n muá»‘n sá»­ dá»¥ng Collection cá»§a Laravel trÃªn Javascript, Ä‘Ã¢y chÃ­nh lÃ  thÆ° viá»‡n JS giÃºp báº¡n lÃ m viá»‡c nÃ y Collect.js Ä‘Æ°á»£c coi lÃ  má»™t pháº§n cá»§a Laravel Collections nhÆ°ng Ä‘Æ°á»£c phÃ¡t triá»ƒn báº±ng javascript. Náº¿u lÃ  má»™t pháº§n cá»§a Laravel Collections thÃ¬ cháº¯c cháº¯n vá» hoáº¡t Ä‘á»™ng sáº½ tÆ°Æ¡ng Ä‘á»“ng vá»›i Laravel Collections. Collect.js phiÃªn báº£n Laravel Collections javascript hoáº¡t Ä‘á»™ng tá»‘t vá»›i kiá»ƒu giá»¯ liá»‡u máº£ng (array) vÃ  Ä‘á»‘i tÆ°á»£ng (object). CÃ i Ä‘áº·tnpm1npm install collect.js --save yarn1yarn add collect.js From CDNVisit: https://cdnjs.com/libraries/collect.js API1234567const collection = collect([1, 2, 3, 4, 5, 6, 7]);const chunks = collection.chunk(4);chunks.all();// [[1, 2, 3, 4], [5, 6, 7]] Laravel Frontend Presets (*)Refhttps://github.com/laravel-frontend-presets ÄÃ¢y lÃ  má»™t tÃ­nh nÄƒng má»›i trong Laravel 5.5. cho phÃ©p báº¡n chá»n framework, thÆ° viá»‡n frontend cho á»©ng dá»¥ng Laravel cá»§a mÃ¬nh hoáº·c gá»¡ bá» chÃºng, quáº£n lÃ½ thÃ´ng qua lá»‡nh artisan preset React1php artisan preset react Bootstrap1php artisan preset bootstrap Remove All Scaffolding1php artisan preset none Laravel View Models (*) Ref: https://github.com/spatie/laravel-view-models ÄÃ£ bao giá» táº¡o 1 controller vÃ  báº¡n pháº£i lÃ m ráº¥t nhiá»u viá»‡c chuáº©n bá»‹ cÃ¡c biáº¿n Ä‘á»ƒ truyá»n vÃ o view? Báº¡n cÃ³ thá»ƒ chuyá»ƒn nhá»¯ng cÃ´ng viá»‡c nÃ y vÃ o 1 thá»© gá»i lÃ  view mode. Vá» báº£n cháº¥t, view modes lÃ  cÃ¡c lá»›p Ä‘Æ¡n giáº£n láº¥y 1 sá»‘ dá»¯ liá»‡u vÃ  chuyá»ƒn Ä‘á»•i nÃ³ thÃ nh cÃ¡i gÃ¬ Ä‘Ã³ cÃ³ thá»ƒ sá»­ dá»¥ng Ä‘Æ°á»£c á»Ÿ view. Pháº§n nÃ y giÃºp giáº£m táº£i logic Controller báº±ng cÃ¡ch thÃªm 1 pháº§n xá»­ lÃ½ logic cá»§a view lÃ  Model, tÃ¡i sá»­ dá»¥ng láº¡i. Chi tiáº¿t báº¡n cÃ³ thá»ƒ tham kháº£o táº¡i blog: https://stitcher.io/blog/laravel-view-models Pháº§n nÃ y cÃ³ thá»ƒ khÃ´ng Ä‘Æ°á»£c Æ°u tiÃªn dÃ¹ng láº¯m, má»›i cÃ³ 600 stars trÃªn GitHub, cÃ³ thá»ƒ cÃ³ nhiá»u cÃ¡ch clean code tá»‘t hÆ¡n ER Diagram Generator (*)Ref: https://github.com/beyondcode/laravel-er-diagram-generator Package cho phÃ©p báº¡n sinh sÆ¡ Ä‘á»“ thá»±c thá»ƒ liÃªn káº¿t báº±ng cÃ¡ch dá»±a vÃ o quan há»‡ Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a trong model cá»§a báº¡n. NÃ³ ráº¥t tÃ¹y biáº¿n. Báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng GraphViz Ä‘á»ƒ táº¡o biá»ƒu Ä‘á»“ :D. Laravel Enum (*) Ref: https://github.com/BenSampo/laravel-enum Package há»— trá»£ viá»‡c liá»‡t kÃª cÃ¡c giÃ¡ trá»‹ trong á»©ng dá»¥ng, cÃ¡c phÆ°Æ¡ng thá»©c Ä‘a dáº¡ng Ä‘á»ƒ truy cáº­p key/value cá»§a cÃ¡c giÃ¡ trá»‹ nÃ y. NgoÃ i ra nÃ³ cÅ©ng há»— trá»£ Localization vÃ  Macros. Laravel Collective HTML (*) Ref: https://laravelcollective.com/docs/6.0/html Package nÃ y giÃºp báº¡n render cÃ¡c form, input cá»§a Laravel má»™t cÃ¡ch tá»‘t hÆ¡n Ziggy (*)Ref: https://github.com/tightenco/ziggy Ziggy - Use your Laravel Named Routes inside JavaScript Ziggy táº¡o thÃªm cÃ¡c lá»‡nh, helper cho Blade cÃ¡i mÃ  báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng trong views. Äiá»u nÃ y sáº½ export 1 Ä‘á»‘i tÆ°á»£ng JavaScript á»©ng vá»›i routes Ä‘Ã£ Ä‘Æ°á»£c Ä‘áº·t tÃªn, gÃ¡n chÃºng vá»›i cÃ¡c key lÃ  tÃªn cá»§a chÃºng (aliases) cÅ©ng nhÆ° má»™t helper toÃ n cá»¥c route(), cho phÃ©p báº¡n truy cáº­p route trong file JavaScript. VÃ­ dá»¥ cho file JavaScript cá»§a báº¡n: 1234567891011121314route('posts.index') // Returns '/posts'route('posts.show', {id: 1}) // Returns '/posts/1'route('posts.show', [1]) // Returns '/posts/1'route('posts.show', 1) // Returns '/posts/1'// Practical AJAX example:var post = {id: 1, title: 'Ziggy Stardust'};return axios.get(route('posts.show', post)) .then((response) =&gt; { return response.data; }); TinkerwellBear Sync (*) Ref: https://github.com/calebporzio/bear-sync Package cung cáº¥p má»™t model Eloquent Ä‘Æ°á»£c gá»i lÃ  BearNote, cÃ¡i mÃ  cÃ³ thá»ƒ truy cáº­p Bear notes trÃªn mÃ¡y local cá»§a báº¡n mÃ  khÃ´ng cáº§n cáº¥u hÃ¬nh táº¥t cáº£. BearNote model truy cáº­p database SQLite cá»§a Bear Notes dá»±a vÃ o driver database cá»§a Laravel. 1234567891011121314151617$note = BearSync\\BearNote::whereTitle('Some Note Title')-&gt;first();App\\Post::create([ 'title' =&gt; $note-&gt;title, 'content' =&gt; $note-&gt;content,])/* Example API */// Search all your Bear notes.$notes = BearSync\\BearNote::searchByTitle('Some Note Title');// Find a specific note.$note = BearSync\\BearNote::whereTitle('Some Note Title')-&gt;first();// Get tags by note$tags = $note-&gt;tags Sushi (*)Refhttps://github.com/calebporzio/sushi Sushi Eloquent Model khÃ´ng há»— trá»£ drive â€œarrayâ€ ÄÃ´i khi báº¡n muá»‘n sá»­ dá»¥ng Eloquent, nhÆ°ng khÃ´ng pháº£i thao tÃ¡c vá»›i database Use123456789101112131415class State extends Model{ use \\Sushi\\Sushi; protected $rows = [ [ 'abbr' =&gt; 'NY', 'name' =&gt; 'New York', ], [ 'abbr' =&gt; 'CA', 'name' =&gt; 'California', ], ];} 1$stateName = State::whereAbbr('NY')-&gt;first()-&gt;name; CÃ¡c hÃ m whereAbbr náº¿u khÃ´ng sá»­ dá»¥ng Sushi sáº½ lÃ  thao tÃ¡c vá»›i database Ä‘á»ƒ tÃ¬m kiáº¿m. á» Ä‘Ã¢y, váº«n sá»­ dá»¥ng Ä‘Æ°á»£c cÃ¡c hÃ m cá»§a Eloquent nhÆ°ng vá»›i thao tÃ¡c máº£ng :D. NÃ³ cÅ©ng cÃ³ thá»ƒ Ã¡p dá»¥ng cho quan há»‡ ná»¯a nhÃ©, chi tiáº¿t xem láº¡i trang chá»§. NhÆ°ng chÃº Ã½, quan há»‡ sáº½ khÃ´ng dÃ¹ng Ä‘Æ°á»£c whereHas do 2 models sá»­ dá»¥ng 2 database khÃ¡c riÃªng biá»‡t. How it worksUnder the hood, this package creates and caches a SQLite database JUST for this model. It creates a table and populates the rows. If, for whatever reason, it canâ€™t cache a .sqlite file, it will default to using an in-memory sqlite database. NhÆ° váº­y nÃ³ Ä‘ang sá»­ dá»¥ng SQLiite jenssegers date (*) Ref: https://github.com/jenssegers/date ThÆ° viá»‡n nÃ y má»Ÿ rá»™ng cá»§a Carbon vá»›i há»— trá»£ Ä‘a ngÃ´n ngá»¯. CÃ¡c phÆ°Æ¡ng thá»©c nhÆ° format, diffForHumans, parse, createFromFormat vÃ  thÃªm phÆ°Æ¡ng thá»©c má»›i timespan sáº½ Ä‘Æ°á»£c dá»‹ch sang ngÃ´n ngá»¯ Ä‘á»‹a phÆ°Æ¡ng cá»§a báº¡n. 1234567use Jenssegers\\Date\\Date;Date::setLocale('nl');echo Date::now()-&gt;format('l j F Y H:i:s'); // zondag 28 april 2013 21:58:16echo Date::parse('-1 day')-&gt;diffForHumans(); // 1 dag geleden Laravel Shared Data (*)Ref: https://github.com/coderello/laravel-shared-data Laravel Shared Data cung cáº¥p cÃ¡ch dá»… dÃ ng Ä‘á»ƒ chia sáº» dá»¯ liá»‡u tá»« backend tá»›i JavaScript. 123456789101112131415161718192021use Coderello\\SharedData\\Facades\\SharedData;// using the facadeSharedData::put([ 'user' =&gt; auth()-&gt;user(), 'post' =&gt; Post::first(), 'app' =&gt; [ 'name' =&gt; config('app.name'), 'environment' =&gt; config('app.env'), ],]);// using the helpershare([ 'user' =&gt; auth()-&gt;user(), 'post' =&gt; Post::first(), 'app' =&gt; [ 'name' =&gt; config('app.name'), 'environment' =&gt; config('app.env'), ],]); VÃ  sá»­ dá»¥ng á»Ÿ frontend tá»« window.shareData:1const user = window.sharedData.user;Hoáº·c sá»­ dá»¥ng global built-in helper:1const user = shared('user');VÃ  káº¿t quáº£ thu Ä‘Æ°á»£c Blueprint (*)Ref: https://github.com/laravel-shift/blueprint Blueprint lÃ  1 tool mÃ£ nguá»“n má»Ÿ Ä‘á»ƒ táº¡o ra nhanh chÃ³ng nhiá»u cÃ¡c thÃ nh pháº§n cá»§a Laravel tá»« 1 file duy nháº¥t, dá»… Ä‘á»c vá»›i má»i ngÆ°á»i Báº¡n Ä‘á»‹nh nghÄ©a cÃ¡c components trong Laravel mÃ  báº¡n muá»‘n táº¡o trong Laravel, gÃµ 1 lá»‡nh, Blueprint sáº½ sinh code cho báº¡n :D. VÃ­ dá»¥ dÆ°á»›i Ä‘Ã¢y báº¡n Ä‘á»‹nh nghÄ©a Models vÃ  Controllers sá»­ dá»¥ng cÃ¡c diá»…n Ä‘áº¡t ráº¥t rÃµ nghÄ©a, má»i ngÆ°á»i Ä‘á»u cÃ³ thá»ƒ Ä‘á»c Ä‘Æ°á»£c. draft.yaml1234567891011121314151617181920models: Post: title: string:400 content: longtext published_at: nullable timestampcontrollers: Post: index: query: all render: post.index with:posts store: validate: title, content save: post send: ReviewNotification to:post.author with:post dispatch: SyncMedia with:post fire: NewPost with:post flash: post.title redirect: post.index VÃ  sau Ä‘Ã³ báº¡n cháº¡y1php artisan blueprint:build [draft] Táº¥t cáº£ code cho model, controller sáº½ Ä‘Æ°á»£c táº¡o cho báº¡n. Laravel WebsocketsLaravel Console Menu (*)Ref: https://github.com/nunomaduro/laravel-console-menu Laravel Console Menu cáº£i thiá»‡n giao diá»‡n artisan command, nÃ³ Ä‘Æ°á»£c bá»c trong Laravel Console Commands. Laravel Shopping Cart (*) Ref: https://github.com/Crinsane/LaravelShoppingcart Má»™t package há»— trá»£ lÃ m viá»‡c vá»›i giá» hÃ ng trong Laravel. Dá»¯ liá»‡u giá» hÃ ng nÃ y sáº½ Ä‘Æ°á»£c lÆ°u trong Session.1234Cart::add($product, 1, ['size' =&gt; 'large']);Cart::update($rowId, ['name' =&gt; 'Product 1']); // Will update the nameCart::remove($rowId);Cart::get($rowId); Laravel Searchablehttps://github.com/nicolaslopezj/searchablehttps://github.com/spatie/laravel-searchable Laravel FakeId (*)Náº¿u báº¡n khÃ´ng muá»‘n hiá»ƒn thá»‹ ID tháº­t cá»§a cÃ¡c Model lÃªn á»©ng dá»¥ng cá»§a báº¡n, cÃ³ má»™t sá»‘ package giÃºp báº¡n fake hoáº·c bÄƒm id nÃ y ra Laravel Hashids Laravel FakeID Laravel CommentsLaravel Breadcrumbs (*)Ref: https://github.com/davejamesmiller/laravel-breadcrumbs A simple Laravel-style way to create breadcrumbs. Äáº§u tiÃªn báº¡n táº¡o file Ä‘Äƒng kÃ½ breadcrumbs routes/breadcrumbs.php1234567891011121314151617181920212223242526272829303132&lt;?php// HomeBreadcrumbs::for('home', function ($trail) { $trail-&gt;push('Home', route('home'));});// Home &gt; AboutBreadcrumbs::for('about', function ($trail) { $trail-&gt;parent('home'); $trail-&gt;push('About', route('about'));});// Home &gt; BlogBreadcrumbs::for('blog', function ($trail) { $trail-&gt;parent('home'); $trail-&gt;push('Blog', route('blog'));});// Home &gt; Blog &gt; [Category]Breadcrumbs::for('category', function ($trail, $category) { $trail-&gt;parent('blog'); $trail-&gt;push($category-&gt;title, route('category', $category-&gt;id));});// Home &gt; Blog &gt; [Category] &gt; [Post]Breadcrumbs::for('post', function ($trail, $post) { $trail-&gt;parent('category', $post-&gt;category); $trail-&gt;push($post-&gt;title, route('post', $post-&gt;id));}); Rá»“i sau Ä‘Ã³ sá»­ dá»¥ng trÃªn views thÃ´i123{{ Breadcrumbs::render('home') }}{{ Breadcrumbs::render('category', $category) }} Laravel Befriended (*)Ref: https://github.com/renoki-co/befriended Package nÃ y há»— trá»£ chá»©c nÄƒng nhÆ° cÃ¡c máº¡ng xÃ£ há»™i, nhÆ° theo dÃµi, cháº·n, lá»c ná»™i dung dá»±a vÃ o nhá»¯ng model Ä‘Ã£ theo dÃµi vÃ  cháº·n @@ 1234567891011$alice = User::where('name', 'Alice')-&gt;first();$bob = User::where('name', 'Bob')-&gt;first();$tim = User::where('name', 'Tim')-&gt;first();$alice-&gt;follow($bob);$alice-&gt;following()-&gt;count(); // 1$bob-&gt;followers()-&gt;count(); // 1User::followedBy($alice)-&gt;get(); // Just Bob shows upUser::unfollowedBy($alice)-&gt;get(); // Tim shows up Laravel Honeypot (*)Ref: https://github.com/spatie/laravel-honeypotPackage nÃ y ngÄƒn cháº·n spam thÃ´ng qua viá»‡c submit forms. NÃ³ sáº½ sinh ra cÃ¡c giÃ¡ trá»‹ ngáº«u nhiÃªn, ngÄƒn cháº·n viá»‡c nÃ y 1234&lt;form method=&quot;POST&quot; action=&quot;{{ action(App\\Http\\Controllers\\ContactFormSubmissionController::class, 'create') }}&quot;)&gt; @honeypot &lt;input name=&quot;myField&quot; type=&quot;text&quot;&gt;&lt;/form&gt; Laravel DatatablesLaravel Money (*)Ref: https://github.com/cknow/laravel-money Package nÃ y giÃºp báº¡n cung cáº¥p cÃ¡c phÆ°Æ¡ng thá»©c lÆ°u trá»¯ vÃ  sá»­ dá»¥ng cÃ¡c giÃ¡ trá»‹ tiá»n tá»‡ 1 cÃ¡ch dá»… dÃ ng 123456789101112131415161718192021222324252627282930313233343536373839404142434445use Cknow\\Money\\Money;Money::USD(500)-&gt;add(Money::USD(500)); // $10.00Money::USD(500)-&gt;add(Money::USD(500), Money::USD(500)); // $15.00Money::USD(500)-&gt;subtract(Money::USD(400)); // $1.00Money::USD(500)-&gt;subtract(Money::USD(200), Money::USD(100)); // $2.00Money::USD(500)-&gt;multiply(2); // $10.00Money::USD(1000)-&gt;divide(2); // $5.00Money::USD(830)-&gt;mod(Money::USD(300)); // $2.30 -&gt; Money::USD(230)Money::USD(-500)-&gt;absolute(); // $5.00Money::USD(500)-&gt;negative(); // $-5.00Money::USD(30)-&gt;ratioOf(Money::USD(2)); // 15Money::USD(500)-&gt;isSameCurrency(Money::USD(100)); // trueMoney::USD(500)-&gt;equals(Money::USD(500)); // trueMoney::USD(500)-&gt;greaterThan(Money::USD(100)); // trueMoney::USD(500)-&gt;greaterThanOrEqual(Money::USD(500)); // trueMoney::USD(500)-&gt;lessThan(Money::USD(1000)); // trueMoney::USD(500)-&gt;lessThanOrEqual(Money::USD(500)); // trueMoney::USD(500)-&gt;isZero(); // falseMoney::USD(500)-&gt;isPositive(); // trueMoney::USD(500)-&gt;isNegative(); // falseMoney::USD(500)-&gt;getMoney(); // Instance of \\Money\\Money// AggregationMoney::min(Money::USD(100), Money::USD(200), Money::USD(300)); // Money::USD(100)Money::max(Money::USD(100), Money::USD(200), Money::USD(300)); // Money::USD(300)Money::avg(Money::USD(100), Money::USD(200), Money::USD(300)); // Money::USD(200)Money::sum(Money::USD(100), Money::USD(200), Money::USD(300)); // Money::USD(600)// FormattersMoney::USD(500)-&gt;format(); // $5.00Money::USD(199)-&gt;format(null, null, \\NumberFormatter::DECIMAL); // 1,99Money::XBT(41000000)-&gt;formatByBitcoin(); // \\xC9\\x830.41Money::USD(500)-&gt;formatByDecimal(); // 5.00Money::USD(500)-&gt;formatByIntl(); // $5.00Money::USD(199)-&gt;formatByIntl(null, null, \\NumberFormatter::DECIMAL); // 1,99Money::USD(500)-&gt;formatByIntlLocalizedDecimal(); // $5.00Money::USD(199)-&gt;formatByIntlLocalizedDecimal(null, null, \\NumberFormatter::DECIMAL) // 1.99// ParsersMoney::parse('$1.00'); // Money::USD(100)Money::parseByBitcoin(&quot;\\xC9\\x830.41&quot;); // Money::XBT(41000000)Money::parseByDecimal('1.00', 'USD'); // Money::USD(100)Money::parseByIntl('$1.00'); // Money::USD(100)Money::parseByIntlLocalizedDecimal('1.00', 'USD'); // Money::USD(100) Laravel Avatar (*)Ref: https://github.com/laravolt/avatar Package nÃ y giÃºp báº¡n hiá»ƒn thá»‹ avatart duy nháº¥t cho má»—i ngÆ°á»i dÃ¹ng dá»±a vÃ o tÃªn (khá»Ÿi táº¡o) cá»§a há» Laravel Menu (*)Ref: https://github.com/spatie/laravel-menu Package nÃ y giÃºp hiá»ƒn thá»‹ menu sidebar má»™t cÃ¡ch dá»… dÃ ng1234567Menu::macro('main', function () { return Menu::new() -&gt;action('HomeController@index', 'Home') -&gt;action('AboutController@index', 'About') -&gt;action('ContactController@index', 'Contact') -&gt;setActiveFromRequest();});123&lt;nav class=&quot;navigation&quot;&gt; {!! Menu::main() !!}&lt;/nav&gt; Laravel MessengerFeature FlagsLaravel TranslatableLaravel Lang (*)Ref: https://github.com/caouecs/Laravel-lang Package há»— trá»£ dá»‹ch cÃ¡c file sang nhiá»u loáº¡i ngÃ´n ngá»¯ khÃ¡c nhau CÃ¡c file ngá»—n ngá»¯ á»Ÿ trong thÆ° má»¥c â€œvendor/caouecs/laravel-langâ€ Copy thÆ° má»¥c ngÃ´n ngá»¯ mÃ  báº¡n muá»‘n vÃ o trong thÆ° má»¥c resources/lang Ä‘á»ƒ sá»­ dá»¥ng trong á»©ng dá»¥ng cá»§a báº¡n. Laravel Stats Tracker (*)Ref: https://github.com/antonioribeiro/tracker Packge máº¡nh thá»±c sá»±, theo dÃµi Ráº¤T NHIá»€U thÃ´ng tin tá»« cÃ¡c request Ä‘áº¿n á»©ng dá»¥ng vÃ  lÆ°u trá»¯ láº¡i. CÃ¡c thÃ´ng tin theo dÃµi bao gá»“m: Sessions Page Views (hits on routes) Users (logged users) Devices (computer, smartphone, tabletâ€¦) Languages (preference, language range) User Devices (by, yeah, storing a cookie on each device) Browsers (Chrome, Mozilla Firefox, Safari, Internet Explorerâ€¦) Operating Systems (iOS, Mac OS, Linux, Windowsâ€¦) Geo Location Data (Latitute, Longitude, Country and City) Routes and all its parameters Events Referers (url, medium, source, search termâ€¦) Exceptions/Errors Sql queries and all its bindings Url queries and all its arguments Database connections Package nÃ y Ä‘Ã¡ng Ä‘á»ƒ tÃ¬m hiá»ƒu xem nÃ³ hoáº¡t Ä‘á»™ng nhÆ° tháº¿ nÃ o hÆ¡n lÃ  viá»‡c Ã¡p dá»¥ng ná»¯a, cháº¯c tÃ­ch há»£p nhiá»u thá»© láº¯m :v Laravel Vue SPA (*)Ref: https://github.com/cretueusebiu/laravel-vue-spaÄÃºng nhÆ° tÃªn gá»i cá»§a nÃ³, pháº§n nÃ y xÃ¢y dá»±ng cÃ¡c template sáºµn, káº¿t há»£p Laravel vÃ  Vue ÄÃ¢y lÃ  cáº£ 1 project chá»© khÃ´ng pháº£i lÃ  package tÃ­ch há»£p nhÃ© Laravel Sweet Alert (*) Ref: https://github.com/realrashid/sweet-alert Package giÃºp hiá»ƒn thá»‹ sweet alert cho Laravel123456789101112public function store(PostRequest $request){ $post = Post::create($request-&gt;all()); if ($post) { alert()-&gt;success('Post Created', 'Successfully'); // hoáº·c cÃ³ thá»ƒ dÃ¹ng alert('Post Created','Successfully', 'success'); } else { alert()-&gt;error('Post Created', 'Something went wrong!'); // hoáº·c cÃ³ thá»ƒ dÃ¹ng alert('Post Created','Something went wrong!', 'error'); } return redirect()-&gt;route('posts.index');} Laravel GravatarSimple QrCode (*)Ref: https://github.com/SimpleSoftwareIO/simple-qrcode Simple QrCode ráº¥t dá»… dÃ ng Ä‘Æ°á»£c sá»­ dá»¥ng trong Laravel khi lÃ m viá»‡c vá»›i Bacon/BaconQrCode. ChÃºng tÃ´i cÃ³ táº¡o ra cÃ¡c interface thÃ¢n thiá»‡n vÃ  dá»… dÃ ng cÃ i Ä‘áº·t cho cÃ¡c ngÆ°á»i dÃ¹ng Laravel. Laravel Trix (*)Ref: https://github.com/Te7a-Houdini/laravel-trix Package nÃ y giÃºp báº¡n cÃ³ thá»ƒ cáº¥u hÃ¬nh Basecamp Trix Editor Ä‘á»ƒ sá»­ dá»¥ng trong á»©ng dá»¥ng Laravel. 12345678910&lt;html&gt; &lt;head&gt; @trixassets &lt;/head&gt; &lt;body&gt; &lt;!-- notice that content field isn't presented in Post model --&gt; @trix(\\App\\Post::class, 'content') &lt;/body&gt;&lt;/html&gt; Laravel Exchange Rates (*)Ref: https://github.com/ash-jc-allen/laravel-exchange-rates Package nÃ y tÃ­ch há»£p cÃ¡c API tá»« trang exchangeratesapi.io. Laravel Exchange Rates cho phÃ©p báº¡n nháº­n cÃ¡c lá»‹ch sá»§ tá»‰ giÃ¡ trao Ä‘á»•i hoáº·c má»›i nháº¥t, vÃ  cÃ³ thá»ƒ chuyá»ƒn Ä‘á»•i tiá»n tá»‡ giá»¯a cÃ¡c Ä‘Æ¡n vá»‹ khÃ¡c nhau. Exchange Rates Between Date Range 12$exchangeRates = new ExchangeRate();$exchangeRates-&gt;exchangeRateBetweenDateRange('GBP', 'EUR', Carbon::now()-&gt;subWeek(), Carbon::now()); Convert Currencies 12$exchangeRates = new ExchangeRate();$exchangeRates-&gt;convert(100, 'GBP', 'EUR', Carbon::now()); Laravel Kustomer (*)Ref: https://github.com/mydnic/laravel-feedback-component Package nÃ y thÃªm cÃ¡c Feedback tá»« phÃ­a khÃ¡ch hÃ ng dÆ°á»›i dáº¡ng popup lÃªn website cá»§a báº¡n Demo Laravel DOMPDF (*)Ref: https://github.com/barryvdh/laravel-dompdf Package cho phÃ©p báº¡n thao tÃ¡c, export file PDF má»™t cÃ¡ch dá»… dÃ ng tá»« cÃ¡c views cá»§a Laravel. Báº¡n cÃ³ thá»ƒ lÆ°u nÃ³ dÆ°á»›i dáº¡ng 1 file, hoáº·c 1 stream (hiá»ƒn thá»‹ trÃªn trÃ¬nh duyá»‡t) hoáº· táº£i xuá»‘ng. 123$pdf = App::make('dompdf.wrapper');$pdf-&gt;loadHTML('&lt;h1&gt;Test&lt;/h1&gt;');return $pdf-&gt;stream(); Or sá»­ dá»¥ng facade 12$pdf = PDF::loadView('pdf.invoice', $data);return $pdf-&gt;download('invoice.pdf'); Laravel Excel (*)CÃ³ 1 tips riÃªng Intervention Image (*)Ref: http://image.intervention.io/ Má»™t package xá»­ lÃ½ áº£nh Ä‘Ã£ quÃ¡ quen thuá»™c vá»›i ngÆ°á»i sá»­ dá»¥ng Laravel nhá»‰ :D. Glide (Ä‘Ã¡ng Ä‘á»ƒ thá»­ tÃ­ Ä‘áº¥y nhá»‰)Ref: https://github.com/spatie/laravel-glide ÄÃ¢y cÅ©ng lÃ  má»™t package cung cáº¥p cÃ¡c lá»›p dá»… dÃ ng thao tÃ¡c vá»›i cÃ¡c áº£nh trÃªn Laravel. Pháº§n nhÃ¢n API nÃ³ gá»i Ä‘áº¿n trang Glide, má»™t thÆ° viá»‡n xá»­ lÃ½ hÃ¬nh áº£nh theo cÃ¡c yÃªu cáº§u cá»±c kÃ¬ dá»… dÃ ng Ä‘Æ°á»£c viáº¿t báº±ng PHP. Laravel Invoices (*)Ref: https://github.com/LaravelDaily/laravel-invoices Package nÃ y cung cáº¥p cÃ¡c interface dá»… dÃ ng sinh ra Invoice PDF files vá»›i dá»¯ liá»‡u dÆ°á»£c cung cáº¥p HÃ³a Ä‘Æ¡n cÃ³ thá»ƒ Ä‘Æ°á»£c lÆ°u, táº£i xuá»‘ng hoáº·c stream trong 1 vÃ i filesystems báº¡n Ä‘Ã£ cáº¥u hÃ¬nh. Há»— trá»£ nhiá»u template vÃ  ngÃ´n ngá»¯ Laravel Charts (*)Ref: https://charts.erik.cat/installation.html Náº¿u báº¡n muá»‘n váº½ biá»ƒu Ä‘á»“ mÃ  khÃ´ng sá»­ dá»¥ng cÃ¡c thÆ° viá»‡n JavaScript, báº¡n cÃ³ thá»ƒ xem xÃ©t sá»­ dá»¥ng thÆ° viá»‡n nÃ y nhÃ©. ThÆ° viá»‡n nÃ y Ä‘Æ°á»£c API cá»§a Chart thiáº¿t káº¿, cÃ³ thá»ƒ má»Ÿ rá»™ng vÃ  tÃ¹y chá»‰nh, cho phÃ©p má»i tÃ¹y chá»n trong thÆ° viá»‡n JavaScript Ä‘Æ°á»£c sá»­ dá»¥ng nhanh chÃ³ng mÃ  khÃ´ng tá»‘n nhiá»u cÃ´ng. 12345678910111213141516171819202122232425&lt;?phpnamespace App\\Http\\Controllers;use App\\Charts\\UserChart;use Illuminate\\Http\\Request;class UserChartController extends Controller{ /** * Display a listing of the resource. * * @return \\Illuminate\\Http\\Response */ public function index() { $usersChart = new UserChart; $usersChart-&gt;labels(['Jan', 'Feb', 'Mar']); $usersChart-&gt;dataset('Users by trimester', 'line', [10, 25, 13]) -&gt;color(&quot;rgb(255, 99, 132)&quot;) -&gt;backgroundcolor(&quot;rgb(255, 99, 132)&quot;); return view('users', [ 'usersChart' =&gt; $usersChart ] ); }} VÃ  Ä‘Ã¢y lÃ  káº¿t quáº£ Báº¡n cÃ³ thá»ƒ xem thÃªm táº¡i Ä‘Ã¢y Laravel Media LibraryLaravel PermissionLaravel Bouncer (*)Ref: https://github.com/JosephSilber/bouncer Láº¡i thÃªm 1 package há»— trá»£ quáº£n lÃ½ quyá»n cho 1 vÃ i á»©ng dá»¥ng sá»­ dá»¥ng Eloquent models 123456789// Give a user the ability to create postsBouncer::allow($user)-&gt;to('create', Post::class);// Alternatively, do it through a roleBouncer::allow('admin')-&gt;to('create', Post::class);Bouncer::assign('admin')-&gt;to($user);// You can also grant an ability only to a specific modelBouncer::allow($user)-&gt;to('edit', $post); Laravel Impersonate (*)Ref: https://github.com/404labfr/laravel-impersonate?ref=madewithlaravel.com Laravel Impersonate Ä‘Æ¡n giáº£n hÃ³a viá»‡c xÃ¡c thá»±c viá»‡c xÃ¡c thá»±c nhÆ° 1 ngÆ°á»i dÃ¹ng nÃ o Ä‘Ã³. Tiáº¿ng anh impersonate cÃ³ nghÄ©a lÃ  máº¡o danh. CÃ¡i nÃ y cháº¯c Ä‘á»ƒ lÃ m chá»©c nÄƒng xem tÆ°á»ng nhÆ° 1 vai trÃ² cá»§a ngÆ°á»i khÃ¡c cá»§a Facebook Ä‘áº¥y =)) 12345678/* Impersonate a user */Auth::user()-&gt;impersonate($other_user);// You're now logged as the $other_user/* Leave impersonation */Auth::user()-&gt;leaveImpersonation();// You're now logged as your original user. Laravel Masterpass (*)Ref: https://github.com/imanghafoori1/laravel-MasterPass Built with â¤ï¸ for every smart laravel developer Package giÃºp báº¡n cÃ i Ä‘áº·t 1 master password trong file .env vÃ  login vÃ o báº¥t ká»³ tÃ i khoáº£n nÃ o vá»›i nÃ³ Ä‘á»ƒ máº¡o danh ngÆ°á»i dÃ¹ng. Äiá»u Ä‘Ã³ cÃ³ nghÄ©a má»—i tÃ i khoáº£n sáº½ cÃ³ 1 máº­t kháº©u há»£p lá»‡. Má»™t máº­t kháº©u gá»‘c vÃ  master password. Äiá»u nÃ y cÅ©ng giÃºp báº¡n trong quÃ¡ trÃ¬nh develop vÃ  testing báº¡n muá»‘n Ä‘Äƒng nháº­p nhiá»u usernames vÃ  khÃ´ng muá»‘n nhá»› táº¥t cáº£ cÃ¡c máº­t kháº©u Ä‘Ãºng cá»§a há» cho má»—i tÃ i khoáº£n test. NÃ³ cÅ©ng hoáº¡t Ä‘á»™ng náº¿u báº¡n sá»­ dá»¥ng Laravel-passport. 1$bool = Auth::isLoggedInByMasterPass(); TrÃªn view thÃ¬ sao123@if(Auth::isLoggedInByMasterPass()) Your are here by master password.@endif JWT Auth (*)Laravel Ban (*)Ref: https://github.com/cybercog/laravel-ban Laravel Ban dá»… dÃ ng quáº£n lÃ½ cÃ¡c Eloquent model bá»‹ ban. TrÆ°á»ng há»£p sá»­ dá»¥ng khÃ´ng bá»‹ giá»›i háº¡n vá»›i User model, 1 vÃ i Eloquent model cÃ³ thá»ƒ bá»‹ ban: Tá»• chá»©c, Team, NhÃ³m vÃ  1 vÃ i Ä‘iá»u khÃ¡c. isAuth (*)Ref: https://github.com/spiderwebtr/isauth Package nÃ y giÃºp báº¡n kiá»ƒm tra náº¿u 1 ngÆ°á»i dÃ¹ng háº¿t session trÆ°á»›c khi submit forms. Náº¿u session Ä‘Ã£ háº¿t, 1 modal sáº½ hiá»ƒn thá»‹ lÃªn 1 vÃ i thÃ´ng tin ngÆ°á»i dÃ¹ng vÃ  yÃªu cáº§u máº­t kháº©u Ä‘á»ƒ Ä‘Äƒng nháº­p láº¡i. Laravel Test Factory Generator (*)Package há»— trá»£ báº¡n sinh factories tá»« cÃ¡c model Ä‘Ã£ tá»“n táº¡i sáºµn Ä‘á»ƒ báº¡n cÃ³ thá»ƒ tiáº¿n hÃ nh test á»©ng dá»¥ng cá»§a mÃ¬nh 1 cÃ¡ch nhanh chÃ³ng. VÃ­ dá»¥ káº¿t quáº£ cá»§a model 1234567891011121314151617Schema::create('users', function (Blueprint $table) { $table-&gt;increments('id'); $table-&gt;string('name'); $table-&gt;string('username'); $table-&gt;string('email')-&gt;unique(); $table-&gt;string('password', 60); $table-&gt;integer('company_id'); $table-&gt;rememberToken(); $table-&gt;timestamps();});class User extends Model { public function company() { return $this-&gt;belongsTo(Company::class); }} Sau khi cháº¡y 1php artisan generate:model-factory Sáº½ Ä‘Æ°á»£c nhÆ° sau: 12345678910$factory-&gt;define(App\\User::class, function (Faker\\Generator $faker) { return [ 'name' =&gt; $faker-&gt;name, 'username' =&gt; $faker-&gt;userName, 'email' =&gt; $faker-&gt;safeEmail, 'password' =&gt; bcrypt($faker-&gt;password), 'company_id' =&gt; factory(App\\Company::class), 'remember_token' =&gt; Str::random(10), ];}); Laravel Test Tools (sáº½ thá»­, Ã­t nháº¥t 1 láº§n)Ref: https://chrome.google.com/webstore/detail/laravel-testtools/ddieaepnbjhgcbddafciempnibnfnakl?hl=en Má»™t extension cÃ³ kháº£ nÄƒng sinh ra cÃ¡c test tÃ­ch há»£p trong khi báº¡n sá»­ dá»¥ng á»©ng dá»¥ng Important note: If you want to use the new â€œImport Factoriesâ€ feature, you need to manually allow the chrome extension to access file URLs.You can do so by visiting chrome://extensions , search for the â€œLaravel TestToolsâ€ extension and activate the checkbox â€œAllow access to file URLsâ€. Dusk Dashboard (cÅ©ng sáº½ thá»­)Ref: https://github.com/beyondcode/dusk-dashboard A beautiful dashboard for your Dusk test suites. Paratest (cÅ©ng cáº§n thá»­ luÃ´n =)))Ref: https://github.com/paratestphp/paratest Má»¥c Ä‘Ã­ch cá»§a ParaTest lÃ  há»— trá»£ viá»‡c test song song trong PHPUnit. Má»™t khi cÃ¡c PHPUnit cá»§a báº¡n Ä‘Æ°á»£c viáº¿t tá»‘t, báº¡n cÃ³ thá»ƒ bá» qua paratest trong project cá»§a mÃ¬nh vÃ  báº¯t Ä‘áº§u sá»­ dá»¥ng nÃ³ mÃ  khÃ´ng cáº§n thÃªm bootstrap hoáº·c cáº¥u hÃ¬nh nÃ o. Lá»£i Ã­ch cá»§a viá»‡c cháº¡y test song song: Káº¿t quáº£ bÃ¡o bÃ¡o sáº½ Ä‘Æ°á»£c káº¿t há»£p láº¡i. Cháº¡y cÃ¡c test cá»§a báº¡n trong N tiáº¿ng trÃ¬nh song song vÃ  táº¥t cáº£ cÃ¡c Ä‘áº§u ra sáº½ Ä‘Æ°á»£c gá»™p láº¡i trong 1 report KhÃ´ng cáº§n cáº¥u hÃ¬nh. Sau khi cÃ i Ä‘áº·t, báº¡n cÃ³ thá»ƒ cháº¡y luÃ´n vá»›i vendor/bin/paratest -p4 path/to/tests Linh hoáº¡t. CÃ´ láº­p cÃ¡c files test vÃ  tÃ¡ch biá»‡t quÃ¡ trÃ¬nh riÃªng, hoáº·c táº­n dá»¥ng WrapperRunner Ä‘á»ƒ cháº¡y test nhanh hÆ¡n. LÆ°u Ã½ khi tá»‘i Æ°u tá»‘c Ä‘á»™: Äá»ƒ nháº­n Ä‘Æ°á»£c cÃ¡c test song song 1 cÃ¡ch tá»‘t nháº¥t, báº¡n pháº£i Ä‘iá»u chá»‰nh cÃ¡c tham sá»‘ tháº­t cáº©n tháº­n. Laravel MojitoRef: https://github.com/nunomaduro/laravel-mojito ÄÃ¢y lÃ  má»™t package nháº¹ phá»¥c vá»¥ cho viá»‡c testing Laravel views. Mojito Ä‘Æ°á»£c táº¡o vÃ  maintain bá»Ÿi ]Nuno Maduro](https://nunomaduro.com/), blog nhiá»u chá»§ Ä‘á» hay Ä‘áº¥y chá»©. Dom CrawlerRef: https://github.com/symfony/dom-crawler Package nÃ y â€œtáº©yâ€ DOM cho cÃ¡c tÃ i liá»‡u XML vÃ  HTML, trÃ¡nh bá»‹ crawler tá»« trang web khÃ¡c. Laravel Translation (nÃªn thá»­ nÃ o)Ref: https://github.com/joedixon/laravel-translation Package quáº£n lÃ½ cÃ¡c file Ä‘Ã£ ngÃ´n ngá»¯, quá»‘c táº¿ quÃ¡ trong á»©ng dá»¥ng cá»§a báº¡n. Äáº·c biá»‡t, nÃ³ cung cáº¥p giao diá»‡n lÃ m viá»‡c hiá»‡u quáº£. It exposes a user interface allowing you to update existing and add new translations to your application. LarastanRef: https://github.com/nunomaduro/larastan Láº¡i thÃªm 1 package ná»¯a cá»§a thanh niÃªn Nuno Maduro. Larastan táº­p trung vÃ o viá»‡c tÃ¬m ra lá»—i trong code cá»§a báº¡n mÃ  khÃ´ng thá»±c sá»± cháº¡y chÃºng. NÃ³ báº¯t Ä‘Æ°á»£c táº¥t cáº£ cÃ¡c lá»›p lá»—i tháº­m chÃ­ trÆ°á»›c khi báº¡n viáº¿t test cho code. Laravel Phone (nÃªn thá»­ nÃ¨)Ref: https://github.com/Propaganistas/Laravel-Phone Package giÃºp báº¡n lÃ m viá»‡c vá»›i sá»‘ Ä‘iá»‡n thoáº¡i. Báº¡n cÃ³ thá»ƒ validate vÃ  format sá»‘ Ä‘iá»‡n thoáº¡i. Demo: https://laravel-phone.herokuapp.com/ Laravel Image OptimizerRef: https://github.com/spatie/laravel-image-optimizer ThÃªm 1 thá»­ viá»‡n ná»¯a xá»­ lÃ½ áº£nh. KhÃ¡c vá»›i cÃ¡c thÆ° viá»‡n trÆ°á»›c cung cáº¥p cÃ¡c phÆ°Æ¡ng thá»©c chá»‰nh áº£nh theo kÃ­ch thÆ°á»›c, xoay áº£nh â€¦ thÃ¬ package nÃ y táº­p trung vÃ o viá»‡c tá»‘i Æ°u áº£nh. NÃ³ cÃ³ thá»ƒ tá»‘i Æ°u cÃ¡c áº£nh PNGs, JPGs, SVGs, vÃ  GIFs báº±ng cÃ¡ch cháº¡y chÃºng vá»›i cÃ¡c tool tá»‘i Æ°u áº£nh CollisionRef: https://github.com/nunomaduro/collision ThÃªm má»™t cÃ´ng cá»¥ tá»« Nuno Maduro. Má»™t cÃ´ng cá»¥ bÃ¡o cÃ¡o lá»—i Ä‘áº¹p cho á»©ng dá»¥ng dÃ²ng lá»‡nh IgnitionRef: https://github.com/facade/ignition Náº¿u nhÆ° Collision lÃ  cÃ´ng cá»¥ bÃ¡o lá»—i Ä‘áº¹p hÆ¡n cho cháº¿ Ä‘á»™ dÃ²ng lá»‡nh thÃ¬ Ignition láº¡i lÃ  cÃ´ng cá»¥ bÃ¡o lá»—i Ä‘áº¹p hÆ¡n cho á»©ng dá»¥ng Laravel =)) NestedsetRef: https://packagist.org/packages/kalnoy/nestedset Má»™t package giÃºp báº¡n lÃ m viá»‡c vá»›i dá»¯ liá»‡u Ä‘á»‡ quy. NhÆ° cÃ¡c category hay lÃ m cháº³ng háº¡n 12345678910111213$node = Category::create([ 'name' =&gt; 'Foo', 'children' =&gt; [ [ 'name' =&gt; 'Bar', 'children' =&gt; [ [ 'name' =&gt; 'Baz' ], ], ], ],]); Purifier (nÃªn thá»­)Ref: https://github.com/mewebstudio/purifier Bá»™ lá»c tháº» HTML cho á»©ng dá»¥ng Laravel 1clean(Input::get('inputname')); Laravel JS LocalizationRef: https://github.com/rmariuzzo/Laravel-JS-Localization Package há»— trá»£ I18n cho cÃ¡c file JavaScript 123Lang.get('messages.home');Lang.get('messages.welcome', { name: 'Joe' }); TÃ i liá»‡u tham kháº£ohttps://codewithdre.com/useful-laravel-packages","link":"/2020/04/26/Laravel-Useful-Laravel-Packages/"}],"tags":[{"name":"API","slug":"API","link":"/tags/API/"},{"name":"apache2","slug":"apache2","link":"/tags/apache2/"},{"name":"CI&#x2F;CD","slug":"CI-CD","link":"/tags/CI-CD/"},{"name":"naming","slug":"naming","link":"/tags/naming/"},{"name":"clean function","slug":"clean-function","link":"/tags/clean-function/"},{"name":"clean comment","slug":"clean-comment","link":"/tags/clean-comment/"},{"name":"clean error","slug":"clean-error","link":"/tags/clean-error/"},{"name":"collection","slug":"collection","link":"/tags/collection/"},{"name":"kubernetes","slug":"kubernetes","link":"/tags/kubernetes/"},{"name":"git","slug":"git","link":"/tags/git/"},{"name":"docker compose file format","slug":"docker-compose-file-format","link":"/tags/docker-compose-file-format/"},{"name":"docker-volume","slug":"docker-volume","link":"/tags/docker-volume/"},{"name":"docker-network","slug":"docker-network","link":"/tags/docker-network/"},{"name":"docker-compose.yml","slug":"docker-compose-yml","link":"/tags/docker-compose-yml/"},{"name":"docker-best-practice","slug":"docker-best-practice","link":"/tags/docker-best-practice/"},{"name":"docker command","slug":"docker-command","link":"/tags/docker-command/"},{"name":"docker","slug":"docker","link":"/tags/docker/"},{"name":"Kanji","slug":"Kanji","link":"/tags/Kanji/"},{"name":"async programing","slug":"async-programing","link":"/tags/async-programing/"},{"name":"authentication","slug":"authentication","link":"/tags/authentication/"},{"name":"aws labs","slug":"aws-labs","link":"/tags/aws-labs/"},{"name":"configuration","slug":"configuration","link":"/tags/configuration/"},{"name":"requests","slug":"requests","link":"/tags/requests/"},{"name":"tips laravel","slug":"tips-laravel","link":"/tags/tips-laravel/"},{"name":"validation","slug":"validation","link":"/tags/validation/"},{"name":"unit test","slug":"unit-test","link":"/tags/unit-test/"},{"name":"Linux command line","slug":"Linux-command-line","link":"/tags/Linux-command-line/"},{"name":"process management","slug":"process-management","link":"/tags/process-management/"},{"name":"mongoDB","slug":"mongoDB","link":"/tags/mongoDB/"},{"name":"phpcs phpcsfixer","slug":"phpcs-phpcsfixer","link":"/tags/phpcs-phpcsfixer/"},{"name":"phpcs","slug":"phpcs","link":"/tags/phpcs/"},{"name":"excelfile","slug":"excelfile","link":"/tags/excelfile/"},{"name":"vim","slug":"vim","link":"/tags/vim/"},{"name":"sudo command","slug":"sudo-command","link":"/tags/sudo-command/"},{"name":"react boilerplate","slug":"react-boilerplate","link":"/tags/react-boilerplate/"},{"name":"groupby, mysql","slug":"groupby-mysql","link":"/tags/groupby-mysql/"},{"name":"regex","slug":"regex","link":"/tags/regex/"},{"name":"stripe","slug":"stripe","link":"/tags/stripe/"},{"name":"gcp","slug":"gcp","link":"/tags/gcp/"},{"name":"tracking php script","slug":"tracking-php-script","link":"/tags/tracking-php-script/"},{"name":"jquery-validation","slug":"jquery-validation","link":"/tags/jquery-validation/"},{"name":"vba","slug":"vba","link":"/tags/vba/"},{"name":"docker-instructions docker-best-practice","slug":"docker-instructions-docker-best-practice","link":"/tags/docker-instructions-docker-best-practice/"},{"name":"event","slug":"event","link":"/tags/event/"},{"name":"event notification","slug":"event-notification","link":"/tags/event-notification/"}],"categories":[{"name":"Others","slug":"Others","link":"/categories/Others/"},{"name":"AWS Training","slug":"AWS-Training","link":"/categories/AWS-Training/"},{"name":"Authentication","slug":"Authentication","link":"/categories/Authentication/"},{"name":"Development and Operation","slug":"Development-and-Operation","link":"/categories/Development-and-Operation/"},{"name":"The Art of Readable Code","slug":"The-Art-of-Readable-Code","link":"/categories/The-Art-of-Readable-Code/"},{"name":"Clean our code","slug":"Clean-our-code","link":"/categories/Clean-our-code/"},{"name":"Web Server","slug":"Development-and-Operation/Web-Server","link":"/categories/Development-and-Operation/Web-Server/"},{"name":"Chapter 1 - Code Should Be Easy to Understand","slug":"The-Art-of-Readable-Code/Chapter-1-Code-Should-Be-Easy-to-Understand","link":"/categories/The-Art-of-Readable-Code/Chapter-1-Code-Should-Be-Easy-to-Understand/"},{"name":"CircleCI 2.0","slug":"Development-and-Operation/CircleCI-2-0","link":"/categories/Development-and-Operation/CircleCI-2-0/"},{"name":"Google Cloud Platform","slug":"Development-and-Operation/Google-Cloud-Platform","link":"/categories/Development-and-Operation/Google-Cloud-Platform/"},{"name":"Docker","slug":"Development-and-Operation/Docker","link":"/categories/Development-and-Operation/Docker/"},{"name":"Clean code - Robert C. Martin","slug":"Clean-our-code/Clean-code-Robert-C-Martin","link":"/categories/Clean-our-code/Clean-code-Robert-C-Martin/"},{"name":"Website Optimization","slug":"Others/Website-Optimization","link":"/categories/Others/Website-Optimization/"},{"name":"JP","slug":"JP","link":"/categories/JP/"},{"name":"JAVaScript","slug":"JAVaScript","link":"/categories/JAVaScript/"},{"name":"Refactoring to Collections","slug":"Clean-our-code/Refactoring-to-Collections","link":"/categories/Clean-our-code/Refactoring-to-Collections/"},{"name":"Laravel","slug":"Development-and-Operation/Laravel","link":"/categories/Development-and-Operation/Laravel/"},{"name":"AWS Practitioner","slug":"AWS-Practitioner","link":"/categories/AWS-Practitioner/"},{"name":"Linux OS","slug":"Development-and-Operation/Linux-OS","link":"/categories/Development-and-Operation/Linux-OS/"},{"name":"Database","slug":"Database","link":"/categories/Database/"},{"name":"PHPCS","slug":"Others/PHPCS","link":"/categories/Others/PHPCS/"},{"name":"CÃ´ng cá»¥ láº­p trÃ¬nh","slug":"Others/Cong-cu-lap-trinh","link":"/categories/Others/Cong-cu-lap-trinh/"},{"name":"Part IV - Selected Topics","slug":"The-Art-of-Readable-Code/Part-IV-Selected-Topics","link":"/categories/The-Art-of-Readable-Code/Part-IV-Selected-Topics/"},{"name":"Part III - Reorganizing Your Code","slug":"The-Art-of-Readable-Code/Part-III-Reorganizing-Your-Code","link":"/categories/The-Art-of-Readable-Code/Part-III-Reorganizing-Your-Code/"},{"name":"Part I - Surface-Level Improvements","slug":"The-Art-of-Readable-Code/Part-I-Surface-Level-Improvements","link":"/categories/The-Art-of-Readable-Code/Part-I-Surface-Level-Improvements/"},{"name":"Part II - Simplifying Loops and Logic","slug":"The-Art-of-Readable-Code/Part-II-Simplifying-Loops-and-Logic","link":"/categories/The-Art-of-Readable-Code/Part-II-Simplifying-Loops-and-Logic/"},{"name":"special day","slug":"special-day","link":"/categories/special-day/"},{"name":"Unit Test","slug":"Unit-Test","link":"/categories/Unit-Test/"},{"name":"Asynchronous","slug":"JAVaScript/Asynchronous","link":"/categories/JAVaScript/Asynchronous/"},{"name":"MongoDB","slug":"Database/MongoDB","link":"/categories/Database/MongoDB/"},{"name":"React","slug":"JAVaScript/React","link":"/categories/JAVaScript/React/"},{"name":"MySQL","slug":"Database/MySQL","link":"/categories/Database/MySQL/"},{"name":"Event","slug":"JAVaScript/Event","link":"/categories/JAVaScript/Event/"},{"name":"SÆ°u táº§m","slug":"Others/Suu-tam","link":"/categories/Others/Suu-tam/"}]}