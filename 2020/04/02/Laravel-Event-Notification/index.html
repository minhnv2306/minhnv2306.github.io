<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>[Laravel] Event vs Notification - Hello, I am Minh</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="Hello, I am Minh"><meta name="msapplication-TileImage" content="/img/my_favicon.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Hello, I am Minh"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="Có hai khái niệm mọi người hay lúng túng khi sử dụng, đó là sự kiện (Event) và thông báo (Notification). Hai khái niệm này khá tương đồng, nó được sử dụng để quảng bá (broadcast) một thông điệp gì đó"><meta property="og:type" content="blog"><meta property="og:title" content="[Laravel] Event vs Notification"><meta property="og:url" content="http://yoursite.com/2020/04/02/Laravel-Event-Notification/"><meta property="og:site_name" content="Hello, I am Minh"><meta property="og:description" content="Có hai khái niệm mọi người hay lúng túng khi sử dụng, đó là sự kiện (Event) và thông báo (Notification). Hai khái niệm này khá tương đồng, nó được sử dụng để quảng bá (broadcast) một thông điệp gì đó"><meta property="og:locale" content="en_US"><meta property="og:image" content="http://yoursite.com/img/og_image.png"><meta property="article:published_time" content="2020-04-02T15:51:43.000Z"><meta property="article:modified_time" content="2021-04-10T00:07:10.626Z"><meta property="article:author" content="Ming"><meta property="article:tag" content="event notification"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://yoursite.com/2020/04/02/Laravel-Event-Notification/"},"headline":"[Laravel] Event vs Notification","image":["http://yoursite.com/img/og_image.png"],"datePublished":"2020-04-02T15:51:43.000Z","dateModified":"2021-04-10T00:07:10.626Z","author":{"@type":"Person","name":"Ming"},"description":"Có hai khái niệm mọi người hay lúng túng khi sử dụng, đó là sự kiện (Event) và thông báo (Notification). Hai khái niệm này khá tương đồng, nó được sử dụng để quảng bá (broadcast) một thông điệp gì đó"}</script><link rel="canonical" href="http://yoursite.com/2020/04/02/Laravel-Event-Notification/"><link rel="icon" href="/img/my_favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" defer></script><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><script src="https://www.googletagmanager.com/gtag/js?id=UA-112002191-2" async></script><script>window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
    
        gtag('config', 'UA-112002191-2');</script><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><!--!--><!--!--><meta name="generator" content="Hexo 5.4.0"></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.png" alt="Hello, I am Minh" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a><a class="navbar-item" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="http://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a><a class="navbar-item is-hidden-tablet catalogue" title="Catalogue" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2020-04-02T15:51:43.000Z" title="4/2/2020, 10:51:43 PM">2020-04-02</time></span><span class="level-item">Updated&nbsp;<time dateTime="2021-04-10T00:07:10.626Z" title="4/10/2021, 7:07:10 AM">2021-04-10</time></span><span class="level-item"><a class="link-muted" href="/categories/Development-and-Operation/">Development and Operation</a><span> / </span><a class="link-muted" href="/categories/Development-and-Operation/Laravel/">Laravel</a></span><span class="level-item">32 minutes read (About 4858 words)</span><span class="level-item" id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span>&nbsp;visits</span></div></div><h1 class="title is-3 is-size-4-mobile">[Laravel] Event vs Notification</h1><div class="content"><p>Có hai khái niệm mọi người hay lúng túng khi sử dụng, đó là sự kiện (Event) và thông báo (Notification). Hai khái niệm này khá tương đồng, nó được sử dụng để quảng bá (broadcast) một thông điệp gì đó từ server đến cho người dùng. Đôi khi trong ứng dụng của bạn, bạn có thể áp dụng cái này thay cho cái kia, và tất nhiên ứng dụng vẫn hoạt động bình thường. Tuy nhiên để cho đúng ngữ nghĩa, tôi xin so sánh qua về sự khác nhau của 2 khái niệm này và các áp dụng nó trong Laravel.<br><a id="more"></a></p>
<h1 id="Su-kien-Event"><a href="#Su-kien-Event" class="headerlink" title="Sự kiện (Event)"></a>Sự kiện (Event)</h1><p>Sự kiện theo mình hiểu là một điều gì đó xảy ra trong hệ thống và cần có các phản ứng lại (lắng nghe) sự kiện đó. Khái niệm này không chỉ với Laravel, nó rộng hơn là với cả JavaScript, bên JS có lẽ còn sử dụng nhiều hơn, các listener thường được truyền dưới dạng callback. Trong cuộc sống hằng ngày chúng ta cũng có rất nhiều sự kiện: ví dụ như khi bạn mua hàng, bạn đã đặt hàng xong, đó sẽ là 1 sự kiện với cửa hàng, họ cần lắng nghe sự kiện này sau đó thực hiện các nhiệm vụ ghi hóa đơn, gửi thông báo mua hàng cho bạn qua email, thực hiện thanh toán.</p>
<p>Như vậy rất rõ ràng, 1 sự kiện sẽ bao gồm 2 phần chính: <strong>Đăng ký sự kiện</strong> và <strong>Lắng nghe</strong> - khi sự kiện xảy ra thì xử lý như thế nào.</p>
<h2 id="Laravel-su-dung-su-kien-nhu-the-nao"><a href="#Laravel-su-dung-su-kien-nhu-the-nao" class="headerlink" title="Laravel sử dụng sự kiện như thế nào"></a>Laravel sử dụng sự kiện như thế nào</h2><p>Đầu tiên để đăng kí sự kiện trong Laravel, bạn sử dụng lệnh <code>artisan</code> để tạo:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">php artisan make:event EventName</span><br></pre></td></tr></table></figure><br>Bạn có để ý 1 chú ý nhỏ trên docs và các bài hướng dẫn Laravel, EventName thường sẽ ở <strong>dạng quá khứ</strong>, ví dụ như: sản phẩm đã được mua, bài viết đã được click, người dùng đã đăng kí tài khoản …Do đó đây cũng là lưu ý nhỏ khi bạn đặt tên các sự kiện. Một vài ví dụ về tên sự kiện bạn có thể gặp:</p>
<ul>
<li><code>ProductPurchased</code></li>
<li><code>OrderShipped</code></li>
<li><code>UserRegistered</code></li>
</ul>
<p>Khi đã đăng kí sự kiện rồi, công việc tiếp theo là đăng kí Listenner để xử lý khi sự kiện xảy ra:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">php artisan make:listener ListenerName</span><br></pre></td></tr></table></figure><br>Lại một chú ý nữa, tên của listener thì vẫn như các phương thức bình thường =)). Một vài tên listener bạn có thể tham khảo:</p>
<ul>
<li><code>SendEmailVerificationNotification</code></li>
<li><code>AwardAchievements</code></li>
<li><code>SendShipmentNotification</code></li>
</ul>
<p>Tiếp theo chúng ta cần đăng kí event với listener.</p>
<p>Như vậy chúng ta đã có Event và Listener, tuy nhiên chúng đang tồn tại độc lập mà không có sự liên kết. Để liên kết chúng lại với nhau, chúng ta sẽ đăng kí trong file <code>App\Providers\EventServiceProvider</code>. Một sự kiện có thể được đăng kí nhiều listener là một listener cũng có thể thuộc nhiều event, nhưng trường hợp này có lẽ hiếm:<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">App</span>\<span class="title">Providers</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">use</span> <span class="title">App</span>\<span class="title">Events</span>\<span class="title">ProductPurchased</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">App</span>\<span class="title">Listeners</span>\<span class="title">AwardAchievements</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Auth</span>\<span class="title">Events</span>\<span class="title">Registered</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Auth</span>\<span class="title">Listeners</span>\<span class="title">SendEmailVerificationNotification</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Foundation</span>\<span class="title">Support</span>\<span class="title">Providers</span>\<span class="title">EventServiceProvider</span> <span class="title">as</span> <span class="title">ServiceProvider</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Support</span>\<span class="title">Facades</span>\<span class="title">Event</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">EventServiceProvider</span> <span class="keyword">extends</span> <span class="title">ServiceProvider</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * The event listener mappings for the application.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@var</span> array</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="variable">$listen</span> = [</span><br><span class="line">        Registered::class =&gt; [</span><br><span class="line">            SendEmailVerificationNotification::class,</span><br><span class="line">        ],</span><br><span class="line">        ProductPurchased::class =&gt; [</span><br><span class="line">            AwardAchievements::class,</span><br><span class="line">        ],</span><br><span class="line">    ];</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Register any events for your application.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> void</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">boot</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="built_in">parent</span>::boot();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="Mot-vai-thong-tin-khac-ve-su-kien-trong-Laravel"><a href="#Mot-vai-thong-tin-khac-ve-su-kien-trong-Laravel" class="headerlink" title="Một vài thông tin khác về sự kiện trong Laravel"></a>Một vài thông tin khác về sự kiện trong Laravel</h2><p><strong>1. Sự kiện này có thể được đăng kí bằng cách khác</strong>. </p>
<p>Bạn đăng kí tên event, listener class vào luôn file <code>EventServiceProvider</code> rồi sau đó sinh sự kiện bằng:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">php artisan event:generate</span><br></pre></td></tr></table></figure><br>Hãy sử dụng cả namespace file đó để tạo file đúng như dự kiến nhé.<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">use</span> <span class="title">App</span>\<span class="title">Events</span>\<span class="title">ProductPurchased</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">App</span>\<span class="title">Listeners</span>\<span class="title">AwardAchievements</span>;</span><br></pre></td></tr></table></figure><br>Vì nếu không có use này nó sẽ tạo luôn ở thư mục với <code>EventServiceProvider</code>.</p>
<p><strong>2. Laravel có thể tự tìm kiếm được sự kiện và listener</strong></p>
<p>Bạn không cần đăng kí vào <code>$listen</code> trong file <code>EventServiceProvider</code> (không khuyến khích cách này vì khó theo dõi sự kiện)<br>Để làm việc này, bạn hãy sử dụng thêm phương thức trong <code>EventServiceProvider</code><br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Determine if events and listeners should be automatically discovered.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> bool</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">shouldDiscoverEvents</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><strong>3. Các Event trong Laravel hoàn toàn có thể đẩy vào hàng đợi giúp tăng tốc độ xử lý (ví dụ như thao tác gửi mail có thể mất nhiều thời gian)</strong></p>
<p><strong>4. Dispatching Events</strong></p>
<p>Để phát ra sự kiện, có thể sử dụng phương thức <code>dispatch()</code> của event. Tuy nhiên để cú pháp đơn giản, bạn sử dụng luôn helper event cho tiện :D<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ProductPurchased::dispatch(<span class="string">&#x27;toy&#x27;</span>);</span><br><span class="line">event(<span class="keyword">new</span> ProductPurchased(<span class="string">&#x27;toy&#x27;</span>));</span><br></pre></td></tr></table></figure><br><strong>5. Xem danh sách các sự kiện và listener tương ứng</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">php aritsan event:list</span><br></pre></td></tr></table></figure><br>Ngoài ra còn có các lệnh sau liên quan đến event:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">event</span><br><span class="line"> event:cache                  Discover and cache the application&#39;s events and listeners</span><br><span class="line"> event:clear                  Clear all cached events and listeners</span><br><span class="line"> event:generate               Generate the missing events and listeners based on registration</span><br><span class="line"> event:list                   List the application&#39;s events and listeners</span><br></pre></td></tr></table></figure><br><strong>6. Event Subscribers</strong></p>
<p>Event Subscribers sử dụng để theo dõi các sự kiện trong chính các class đó, cho phép bạn định nghĩa các event handlers trong 1 lớp đơn. Phần này bạn hiểu là không cần sử dụng nhiều listener cho mỗi sự kiện mà sử dụng nó thành 1 lớp đơn …</p>
<ul>
<li>Tạo Event Subscribers<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">App</span>\<span class="title">Listeners</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">OrderEventSubscriber</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Handle user buy a product.</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">handleBuyProduct</span>(<span class="params"><span class="variable">$event</span></span>) </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Handle order are shipped.</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">handleSendOrderEmail</span>(<span class="params"><span class="variable">$event</span></span>) </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Register the listeners for the subscriber.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span>  \Illuminate\Events\Dispatcher  $events</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">subscribe</span>(<span class="params"><span class="variable">$events</span></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="variable">$events</span>-&gt;listen(</span><br><span class="line">            <span class="string">&#x27;App\Events\ProductPurchased&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;App\Listeners\UserEventSubscriber@handleBuyProduct&#x27;</span></span><br><span class="line">        );</span><br><span class="line"></span><br><span class="line">        <span class="variable">$events</span>-&gt;listen(</span><br><span class="line">            <span class="string">&#x27;App\Events\OrderShipped&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;App\Listeners\UserEventSubscriber@handleSendOrderEmail&#x27;</span></span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>Đăng kí Event Subscribers</li>
</ul>
<p>Sử dụng biến <code>$subscribers</code> nhé:<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">App</span>\<span class="title">Providers</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Foundation</span>\<span class="title">Support</span>\<span class="title">Providers</span>\<span class="title">EventServiceProvider</span> <span class="title">as</span> <span class="title">ServiceProvider</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">EventServiceProvider</span> <span class="keyword">extends</span> <span class="title">ServiceProvider</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * The event listener mappings for the application.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@var</span> array</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="variable">$listen</span> = [</span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">    ];</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * The subscriber classes to register.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@var</span> array</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="variable">$subscribe</span> = [</span><br><span class="line">        <span class="string">&#x27;App\Listeners\OrderEventSubscriber&#x27;</span>,</span><br><span class="line">    ];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>Phần này được sử dụng khi mà các tập sự kiện có liên quan đến nhau, như vậy sẽ tiện theo dõi hơn. Như ví dụ ở trên, người ta nhóm các tập sự kiện liên quan đến đơn hàng vào 1 listener duy nhất :D</p>
<h1 id="Tong-ket-ve-su-kien"><a href="#Tong-ket-ve-su-kien" class="headerlink" title="Tổng kết về sự kiện"></a>Tổng kết về sự kiện</h1><ul>
<li>Như vậy 1 sự kiện có 2 phần: <strong>Đăng kí event</strong> (thư mục <code>App\Events</code>) và <strong>Xử lý sự kiện dưới dạng Listener</strong> (<code>App\Listeners</code>).</li>
<li>Sự kiện có thể đẩy vào hàng đợi.</li>
<li>Laravel có cung cấp chức năng discover events.</li>
<li>Khi có 1 tập sự kiện liên quan mà không muốn chia nhỏ Listener (Ví dụ như authentication, xử lý đơn hàng), bạn có thể nhóm chngs lại với Event Subscribers tạo 1 listener duy nhất).</li>
</ul>
<h1 id="Notification"><a href="#Notification" class="headerlink" title="Notification"></a>Notification</h1><p>Hãy trở lại bài toán mua hàng ở bên trên. Khi mà một người dùng mua hàng, chúng ta tạo ra một thông báo. Thông báo này có nhiệm vụ gửi một tin nhắn đến cho người dùng, tin nhắn này có thể là SMS/Slack-messgae/Email hoặc một thông báo lên web như facebook. Chúng ta chọn thông báo vì chúng ta muốn gửi một “message” giống nhau thông qua nhiều channel.</p>
<p>Khoan hãy so sánh về sự kiện và thông báo, hãy cùng xem Laravel thực hiện nó như thế nào</p>
<h2 id="Tao-mot-thong-bao"><a href="#Tao-mot-thong-bao" class="headerlink" title="Tạo một thông báo"></a>Tạo một thông báo</h2><p>Để tạo 1 thông báo trong Laravel, khá đơn giản, bạn sử dụng lệnh artisan</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">php artisan make:notification InvoicePaid</span><br></pre></td></tr></table></figure>
<p>Mặc định, class <strong>Notification</strong> này sẽ có 1 phương thức cho 2 channel để gửi thông báo là email và database. Về cách sử dụng của các channel này mình sẽ đề cập trong phần sau</p>
<h2 id="Gui-thong-bao"><a href="#Gui-thong-bao" class="headerlink" title="Gửi thông báo"></a>Gửi thông báo</h2><p>Thông báo có thể gửi bằng 2 cách: sử dụng phương thức notify của trait <code>Notifiable</code> hoặc sử dụng <code>Notification</code> facade:<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">use</span> <span class="title">App</span>\<span class="title">Notifications</span>\<span class="title">InvoicePaid</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable">$user</span>-&gt;notify(<span class="keyword">new</span> InvoiceaymentPaid(<span class="variable">$invoice</span>));</span><br></pre></td></tr></table></figure><br>Hoặc<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Notification::send(request()-&gt;user(), <span class="keyword">new</span> InvoiceaymentPaid());</span><br></pre></td></tr></table></figure></p>
<h2 id="Mot-vai-thong-tin-khac-ve-notification-trong-Laravel"><a href="#Mot-vai-thong-tin-khac-ve-notification-trong-Laravel" class="headerlink" title="Một vài thông tin khác về notification trong Laravel"></a>Một vài thông tin khác về notification trong Laravel</h2><p><strong>1. Bạn có thể chọn kênh gửi, một hoặc nhiều</strong></p>
<p>Nó phụ thuộc vào biến <code>$notification</code> thông qua phương thức <code>via</code>. Có thể thêm điều kiện nha :D<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Get the notification&#x27;s delivery channels.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span>  mixed  $notifiable</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> array</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">via</span>(<span class="params"><span class="variable">$notifiable</span></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable">$notifiable</span>-&gt;prefers_sms ? [<span class="string">&#x27;nexmo&#x27;</span>] : [<span class="string">&#x27;mail&#x27;</span>, <span class="string">&#x27;database&#x27;</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><strong>2. Queueing Notifications</strong></p>
<p>Cũng giống như sự kiện, bạn hoàn toàn có thể đặt thông báo của mình vào queue để tăng tốc độ xử lý</p>
<p><strong>3. Gửi thông báo theo yêu cầu</strong></p>
<p>Đôi khi bạn cần gửi thông báo tới 1 vài người không được lưu trữ như là 1 “user” trong ứng dụng của bạn. Hãy sử dụng phương thức Notification::route, bạn có thể chỉ định được người nhận thông báo:<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Notification::route(<span class="string">&#x27;mail&#x27;</span>, <span class="string">&#x27;taylor@example.com&#x27;</span>)</span><br><span class="line">    -&gt;route(<span class="string">&#x27;nexmo&#x27;</span>, <span class="string">&#x27;5555555555&#x27;</span>)</span><br><span class="line">    -&gt;notify(<span class="keyword">new</span> InvoicePaid(<span class="variable">$invoice</span>));</span><br></pre></td></tr></table></figure></p>
<h2 id="Kenh-chuyen-tiep-thong-tin"><a href="#Kenh-chuyen-tiep-thong-tin" class="headerlink" title="Kênh chuyển tiếp thông tin"></a>Kênh chuyển tiếp thông tin</h2><p>Laravel cung cấp cho bạn <strong>rất nhiều</strong> các channel cho phép bạn chuyển tiếp thông báo tới người dùng. Trong phạm vi bài viết, mình giới thiệu 2 kênh cơ bản là Database và Email, các channel.<br>Tất cả các channel để gửi thông báo bạn chỉ cần thực hiện 2 việc: đầu tiên, khai báo channel bạn muốn sử dụng đó vào phương thức <code>via</code> và sau đó sử dụng phương thức tương ứng trong class Notification để xử lý các gửi mail hoặc nội dung thông báo.</p>
<h3 id="Mail-Notifications"><a href="#Mail-Notifications" class="headerlink" title="Mail Notifications"></a>Mail Notifications</h3><p>Để sử dụng gửi thông báo qua email, bạn đăng kí nó trong <code>via</code> trước (cái này mặc định laravel đã sử dụng)<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">via</span>(<span class="params"><span class="variable">$notifiable</span></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> [<span class="string">&#x27;mail&#x27;</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>Sau đó thực hiện gửi mai như thế nào, gửi tới ai và nội dung gì, bạn hoàn toàn thực hiện trong phương thức toMail của lớp Notification:<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Get the mail representation of the notification.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span>  mixed  $notifiable</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> \Illuminate\Notifications\Messages\MailMessage</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">toMail</span>(<span class="params"><span class="variable">$notifiable</span></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="variable">$url</span> = url(<span class="string">&#x27;/invoice/&#x27;</span>.<span class="keyword">$this</span>-&gt;invoice-&gt;id);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> (<span class="keyword">new</span> MailMessage)</span><br><span class="line">        -&gt;greeting(<span class="string">&#x27;Hello!&#x27;</span>)</span><br><span class="line">        -&gt;line(<span class="string">&#x27;One of your invoices has been paid!&#x27;</span>)</span><br><span class="line">        -&gt;action(<span class="string">&#x27;View Invoice&#x27;</span>, <span class="variable">$url</span>)</span><br><span class="line">        -&gt;line(<span class="string">&#x27;Thank you for using our application!&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>Bạn hoàn toàn có thể tùy biến việc gửi mail này như chọn template, xử lý lỗi, chọn người gửi, người nhận, xử lý queue. Chi tiết có thể xem tại trang chủ.</p>
<h3 id="Database-Notifications"><a href="#Database-Notifications" class="headerlink" title="Database Notifications"></a>Database Notifications</h3><p>Phần này mình cũng thấy khá hay. Database channel sẽ lưu trữ thông tin thông báo vào database. Bảng này sẽ chưa các thông tin như loại thông báo cũng như dữ liệu dạng JSON tùy chỉnh mô tả cho thông báo. </p>
<p>Đầu tiên bạn tạo bảng và migrate dữ liệu<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">php artisan notifications:table</span><br><span class="line"></span><br><span class="line">php artisan migrate</span><br></pre></td></tr></table></figure><br>Bảng notification sẽ có những trường cơ bản sau:</p>
<ul>
<li><strong>id</strong>: khóa</li>
<li><strong>type</strong>: Tham chiếu tới <code>Notification</code> class. Bạn có thể check type này để hiển thị thông báo phù hợp. Như ví dụ trên trường này sẽ là <code>App\Notifications\PaymentReceived</code></li>
<li><strong>notifiable_type</strong>: Class nào phát ra thông báo. Ví dụ thường là user: <code>App\User</code></li>
<li><strong>notifiable_id</strong>: id của <strong>notifiable_type</strong></li>
<li><strong>data</strong>: dữ liệu dạng JSON về các thông tin của thông báo. Ví dụ <figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;amount&quot;</span>: <span class="number">90</span>,</span><br><span class="line">    <span class="attr">&quot;customer_name&quot;</span>: <span class="string">&quot;Ming&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
Từ data này bạn có thể tạo ra các nội dung thông báo phù hợp.</li>
<li><strong>read_at</strong>: trường này để xác định thông báo đã được đọc lúc nào, tất nhiên mặc định nó sẽ là null. Các thông báo chưa đọc hay đã đọc sẽ được load dựa vào trường này.</li>
<li><strong>created_at</strong>, <strong>updated_at</strong>: lưu tời gian và update thông báo</li>
</ul>
<p>Đăng kí channel trong phương thức <code>via</code></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">via</span>(<span class="params"><span class="variable">$notifiable</span></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> [<span class="string">&#x27;mail&#x27;</span>, <span class="string">&#x27;database&#x27;</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Format thông báo dựa vào 2 phương thức <code>toDatabase</code> và <code>toArray</code>. Các phương thức này sẽ nhận vào $notifiable và sẽ trả về dạng mảng. Kết quả mảng trả về sẽ được encoded như JSON được lưu trữ trong cột data của bảng <code>notifications</code>:<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Get the array representation of the notification.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span>  mixed  $notifiable</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> array</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">toArray</span>(<span class="params"><span class="variable">$notifiable</span></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> [</span><br><span class="line">        <span class="string">&#x27;invoice_id&#x27;</span> =&gt; <span class="keyword">$this</span>-&gt;invoice-&gt;id,</span><br><span class="line">        <span class="string">&#x27;amount&#x27;</span> =&gt; <span class="keyword">$this</span>-&gt;invoice-&gt;amount,</span><br><span class="line">    ];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p><strong>toDatabase Vs. toArray</strong></p>
<p>The <code>toArray</code> method is also used by the broadcast channel to determine which data to broadcast to your JavaScript client. If you would like to have two different array representations for the database and broadcast channels, you should define a  toDatabase method instead of a <code>toArray</code> method.</p>
</blockquote>
<p><strong>Lấy dữ liệu thông báo</strong></p>
<p>Một vài phương thức lấy dữ liệu thông báo:</p>
<p>Lấy hết<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$user</span> = App\User::find(<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">foreach</span> (<span class="variable">$user</span>-&gt;notifications <span class="keyword">as</span> <span class="variable">$notification</span>) &#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="variable">$notification</span>-&gt;type;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>Lấy các thông báo chưa đọc<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$user</span> = App\User::find(<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">foreach</span> (<span class="variable">$user</span>-&gt;unreadNotifications <span class="keyword">as</span> <span class="variable">$notification</span>) &#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="variable">$notification</span>-&gt;type;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>Đánh dấu đã đọc thông báo<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$user</span> = App\User::find(<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">foreach</span> (<span class="variable">$user</span>-&gt;unreadNotifications <span class="keyword">as</span> <span class="variable">$notification</span>) &#123;</span><br><span class="line">    <span class="variable">$notification</span>-&gt;markAsRead();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>Hoặc<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$user</span>-&gt;unreadNotifications-&gt;markAsRead();</span><br></pre></td></tr></table></figure><br>Xóa thông báo<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$user</span>-&gt;notifications()-&gt;delete();</span><br></pre></td></tr></table></figure><br>Ngoài ra Laravel còn cung cấp các channel khác giúp bạn gửi thông báo tiện dụng</p>
<ul>
<li><strong>SMS Notifications</strong>: Gửi thông báo qua tin nhắn SMS.</li>
</ul>
<p>Bạn có thể tham khảo thêm tại:</p>
<p><a target="_blank" rel="noopener" href="https://laravel.com/docs/5.8/notifications#sending-notifications">https://laravel.com/docs/5.8/notifications#sending-notifications</a></p>
<p>và </p>
<p><a target="_blank" rel="noopener" href="https://laracasts.com/series/laravel-6-from-scratch/episodes/48">https://laracasts.com/series/laravel-6-from-scratch/episodes/48</a></p>
<ul>
<li><strong>Slack Notifications</strong>: Gửi thông báo qua hệ thống chat Slack.</li>
<li><strong>Broadcast Notifications</strong>: Quảng bá thông báo với Pusher và Laravel Echo.</li>
</ul>
<h1 id="Tong-ket-ve-thong-bao"><a href="#Tong-ket-ve-thong-bao" class="headerlink" title="Tổng kết về thông báo"></a>Tổng kết về thông báo</h1><ul>
<li>Thông báo có thể được xem là cách thức gửi 1 thông điệp đến người dùng bằng nhiều kênh khác nhau. Hoặc nó cũng là gửi 1 thông điệp giống nhau đến nhiều người dùng khác nhau.</li>
<li>Chọn kênh gửi qua phương thức <code>via</code>, format nội dung và thực hiện gửi thông qua các phương thức <code>toArray</code>, <code>toMail</code>,… tương ứng</li>
<li>Thông báo hoàn toàn có thể đặt vào hàng đợi để tránh block ứng dụng.</li>
<li>Laravel cung cấp đầy đủ các hàm cho thông báo: lấy tất cả thông báo, lấy các thông báo đã đọc, chưa đọc, hay các hàm đọc thông báo, đánh dấu chưa đọc, xóa :D</li>
</ul>
<h1 id="Tan-man-ve-su-kien-vs-thong-bao"><a href="#Tan-man-ve-su-kien-vs-thong-bao" class="headerlink" title="Tản mạn về sự kiện vs thông báo"></a>Tản mạn về sự kiện vs thông báo</h1><p>Chúng ta có thể thấy rằng, khi đặt xong 1 đơn hàng, server cần gửi 1 email về thông tin đơn hàng đến cho client, và lúc này chúng ta dùng event hay notification để thực hiện đều được. Tuy nhiên để cho đúng ngữ nghĩa, tôi nghĩ chúng ta nên sử dụng thông báo.</p>
<p>Sự kiện nên được sử dụng khi chúng ta cần làm 1 số việc gì đó khi điều kiện cho trước xảy ra và các công việc phản ứng lại sự kiện này <strong>PHẢI</strong> được thực hiện trong luồng làm việc, ví dụ </p>
<ul>
<li>Sự kiện gửi email kích hoạt khi người dùng đăng kí</li>
<li>Sự kiện cập nhật lượng view bài viết khi 1 bài viết được click vào …</li>
</ul>
<p>(trong các ví dụ trên, sự kiện mà <strong>không thực hiện thì sai logic</strong>). Sự kiện thường là các thao tác database, đôi khi là gửi email</p>
<p>Thông báo thì khác, nó nên được sử dụng để ghi lại cái đã xảy ra, ví dụ như:</p>
<ul>
<li>1 ai đó đã thích ảnh của bạn =&gt; ghi lại hành động này thông báo tới client, </li>
<li>1 hàng động đặt hàng của bạn vừa hoàn tất =&gt; ghi lại việc đặt hàng và gửi tới cho client qua email, SMS, không cần user xác nhận gì mà chỉ xem lại nếu muốn =))</li>
</ul>
<p>Như vậy thông báo chỉ là bổ sung chức năng cho ứng dụng, không cần phản hồi từ người dùng. Thông báo là 1 cách tốt để gửi 1 thông điệp qua nhiều kênh hoặc gửi 1 thông điệp tới nhiều người dùng khác nhau.</p>
<p>Cái này chỉ là tự bản thân mình thấy thôi, tùy vào ứng dụng mà bạn chọn event hay notification cho hợp lý nhé. Tất nhiên cũng đừng sử dụng event kiểu như sau khi đơn hàng được tạo thì tạo chuỗi event: gửi email tới client, gửi SMS tới client thì cũng hơi kì :D</p>
<h1 id="Tai-lieu-tham-khao"><a href="#Tai-lieu-tham-khao" class="headerlink" title="Tài liệu tham khảo"></a>Tài liệu tham khảo</h1><ul>
<li><a target="_blank" rel="noopener" href="https://laravel.com/docs/5.8/notifications#sending-notifications">Notifications Laravel</a></li>
<li><a target="_blank" rel="noopener" href="https://laravel.com/docs/5.8/events#introduction">Events Laravel</a></li>
<li><a target="_blank" rel="noopener" href="https://laracasts.com/series/laravel-6-from-scratch/episodes/48">Laracast</a></li>
<li><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/39314809/laravel-broadcasting-notification-vs-event">Laravel Broadcasting: Notification vs Event - StackOverFlow</a></li>
</ul>
</div><div class="article-licensing box"><div class="licensing-title"><p>[Laravel] Event vs Notification</p><p><a href="http://yoursite.com/2020/04/02/Laravel-Event-Notification/">http://yoursite.com/2020/04/02/Laravel-Event-Notification/</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>Author</h6><p>Ming</p></div></div><div class="level-item is-narrow"><div><h6>Posted on</h6><p>2020-04-02</p></div></div><div class="level-item is-narrow"><div><h6>Updated on</h6><p>2021-04-10</p></div></div><div class="level-item is-narrow"><div><h6>Licensed under</h6><p><a class="icon" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a><a class="icon" rel="noopener" target="_blank" title="Attribution" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a><a class="icon" rel="noopener" target="_blank" title="Noncommercial" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="fab fa-creative-commons-nc"></i></a></p></div></div></div></div></div><div class="article-tags is-size-7 mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/tags/event-notification/">event notification</a></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/css/share.min.css"><div class="social-share"></div><script src="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/js/social-share.min.js"></script></article></div><div class="card"><div class="card-content"><h3 class="menu-label has-text-centered">Like this article? Support the author with</h3><div class="buttons is-centered"><a class="button donate" href="https://www.buymeacoffee.com/mingnv" target="_blank" rel="noopener" data-type="buymeacoffee"><span class="icon is-small"><i class="fas fa-coffee"></i></span><span>Buy me a coffee</span></a></div></div></div><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/2020/04/03/SQL-Note-1-GROUP-BY-create-update-multiple-records-Config-MySQL/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">[SQL] Note 1: GROUP BY, create-update multiple records, Config MySQL</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2020/02/06/Config-nhieu-tai-khoan-github-tren-cung-1-may/"><span class="level-item">Config nhiều tài khoản github trên cùng 1 máy</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">Comments</h3><div id="disqus_thread"><noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div><script>var disqus_config = function () {
            this.page.url = 'http://yoursite.com/2020/04/02/Laravel-Event-Notification/';
            this.page.identifier = '2020/04/02/Laravel-Event-Notification/';
        };
        (function() {
            var d = document, s = d.createElement('script');  
            s.src = '//' + 'minh' + '.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        })();</script></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="https://octodex.github.com/images/spidertocat.png" alt="Minh NV"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">Minh NV</p><p class="is-size-6 is-block">_N.V.M_</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Hanoi city, Vietnam</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">115</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title">33</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">44</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/minhnv2306" target="_blank" rel="noopener">Follow</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/minhnv2306"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Facebook" href="https://www.facebook.com/profile.php?id=100003860456359"><i class="fab fa-facebook"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Twitter" href="http://twitter.com"><i class="fab fa-twitter"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Dribbble" href="http://dribbble.com"><i class="fab fa-dribbble"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/"><i class="fas fa-rss"></i></a></div></div></div><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">Recents</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-08-01T11:33:54.000Z">2021-08-01</time></p><p class="title"><a href="/2021/08/01/Tan-man-ve-index-trong-MySQL/">Tản mạn về index trong MySQL</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-07-14T14:54:50.000Z">2021-07-14</time></p><p class="title"><a href="/2021/07/14/Section-18-Account-Management-Billing-Support/">Section 18- Account Management, Billing &amp; Support</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-06-11T11:28:44.000Z">2021-06-11</time></p><p class="title"><a href="/2021/06/11/Note-choi-choi-1106/">Note chơi chơi 1106</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-05-22T15:59:30.000Z">2021-05-22</time></p><p class="title"><a href="/2021/05/22/Section-16-Security-Compliance/">Section 16- Security &amp; Compliance</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-05-22T03:31:32.000Z">2021-05-22</time></p><p class="title"><a href="/2021/05/22/Section-14-Cloud-Monitoring/">Section 14- Cloud Monitoring</a></p></div></article></div></div><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">Categories</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/AWS-Training/"><span class="level-start"><span class="level-item">AWS Training</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/Authentication/"><span class="level-start"><span class="level-item">Authentication</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Clean-our-code/"><span class="level-start"><span class="level-item">Clean our code</span></span><span class="level-end"><span class="level-item tag">13</span></span></a><ul><li><a class="level is-mobile" href="/categories/Clean-our-code/Clean-code-Robert-C-Martin/"><span class="level-start"><span class="level-item">Clean code - Robert C. Martin</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/categories/Clean-our-code/Refactoring-to-Collections/"><span class="level-start"><span class="level-item">Refactoring to Collections</span></span><span class="level-end"><span class="level-item tag">8</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Database/"><span class="level-start"><span class="level-item">Database</span></span><span class="level-end"><span class="level-item tag">2</span></span></a><ul><li><a class="level is-mobile" href="/categories/Database/MongoDB/"><span class="level-start"><span class="level-item">MongoDB</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Database/MySQL/"><span class="level-start"><span class="level-item">MySQL</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Development-and-Operation/"><span class="level-start"><span class="level-item">Development and Operation</span></span><span class="level-end"><span class="level-item tag">32</span></span></a><ul><li><a class="level is-mobile" href="/categories/Development-and-Operation/CircleCI-2-0/"><span class="level-start"><span class="level-item">CircleCI 2.0</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/Development-and-Operation/Docker/"><span class="level-start"><span class="level-item">Docker</span></span><span class="level-end"><span class="level-item tag">10</span></span></a></li><li><a class="level is-mobile" href="/categories/Development-and-Operation/Google-Cloud-Platform/"><span class="level-start"><span class="level-item">Google Cloud Platform</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/Development-and-Operation/Laravel/"><span class="level-start"><span class="level-item">Laravel</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li><li><a class="level is-mobile" href="/categories/Development-and-Operation/Linux-OS/"><span class="level-start"><span class="level-item">Linux OS</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/Development-and-Operation/Web-Server/"><span class="level-start"><span class="level-item">Web Server</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/JAVaScript/"><span class="level-start"><span class="level-item">JAVaScript</span></span><span class="level-end"><span class="level-item tag">6</span></span></a><ul><li><a class="level is-mobile" href="/categories/JAVaScript/Asynchronous/"><span class="level-start"><span class="level-item">Asynchronous</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/JAVaScript/Event/"><span class="level-start"><span class="level-item">Event</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/JAVaScript/React/"><span class="level-start"><span class="level-item">React</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/JP/"><span class="level-start"><span class="level-item">JP</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/categories/Others/"><span class="level-start"><span class="level-item">Others</span></span><span class="level-end"><span class="level-item tag">13</span></span></a><ul><li><a class="level is-mobile" href="/categories/Others/Cong-cu-lap-trinh/"><span class="level-start"><span class="level-item">Công cụ lập trình</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Others/PHPCS/"><span class="level-start"><span class="level-item">PHPCS</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/Others/Suu-tam/"><span class="level-start"><span class="level-item">Sưu tầm</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Others/Website-Optimization/"><span class="level-start"><span class="level-item">Website Optimization</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/The-Art-of-Readable-Code/"><span class="level-start"><span class="level-item">The Art of Readable Code</span></span><span class="level-end"><span class="level-item tag">19</span></span></a><ul><li><a class="level is-mobile" href="/categories/The-Art-of-Readable-Code/Chapter-1-Code-Should-Be-Easy-to-Understand/"><span class="level-start"><span class="level-item">Chapter 1 - Code Should Be Easy to Understand</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/The-Art-of-Readable-Code/Part-I-Surface-Level-Improvements/"><span class="level-start"><span class="level-item">Part I - Surface-Level Improvements</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/The-Art-of-Readable-Code/Part-II-Simplifying-Loops-and-Logic/"><span class="level-start"><span class="level-item">Part II - Simplifying Loops and Logic</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/The-Art-of-Readable-Code/Part-III-Reorganizing-Your-Code/"><span class="level-start"><span class="level-item">Part III - Reorganizing Your Code</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/The-Art-of-Readable-Code/Part-IV-Selected-Topics/"><span class="level-start"><span class="level-item">Part IV - Selected Topics</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Unit-Test/"><span class="level-start"><span class="level-item">Unit Test</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/special-day/"><span class="level-start"><span class="level-item">special day</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">Archives</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2021/08/"><span class="level-start"><span class="level-item">August 2021</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/07/"><span class="level-start"><span class="level-item">July 2021</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/06/"><span class="level-start"><span class="level-item">June 2021</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/05/"><span class="level-start"><span class="level-item">May 2021</span></span><span class="level-end"><span class="level-item tag">12</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/04/"><span class="level-start"><span class="level-item">April 2021</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/02/"><span class="level-start"><span class="level-item">February 2021</span></span><span class="level-end"><span class="level-item tag">11</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/01/"><span class="level-start"><span class="level-item">January 2021</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/06/"><span class="level-start"><span class="level-item">June 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/05/"><span class="level-start"><span class="level-item">May 2020</span></span><span class="level-end"><span class="level-item tag">23</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/04/"><span class="level-start"><span class="level-item">April 2020</span></span><span class="level-end"><span class="level-item tag">12</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/02/"><span class="level-start"><span class="level-item">February 2020</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/01/"><span class="level-start"><span class="level-item">January 2020</span></span><span class="level-end"><span class="level-item tag">13</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/12/"><span class="level-start"><span class="level-item">December 2019</span></span><span class="level-end"><span class="level-item tag">12</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/11/"><span class="level-start"><span class="level-item">November 2019</span></span><span class="level-end"><span class="level-item tag">12</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/09/"><span class="level-start"><span class="level-item">September 2019</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/07/"><span class="level-start"><span class="level-item">July 2019</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/04/"><span class="level-start"><span class="level-item">April 2019</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">Tags</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/API/"><span class="tag">API</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/CI-CD/"><span class="tag">CI/CD</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Kanji/"><span class="tag">Kanji</span><span class="tag">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Linux-command-line/"><span class="tag">Linux command line</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/apache2/"><span class="tag">apache2</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/async-programing/"><span class="tag">async programing</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/authentication/"><span class="tag">authentication</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/clean-comment/"><span class="tag">clean comment</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/clean-error/"><span class="tag">clean error</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/clean-function/"><span class="tag">clean function</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/collection/"><span class="tag">collection</span><span class="tag">8</span></a></div><div class="control"><a class="tags has-addons" href="/tags/configuration/"><span class="tag">configuration</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/docker/"><span class="tag">docker</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/docker-command/"><span class="tag">docker command</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/docker-compose-file-format/"><span class="tag">docker compose file format</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/docker-best-practice/"><span class="tag">docker-best-practice</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/docker-compose-yml/"><span class="tag">docker-compose.yml</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/docker-instructions-docker-best-practice/"><span class="tag">docker-instructions docker-best-practice</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/docker-network/"><span class="tag">docker-network</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/docker-volume/"><span class="tag">docker-volume</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/event/"><span class="tag">event</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/event-notification/"><span class="tag">event notification</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/excelfile/"><span class="tag">excelfile</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/gcp/"><span class="tag">gcp</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/git/"><span class="tag">git</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/groupby-mysql/"><span class="tag">groupby, mysql</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/jquery-validation/"><span class="tag">jquery-validation</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/kubernetes/"><span class="tag">kubernetes</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/mongoDB/"><span class="tag">mongoDB</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/naming/"><span class="tag">naming</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/phpcs/"><span class="tag">phpcs</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/phpcs-phpcsfixer/"><span class="tag">phpcs phpcsfixer</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/process-management/"><span class="tag">process management</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/react-boilerplate/"><span class="tag">react boilerplate</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/regex/"><span class="tag">regex</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/requests/"><span class="tag">requests</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/stripe/"><span class="tag">stripe</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/sudo-command/"><span class="tag">sudo command</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/tips-laravel/"><span class="tag">tips laravel</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/tracking-php-script/"><span class="tag">tracking php script</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/unit-test/"><span class="tag">unit test</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/validation/"><span class="tag">validation</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/vba/"><span class="tag">vba</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/vim/"><span class="tag">vim</span><span class="tag">1</span></a></div></div></div></div></div><div class="card widget" data-type="subscribe-email"><div class="card-content"><div class="menu"><h3 class="menu-label">Subscribe for updates</h3><form action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open(&#039;https://feedburner.google.com/fb/a/mailverify?uri=&#039;,&#039;popupwindow&#039;,&#039;scrollbars=yes,width=550,height=520&#039;);return true"><input type="hidden" value="" name="uri"><input type="hidden" name="loc" value="en_US"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button" type="submit" value="Subscribe"></div></div></form></div></div></div><div class="column-right-shadow is-hidden-widescreen is-sticky"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3 is-sticky"><div class="card widget" id="toc" data-type="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">Catalogue</h3><ul class="menu-list"><li><a class="level is-mobile" href="#Su-kien-Event"><span class="level-left"><span class="level-item">1</span><span class="level-item">Sự kiện (Event)</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Laravel-su-dung-su-kien-nhu-the-nao"><span class="level-left"><span class="level-item">1.1</span><span class="level-item">Laravel sử dụng sự kiện như thế nào</span></span></a></li><li><a class="level is-mobile" href="#Mot-vai-thong-tin-khac-ve-su-kien-trong-Laravel"><span class="level-left"><span class="level-item">1.2</span><span class="level-item">Một vài thông tin khác về sự kiện trong Laravel</span></span></a></li></ul></li><li><a class="level is-mobile" href="#Tong-ket-ve-su-kien"><span class="level-left"><span class="level-item">2</span><span class="level-item">Tổng kết về sự kiện</span></span></a></li><li><a class="level is-mobile" href="#Notification"><span class="level-left"><span class="level-item">3</span><span class="level-item">Notification</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Tao-mot-thong-bao"><span class="level-left"><span class="level-item">3.1</span><span class="level-item">Tạo một thông báo</span></span></a></li><li><a class="level is-mobile" href="#Gui-thong-bao"><span class="level-left"><span class="level-item">3.2</span><span class="level-item">Gửi thông báo</span></span></a></li><li><a class="level is-mobile" href="#Mot-vai-thong-tin-khac-ve-notification-trong-Laravel"><span class="level-left"><span class="level-item">3.3</span><span class="level-item">Một vài thông tin khác về notification trong Laravel</span></span></a></li><li><a class="level is-mobile" href="#Kenh-chuyen-tiep-thong-tin"><span class="level-left"><span class="level-item">3.4</span><span class="level-item">Kênh chuyển tiếp thông tin</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Mail-Notifications"><span class="level-left"><span class="level-item">3.4.1</span><span class="level-item">Mail Notifications</span></span></a></li><li><a class="level is-mobile" href="#Database-Notifications"><span class="level-left"><span class="level-item">3.4.2</span><span class="level-item">Database Notifications</span></span></a></li></ul></li></ul></li><li><a class="level is-mobile" href="#Tong-ket-ve-thong-bao"><span class="level-left"><span class="level-item">4</span><span class="level-item">Tổng kết về thông báo</span></span></a></li><li><a class="level is-mobile" href="#Tan-man-ve-su-kien-vs-thong-bao"><span class="level-left"><span class="level-item">5</span><span class="level-item">Tản mạn về sự kiện vs thông báo</span></span></a></li><li><a class="level is-mobile" href="#Tai-lieu-tham-khao"><span class="level-left"><span class="level-item">6</span><span class="level-item">Tài liệu tham khảo</span></span></a></li></ul></div></div><style>#toc .menu-list > li > a.is-active + .menu-list { display: block; }#toc .menu-list > li > a + .menu-list { display: none; }</style><script src="/js/toc.js" defer></script></div><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">Links</h3><ul class="menu-list"><li><a class="level is-mobile" href="https://blog.zhangruipeng.me/hexo-theme-icarus/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Icarus blog</span></span><span class="level-right"><span class="level-item tag">blog.zhangruipeng.me</span></span></a></li><li><a class="level is-mobile" href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Icarus github</span></span><span class="level-right"><span class="level-item tag">github.com</span></span></a></li></ul></div></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo.png" alt="Hello, I am Minh" height="28"></a><p class="is-size-7"><span>&copy; 2021 Ming</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a><br><span id="busuanzi_container_site_uv">Visited by <span id="busuanzi_value_site_uv">0</span> users</span></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "This website uses cookies to improve your experience.",
          dismiss: "Got it!",
          allow: "Allow cookies",
          deny: "Decline",
          link: "Learn more",
          policy: "Cookie Policy",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>