<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>Chapter 11: One Task at a Time - Hello, I am Minh</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="Hello, I am Minh"><meta name="msapplication-TileImage" content="/img/my_favicon.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Hello, I am Minh"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="Code làm rất nhiều thứ 1 lúc rất khó hiểu. A khối đơn của code có thể khởi tạo đối tượng mới, làm sạch dữ liệu, phân tích inputs và áp dụng logic, tất cả cùng 1 lúc. Nếu tất cả code đan xem với nhau,"><meta property="og:type" content="blog"><meta property="og:title" content="Chapter 11: One Task at a Time"><meta property="og:url" content="http://yoursite.com/2020/05/24/Chapter-11-One-Task-at-a-Time/"><meta property="og:site_name" content="Hello, I am Minh"><meta property="og:description" content="Code làm rất nhiều thứ 1 lúc rất khó hiểu. A khối đơn của code có thể khởi tạo đối tượng mới, làm sạch dữ liệu, phân tích inputs và áp dụng logic, tất cả cùng 1 lúc. Nếu tất cả code đan xem với nhau,"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://github.com/minhnv2306/the-art-readable-code-img/blob/master/chapter11/introduction.png?raw=true"><meta property="og:image" content="https://github.com/minhnv2306/the-art-readable-code-img/blob/master/chapter11/introduction2.png?raw=true"><meta property="og:image" content="https://github.com/minhnv2306/the-art-readable-code-img/blob/master/chapter11/upvote-downvote.png?raw=true"><meta property="og:image" content="https://github.com/minhnv2306/the-art-readable-code-img/blob/master/chapter11/extrac_values.png?raw=true"><meta property="og:image" content="https://github.com/minhnv2306/the-art-readable-code-img/blob/master/chapter11/extrac_values2.png?raw=true"><meta property="og:image" content="https://github.com/minhnv2306/the-art-readable-code-img/blob/master/chapter11/one_task_at_time.png?raw=true"><meta property="article:published_time" content="2020-05-24T14:58:55.000Z"><meta property="article:modified_time" content="2021-04-10T00:07:10.616Z"><meta property="article:author" content="Ming"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="https://github.com/minhnv2306/the-art-readable-code-img/blob/master/chapter11/introduction.png?raw=true"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://yoursite.com/2020/05/24/Chapter-11-One-Task-at-a-Time/"},"headline":"Chapter 11: One Task at a Time","image":[],"datePublished":"2020-05-24T14:58:55.000Z","dateModified":"2021-04-10T00:07:10.616Z","author":{"@type":"Person","name":"Ming"},"description":"Code làm rất nhiều thứ 1 lúc rất khó hiểu. A khối đơn của code có thể khởi tạo đối tượng mới, làm sạch dữ liệu, phân tích inputs và áp dụng logic, tất cả cùng 1 lúc. Nếu tất cả code đan xem với nhau,"}</script><link rel="canonical" href="http://yoursite.com/2020/05/24/Chapter-11-One-Task-at-a-Time/"><link rel="icon" href="/img/my_favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" defer></script><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><!--!--><!--!--><meta name="generator" content="Hexo 5.4.0"></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.png" alt="Hello, I am Minh" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a><a class="navbar-item" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="http://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a><a class="navbar-item is-hidden-tablet catalogue" title="Catalogue" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2020-05-24T14:58:55.000Z" title="5/24/2020, 9:58:55 PM">2020-05-24</time></span><span class="level-item">Updated&nbsp;<time dateTime="2021-04-10T00:07:10.616Z" title="4/10/2021, 7:07:10 AM">2021-04-10</time></span><span class="level-item"><a class="link-muted" href="/categories/The-Art-of-Readable-Code/">The Art of Readable Code</a></span><span class="level-item">32 minutes read (About 4753 words)</span><span class="level-item" id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span>&nbsp;visits</span></div></div><h1 class="title is-3 is-size-4-mobile">Chapter 11: One Task at a Time</h1><div class="content"><p>Code làm rất nhiều thứ 1 lúc rất khó hiểu. A khối đơn của code có thể khởi tạo đối tượng mới, làm sạch dữ liệu, phân tích inputs và áp dụng logic, tất cả cùng 1 lúc. Nếu tất cả code đan xem với nhau, nó sẽ khó để hiểu hơn là mỗi “task” được bắt đầu và tự hoàn thành.</p>
<img src="https://github.com/minhnv2306/the-art-readable-code-img/blob/master/chapter11/introduction.png?raw=true" class="[]">
<blockquote class="colorquote success"><p><strong>K E Y I D E A</strong><br>Code should be organized so that it’s doing only one task at a time.</p>
</blockquote>
<p>Nói cách khác, chương này đề cập đến vấn đề “phân mảnh” code của bạn. Theo dõi biểu đồ bên dưới để minh họa quá trình này: biểu đồ bên trái chỉ ra các đoạn mã khác nhau mà 1 phần của code đang làm và đoạn mã bên phải chỉ ra các đoạn code giống nhau sau khi nó được tổ chức làm 1 task 1 lúc.<br><a id="more"></a><br><img src="https://github.com/minhnv2306/the-art-readable-code-img/blob/master/chapter11/introduction2.png?raw=true" class="[]"></p>
<p>Bạn chắc hẳn đã nghe lời khuyên “hàm chỉ nên làm 1 thứ”. Lời khuyên của chung tôi tương tự vậy, nhưng nó không luôn luôn nói về ranh giới của hàm. Chắc chắn, phá vỡ các hàm lớn vào nhiều hàm nhỏ có thể tốt. Nhưng thậm chí nếu bạn không làm vậy, bạn có thể tổ chức code trong các hàm lớn để nó cảm thấy có các logic riêng biệt cho từng phần.</p>
<p>Đây là quá trình chúng ta sử dụng để tạo “one task at a time”:</p>
<ol>
<li>Liệt kê ra tất cả các “task” bạn của bạn đang làm. Chúng ta sử dung từ “task” rất lỏng lẻo - no có thể nhỏ nhất có thể như “đảm bảo object này là hợp lệ” hoặc mơ hồ như “thực hiện vòng lặp qua mỗi node của cây”.</li>
<li>Thử tách các task này nhiều nhất bạn có thể đưa vào trong các hàm khác nhau hoặc ít nhất là trong các phần mã khác nhau.</li>
</ol>
<p>Trong chương này, chúng tôi sẽ chỉ cho bạn 1 số ví dụ để làm việc này</p>
<h1 id="Tasks-Can-Be-Small"><a href="#Tasks-Can-Be-Small" class="headerlink" title="Tasks Can Be Small"></a>Tasks Can Be Small</h1><p>Giả định bạn đang có 1 phần voting cho 1 blog, người dùng có thể “Up” hoặc “Down”. Các điểm sẽ được tính là mỗi vote “Up” thì +1 và mỗi “Down” thì -1. Có 1 trạng thái người dùng có thể vote như hình sau ảnh hưởng đến điểm của bạn</p>
<img src="https://github.com/minhnv2306/the-art-readable-code-img/blob/master/chapter11/upvote-downvote.png?raw=true" class="[]">
<p>Khi người dùng click 1 button bạn thay đổi điểm bằng đoạn JavaScript sau:<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vote_changed(old_vote, new_vote); <span class="comment">// each vote is &quot;Up&quot;, &quot;Down&quot;, or &quot;&quot;</span></span><br></pre></td></tr></table></figure><br>Hàm cập nhật tổng điểm số và làm việc với cặp old_vote/new_vote như sau:<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> vote_changed = <span class="function"><span class="keyword">function</span> (<span class="params">old_vote, new_vote</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> score = get_score();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (new_vote !== old_vote) &#123;</span><br><span class="line">        <span class="keyword">if</span> (new_vote === <span class="string">&#x27;Up&#x27;</span>) &#123;</span><br><span class="line">            score += (old_vote === <span class="string">&#x27;Down&#x27;</span> ? <span class="number">2</span> : <span class="number">1</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (new_vote === <span class="string">&#x27;Down&#x27;</span>) &#123;</span><br><span class="line">            score -= (old_vote === <span class="string">&#x27;Up&#x27;</span> ? <span class="number">2</span> : <span class="number">1</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (new_vote === <span class="string">&#x27;&#x27;</span>) &#123;</span><br><span class="line">            score += (old_vote === <span class="string">&#x27;Up&#x27;</span> ? -<span class="number">1</span> : <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    set_score(score);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><br>Mặc dù code nhìn khá ngắn nhưng nó đang làm nhiều việc. Có rất nhiều chi tiết phức tạp và khó để nói xem lướt qua có bất kì lỗi, chính tả hoặc các lỗi khác không?</p>
<p>Đoạn code này có vẻ như chỉ cần làm 1 việc (cập nhật điểm số) nhưng thực tế nó đang làm 2 thứ cùng 1 lúc:</p>
<ol>
<li><code>old_vote</code> và <code>new_vote</code> đang được “parsed” vào giá trị số</li>
<li>score đang được cập nhật</li>
</ol>
<p>Chúng ta có thể dễ dàng đọc hơn bằng cách giải quyết mỗi việc trên riêng lẻ. Đoạn code dưới đây giải quyết nhiệm vụ đầu tiên, chuyển giá trị vote thành số:<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> vote_value = <span class="function"><span class="keyword">function</span> (<span class="params">vote</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (vote === <span class="string">&#x27;Up&#x27;</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> +<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (vote === <span class="string">&#x27;Down&#x27;</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><br>Bây giờ phần còn lại của code là xử nhiệm vụ thứ 2, cập nhật điểm:<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> vote_changed = <span class="function"><span class="keyword">function</span> (<span class="params">old_vote, new_vote</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> score = get_score();</span><br><span class="line">    score -= vote_value(old_vote); <span class="comment">// remove the old vote</span></span><br><span class="line">    score += vote_value(new_vote); <span class="comment">// add the new vote</span></span><br><span class="line"></span><br><span class="line">    set_score(score);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><br>Như bạn có thể thấy, phiên bản code này tốn ít nỗ lực về mặt tinh thần hơn để tự nhủ rằng nó hoạt động</p>
<blockquote class="colorquote success"><p>As you can see, this version of the code takes a lot less mental effort to convince yourself that it works. =))</p>
</blockquote>
<p>Đây là 1 phần lớn làm code “dễ dàng để hiểu”.</p>
<h1 id="Extracting-Values-from-an-Object"><a href="#Extracting-Values-from-an-Object" class="headerlink" title="Extracting Values from an Object"></a>Extracting Values from an Object</h1><p>Chúng tôi đã từng có 1 số định dạng JavaScript để định dạng 1 vị trí của user thành 1 chuỗi thân thiện <em>“City, Country</em> như “Santa Monica, USA” or “Paris, France.”. Chúng ta nhận vào 1 từ điển <code>location_info</code> với nhiều cấu trúc dữ liệu. Tất cả cái chúng ta chọn là “City” và “Country” từ tất cả các trường và nối chúng lại với nhau.</p>
<p>Hình sau minh hoạt ví dụ input/output:</p>
<img src="https://github.com/minhnv2306/the-art-readable-code-img/blob/master/chapter11/extrac_values.png?raw=true" class="[]">
<p>Có vẻ nó đơn giản cho đến lúc này, nhưng phần bẫy ở đây là <em>một hoặc tất cả 4 giá trị này có thể thiếu</em>. Đây là cách chúng ta trao đổi với điều này:</p>
<ul>
<li>Khi chọn “City” chúng ta ưu tiên chọn “LocalityName” (city/town) nếu có sẵn, sau đó là “SubAdministrativeAreaName” (larger city/county), sau đó là “AdministrativeAreaName” (state/territory).</li>
<li>Nếu cả 3 giá trị đều thiếu, “City” sẽ nhận giá trị đầu vào là “Middle-of-Nowhere”</li>
<li>Nếu “CountryName” thiếu, “Planet Earth” sẽ được sử dụng làm mặc định.</li>
</ul>
<img src="https://github.com/minhnv2306/the-art-readable-code-img/blob/master/chapter11/extrac_values2.png?raw=true" class="[]">
<p>Đây là đoạn code chúng ta viết để thực hiện task trên:<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> place = location_info[<span class="string">&quot;LocalityName&quot;</span>]; <span class="comment">// e.g. &quot;Santa Monica&quot;</span></span><br><span class="line"><span class="keyword">if</span> (!place) &#123;</span><br><span class="line">    place = location_info[<span class="string">&quot;SubAdministrativeAreaName&quot;</span>]; <span class="comment">// e.g. &quot;Los Angeles&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (!place) &#123;</span><br><span class="line">    place = location_info[<span class="string">&quot;AdministrativeAreaName&quot;</span>]; <span class="comment">// e.g. &quot;California&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (!place) &#123;</span><br><span class="line">    place = <span class="string">&quot;Middle-of-Nowhere&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (location_info[<span class="string">&quot;CountryName&quot;</span>]) &#123;</span><br><span class="line">    place += <span class="string">&quot;, &quot;</span> + location_info[<span class="string">&quot;CountryName&quot;</span>]; <span class="comment">// e.g. &quot;USA&quot;</span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    place += <span class="string">&quot;, Planet Earth&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> place;</span><br></pre></td></tr></table></figure><br>Chắc chắn nó hơi lộn xộn, nhưng nó hoạt động tốt.</p>
<p>Nhưng 1 vài ngày sau, chúng ta cần cải thiện vấn đề này: đối với vị trí từ United States, chúng tôi muốn hiển thị <em>state</em> thay vì conntry (hoàn toàn khả thi). Do đó thay vì “SSanta Monica, USA” nó sẽ trả về “Santa Monica, California”</p>
<p>Để thêm tính năng này vào phần code trước sẽ làm cho nó xấu đi rất nhiều.</p>
<h2 id="Applying-“One-Task-at-a-Time”"><a href="#Applying-“One-Task-at-a-Time”" class="headerlink" title="Applying “One Task at a Time”"></a>Applying “One Task at a Time”</h2><p>Thay vì uốn đoạn mã này theo ý chúng ta, chúng ta hãy dừng lại và nhận ra nó đang thực hiện quá nhiều task trong cùng 1 lúc:</p>
<ol>
<li>Trích xuất giá trị từ từ điển <code>location_info</code></li>
<li>Duyệt qua 1 thứ tự trên cho “City” và mặc định là “Middle-of-Nowhere” nếu nó không tìm thấy gì</li>
<li>Nhận “Country” và sử dụng “Planet Earth” nếu không có giá trị</li>
<li>Cập nhật <code>place</code></li>
</ol>
<p>Thay vì đó, chúng ta viết lại đoạn code ban đầu để giải quyết mỗi vấn đề độc lập</p>
<p>Nhiệm vụ đầu tiên (trích xuất giá trí từ từ điển) dễ dàng giải quyết:<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> town    = location_info[<span class="string">&quot;LocalityName&quot;</span>];                <span class="comment">// e.g. &quot;Santa Monica&quot;</span></span><br><span class="line"><span class="keyword">var</span> city    = location_info[<span class="string">&quot;SubAdministrativeAreaName&quot;</span>];   <span class="comment">// e.g. &quot;Los Angeles&quot;</span></span><br><span class="line"><span class="keyword">var</span> state   = location_info[<span class="string">&quot;AdministrativeAreaName&quot;</span>];      <span class="comment">// e.g. &quot;CA&quot;</span></span><br><span class="line"><span class="keyword">var</span> country = location_info[<span class="string">&quot;CountryName&quot;</span>];                 <span class="comment">// e.g. &quot;USA&quot;</span></span><br></pre></td></tr></table></figure><br>Đến điểm này, chúng tôi đã sử dụng <code>location_info</code> và không phải nhớ nhiều và các keys không trực quan. Thay vào đó, chúng ta đã có những biến đơn giản để làm việc cùng.</p>
<p>Tiếp theo, chúng tôi đã tìm ra cái “nửa thứ 2” của giá trị trả về sẽ như:<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Start with the default, and keep overwriting with the most specific value.</span></span><br><span class="line"><span class="keyword">var</span> second_half = <span class="string">&quot;Planet Earth&quot;</span>;</span><br><span class="line"><span class="keyword">if</span> (country) &#123;</span><br><span class="line">    second_half = country;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (state &amp;&amp; country === <span class="string">&quot;USA&quot;</span>) &#123;</span><br><span class="line">    second_half = state;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>Tương tự, chúng tôi tìm “first half”:<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> first_half = <span class="string">&quot;Middle-of-Nowhere&quot;</span>;</span><br><span class="line"><span class="keyword">if</span> (state &amp;&amp; country !== <span class="string">&quot;USA&quot;</span>) &#123;</span><br><span class="line">    first_half = state;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (city) &#123;</span><br><span class="line">    first_half = city;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (town) &#123;</span><br><span class="line">    first_half = town;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>Cuối cùng chúng ta nối các thông tin lại với nhau:<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">return</span> first_half + <span class="string">&quot;, &quot;</span> + second_half;</span><br></pre></td></tr></table></figure><br>Hình minh họa của chương trình chống phân mảnh ở đầu chương này thực sự là một đại diện cho giải pháp ban đầu và phiên bản mới này. Đây là minh họa tương tự, với nhiều chi tiết được điền vào:</p>
<img src="https://github.com/minhnv2306/the-art-readable-code-img/blob/master/chapter11/one_task_at_time.png?raw=true" class="[]">
<p>Như bạn có thể thấy, 4 tasks trong giải pháp thứ 2 đã được phân mảnh vào khu vực riêng biệt.</p>
<h2 id="Another-Approach"><a href="#Another-Approach" class="headerlink" title="Another Approach"></a>Another Approach</h2><p>Khi tái cấu trúc code, có nhiều cách để làm nó và trường hợp này cũng không phải là ngoại lệ. Một khi bạn đã tách 1 vài tasks, code sẽ dễ hiểu hơn và bạn cần tiếp tục tìm cách tốt hơn để tái cấu trúc nó.</p>
<p>Ví dụ, dễ dàng hơn khi loạt câu lệnh if yêu cầu 1 vài sự cận trọng đọc để viết nếu mỗi trường hợp hoạt động có chính xác hay không? Thực tế có 2 nhiệm vụ con đang diễn ra đồng thời trong đoạn code này:</p>
<ol>
<li>Duyệt qua danh sách các biến và chọn cái được ưu tiên nhất tồn tại.</li>
<li>Sử dụng 1 danh sách khác, tùy thuộc vào quốc gia là “USA”</li>
</ol>
<p>Nhìn lại, bạn có thể thấy code trước đó có logic “if USA” đan xem với phần logic còn lại. Thay vào đó, chúng ta  có thể xử lý USA và non-USA riêng biệt:<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> first_half, second_half;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (country === <span class="string">&quot;USA&quot;</span>) &#123;</span><br><span class="line">    first_half = town || city || <span class="string">&quot;Middle-of-Nowhere&quot;</span>;</span><br><span class="line">    second_half = state || <span class="string">&quot;USA&quot;</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    first_half = town || city || state || <span class="string">&quot;Middle-of-Nowhere&quot;</span>;</span><br><span class="line">    second_half = country || <span class="string">&quot;Planet Earth&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> first_half + <span class="string">&quot;, &quot;</span> + second_half;</span><br></pre></td></tr></table></figure></p>
<h1 id="A-Larger-Example"><a href="#A-Larger-Example" class="headerlink" title="A Larger Example"></a>A Larger Example</h1><p>Chúng tôi xây dựng 1 hệ thống web-crawling, 1 hàm với tên <code>UpdateCounts()</code> được gọi và tăng các thống kê khác nhau sau mỗi trang web được download:<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">UpdateCounts</span><span class="params">(HttpDownload hd)</span> </span>&#123;</span><br><span class="line">    counts[<span class="string">&quot;Exit State&quot;</span> ][hd.exit_state()]++;       <span class="comment">// e.g. &quot;SUCCESS&quot; or &quot;FAILURE&quot;</span></span><br><span class="line">    counts[<span class="string">&quot;Http Response&quot;</span>][hd.http_response()]++;  <span class="comment">// e.g. &quot;404 NOT FOUND&quot;</span></span><br><span class="line">    counts[<span class="string">&quot;Content-Type&quot;</span> ][hd.content_type()]++;   <span class="comment">// e.g. &quot;text/html&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>Well, đây là cách mà chúng tôi mong muốn nhìn thấy của code!</p>
<p>Đặc biệt đối tượng <code>HttpDownload</code> không có phương thức nào hiển thị ở đây. Thay vào đó, <code>HttpDownload</code> là 1 class rất lớn và phức tạp, với nhiều class lồng nhau và chúng ta phải tự tìm ra các giá trị đó. Để làm cho mọi thứ tệ hơn, đôi khi các giá trị này bị thiếu hoàn toàn - trong trường hợp này chúng ta chỉ sử dụng giá trị mặc định “unknown”</p>
<p>Vì tất cả code với nhau, code thực sự có vẻ hơi hỗn độn:<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// WARNING: DO NOT STARE DIRECTLY AT THIS CODE FOR EXTENDED PERIODS OF TIME.</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">UpdateCounts</span><span class="params">(HttpDownload hd)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// Figure out the Exit State, if available.</span></span><br><span class="line">    <span class="keyword">if</span> (!hd.has_event_log() || !hd.event_log().has_exit_state()) &#123;</span><br><span class="line">        counts[<span class="string">&quot;Exit State&quot;</span>][<span class="string">&quot;unknown&quot;</span>]++;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">string</span> state_str = ExitStateTypeName(hd.event_log().exit_state());</span><br><span class="line">        counts[<span class="string">&quot;Exit State&quot;</span>][state_str]++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// If there are no HTTP headers at all, use &quot;unknown&quot; for the remaining elements.</span></span><br><span class="line">    <span class="keyword">if</span> (!hd.has_http_headers()) &#123;</span><br><span class="line">        counts[<span class="string">&quot;Http Response&quot;</span>][<span class="string">&quot;unknown&quot;</span>]++;</span><br><span class="line">        counts[<span class="string">&quot;Content-Type&quot;</span>][<span class="string">&quot;unknown&quot;</span>]++;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    HttpHeaders headers = hd.http_headers();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Log the HTTP response, if known, otherwise log &quot;unknown&quot;</span></span><br><span class="line">    <span class="keyword">if</span> (!headers.has_response_code()) &#123;</span><br><span class="line">        counts[<span class="string">&quot;Http Response&quot;</span>][<span class="string">&quot;unknown&quot;</span>]++;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">string</span> code = StringPrintf(<span class="string">&quot;%d&quot;</span>, headers.response_code());</span><br><span class="line">        counts[<span class="string">&quot;Http Response&quot;</span>][code]++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Log the Content-Type if known, otherwise log &quot;unknown&quot;</span></span><br><span class="line">    <span class="keyword">if</span> (!headers.has_content_type()) &#123;</span><br><span class="line">        counts[<span class="string">&quot;Content-Type&quot;</span>][<span class="string">&quot;unknown&quot;</span>]++;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">string</span> content_type = ContentTypeMime(headers.content_type());</span><br><span class="line">        counts[<span class="string">&quot;Content-Type&quot;</span>][content_type]++;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>Như bạn có thể thấy, rất nhiều code và rất nhiều logic và thậm chí 1 vài dòng code đã lặp lại. Không hề vui vẻ gì khi đọc đoạn code này.</p>
<p>Đặc biệt, đoạn code này có thể chuyển qua chuyện lại giữa các nhiệm vụ khác nhau. Ở đây có các nhiệm vụ khác nhau xen kẽ trong code:</p>
<ol>
<li>Sử dụng “unknown” làm giá trị mặc định cho mỗi key.</li>
<li>Phát hiện xem những thành phần nào của <code>HttpDownload</code> đang thiếu.</li>
<li>Trích xuất giá trị và chuyển nó thành string</li>
<li>Cập nhật <code>counts[]</code></li>
</ol>
<p>Chúng ta có thể cải thiện đoạn code bằng cách phân tách 1 vài tasks này ra thành các phần riêng trong code:<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">UpdateCounts</span><span class="params">(HttpDownload hd)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// Task: define default values for each of the values we want to extract</span></span><br><span class="line">    <span class="built_in">string</span> exit_state = <span class="string">&quot;unknown&quot;</span>;</span><br><span class="line">    <span class="built_in">string</span> http_response = <span class="string">&quot;unknown&quot;</span>;</span><br><span class="line">    <span class="built_in">string</span> content_type = <span class="string">&quot;unknown&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Task: try to extract each value from HttpDownload, one by one</span></span><br><span class="line">    <span class="keyword">if</span> (hd.has_event_log() &amp;&amp; hd.event_log().has_exit_state()) &#123;</span><br><span class="line">        exit_state = ExitStateTypeName(hd.event_log().exit_state());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (hd.has_http_headers() &amp;&amp; hd.http_headers().has_response_code()) &#123;</span><br><span class="line">        http_response = StringPrintf(<span class="string">&quot;%d&quot;</span>, hd.http_headers().response_code());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (hd.has_http_headers() &amp;&amp; hd.http_headers().has_content_type()) &#123;</span><br><span class="line">        content_type = ContentTypeMime(hd.http_headers().content_type());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Task: update counts[]</span></span><br><span class="line">    counts[<span class="string">&quot;Exit State&quot;</span>][exit_state]++;</span><br><span class="line">    counts[<span class="string">&quot;Http Response&quot;</span>][http_response]++;</span><br><span class="line">    counts[<span class="string">&quot;Content-Type&quot;</span>][content_type]++;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><br>Như bạn có thể thấy, đoạn code này gồm 3 khu vực với các mục đích sau:</p>
<ol>
<li>Định nghĩa giá trị mặc định cho 3 keys chúng ta quan tâm</li>
<li>Trích xuất giá trị, nếu tồn tại, với mỗi keys này, chuyển chúng thành chuỗi</li>
<li>Cập nhật <code>counts</code> cho mỗi key/value</li>
</ol>
<p>Điều tốt nhất tách chúng ra thành các khu vực riêng biệt là chúng cô lập với các phần khác - trong khi bạn đang đọc 1 khu vực, bạn không nghĩ về khu vực khác.</p>
<p>Bạn có thể nhận thấy rằng chúng ta đã liệt kê ra 1 tasks, nhưng chúng ta có thể chỉ tách biệt chỉ 3 trong số chúng. Điều này hoàn toàn ổn: các tasks mà bạn liệt kê ban đầu chỉ là các điểm khởi đầu. Thậm chí tách một số trong số chúng có thể giúp mọi thứ rất nhiều, như nó đã làm ở đây</p>
<h2 id="Further-Improvements"><a href="#Further-Improvements" class="headerlink" title="Further Improvements"></a>Further Improvements</h2><p>Phiên bản code mới đã cải thiện được các vấn đề từ đoạn code ban đầu. Chúng ta thấy rằng thậm chí chúng ta không cần phải tạo các hàm khác để thực hiện việc dọn dẹp code. Như chúng tôi đã nhắc đến từ trước đó, ý tưởng “one task at time” có thể giúp bạn dọn sạch mã bất kể cá ranh giới của hàm.</p>
<p>Tuy nhiên chúng tôi đã cải thiện đoạn code này theo cách khác, bằng cách sử dụng 3 hepler:<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">UpdateCounts</span><span class="params">(HttpDownload hd)</span> </span>&#123;</span><br><span class="line">    counts[<span class="string">&quot;Exit State&quot;</span>][ExitState(hd)]++;</span><br><span class="line">    counts[<span class="string">&quot;Http Response&quot;</span>][HttpResponse(hd)]++;</span><br><span class="line">    counts[<span class="string">&quot;Content-Type&quot;</span>][ContentType(hd)]++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>Các hàm này sẽ trích xuất các giá trị tương ứng hoặc trả về “unknown”, ví dụ:<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="built_in">string</span> <span class="title">ExitState</span><span class="params">(HttpDownload hd)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (hd.has_event_log() &amp;&amp; hd.event_log().has_exit_state()) &#123;</span><br><span class="line">        <span class="keyword">return</span> ExitStateTypeName(hd.event_log().exit_state());</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;unknown&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>Cách xử lý thay thế này không cần định nghĩa 1 vài biến. Và như chúng tôi đã nhắc đến trong Chapter 9, Variables and Readability, những biến giữ các giá trị trung gian nên được loại bỏ hoàn toàn.</p>
<p>Trong giải pháp này, chúng tôi đã đơn giản “cắt” các vấn đề vào trong các đường dẫn khác nhau. Cả 2 giải pháp đều dễ đọc và chúng yêu cầu người đọc nghĩ về 1 task trong 1 thời điểm.</p>
<h1 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h1><p>Chương này minh họa 1 kỹ thuật đơn giản để tổ chức lại code của bạn: <strong>làm 1 task trong 1 thời điểm</strong>.</p>
<p>Nếu bạn có các đoạn code khó đọc, hãy thử liệt kê nhưng task nó đang làm. Một vài tasks này có thể dễ dàng được tách thành các hàm (hoặc lớp) riêng biệt. Các tasks khác có thể trở thành “đoạn văn” trong 1 hàm đơn. Tách các phần chi tiết các task đang thực hiện không quan trọng bằng thực tế chúng đã được tách biệt ra. Phần khó nhất là mô tả được chính xác tất cả các thứ chương trình của bạn đang thực hiện.</p>
<blockquote class="colorquote success"><p>The exact details of how you separate these tasks isn’t as important as the fact that they’re separated. The hard part is accurately describing all the little things your program is doing.</p>
</blockquote>
</div><div class="article-licensing box"><div class="licensing-title"><p>Chapter 11: One Task at a Time</p><p><a href="http://yoursite.com/2020/05/24/Chapter-11-One-Task-at-a-Time/">http://yoursite.com/2020/05/24/Chapter-11-One-Task-at-a-Time/</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>Author</h6><p>Ming</p></div></div><div class="level-item is-narrow"><div><h6>Posted on</h6><p>2020-05-24</p></div></div><div class="level-item is-narrow"><div><h6>Updated on</h6><p>2021-04-10</p></div></div><div class="level-item is-narrow"><div><h6>Licensed under</h6><p><a class="icon" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a><a class="icon" rel="noopener" target="_blank" title="Attribution" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a><a class="icon" rel="noopener" target="_blank" title="Noncommercial" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="fab fa-creative-commons-nc"></i></a></p></div></div></div></div></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/css/share.min.css"><div class="social-share"></div><script src="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/js/social-share.min.js"></script></article></div><div class="card"><div class="card-content"><h3 class="menu-label has-text-centered">Like this article? Support the author with</h3><div class="buttons is-centered"><a class="button donate" href="https://www.buymeacoffee.com/mingnv" target="_blank" rel="noopener" data-type="buymeacoffee"><span class="icon is-small"><i class="fas fa-coffee"></i></span><span>Buy me a coffee</span></a></div></div></div><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/2020/05/24/Chapter-12-Turning-Thoughts-into-Code/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">Chapter 12: Turning Thoughts into Code</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2020/05/24/Chapter-10-Extracting-Unrelated-Subproblems/"><span class="level-item">Chapter 10: Extracting Unrelated Subproblems</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">Comments</h3><div id="disqus_thread"><noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div><script>var disqus_config = function () {
            this.page.url = 'http://yoursite.com/2020/05/24/Chapter-11-One-Task-at-a-Time/';
            this.page.identifier = '2020/05/24/Chapter-11-One-Task-at-a-Time/';
        };
        (function() {
            var d = document, s = d.createElement('script');  
            s.src = '//' + 'minh' + '.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        })();</script></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="https://octodex.github.com/images/spidertocat.png" alt="Minh NV"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">Minh NV</p><p class="is-size-6 is-block">_N.V.M_</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Hanoi city, Vietnam</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">115</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title">33</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">44</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/minhnv2306" target="_blank" rel="noopener">Follow</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/minhnv2306"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Facebook" href="https://www.facebook.com/profile.php?id=100003860456359"><i class="fab fa-facebook"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Twitter" href="http://twitter.com"><i class="fab fa-twitter"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Dribbble" href="http://dribbble.com"><i class="fab fa-dribbble"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/"><i class="fas fa-rss"></i></a></div></div></div><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">Recents</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-08-01T11:33:54.000Z">2021-08-01</time></p><p class="title"><a href="/2021/08/01/Tan-man-ve-index-trong-MySQL/">Tản mạn về index trong MySQL</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-07-14T14:54:50.000Z">2021-07-14</time></p><p class="title"><a href="/2021/07/14/Section-18-Account-Management-Billing-Support/">Section 18- Account Management, Billing &amp; Support</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-06-11T11:28:44.000Z">2021-06-11</time></p><p class="title"><a href="/2021/06/11/Note-choi-choi-1106/">Note chơi chơi 1106</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-05-22T15:59:30.000Z">2021-05-22</time></p><p class="title"><a href="/2021/05/22/Section-16-Security-Compliance/">Section 16- Security &amp; Compliance</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-05-22T03:31:32.000Z">2021-05-22</time></p><p class="title"><a href="/2021/05/22/Section-14-Cloud-Monitoring/">Section 14- Cloud Monitoring</a></p></div></article></div></div><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">Categories</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/AWS-Training/"><span class="level-start"><span class="level-item">AWS Training</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/Authentication/"><span class="level-start"><span class="level-item">Authentication</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Clean-our-code/"><span class="level-start"><span class="level-item">Clean our code</span></span><span class="level-end"><span class="level-item tag">13</span></span></a><ul><li><a class="level is-mobile" href="/categories/Clean-our-code/Clean-code-Robert-C-Martin/"><span class="level-start"><span class="level-item">Clean code - Robert C. Martin</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/categories/Clean-our-code/Refactoring-to-Collections/"><span class="level-start"><span class="level-item">Refactoring to Collections</span></span><span class="level-end"><span class="level-item tag">8</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Database/"><span class="level-start"><span class="level-item">Database</span></span><span class="level-end"><span class="level-item tag">2</span></span></a><ul><li><a class="level is-mobile" href="/categories/Database/MongoDB/"><span class="level-start"><span class="level-item">MongoDB</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Database/MySQL/"><span class="level-start"><span class="level-item">MySQL</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Development-and-Operation/"><span class="level-start"><span class="level-item">Development and Operation</span></span><span class="level-end"><span class="level-item tag">32</span></span></a><ul><li><a class="level is-mobile" href="/categories/Development-and-Operation/CircleCI-2-0/"><span class="level-start"><span class="level-item">CircleCI 2.0</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/Development-and-Operation/Docker/"><span class="level-start"><span class="level-item">Docker</span></span><span class="level-end"><span class="level-item tag">10</span></span></a></li><li><a class="level is-mobile" href="/categories/Development-and-Operation/Google-Cloud-Platform/"><span class="level-start"><span class="level-item">Google Cloud Platform</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/Development-and-Operation/Laravel/"><span class="level-start"><span class="level-item">Laravel</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li><li><a class="level is-mobile" href="/categories/Development-and-Operation/Linux-OS/"><span class="level-start"><span class="level-item">Linux OS</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/Development-and-Operation/Web-Server/"><span class="level-start"><span class="level-item">Web Server</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/JAVaScript/"><span class="level-start"><span class="level-item">JAVaScript</span></span><span class="level-end"><span class="level-item tag">6</span></span></a><ul><li><a class="level is-mobile" href="/categories/JAVaScript/Asynchronous/"><span class="level-start"><span class="level-item">Asynchronous</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/JAVaScript/Event/"><span class="level-start"><span class="level-item">Event</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/JAVaScript/React/"><span class="level-start"><span class="level-item">React</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/JP/"><span class="level-start"><span class="level-item">JP</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/categories/Others/"><span class="level-start"><span class="level-item">Others</span></span><span class="level-end"><span class="level-item tag">13</span></span></a><ul><li><a class="level is-mobile" href="/categories/Others/Cong-cu-lap-trinh/"><span class="level-start"><span class="level-item">Công cụ lập trình</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Others/PHPCS/"><span class="level-start"><span class="level-item">PHPCS</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/Others/Suu-tam/"><span class="level-start"><span class="level-item">Sưu tầm</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Others/Website-Optimization/"><span class="level-start"><span class="level-item">Website Optimization</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/The-Art-of-Readable-Code/"><span class="level-start"><span class="level-item">The Art of Readable Code</span></span><span class="level-end"><span class="level-item tag">19</span></span></a><ul><li><a class="level is-mobile" href="/categories/The-Art-of-Readable-Code/Chapter-1-Code-Should-Be-Easy-to-Understand/"><span class="level-start"><span class="level-item">Chapter 1 - Code Should Be Easy to Understand</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/The-Art-of-Readable-Code/Part-I-Surface-Level-Improvements/"><span class="level-start"><span class="level-item">Part I - Surface-Level Improvements</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/The-Art-of-Readable-Code/Part-II-Simplifying-Loops-and-Logic/"><span class="level-start"><span class="level-item">Part II - Simplifying Loops and Logic</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/The-Art-of-Readable-Code/Part-III-Reorganizing-Your-Code/"><span class="level-start"><span class="level-item">Part III - Reorganizing Your Code</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/The-Art-of-Readable-Code/Part-IV-Selected-Topics/"><span class="level-start"><span class="level-item">Part IV - Selected Topics</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Unit-Test/"><span class="level-start"><span class="level-item">Unit Test</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/special-day/"><span class="level-start"><span class="level-item">special day</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">Archives</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2021/08/"><span class="level-start"><span class="level-item">August 2021</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/07/"><span class="level-start"><span class="level-item">July 2021</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/06/"><span class="level-start"><span class="level-item">June 2021</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/05/"><span class="level-start"><span class="level-item">May 2021</span></span><span class="level-end"><span class="level-item tag">12</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/04/"><span class="level-start"><span class="level-item">April 2021</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/02/"><span class="level-start"><span class="level-item">February 2021</span></span><span class="level-end"><span class="level-item tag">11</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/01/"><span class="level-start"><span class="level-item">January 2021</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/06/"><span class="level-start"><span class="level-item">June 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/05/"><span class="level-start"><span class="level-item">May 2020</span></span><span class="level-end"><span class="level-item tag">23</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/04/"><span class="level-start"><span class="level-item">April 2020</span></span><span class="level-end"><span class="level-item tag">12</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/02/"><span class="level-start"><span class="level-item">February 2020</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/01/"><span class="level-start"><span class="level-item">January 2020</span></span><span class="level-end"><span class="level-item tag">13</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/12/"><span class="level-start"><span class="level-item">December 2019</span></span><span class="level-end"><span class="level-item tag">12</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/11/"><span class="level-start"><span class="level-item">November 2019</span></span><span class="level-end"><span class="level-item tag">12</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/09/"><span class="level-start"><span class="level-item">September 2019</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/07/"><span class="level-start"><span class="level-item">July 2019</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/04/"><span class="level-start"><span class="level-item">April 2019</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">Tags</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/API/"><span class="tag">API</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/CI-CD/"><span class="tag">CI/CD</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Kanji/"><span class="tag">Kanji</span><span class="tag">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Linux-command-line/"><span class="tag">Linux command line</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/apache2/"><span class="tag">apache2</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/async-programing/"><span class="tag">async programing</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/authentication/"><span class="tag">authentication</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/clean-comment/"><span class="tag">clean comment</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/clean-error/"><span class="tag">clean error</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/clean-function/"><span class="tag">clean function</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/collection/"><span class="tag">collection</span><span class="tag">8</span></a></div><div class="control"><a class="tags has-addons" href="/tags/configuration/"><span class="tag">configuration</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/docker/"><span class="tag">docker</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/docker-command/"><span class="tag">docker command</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/docker-compose-file-format/"><span class="tag">docker compose file format</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/docker-best-practice/"><span class="tag">docker-best-practice</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/docker-compose-yml/"><span class="tag">docker-compose.yml</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/docker-instructions-docker-best-practice/"><span class="tag">docker-instructions docker-best-practice</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/docker-network/"><span class="tag">docker-network</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/docker-volume/"><span class="tag">docker-volume</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/event/"><span class="tag">event</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/event-notification/"><span class="tag">event notification</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/excelfile/"><span class="tag">excelfile</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/gcp/"><span class="tag">gcp</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/git/"><span class="tag">git</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/groupby-mysql/"><span class="tag">groupby, mysql</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/jquery-validation/"><span class="tag">jquery-validation</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/kubernetes/"><span class="tag">kubernetes</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/mongoDB/"><span class="tag">mongoDB</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/naming/"><span class="tag">naming</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/phpcs/"><span class="tag">phpcs</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/phpcs-phpcsfixer/"><span class="tag">phpcs phpcsfixer</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/process-management/"><span class="tag">process management</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/react-boilerplate/"><span class="tag">react boilerplate</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/regex/"><span class="tag">regex</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/requests/"><span class="tag">requests</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/stripe/"><span class="tag">stripe</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/sudo-command/"><span class="tag">sudo command</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/tips-laravel/"><span class="tag">tips laravel</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/tracking-php-script/"><span class="tag">tracking php script</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/unit-test/"><span class="tag">unit test</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/validation/"><span class="tag">validation</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/vba/"><span class="tag">vba</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/vim/"><span class="tag">vim</span><span class="tag">1</span></a></div></div></div></div></div><div class="card widget" data-type="subscribe-email"><div class="card-content"><div class="menu"><h3 class="menu-label">Subscribe for updates</h3><form action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open(&#039;https://feedburner.google.com/fb/a/mailverify?uri=&#039;,&#039;popupwindow&#039;,&#039;scrollbars=yes,width=550,height=520&#039;);return true"><input type="hidden" value="" name="uri"><input type="hidden" name="loc" value="en_US"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button" type="submit" value="Subscribe"></div></div></form></div></div></div><div class="column-right-shadow is-hidden-widescreen is-sticky"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3 is-sticky"><div class="card widget" id="toc" data-type="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">Catalogue</h3><ul class="menu-list"><li><a class="level is-mobile" href="#Tasks-Can-Be-Small"><span class="level-left"><span class="level-item">1</span><span class="level-item">Tasks Can Be Small</span></span></a></li><li><a class="level is-mobile" href="#Extracting-Values-from-an-Object"><span class="level-left"><span class="level-item">2</span><span class="level-item">Extracting Values from an Object</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Applying-“One-Task-at-a-Time”"><span class="level-left"><span class="level-item">2.1</span><span class="level-item">Applying “One Task at a Time”</span></span></a></li><li><a class="level is-mobile" href="#Another-Approach"><span class="level-left"><span class="level-item">2.2</span><span class="level-item">Another Approach</span></span></a></li></ul></li><li><a class="level is-mobile" href="#A-Larger-Example"><span class="level-left"><span class="level-item">3</span><span class="level-item">A Larger Example</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Further-Improvements"><span class="level-left"><span class="level-item">3.1</span><span class="level-item">Further Improvements</span></span></a></li></ul></li><li><a class="level is-mobile" href="#Summary"><span class="level-left"><span class="level-item">4</span><span class="level-item">Summary</span></span></a></li></ul></div></div><style>#toc .menu-list > li > a.is-active + .menu-list { display: block; }#toc .menu-list > li > a + .menu-list { display: none; }</style><script src="/js/toc.js" defer></script></div><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">Links</h3><ul class="menu-list"><li><a class="level is-mobile" href="https://blog.zhangruipeng.me/hexo-theme-icarus/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Icarus blog</span></span><span class="level-right"><span class="level-item tag">blog.zhangruipeng.me</span></span></a></li><li><a class="level is-mobile" href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Icarus github</span></span><span class="level-right"><span class="level-item tag">github.com</span></span></a></li></ul></div></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo.png" alt="Hello, I am Minh" height="28"></a><p class="is-size-7"><span>&copy; 2021 Ming</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a><br><span id="busuanzi_container_site_uv">Visited by <span id="busuanzi_value_site_uv">0</span> users</span></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "This website uses cookies to improve your experience.",
          dismiss: "Got it!",
          allow: "Allow cookies",
          deny: "Decline",
          link: "Learn more",
          policy: "Cookie Policy",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>