<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>[Clean code] Chapter 10: Class - Hello, I am Minh</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="Hello, I am Minh"><meta name="msapplication-TileImage" content="/img/my_favicon.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Hello, I am Minh"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="Cho đến nay trong cuốn sách này, chúng tôi đã tập trung vào cách viết tốt các dòng và các khối code. Chúng tôi đã đi sâu vào thành phần thích hợp của các chức năng và cách chúng tương tác với nhau. Nh"><meta property="og:type" content="blog"><meta property="og:title" content="[Clean code] Chapter 10: Class"><meta property="og:url" content="http://yoursite.com/2024/08/17/Clean-code-Chapter-10-Class/"><meta property="og:site_name" content="Hello, I am Minh"><meta property="og:description" content="Cho đến nay trong cuốn sách này, chúng tôi đã tập trung vào cách viết tốt các dòng và các khối code. Chúng tôi đã đi sâu vào thành phần thích hợp của các chức năng và cách chúng tương tác với nhau. Nh"><meta property="og:locale" content="en_US"><meta property="og:image" content="http://yoursite.com/img/og_image.png"><meta property="article:published_time" content="2024-08-17T15:41:26.000Z"><meta property="article:modified_time" content="2024-08-27T14:56:10.335Z"><meta property="article:author" content="Ming"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://yoursite.com/2024/08/17/Clean-code-Chapter-10-Class/"},"headline":"[Clean code] Chapter 10: Class","image":["http://yoursite.com/img/og_image.png"],"datePublished":"2024-08-17T15:41:26.000Z","dateModified":"2024-08-27T14:56:10.335Z","author":{"@type":"Person","name":"Ming"},"description":"Cho đến nay trong cuốn sách này, chúng tôi đã tập trung vào cách viết tốt các dòng và các khối code. Chúng tôi đã đi sâu vào thành phần thích hợp của các chức năng và cách chúng tương tác với nhau. Nh"}</script><link rel="canonical" href="http://yoursite.com/2024/08/17/Clean-code-Chapter-10-Class/"><link rel="icon" href="/img/my_favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" defer></script><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><script src="https://www.googletagmanager.com/gtag/js?id=UA-112002191-2" async></script><script>window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
    
        gtag('config', 'UA-112002191-2');</script><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><!--!--><!--!--><meta name="generator" content="Hexo 5.4.0"></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="https://octodex.github.com/images/privateinvestocat.jpg" alt="Hello, I am Minh" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a><a class="navbar-item" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="http://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a><a class="navbar-item is-hidden-tablet catalogue" title="Catalogue" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2024-08-17T15:41:26.000Z" title="8/17/2024, 10:41:26 PM">2024-08-17</time></span><span class="level-item">Updated&nbsp;<time dateTime="2024-08-27T14:56:10.335Z" title="8/27/2024, 9:56:10 PM">2024-08-27</time></span><span class="level-item"><a class="link-muted" href="/categories/Clean-code/">Clean code</a><span> / </span><a class="link-muted" href="/categories/Clean-code/Clean-code-Robert-C-Martin/">Clean code - Robert C. Martin</a></span><span class="level-item">an hour read (About 10300 words)</span><span class="level-item" id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span>&nbsp;visits</span></div></div><h1 class="title is-3 is-size-4-mobile">[Clean code] Chapter 10: Class</h1><div class="content"><p>Cho đến nay trong cuốn sách này, chúng tôi đã tập trung vào cách viết tốt các dòng và các khối code. Chúng tôi đã đi sâu vào thành phần thích hợp của các chức năng và cách chúng tương tác với nhau. Nhưng đối với tất cả sự chú ý đến tính biểu đạt của các câu lệnh và các chức năng mà chúng bao gồm, chúng tôi vẫn chưa có mã rõ ràng cho đến khi chúng tôi chú ý đến các cấp tổ chức code cao hơn. Hãy nói về clean class!!</p>
<span id="more"></span>
<h1 id="Class-Organization"><a href="#Class-Organization" class="headerlink" title="Class Organization"></a>Class Organization</h1><p>Theo quy ước chuẩn của Java, một class phải bắt đầu bằng một danh sách các biến. Các hằng số tĩnh piblic, nếu có, nên xuất hiện trước. Sau đó là các biến tĩnh private, tiếp theo là các biến private. Ít khi có lý do chính đáng để có một biến public.</p>
<p>Các public functions nên tuân theo danh sách các biến. Chúng tôi muốn đặt các private utilities được gọi bởi một public function ngay sau public function. Điều này tuân theo quy tắc stepdown và giúp chương trình đọc giống như một bài báo.</p>
<h2 id="Dong-goi"><a href="#Dong-goi" class="headerlink" title="Đóng gói"></a>Đóng gói</h2><p>Chúng tôi muốn giữ các biến và utility của mình ở chế độ private, nhưng chúng tôi không quá cuồng nhiệt về nó. Đôi khi chúng ta cần bảo vệ một biến hoặc một utility để nó có thể được truy cập bằng một bài test. Đối với chúng tôi, quy tắc test. Nếu một test trong cùng một package cần gọi một hàm hoặc truy cập một biến, chúng tôi sẽ đặt nó trong phạm vi protected hoặc package. Tuy nhiên, trước tiên, chúng tôi sẽ tìm cách duy trì private. Nới lỏng sự đóng gói luôn là phương sách cuối cùng.</p>
<h1 id="Classes-Should-Be-Small"><a href="#Classes-Should-Be-Small" class="headerlink" title="Classes Should Be Small!"></a>Classes Should Be Small!</h1><p>Nguyên tắc đầu tiên của các class là chúng nên nhỏ. Nguyên tắc thứ 2 là chúng nên nhỏ hơn nữa. Không, chúng ta không nhắc lại text từ chương <strong>Function</strong>. Nhưng cũng như với các hàm, nhỏ hơn là nguyên tắc chính khi thiết kế các lớp. Đối với các hàm, câu hỏi trước mắt của chúng tôi luôn là “Nhỏ như thế nào?”</p>
<p>Với hàm, chúng ta có thể đo bằng số dòng vật lý. Với class chúng ta sử dụng một thước đo khác, chúng ta đếm <em>trách nhiệm (responsibilities)</em></p>
<blockquote class="colorquote success"><p>Với class chúng ta sử dụng một thước đo khác, chúng ta đếm <em>trách nhiệm (responsibilities)</em></p>
</blockquote>
<p>Hình 10-1 là một class, <code>SuperDashboard</code> với khoảng 70 public methods. Đa số LTV đồng ý rằng nó quá lớn. Một vài LTV có thể coi <code>SuperDasdboard</code> là “God class”:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Figure 10-1</span></span><br><span class="line"><span class="comment">// Too Many Responsibilities</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SuperDashboard</span> <span class="keyword">extends</span> <span class="title">JFrame</span> <span class="keyword">implements</span> <span class="title">MetaDataUser</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getCustomizerLanguagePath</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setSystemConfigPath</span><span class="params">(String systemConfigPath)</span></span></span><br><span class="line"><span class="function">    <span class="keyword">public</span> String <span class="title">getSystemConfigDocument</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setSystemConfigDocument</span><span class="params">(String systemConfigDocument)</span></span></span><br><span class="line"><span class="function">    <span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">getGuruState</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    <span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">getNoviceState</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    <span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">getOpenSourceState</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title">showObject</span><span class="params">(MetaObject object)</span></span></span><br><span class="line"><span class="function">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title">showProgress</span><span class="params">(String s)</span></span></span><br><span class="line"><span class="function">    <span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isMetadataDirty</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setIsMetadataDirty</span><span class="params">(<span class="keyword">boolean</span> isMetadataDirty)</span></span></span><br><span class="line"><span class="function">    <span class="keyword">public</span> Component <span class="title">getLastFocusedComponent</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setLastFocused</span><span class="params">(Component lastFocused)</span></span></span><br><span class="line"><span class="function">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setMouseSelectState</span><span class="params">(<span class="keyword">boolean</span> isMouseSelected)</span></span></span><br><span class="line"><span class="function">    <span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isMouseSelected</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    <span class="keyword">public</span> LanguageManager <span class="title">getLanguageManager</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    <span class="keyword">public</span> Project <span class="title">getProject</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    <span class="keyword">public</span> Project <span class="title">getFirstProject</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    <span class="keyword">public</span> Project <span class="title">getLastProject</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    <span class="keyword">public</span> String <span class="title">getNewProjectName</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setComponentSizes</span><span class="params">(Dimension dim)</span></span></span><br><span class="line"><span class="function">    <span class="keyword">public</span> String <span class="title">getCurrentDir</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCurrentDir</span><span class="params">(String newDir)</span></span></span><br><span class="line"><span class="function">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title">updateStatus</span><span class="params">(<span class="keyword">int</span> dotPos, <span class="keyword">int</span> markPos)</span></span></span><br><span class="line"><span class="function">    <span class="keyword">public</span> Class[] <span class="title">getDataBaseClasses</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    <span class="keyword">public</span> MetadataFeeder <span class="title">getMetadataFeeder</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addProject</span><span class="params">(Project project)</span></span></span><br><span class="line"><span class="function">    <span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">setCurrentProject</span><span class="params">(Project project)</span></span></span><br><span class="line"><span class="function">    <span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">removeProject</span><span class="params">(Project project)</span></span></span><br><span class="line"><span class="function">    <span class="keyword">public</span> MetaProjectHeader <span class="title">getProgramMetadata</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title">resetDashboard</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    <span class="keyword">public</span> Project <span class="title">loadProject</span><span class="params">(String fileName, String projectName)</span></span></span><br><span class="line"><span class="function">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCanSaveMetadata</span><span class="params">(<span class="keyword">boolean</span> canSave)</span></span></span><br><span class="line"><span class="function">    <span class="keyword">public</span> MetaObject <span class="title">getSelectedObject</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title">deselectObjects</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setProject</span><span class="params">(Project project)</span></span></span><br><span class="line"><span class="function">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title">editorAction</span><span class="params">(String actionName, ActionEvent event)</span></span></span><br><span class="line"><span class="function">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setMode</span><span class="params">(<span class="keyword">int</span> mode)</span></span></span><br><span class="line"><span class="function">    <span class="keyword">public</span> FileManager <span class="title">getFileManager</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setFileManager</span><span class="params">(FileManager fileManager)</span></span></span><br><span class="line"><span class="function">    <span class="keyword">public</span> ConfigManager <span class="title">getConfigManager</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setConfigManager</span><span class="params">(ConfigManager configManager)</span></span></span><br><span class="line"><span class="function">    <span class="keyword">public</span> ClassLoader <span class="title">getClassLoader</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setClassLoader</span><span class="params">(ClassLoader classLoader)</span></span></span><br><span class="line"><span class="function">    <span class="keyword">public</span> Properties <span class="title">getProps</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    <span class="keyword">public</span> String <span class="title">getUserHome</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    <span class="keyword">public</span> String <span class="title">getBaseDir</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    <span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getMajorVersionNumber</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    <span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getMinorVersionNumber</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    <span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getBuildNumber</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    <span class="keyword">public</span> MetaObject <span class="title">pasting</span><span class="params">(MetaObject target, MetaObject pasted, MetaProject project)</span></span></span><br><span class="line"><span class="function">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title">processMenuItems</span><span class="params">(MetaObject metaObject)</span></span></span><br><span class="line"><span class="function">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title">processMenuSeparators</span><span class="params">(MetaObject metaObject)</span></span></span><br><span class="line"><span class="function">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title">processTabPages</span><span class="params">(MetaObject metaObject)</span></span></span><br><span class="line"><span class="function">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title">processPlacement</span><span class="params">(MetaObject object)</span></span></span><br><span class="line"><span class="function">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title">processCreateLayout</span><span class="params">(MetaObject object)</span></span></span><br><span class="line"><span class="function">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title">updateDisplayLayer</span><span class="params">(MetaObject object, <span class="keyword">int</span> layerIndex)</span></span></span><br><span class="line"><span class="function">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title">propertyEditedRepaint</span><span class="params">(MetaObject object)</span></span></span><br><span class="line"><span class="function">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title">processDeleteObject</span><span class="params">(MetaObject object)</span></span></span><br><span class="line"><span class="function">    <span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">getAttachedToDesigner</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title">processProjectChangedState</span><span class="params">(<span class="keyword">boolean</span> hasProjectChanged)</span></span></span><br><span class="line"><span class="function">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title">processObjectNameChanged</span><span class="params">(MetaObject object)</span></span></span><br><span class="line"><span class="function">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title">runProject</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    <span class="keyword">public</span> <span class="keyword">void</span> setAç<span class="title">owDragging</span><span class="params">(<span class="keyword">boolean</span> allowDragging)</span></span></span><br><span class="line"><span class="function">    <span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">allowDragging</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    <span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isCustomizing</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setTitle</span><span class="params">(String title)</span></span></span><br><span class="line"><span class="function">    <span class="keyword">public</span> IdeMenuBar <span class="title">getIdeMenuBar</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title">showHelper</span><span class="params">(MetaObject metaObject, String propertyName)</span> </span></span><br><span class="line"><span class="function">    <span class="comment">// ... many non-public methods follow ...</span></span></span><br><span class="line"><span class="function">&#125;</span></span><br></pre></td></tr></table></figure><br>Nhưng điều gì sẽ xảy ra nếu <code>SuperDashboard</code> chỉ chứa các methods:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Figure 10-2</span></span><br><span class="line"><span class="comment">// Small Enough?</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SuperDashboard</span> <span class="keyword">extends</span> <span class="title">JFrame</span> <span class="keyword">implements</span> <span class="title">MetaDataUser</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Component <span class="title">getLastFocusedComponent</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setLastFocused</span><span class="params">(Component lastFocused)</span></span></span><br><span class="line"><span class="function">    <span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getMajorVersionNumber</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    <span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getMinorVersionNumber</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    <span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getBuildNumber</span><span class="params">()</span></span></span><br><span class="line"><span class="function">&#125;</span></span><br></pre></td></tr></table></figure><br>5 phương thức không phải nhiều, đúng không? Trong trường hợp này đó là vì mặc dù số lượng methods là nhỏ, <code>SuperDashboard</code> lại có quá nhiều <em>trách nhiệm</em>.</p>
<p>Tên của một class phải mô tả những trách nhiệm mà nó thực hiện. Trên thực tế, đặt tên có lẽ là cách đầu tiên giúp xác định quy mô class. Nếu chúng ta không thể tìm ra một tên ngắn gọn cho một class, thì có thể nó quá lớn. Tên lớp càng mơ hồ, thì càng có nhiều khả năng nó có quá nhiều trách nhiệm. Ví dụ: tên lớp bao gồm các từ chung như <code>Processor</code> hoặc <code>Manager</code> hoặc <code>Super</code> thường gợi ý về sự kết hợp đáng tiếc của các trách nhiệm.</p>
<p>Chúng ta cũng có thể viết mô tả ngắn gọn về class trong khoảng 25 từ, mà không sử dụng các từ “nếu”, “và”, “hoặc” hoặc “nhưng”. Chúng ta sẽ mô tả <code>SuperDashboard</code> như thế nào? “SuperDashboard cung cấp quyền truy cập vào thành phần giữ tiêu điểm cuối cùng và nó cũng cho phép chúng tôi theo dõi phiên bản và số lượng build.” Chữ “và” đầu tiên là một gợi ý rằng <code>SuperDashboard</code> có quá nhiều trách nhiệm.</p>
<h2 id="The-Single-Responsibility-Principle"><a href="#The-Single-Responsibility-Principle" class="headerlink" title="The Single Responsibility Principle"></a>The Single Responsibility Principle</h2><p>The Single Responsibility Principle (SRP) có nghĩa là một class hoặc module nên có 1 và chỉ một <em>lý do để thay đổi</em>. Nguyên tắc này cung cấp cho chúng ta cả định nghĩa về trách nhiệm và hướng dẫn về quy mô class. Class nên có 1 trách nhiệm - một lý do để thay đổi</p>
<blockquote class="colorquote success"><p>The Single Responsibility Principle (SRP) có nghĩa là một class hoặc module nên có 1 và chỉ một <em>lý do để thay đổi</em></p>
</blockquote>
<p>Lớp <code>SuperDashboard</code> có vẻ nhỏ trong Liệt kê 10-2 có hai lý do để thay đổi. Đầu tiên, nó theo dõi thông tin phiên bản mà dường như cần được cập nhật mỗi khi phần mềm được release. Thứ hai, nó quản lý các thành phần Java Swing (nó là một dẫn xuất của JFrame, đại diện Swing của một cửa sổ GUI cấp cao nhất). Không nghi ngờ gì nữa, chúng tôi sẽ muốn cập nhật số phiên bản nếu chúng tôi thay đổi bất kỳ mã Swing nào, nhưng cuộc trò chuyện không nhất thiết đúng: Chúng tôi có thể thay đổi thông tin phiên bản dựa trên những thay đổi đối với code khác trong hệ thống.</p>
<p>Cố gắng xác định trách nhiệm (lý do để thay đổi) thường giúp chúng ta nhận ra và tạo ra những điều trừu tượng tốt hơn trong code của chúng ta. Chúng ta có thể dễ dàng trích xuất cả ba phương thức <code>SuperDashboard</code> xử lý thông tin phiên bản vào một lớp riêng biệt có tên <code>Version</code>. (Xem Liệt kê 10-3.) Lớp <code>Version</code> là một cấu trúc có tiềm năng cao để sử dụng lại trong các ứng dụng khác!<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Figure 10-3</span></span><br><span class="line"><span class="comment">// A single-responsibility class</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Version</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getMajorVersionNumber</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    <span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getMinorVersionNumber</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    <span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getBuildNumber</span><span class="params">()</span></span></span><br><span class="line"><span class="function">&#125;</span></span><br></pre></td></tr></table></figure></p>
<p>SRP là một trong những khái niệm quan trọng hơn trong thiết kế OO. Đây cũng là một trong những khái niệm đơn giản hơn để hiểu và tuân thủ. Tuy nhiên, điều kỳ lạ là SRP thường là nguyên tắc thiết kế lớp bị lạm dụng nhiều nhất. Chúng tôi thường xuyên gặp phải các lớp học làm quá nhiều thứ. Tại sao?</p>
<p>Làm cho phần mềm hoạt động và làm cho phần mềm clean là hai hoạt động rất khác nhau. Hầu hết chúng ta đều có giới hạn trong đầu, vì vậy chúng ta tập trung vào việc code của mình hoạt động nhiều hơn là tổ chức và clean. Điều này hoàn toàn phù hợp. Duy trì sự tách biệt các mối quan tâm cũng quan trọng trong các hoạt động lập trình của chúng tôi cũng như trong các chương trình của chúng tôi.</p>
<p>Vấn đề là có quá nhiều người trong chúng ta nghĩ rằng chúng ta đã hoàn thành một khi chương trình vì nó hoạt động. Chúng tôi không thể chuyển sang mối quan tâm khác là tổ chức và clean. Chúng ta chuyển sang vấn đề tiếp theo thay vì quay lại và chia nhỏ các lớp được nhồi quá nhiều thành các đơn vị tách rời với các trách nhiệm duy nhất.</p>
<p>Đồng thời, nhiều nhà phát triển lo ngại rằng một số lượng lớn các lớp nhỏ, mục đích duy nhất khiến việc hiểu bức tranh lớn hơn trở nên khó khăn hơn. Họ lo ngại rằng họ phải điều hướng từ lớp này sang lớp khác để tìm ra cách hoàn thành một phần công việc lớn hơn.</p>
<p>Tuy nhiên, một hệ thống có nhiều lớp nhỏ không có nhiều bộ phận chuyển động hơn một hệ thống có một vài lớp lớn. Có nhiều thứ để học trong hệ thống với một vài lớp lớn. Vì vậy, câu hỏi đặt ra là: Bạn có muốn các công cụ của mình được tổ chức thành các hộp công cụ với nhiều ngăn kéo nhỏ, mỗi ngăn chứa các thành phần được xác định rõ ràng và được dán nhãn rõ ràng? Hay bạn muốn có một vài ngăn kéo mà bạn chỉ cần ném mọi thứ vào?</p>
<blockquote class="colorquote success"><p>Bạn có muốn các công cụ của mình được tổ chức thành các hộp công cụ với nhiều ngăn kéo nhỏ, mỗi ngăn chứa các thành phần được xác định rõ ràng và được dán nhãn rõ ràng? Hay bạn muốn có một vài ngăn kéo mà bạn chỉ cần ném mọi thứ vào?</p>
</blockquote>
<p>Mọi hệ thống khá lớn sẽ chứa một lượng lớn logic và độ phức tạp. Mục tiêu chính trong việc quản lý sự phức tạp đó là tổ chức nó để một nhà phát triển biết nơi cần tìm để tìm mọi thứ và chỉ cần hiểu sự phức tạp bị ảnh hưởng trực tiếp tại bất kỳ thời điểm nào. Ngược lại, một hệ thống với các lớp đa năng, lớn hơn luôn cản trở chúng ta bằng cách yêu cầu chúng ta phải vượt qua rất nhiều thứ mà chúng ta không cần biết ngay bây giờ.</p>
<blockquote class="colorquote success"><p>Sửa các lớp nhỏ thì độ ảnh hưởng và thời gian tìm hiểu sẽ ít hơn</p>
</blockquote>
<p>Nhắc lại những điểm trước đây để nhấn mạnh: <strong>Chúng tôi muốn hệ thống của mình bao gồm nhiều lớp nhỏ, không phải một vài lớp lớn</strong>. Mỗi lớp nhỏ đóng gói một khả năng đáp ứng duy nhất, có một lý do duy nhất để thay đổi và cộng tác với một vài người khác để đạt được các hành vi hệ thống mong muốn.</p>
<h2 id="Cohesion-Su-gan-ket"><a href="#Cohesion-Su-gan-ket" class="headerlink" title="Cohesion: Sự gắn kết"></a>Cohesion: Sự gắn kết</h2><p>Các lớp nên có một số lượng nhỏ các biến. Mỗi phương thức của một lớp nên thao tác với một hoặc nhiều biến này. Nói chung, một phương thức càng thao tác nhiều biến thì phương thức đó càng gắn kết với lớp của nó. Một lớp trong đó mỗi biến được sử dụng bởi mỗi phương thức là tối đa gắn kết.</p>
<p>Nói chung, không nên và cũng không thể tạo các lớp gắn kết tối đa như vậy; mặt khác, chúng tôi muốn sự gắn kết cao. Khi tính liên kết cao, có nghĩa là các phương thức và biến của lớp đồng phụ thuộc và gắn kết với nhau như một tổng thể logic.</p>
<p>Cùng ví dụ sự thực thi <code>Stack</code> trong 10-4. Đây là một lớp rất gắn kết. Trong ba phương thức, chỉ có <code>size()</code> không sử dụng được cả hai biến.<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Figure 10-4</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Stack</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> topOfStack = <span class="number">0</span>;</span><br><span class="line">    List&lt;Integer&gt; elements = <span class="keyword">new</span> LinkedList&lt;Integer&gt;();</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">size</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> topOfStack;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">push</span><span class="params">(<span class="keyword">int</span> element)</span> </span>&#123; </span><br><span class="line">        topOfStack++;</span><br><span class="line">        elements.add(element);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">pop</span><span class="params">()</span> <span class="keyword">throws</span> PoppedWhenEmpty </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (topOfStack == <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> PoppedWhenEmpty();</span><br><span class="line">        <span class="keyword">int</span> element = elements.get(--topOfStack); elements.remove(topOfStack);</span><br><span class="line">        <span class="keyword">return</span> element;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>Chiến lược giữ các hàm nhỏ và giữ cho danh sách tham số ngắn đôi khi có thể dẫn đến sự gia tăng các biến được sử dụng bởi một tập hợp con các phương thức. Khi điều này xảy ra, hầu như luôn luôn có nghĩa là có ít nhất một lớp khác đang cố gắng thoát ra khỏi lớp lớn hơn. Bạn nên cố gắng tách các biến và phương thức thành hai hoặc nhiều lớp hơn để các lớp mới gắn kết hơn.</p>
<blockquote class="colorquote success"><p>Để ý đến các biến và methods, chúng đi cụm với nhau thì đó là dấu hiệu của việc, bạn nên tách class mới từ class lớn hiện tại =))</p>
</blockquote>
<h2 id="Duy-tri-ket-qua-gan-ket-trong-nhieu-lop-nho"><a href="#Duy-tri-ket-qua-gan-ket-trong-nhieu-lop-nho" class="headerlink" title="Duy trì kết quả gắn kết trong nhiều lớp nhỏ"></a>Duy trì kết quả gắn kết trong nhiều lớp nhỏ</h2><p>Chỉ cần hành động phá vỡ các function lớn thành các function nhỏ hơn cũng gây ra sự gia tăng các lớp. Hãy xem xét một hàm lớn với nhiều biến được khai báo bên trong nó. Giả sử bạn muốn trích xuất một phần nhỏ của hàm đó thành một hàm riêng biệt. Tuy nhiên, code bạn muốn trích xuất sử dụng bốn trong số các biến được khai báo trong hàm. Bạn có phải chuyển tất cả bốn biến đó vào hàm mới dưới dạng đối số không?</p>
<p>Không có gì! Nếu chúng ta đã “thăng cấp” bốn biến đó thành các biến của lớp, thì chúng ta có thể trích xuất code mà không cần chuyển bất kỳ biến nào. Sẽ rất dễ dàng để phá vỡ function thành nhiều phần nhỏ.</p>
<p>Thật không may, điều này cũng có nghĩa là các lớp của chúng ta mất tính liên kết vì chúng tích lũy ngày càng nhiều biến chỉ tồn tại để cho phép một vài hàm chia sẻ chúng. Nhưng đợi đã! Nếu có một vài hàm muốn chia sẻ các biến nhất định, điều đó có phải khiến chúng trở thành một lớp theo đúng nghĩa của chúng không? Tất nhiên là thế. Khi các lớp mất tính liên kết, hãy chia tách chúng!</p>
<p>Vì vậy, việc chia một hàm lớn thành nhiều hàm nhỏ hơn thường cho chúng ta cơ hội để tách một số lớp nhỏ hơn ra. Điều này mang lại cho chương trình của chúng tôi một cơ quan hóa tốt hơn nhiều và một cấu trúc minh bạch hơn.</p>
<blockquote class="colorquote success"><p>Hãy tách hàm lớn thành các hàm nhỏ, các hàm nhỏ không cần truyền đủ biến của hàm lớn mà hãy thăng cấp các biến này biến của class. Như vậy các hàm nhỏ chơi với nhau =&gt; tìm cách tách hàm nhỏ hày thành các class.</p>
</blockquote>
<p>Để minh chứng cho ý tôi muốn nói, hãy sử dụng một ví dụ lâu đời được lấy từ cuốn sách tuyệt vời của Knuth về <code>Literate Programming</code>. Hình 10-5 hiển thị bản dịch sang Java của chương trình <code>PrintPrimes</code> của Knuth. Công bằng mà nói với Knuth, đây không phải là chương trình như anh ấy đã viết mà là nó được xuất ra bởi công cụ WEB của anh ấy. Tôi đang sử dụng nó vì nó là nơi khởi đầu tuyệt vời để chia một hàm lớn thành nhiều hàm và lớp nhỏ hơn.<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Figure 10-5</span></span><br><span class="line"><span class="comment">// PrintPrimes.java</span></span><br><span class="line"><span class="keyword">package</span> literatePrimes;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PrintPrimes</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">final</span> <span class="keyword">int</span> M = <span class="number">1000</span>; <span class="keyword">final</span> <span class="keyword">int</span> RR = <span class="number">50</span>;</span><br><span class="line">        <span class="keyword">final</span> <span class="keyword">int</span> CC = <span class="number">4</span>;</span><br><span class="line">        <span class="keyword">final</span> <span class="keyword">int</span> WW = <span class="number">10</span>;</span><br><span class="line">        <span class="keyword">final</span> <span class="keyword">int</span> ORDMAX = <span class="number">30</span>; <span class="keyword">int</span> P[] = <span class="keyword">new</span> <span class="keyword">int</span>[M + <span class="number">1</span>]; <span class="keyword">int</span> PAGENUMBER;</span><br><span class="line">        <span class="keyword">int</span> PAGEOFFSET; <span class="keyword">int</span> ROWOFFSET; <span class="keyword">int</span> C;</span><br><span class="line">        <span class="keyword">int</span> J;</span><br><span class="line">        <span class="keyword">int</span> K;</span><br><span class="line">        <span class="keyword">boolean</span> JPRIME;</span><br><span class="line">        <span class="keyword">int</span> ORD;</span><br><span class="line">        <span class="keyword">int</span> SQUARE;</span><br><span class="line">        <span class="keyword">int</span> N;</span><br><span class="line">        <span class="keyword">int</span> MULT[] = <span class="keyword">new</span> <span class="keyword">int</span>[ORDMAX + <span class="number">1</span>];</span><br><span class="line">        J = <span class="number">1</span>;</span><br><span class="line">        K = <span class="number">1</span>;</span><br><span class="line">        P[<span class="number">1</span>] = <span class="number">2</span>;</span><br><span class="line">        ORD = <span class="number">2</span>;</span><br><span class="line">        SQUARE = <span class="number">9</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (K &lt; M) &#123;</span><br><span class="line">            <span class="keyword">do</span> &#123;</span><br><span class="line">                J = J + <span class="number">2</span>;</span><br><span class="line">                <span class="keyword">if</span> (J == SQUARE) &#123;</span><br><span class="line">                    ORD = ORD + <span class="number">1</span>;</span><br><span class="line">                    SQUARE = P[ORD] * P[ORD]; MULT[ORD - <span class="number">1</span>] = J;</span><br><span class="line">                &#125;</span><br><span class="line">                N = <span class="number">2</span>;</span><br><span class="line">                JPRIME = <span class="keyword">true</span>;</span><br><span class="line">                <span class="keyword">while</span> (N &lt; ORD &amp;&amp; JPRIME) &#123;</span><br><span class="line">                    <span class="keyword">while</span> (MULT[N] &lt; J)</span><br><span class="line">                        MULT[N] = MULT[N] +</span><br><span class="line">                    <span class="keyword">if</span> (MULT[N] == J) JPRIME = <span class="keyword">false</span>;</span><br><span class="line">                        N = N + <span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">while</span> (!JPRIME); K = K + <span class="number">1</span>;</span><br><span class="line">            P[K] = J;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        &#123;</span><br><span class="line">            PAGENUMBER = <span class="number">1</span>;</span><br><span class="line">            PAGEOFFSET = <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">while</span> (PAGEOFFSET &lt;= M) &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;The First &quot;</span> + M +</span><br><span class="line">                        <span class="string">&quot; Prime Numbers --- Page &quot;</span> + PAGENUMBER);</span><br><span class="line">                System.out.println(<span class="string">&quot;&quot;</span>);</span><br><span class="line">                <span class="keyword">for</span> (ROWOFFSET = PAGEOFFSET; ROWOFFSET &lt; PAGEOFFSET + RR; ROWOFFSET++) &#123;</span><br><span class="line">                    <span class="keyword">for</span> (C = <span class="number">0</span>; C &lt; CC;C++)</span><br><span class="line">                        <span class="keyword">if</span> (ROWOFFSET + C * RR &lt;= M)</span><br><span class="line">                            System.out.format(<span class="string">&quot;%10d&quot;</span>, P[ROWOFFSET + C * RR]);</span><br><span class="line">                    System.out.println(<span class="string">&quot;&quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                System.out.println(<span class="string">&quot;\f&quot;</span>); PAGENUMBER = PAGENUMBER + <span class="number">1</span>; PAGEOFFSET = PAGEOFFSET + RR * CC;</span><br><span class="line">                PAGENUMBER = PAGENUMBER + <span class="number">1</span>;</span><br><span class="line">                PAGEOFFSET = PAGEOFFSET + RR * CC;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>Chương trình này, được viết dưới dạng một hàm duy nhất, là một mớ hỗn độn. Nó có cấu trúc thụt vào sâu, rất nhiều biến số lẻ và cấu trúc liên kết chặt chẽ. Ít nhất, một chức năng lớn nên được chia thành một vài chức năng nhỏ hơn.</p>
<p>Từ Liệt kê 10-6 đến Liệt kê 10-8 cho thấy kết quả của việc tách mã trong Liệt kê 10-5 thành các lớp và hàm nhỏ hơn, đồng thời chọn tên có ý nghĩa cho các lớp, chức năng và biến đó.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Listing 10-6</span></span><br><span class="line"><span class="comment">// PrimePrinter.java (refactored)</span></span><br><span class="line"><span class="keyword">package</span> literatePrimes;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PrimePrinter</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">final</span> <span class="keyword">int</span> NUMBER_OF_PRIMES = <span class="number">1000</span>;</span><br><span class="line">        <span class="keyword">int</span>[] primes = PrimeGenerator.generate(NUMBER_OF_PRIMES);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">final</span> <span class="keyword">int</span> ROWS_PER_PAGE = <span class="number">50</span>;</span><br><span class="line">        <span class="keyword">final</span> <span class="keyword">int</span> COLUMNS_PER_PAGE = <span class="number">4</span>;</span><br><span class="line">        RowColumnPagePrinter tablePrinter =</span><br><span class="line">            <span class="keyword">new</span> RowColumnPagePrinter(ROWS_PER_PAGE, COLUMNS_PER_PAGE,</span><br><span class="line">                <span class="string">&quot;The First &quot;</span> + NUMBER_OF_PRIMES + <span class="string">&quot; Prime Numbers&quot;</span>);</span><br><span class="line"></span><br><span class="line">        tablePrinter.print(primes);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Listing 10-7</span></span><br><span class="line"><span class="comment">// RowColumnPagePrinter.java</span></span><br><span class="line"><span class="keyword">package</span> literatePrimes;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.PrintStream;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RowColumnPagePrinter</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> rowsPerPage;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> columnsPerPage;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> numbersPerPage;</span><br><span class="line">    <span class="keyword">private</span> String pageHeader;</span><br><span class="line">    <span class="keyword">private</span> PrintStream printStream;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">RowColumnPagePrinter</span><span class="params">(<span class="keyword">int</span> rowsPerPage, <span class="keyword">int</span> columnsPerPage,</span></span></span><br><span class="line"><span class="function"><span class="params">        String pageHeader)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.rowsPerPage = rowsPerPage;</span><br><span class="line">        <span class="keyword">this</span>.columnsPerPage = columnsPerPage;</span><br><span class="line">        <span class="keyword">this</span>.pageHeader = pageHeader;</span><br><span class="line">        numbersPerPage = rowsPerPage * columnsPerPage;</span><br><span class="line">        printStream = System.out;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">print</span><span class="params">(<span class="keyword">int</span> data[])</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> pageNumber = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> firstIndexOnPage = <span class="number">0</span>; firstIndexOnPage &lt; data.length; firstIndexOnPage += numbersPerPage) &#123;</span><br><span class="line">            <span class="keyword">int</span> lastIndexOnPage =</span><br><span class="line">                Math.min(firstIndexOnPage + numbersPerPage - <span class="number">1</span>, data.length - <span class="number">1</span>);</span><br><span class="line">            printPageHeader(pageHeader, pageNumber);</span><br><span class="line">            printPage(firstIndexOnPage, lastIndexOnPage, data);</span><br><span class="line">            printStream.println(<span class="string">&quot;\f&quot;</span>);</span><br><span class="line">            pageNumber++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">printPage</span><span class="params">(<span class="keyword">int</span> firstIndexOnPage, <span class="keyword">int</span> lastIndexOnPage,</span></span></span><br><span class="line"><span class="function"><span class="params">        <span class="keyword">int</span>[] data)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> firstIndexOfLastRowOnPage =</span><br><span class="line">            firstIndexOnPage + rowsPerPage - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> firstIndexInRow = firstIndexOnPage; firstIndexInRow &lt;= firstIndexOfLastRowOnPage; firstIndexInRow++) &#123;</span><br><span class="line">            printRow(firstIndexInRow, lastIndexOnPage, data);</span><br><span class="line">            printStream.println(<span class="string">&quot;&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">printRow</span><span class="params">(<span class="keyword">int</span> firstIndexInRow, <span class="keyword">int</span> lastIndexOnPage,</span></span></span><br><span class="line"><span class="function"><span class="params">        <span class="keyword">int</span>[] data)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> column = <span class="number">0</span>; column &lt; columnsPerPage; column++) &#123;</span><br><span class="line">            <span class="keyword">int</span> index = firstIndexInRow + column * rowsPerPage;</span><br><span class="line">            <span class="keyword">if</span> (index &lt;= lastIndexOnPage)</span><br><span class="line">                printStream.format(<span class="string">&quot;%10d&quot;</span>, data[index]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">printPageHeader</span><span class="params">(String pageHeader, <span class="keyword">int</span> pageNumber)</span> </span>&#123;</span><br><span class="line">        printStream.println(pageHeader + <span class="string">&quot; --- Page &quot;</span> + pageNumber);</span><br><span class="line">        printStream.println(<span class="string">&quot;&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setOutput</span><span class="params">(PrintStream printStream)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.printStream = printStream;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Listing 10-8</span></span><br><span class="line"><span class="comment">// PrimeGenerator.java</span></span><br><span class="line"><span class="keyword">package</span> literatePrimes;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PrimeGenerator</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span>[] primes;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> ArrayList &lt; Integer &gt; multiplesOfPrimeFactors;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">static</span> <span class="keyword">int</span>[] generate(<span class="keyword">int</span> n) &#123;</span><br><span class="line">        primes = <span class="keyword">new</span> <span class="keyword">int</span>[n];</span><br><span class="line">        multiplesOfPrimeFactors = <span class="keyword">new</span> ArrayList &lt; Integer &gt; ();</span><br><span class="line">        set2AsFirstPrime();</span><br><span class="line">        checkOddNumbersForSubsequentPrimes();</span><br><span class="line">        <span class="keyword">return</span> primes;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">set2AsFirstPrime</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        primes[<span class="number">0</span>] = <span class="number">2</span>;</span><br><span class="line">        multiplesOfPrimeFactors.add(<span class="number">2</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">checkOddNumbersForSubsequentPrimes</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> primeIndex = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> candidate = <span class="number">3</span>; primeIndex &lt; primes.length; candidate += <span class="number">2</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (isPrime(candidate))</span><br><span class="line">                primes[primeIndex++] = candidate;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">isPrime</span><span class="params">(<span class="keyword">int</span> candidate)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (isLeastRelevantMultipleOfNextLargerPrimeFactor(candidate)) &#123;</span><br><span class="line">            multiplesOfPrimeFactors.add(candidate);</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> isNotMultipleOfAnyPreviousPrimeFactor(candidate);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">isLeastRelevantMultipleOfNextLargerPrimeFactor</span><span class="params">(<span class="keyword">int</span> candidate)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> nextLargerPrimeFactor = primes[multiplesOfPrimeFactors.size()];</span><br><span class="line">        <span class="keyword">int</span> leastRelevantMultiple = nextLargerPrimeFactor * nextLargerPrimeFactor;</span><br><span class="line">        <span class="keyword">return</span> candidate == leastRelevantMultiple;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">isNotMultipleOfAnyPreviousPrimeFactor</span><span class="params">(<span class="keyword">int</span> candidate)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> n = <span class="number">1</span>; n &lt; multiplesOfPrimeFactors.size(); n++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (isMultipleOfNthPrimeFactor(candidate, n)) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">isMultipleOfNthPrimeFactor</span><span class="params">(<span class="keyword">int</span> candidate, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">        candidate == smallestOddNthMultipleNotLessThanCandidate(candidate, n);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">smallestOddNthMultipleNotLessThanCandidate</span><span class="params">(<span class="keyword">int</span> candidate, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> multiple = multiplesOfPrimeFactors.get(n);</span><br><span class="line">        <span class="keyword">while</span> (multiple &lt; candidate)</span><br><span class="line">            multiple += <span class="number">2</span> * primes[n];</span><br><span class="line">        multiplesOfPrimeFactors.set(n, multiple);</span><br><span class="line">        <span class="keyword">return</span> multiple;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Điều đầu tiên bạn có thể nhận thấy là chương trình dài hơn rất nhiều. Nó dài từ hơn một trang đến gần ba trang. Có một số lý do cho sự tăng trưởng này. Đầu tiên, chương trình được tái cấu trúc sử dụng các tên biến mô tả dài hơn. Thứ hai, chương trình được tái cấu trúc sử dụng khai báo hàm và lớp như một cách để thêm chú thích vào mã. Thứ ba, chúng tôi đã sử dụng các kỹ thuật định dạng và khoảng trắng để giữ cho chương trình có thể đọc được.</p>
<p>Lưu ý rằng chương trình đã được chia thành ba trách nhiệm chính như thế nào. Chương trình chính được chứa trong lớp <code>PrimePrinter</code>. Trách nhiệm của nó là xử lý môi trường thực thi. Nó sẽ thay đổi nếu phương thức gọi thay đổi. Ví dụ: nếu chương trình này được chuyển đổi thành dịch vụ SOAP, thì đây là lớp sẽ bị ảnh hưởng.</p>
<p><code>RowColumnPagePrinter</code> biết tất cả về cách định dạng danh sách số thành các trang với một số hàng và cột nhất định. Nếu định dạng của đầu ra cần thay đổi, thì đây là lớp sẽ bị ảnh hưởng.</p>
<p>Lớp <code>PrimeGenerator</code> biết cách tạo một danh sách các số nguyên tố. Lưu ý rằng nó không có nghĩa là được khởi tạo như một đối tượng. Lớp chỉ là một phạm vi hữu ích trong đó các biến của nó có thể được khai báo và giữ ẩn. Lớp này sẽ thay đổi nếu thuật toán tính toán các số nguyên tố thay đổi.</p>
<p>Đây không phải là một bài viết lại! Chúng tôi đã không bắt đầu lại từ đầu và viết lại chương trình. Thật vậy, nếu bạn xem xét kỹ hai chương trình khác nhau, bạn sẽ thấy rằng chúng sử dụng cùng một thuật toán và cơ chế để hoàn thành công việc của mình.</p>
<p>Thay đổi được thực hiện bằng cách viết một bộ thử nghiệm xác minh hành vi <em>chính xác</em> của chương trình đầu tiên. Sau đó, vô số thay đổi nhỏ được thực hiện, mỗi lần một thay đổi. Sau mỗi lần thay đổi, chương trình được thực thi để đảm bảo rằng hành vi không thay đổi. Hết bước này đến bước khác, chương trình đầu tiên được dọn dẹp và chuyển thành chương trình thứ hai.</p>
<h1 id="Organizing-for-Change"><a href="#Organizing-for-Change" class="headerlink" title="Organizing for Change"></a>Organizing for Change</h1><p>Đối với hầu hết các hệ thống, sự thay đổi là liên tục. Mọi thay đổi đều khiến chúng ta có nguy cơ phần còn lại của hệ thống không còn hoạt động như dự kiến. Trong một hệ thống sạch sẽ, chúng tôi tổ chức các lớp của mình để giảm nguy cơ thay đổi.</p>
<p>Lớp <code>Sql</code> trong Liệt kê 10-9 được sử dụng để tạo các chuỗi SQL được định dạng đúng với siêu dữ liệu thích hợp. Đây là một công việc đang được tiến hành và do đó, chưa hỗ trợ tính năng SQL như các câu lệnh <code>UPDATE</code>. Khi đến lúc lớp Sql hỗ trợ <code>UPDATE</code> cập nhật, chúng tôi sẽ phải “mở” lớp này để thực hiện sửa đổi. Vấn đề với việc mở một lớp là nó mang lại rủi ro. Bất kỳ sửa đổi nào đối với lớp đều có khả năng phá vỡ mã khác trong lớp. Nó phải được kiểm tra lại hoàn toàn.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Figure 10-9</span></span><br><span class="line"><span class="comment">// A class that must be opened for change</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Sql</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Sql</span><span class="params">(String table, Column[] columns)</span></span></span><br><span class="line"><span class="function">    <span class="keyword">public</span> String <span class="title">create</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    <span class="keyword">public</span> String <span class="title">insert</span><span class="params">(Object[] fields)</span></span></span><br><span class="line"><span class="function">    <span class="keyword">public</span> String <span class="title">selectAll</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    <span class="keyword">public</span> String <span class="title">findByKey</span><span class="params">(String keyColumn, String keyValue)</span></span></span><br><span class="line"><span class="function">    <span class="keyword">public</span> String <span class="title">select</span><span class="params">(Column column, String pattern)</span></span></span><br><span class="line"><span class="function">    <span class="keyword">public</span> String <span class="title">select</span><span class="params">(Criteria criteria)</span></span></span><br><span class="line"><span class="function">    <span class="keyword">public</span> String <span class="title">preparedInsert</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    <span class="keyword">private</span> String <span class="title">columnList</span><span class="params">(Column[] columns)</span></span></span><br><span class="line"><span class="function">    <span class="keyword">private</span> String <span class="title">valuesList</span><span class="params">(Object[] fields, <span class="keyword">final</span> Column[] columns)</span> <span class="keyword">private</span> String <span class="title">selectWithCriteria</span><span class="params">(String criteria)</span></span></span><br><span class="line"><span class="function">    <span class="keyword">private</span> String <span class="title">placeholderList</span><span class="params">(Column[] columns)</span></span></span><br><span class="line"><span class="function">&#125;</span></span><br></pre></td></tr></table></figure>
<p>Lớp <code>Sql</code> phải thay đổi khi chúng ta thêm một kiểu câu lệnh mới. Nó cũng phải thay đổi khi chúng tôi thay đổi chi tiết của một loại câu lệnh đơn lẻ — ví dụ: nếu chúng tôi cần sửa đổi hàm <code>SELECT</code> để hỗ trợ các lựa chọn con. Hai lý do để thay đổi này có nghĩa là lớp Sql vi phạm SRP.</p>
<p>Chúng tôi có thể phát hiện vi phạm SRP này từ quan điểm tổ chức đơn giản. Sơ lược phương thức của Sql cho thấy rằng có các phương thức riêng, chẳng hạn như <code>selectWithCriteria</code>, dường như chỉ liên quan đến các câu lệnh <code>select.</code></p>
<p>Private method chỉ áp dụng cho một tập hợp con nhỏ của một lớp có thể là một phát hiện hữu ích để thấy các khu vực tiềm năng để cải thiện. Tuy nhiên, động lực chính cho hành động tìm kiếm phải là bản thân sự thay đổi của hệ thống. Nếu lớp <code>Sql</code> được coi là hoàn chỉnh về mặt logic, thì chúng ta không cần lo lắng về việc tách các trách nhiệm. Nếu chúng ta không cần chức năng <code>UPDATE</code> trong tương lai gần, thì chúng ta nên để <code>Sql</code> một mình. Nhưng ngay sau khi chúng tôi nhận thấy mình đang mở một lớp, chúng tôi nên xem xét việc sửa chữa thiết kế của mình.</p>
<p>Điều gì sẽ xảy ra nếu chúng ta xem xét một giải pháp như vậy trong Liệt kê 10-10? Mỗi public interface method được định nghĩa trong Sql trước đó từ Liệt kê 10-9 được cấu trúc lại thành dẫn xuất riêng của lớp Sql. Lưu ý rằng các phương thức private, chẳng hạn như <code>valueList</code>, di chuyển trực tiếp đến nơi chúng cần thiết. Hành vi riêng tư chung được tách biệt với một cặp lớp tiện ích, <code>Where</code> và <code>ColumnList</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Figure 10-10</span></span><br><span class="line"><span class="comment">// A set of closed classes</span></span><br><span class="line"><span class="keyword">abstract</span> <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Sql</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Sql</span><span class="params">(String table, Column[] columns)</span></span></span><br><span class="line"><span class="function">    <span class="keyword">abstract</span> <span class="keyword">public</span> String <span class="title">generate</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CreateSql</span> <span class="keyword">extends</span> <span class="title">Sql</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">CreateSql</span><span class="params">(String table, Column[] columns)</span></span></span><br><span class="line"><span class="function">    @Override <span class="keyword">public</span> String <span class="title">generate</span><span class="params">()</span></span></span><br><span class="line"><span class="function">&#125;</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> class SelectSql extends Sql </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">SelectSql</span><span class="params">(String table, Column[] columns)</span></span></span><br><span class="line"><span class="function">    @Override <span class="keyword">public</span> String <span class="title">generate</span><span class="params">()</span></span></span><br><span class="line"><span class="function">&#125;</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> class InsertSql extends Sql </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">InsertSql</span><span class="params">(String table, Column[] columns, Object[] fields)</span></span></span><br><span class="line"><span class="function">    @Override <span class="keyword">public</span> String <span class="title">generate</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    <span class="keyword">private</span> String <span class="title">valuesList</span><span class="params">(Object[] fields, <span class="keyword">final</span> Column[] columns)</span></span></span><br><span class="line"><span class="function">&#125;</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> class SelectWithCriteriaSql extends Sql </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">SelectWithCriteriaSql</span><span class="params">(String table, Column[] columns, Criteria criteria)</span></span></span><br><span class="line"><span class="function">    @Override <span class="keyword">public</span> String <span class="title">generate</span><span class="params">()</span></span></span><br><span class="line"><span class="function">&#125;</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> class SelectWithMatchSql extends Sql </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">SelectWithMatchSql</span><span class="params">(String table, Column[] columns, Column column, String pattern)</span></span></span><br><span class="line"><span class="function">    @Override <span class="keyword">public</span> String <span class="title">generate</span><span class="params">()</span></span></span><br><span class="line"><span class="function">&#125;</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> class FindByKeySql extends Sql </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">FindByKeySql</span><span class="params">(String table, Column[] columns, String keyColumn, String keyValue)</span></span></span><br><span class="line"><span class="function">    @Override <span class="keyword">public</span> String <span class="title">generate</span><span class="params">()</span></span></span><br><span class="line"><span class="function">&#125;</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> class PreparedInsertSql extends Sql </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">PreparedInsertSql</span><span class="params">(String table, Column[] columns)</span></span></span><br><span class="line"><span class="function">    @Override <span class="keyword">public</span> String <span class="title">generate</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    <span class="keyword">private</span> String <span class="title">placeholderList</span><span class="params">(Column[] columns)</span></span></span><br><span class="line"><span class="function">&#125;</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> class Where </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Where</span><span class="params">(String criteria)</span></span></span><br><span class="line"><span class="function">    <span class="keyword">public</span> String <span class="title">generate</span><span class="params">()</span></span></span><br><span class="line"><span class="function">&#125;</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> class ColumnList </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ColumnList</span><span class="params">(Column[] columns)</span></span></span><br><span class="line"><span class="function">    <span class="keyword">public</span> String <span class="title">generate</span><span class="params">()</span></span></span><br><span class="line"><span class="function">&#125;</span></span><br></pre></td></tr></table></figure>
<p>Mã trong mỗi lớp trở nên cực kỳ đơn giản. Thời gian hiểu cần thiết của chúng tôi để hiểu bất kỳ lớp nào giảm xuống gần như không có. Rủi ro mà một chức năng này có thể phá vỡ một chức năng khác trở nên rất nhỏ. Từ quan điểm kiểm tra, việc chứng minh tất cả các bit logic trong giải pháp này trở thành một nhiệm vụ dễ dàng hơn, vì các lớp đều được cách ly với nhau.</p>
<p>Quan trọng không kém, khi đã đến lúc thêm các câu lệnh <code>UPDATE</code>, không có lớp nào trong số các lớp hiện có cần thay đổi! Chúng tôi viết mã logic để xây dựng các câu lệnh <code>UPDATE</code> trong một lớp con mới của Sql có tên là <code>UpdateSql</code>. Không có mã nào khác trong hệ thống sẽ bị hỏng do thay đổi này.</p>
<p>Logic Sql được cấu trúc lại của chúng tôi đại diện cho điều tốt nhất của tất cả các thế giới. Nó hỗ trợ SRP. Nó cũng hỗ trợ một nguyên tắc thiết kế lớp OO quan trọng khác được gọi là Open-Closed Principle, hoặc OCP Lớp nên mở để mở rộng nhưng đóng để sửa đổi. Lớp Sql được cấu trúc lại của chúng tôi mở để cho phép chức năng mới thông qua lớp con, nhưng chúng tôi có thể thực hiện thay đổi này trong khi vẫn đóng mọi lớp khác. Chúng tôi chỉ cần đặt lớp <code>UpdateSql</code> của chúng tôi tại chỗ.</p>
<p>Chúng tôi muốn cấu trúc hệ thống của mình để chúng tôi sử dụng ít nhất có thể khi chúng tôi cập nhật chúng với các tính năng mới hoặc thay đổi. Trong một hệ thống lý tưởng, chúng tôi kết hợp các tính năng mới bằng cách mở rộng hệ thống, không phải bằng cách thực hiện các sửa đổi đối với mã hiện có.</p>
<h2 id="Isolating-from-Change"><a href="#Isolating-from-Change" class="headerlink" title="Isolating from Change"></a>Isolating from Change</h2><p>Nhu cầu sẽ thay đổi, do đó mã sẽ thay đổi. Chúng tôi đã học được trong OO 101 rằng có các lớp cụ thể, chứa các chi tiết triển khai (code) và các lớp trừu tượng, chỉ đại diện cho các khái niệm. Một lớp khách hàng phụ thuộc vào các chi tiết cụ thể sẽ gặp rủi ro khi các chi tiết đó thay đổi. Chúng tôi có thể giới thiệu các interfaces và abstract classes để giúp cô lập tác động của các chi tiết đó.</p>
<p>Sự phụ thuộc vào các chi tiết cụ thể tạo ra thách thức cho việc test hệ thống. Nếu chúng tôi đang xây dựng một lớp <code>Portfolio</code> và nó phụ thuộc vào API <code>TokyoStockExchange</code> bên ngoài để lấy giá trị của danh mục đầu tư, thì các trường hợp thử nghiệm của chúng tôi sẽ bị ảnh hưởng bởi sự biến động của việc tra cứu như vậy. Thật khó để viết một test khi cứ sau năm phút, chúng tôi lại nhận được một câu trả lời khác nhau!</p>
<p>Thay vì thiết kế <code>Portfolio</code> để nó phụ thuộc trực tiếp vào <code>TokyoStockExchange</code>, chúng tôi tạo một interface, <code>StockExchange</code>, khai báo một method duy nhất:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">StockExchange</span> </span>&#123;</span><br><span class="line">    <span class="function">Money <span class="title">currentPrice</span><span class="params">(String symbol)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>Chúng tôi thiết kế <code>TokyoStockExchange</code> để implement interface này. Chúng tôi cũng đảm bảo rằng <code>constructor</code> của <code>Portfolio</code> lấy tham chiếu <code>StockExchange</code> làm đối số:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> Portfolio &#123;</span><br><span class="line">    <span class="keyword">private</span> StockExchange exchange;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Portfolio</span><span class="params">(StockExchange exchange)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.exchange = exchange;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ... </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>Bây giờ test có thể tạo ra một interface có thể kiểm tra của interface <code>StockExchange</code> mô phỏng <code>TokyoStockExchange</code>. Việc triển khai thử nghiệm này sẽ cố định giá trị hiện tại cho bất kỳ ký hiệu nào mà chúng tôi sử dụng trong test. Nếu test của chúng tôi cho thấy việc mua năm cổ phiếu của Microsoft cho danh mục đầu tư của chúng tôi, thì chúng tôi lập mã việc triển khai thử nghiệm để luôn trả lại 100 đô la cho mỗi cổ phiếu của Microsoft. Việc triển khai thử nghiệm của chúng tôi đối với giao diện StockExchange giảm xuống một tra cứu bảng đơn giản. Sau đó, chúng tôi có thể viết một bài kiểm tra dự kiến $ 500 cho giá trị danh mục đầu tư tổng thể của chúng tôi.<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PortfolioTest</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> FixedStockExchangeStub exchange;</span><br><span class="line">    <span class="keyword">private</span> Portfolio portfolio;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Before</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">setUp</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        exchange = <span class="keyword">new</span> FixedStockExchangeStub();</span><br><span class="line">        exchange.fix(<span class="string">&quot;MSFT&quot;</span>, <span class="number">100</span>);</span><br><span class="line">        portfolio = <span class="keyword">new</span> Portfolio(exchange);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">GivenFiveMSFTTotalShouldBe500</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        portfolio.add(<span class="number">5</span>, <span class="string">&quot;MSFT&quot;</span>);</span><br><span class="line">        Assert.assertEquals(<span class="number">500</span>,portfolio.value());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>Nếu một hệ thống được tách rời đủ để được test theo cách này, nó cũng sẽ linh hoạt hơn và thúc đẩy việc tái sử dụng nhiều hơn. Việc thiếu khớp nối có nghĩa là các yếu tố của hệ thống của chúng tôi được cách ly tốt hơn với nhau và khỏi sự thay đổi. Sự cô lập này giúp bạn hiểu rõ hơn về từng phần tử của hệ thống dễ dàng hơn.</p>
<p>Bằng cách giảm thiểu sự ghép nối theo cách này, các lớp của chúng ta tuân theo một nguyên tắc thiết kế lớp khác được gọi là Nguyên tắc đảo ngược phụ thuộc (DIP - Dependency Inversion Principle).</p>
<p>Thay vì phụ thuộc vào chi tiết triển khai của lớp <code>TokyoStockExchange</code>, lớp <code>Portfolio</code> của chúng tôi giờ phụ thuộc vào <code>StockExchange</code> interface. <code>StockExchange</code> interface đại diện cho khái niệm trừu tượng về việc yêu cầu giá hiện tại của một biểu tượng. Sự trừu tượng này cô lập tất cả các chi tiết cụ thể của việc nhận được một mức giá như vậy, bao gồm cả việc lấy mức giá đó từ đâu.</p>
<h1 id="Bibliography"><a href="#Bibliography" class="headerlink" title="Bibliography"></a>Bibliography</h1><p><strong>[RDD]</strong>: <em>Object Design: Roles, Responsibilities, and Collaborations</em>, Rebecca Wirfs-<br>Brock et al., Addison-Wesley, 2002.<br><strong>[PPP]</strong>: <em>Agile Software Development: Principles, Patterns, and Practices</em>, Robert C. Martin, Prentice Hall, 2002.<br><strong>[Knuth92]</strong>: <em>Literate Programming</em>, Donald E. Knuth, Center for the Study of language and Information, Leland Stanford Junior University, 1992.</p>
</div><div class="article-licensing box"><div class="licensing-title"><p>[Clean code] Chapter 10: Class</p><p><a href="http://yoursite.com/2024/08/17/Clean-code-Chapter-10-Class/">http://yoursite.com/2024/08/17/Clean-code-Chapter-10-Class/</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>Author</h6><p>Ming</p></div></div><div class="level-item is-narrow"><div><h6>Posted on</h6><p>2024-08-17</p></div></div><div class="level-item is-narrow"><div><h6>Updated on</h6><p>2024-08-27</p></div></div><div class="level-item is-narrow"><div><h6>Licensed under</h6><p><a class="icon" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a><a class="icon" rel="noopener" target="_blank" title="Attribution" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a><a class="icon" rel="noopener" target="_blank" title="Noncommercial" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="fab fa-creative-commons-nc"></i></a></p></div></div></div></div></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/css/share.min.css"><div class="social-share"></div><script src="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/js/social-share.min.js"></script></article></div><div class="card"><div class="card-content"><h3 class="menu-label has-text-centered">Like this article? Support the author with</h3><div class="buttons is-centered"><a class="button donate" href="https://www.buymeacoffee.com/mingnv" target="_blank" rel="noopener" data-type="buymeacoffee"><span class="icon is-small"><i class="fas fa-coffee"></i></span><span>Buy me a coffee</span></a></div></div></div><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/2024/08/23/Tips-Laravel-Snippets-code/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">Tips 1: Laravel Snippets code</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2024/08/17/Clean-code-Chapter-8-Boundaries/"><span class="level-item">[Clean code] Chapter 8: Boundaries</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">Comments</h3><div id="disqus_thread"><noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div><script>var disqus_config = function () {
            this.page.url = 'http://yoursite.com/2024/08/17/Clean-code-Chapter-10-Class/';
            this.page.identifier = '2024/08/17/Clean-code-Chapter-10-Class/';
        };
        (function() {
            var d = document, s = d.createElement('script');  
            s.src = '//' + 'minh' + '.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        })();</script></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="https://octodex.github.com/images/spidertocat.png" alt="Minh NV"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">Minh NV</p><p class="is-size-6 is-block">_N.V.M_</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Hanoi city, Vietnam</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">160</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title">36</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">50</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/minhnv2306" target="_blank" rel="noopener">Follow</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/minhnv2306"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Facebook" href="https://www.facebook.com/profile.php?id=100003860456359"><i class="fab fa-facebook"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Twitter" href="http://twitter.com"><i class="fab fa-twitter"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Dribbble" href="http://dribbble.com"><i class="fab fa-dribbble"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/"><i class="fas fa-rss"></i></a></div></div></div><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">Categories</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/AWS-Developer-Associate/"><span class="level-start"><span class="level-item">AWS Developer Associate</span></span><span class="level-end"><span class="level-item tag">19</span></span></a></li><li><a class="level is-mobile" href="/categories/AWS-Practitioner/"><span class="level-start"><span class="level-item">AWS Practitioner</span></span><span class="level-end"><span class="level-item tag">26</span></span></a></li><li><a class="level is-mobile" href="/categories/AWS-Training/"><span class="level-start"><span class="level-item">AWS Training</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/Authentication/"><span class="level-start"><span class="level-item">Authentication</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Clean-code/"><span class="level-start"><span class="level-item">Clean code</span></span><span class="level-end"><span class="level-item tag">16</span></span></a><ul><li><a class="level is-mobile" href="/categories/Clean-code/Clean-code-Robert-C-Martin/"><span class="level-start"><span class="level-item">Clean code - Robert C. Martin</span></span><span class="level-end"><span class="level-item tag">8</span></span></a></li><li><a class="level is-mobile" href="/categories/Clean-code/Refactoring-to-Collections/"><span class="level-start"><span class="level-item">Refactoring to Collections</span></span><span class="level-end"><span class="level-item tag">8</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Database/"><span class="level-start"><span class="level-item">Database</span></span><span class="level-end"><span class="level-item tag">3</span></span></a><ul><li><a class="level is-mobile" href="/categories/Database/MongoDB/"><span class="level-start"><span class="level-item">MongoDB</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Database/MySQL/"><span class="level-start"><span class="level-item">MySQL</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Development-and-Operation/"><span class="level-start"><span class="level-item">Development and Operation</span></span><span class="level-end"><span class="level-item tag">33</span></span></a><ul><li><a class="level is-mobile" href="/categories/Development-and-Operation/CircleCI-2-0/"><span class="level-start"><span class="level-item">CircleCI 2.0</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/Development-and-Operation/Docker/"><span class="level-start"><span class="level-item">Docker</span></span><span class="level-end"><span class="level-item tag">10</span></span></a></li><li><a class="level is-mobile" href="/categories/Development-and-Operation/Google-Cloud-Platform/"><span class="level-start"><span class="level-item">Google Cloud Platform</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/Development-and-Operation/Laravel/"><span class="level-start"><span class="level-item">Laravel</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li><li><a class="level is-mobile" href="/categories/Development-and-Operation/Linux-OS/"><span class="level-start"><span class="level-item">Linux OS</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/categories/Development-and-Operation/Web-Server/"><span class="level-start"><span class="level-item">Web Server</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/JP/"><span class="level-start"><span class="level-item">JP</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/categories/JavaScript/"><span class="level-start"><span class="level-item">JavaScript</span></span><span class="level-end"><span class="level-item tag">7</span></span></a><ul><li><a class="level is-mobile" href="/categories/JavaScript/Asynchronous/"><span class="level-start"><span class="level-item">Asynchronous</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/JavaScript/Event/"><span class="level-start"><span class="level-item">Event</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/JavaScript/React/"><span class="level-start"><span class="level-item">React</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Others/"><span class="level-start"><span class="level-item">Others</span></span><span class="level-end"><span class="level-item tag">15</span></span></a><ul><li><a class="level is-mobile" href="/categories/Others/Cong-cu-lap-trinh/"><span class="level-start"><span class="level-item">Công cụ lập trình</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Others/PHPCS/"><span class="level-start"><span class="level-item">PHPCS</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/Others/Suu-tam/"><span class="level-start"><span class="level-item">Sưu tầm</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Others/Website-Optimization/"><span class="level-start"><span class="level-item">Website Optimization</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Snippets-code/"><span class="level-start"><span class="level-item">Snippets code</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Special-day/"><span class="level-start"><span class="level-item">Special day</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/The-Art-of-Readable-Code/"><span class="level-start"><span class="level-item">The Art of Readable Code</span></span><span class="level-end"><span class="level-item tag">19</span></span></a><ul><li><a class="level is-mobile" href="/categories/The-Art-of-Readable-Code/Chapter-1-Code-Should-Be-Easy-to-Understand/"><span class="level-start"><span class="level-item">Chapter 1 - Code Should Be Easy to Understand</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/The-Art-of-Readable-Code/Part-I-Surface-Level-Improvements/"><span class="level-start"><span class="level-item">Part I - Surface-Level Improvements</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/The-Art-of-Readable-Code/Part-II-Simplifying-Loops-and-Logic/"><span class="level-start"><span class="level-item">Part II - Simplifying Loops and Logic</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/The-Art-of-Readable-Code/Part-III-Reorganizing-Your-Code/"><span class="level-start"><span class="level-item">Part III - Reorganizing Your Code</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/The-Art-of-Readable-Code/Part-IV-Selected-Topics/"><span class="level-start"><span class="level-item">Part IV - Selected Topics</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Unit-Test/"><span class="level-start"><span class="level-item">Unit Test</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">Tags</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/API/"><span class="tag">API</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/CI-CD/"><span class="tag">CI/CD</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Kanji/"><span class="tag">Kanji</span><span class="tag">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Linux-command-line/"><span class="tag">Linux command line</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/apache2/"><span class="tag">apache2</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/async-programing/"><span class="tag">async programing</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/authentication/"><span class="tag">authentication</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/aws-exam-preparation/"><span class="tag">aws exam preparation</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/aws-labs/"><span class="tag">aws labs</span><span class="tag">9</span></a></div><div class="control"><a class="tags has-addons" href="/tags/aws-certificate/"><span class="tag">aws-certificate</span><span class="tag">44</span></a></div><div class="control"><a class="tags has-addons" href="/tags/clean-comment/"><span class="tag">clean comment</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/clean-error/"><span class="tag">clean error</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/clean-function/"><span class="tag">clean function</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/collection/"><span class="tag">collection</span><span class="tag">8</span></a></div><div class="control"><a class="tags has-addons" href="/tags/configuration/"><span class="tag">configuration</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/docker/"><span class="tag">docker</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/docker-command/"><span class="tag">docker command</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/docker-compose-file-format/"><span class="tag">docker compose file format</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/docker-best-practice/"><span class="tag">docker-best-practice</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/docker-compose-yml/"><span class="tag">docker-compose.yml</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/docker-instructions-docker-best-practice/"><span class="tag">docker-instructions docker-best-practice</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/docker-network/"><span class="tag">docker-network</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/docker-volume/"><span class="tag">docker-volume</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/event/"><span class="tag">event</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/event-notification/"><span class="tag">event notification</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/excelfile/"><span class="tag">excelfile</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/gcp/"><span class="tag">gcp</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/git/"><span class="tag">git</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/jquery-validation/"><span class="tag">jquery-validation</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/kubernetes/"><span class="tag">kubernetes</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/laravel/"><span class="tag">laravel</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/mongoDB/"><span class="tag">mongoDB</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/mysql/"><span class="tag">mysql</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/naming/"><span class="tag">naming</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/note-choi-choi/"><span class="tag">note choi choi</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/phpcs/"><span class="tag">phpcs</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/phpcs-phpcsfixer/"><span class="tag">phpcs phpcsfixer</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/process-management/"><span class="tag">process management</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/react-boilerplate/"><span class="tag">react boilerplate</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/regex/"><span class="tag">regex</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/requests/"><span class="tag">requests</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/snippets-code/"><span class="tag">snippets-code</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/stripe/"><span class="tag">stripe</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/sudo-command/"><span class="tag">sudo command</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/tips-laravel/"><span class="tag">tips laravel</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/tracking-php-script/"><span class="tag">tracking php script</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/unit-test/"><span class="tag">unit test</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/validation/"><span class="tag">validation</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/vba/"><span class="tag">vba</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/vim/"><span class="tag">vim</span><span class="tag">1</span></a></div></div></div></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">Archives</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2024/08/"><span class="level-start"><span class="level-item">August 2024</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/07/"><span class="level-start"><span class="level-item">July 2022</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/06/"><span class="level-start"><span class="level-item">June 2022</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/02/"><span class="level-start"><span class="level-item">February 2022</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/01/"><span class="level-start"><span class="level-item">January 2022</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/12/"><span class="level-start"><span class="level-item">December 2021</span></span><span class="level-end"><span class="level-item tag">21</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/08/"><span class="level-start"><span class="level-item">August 2021</span></span><span class="level-end"><span class="level-item tag">14</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/07/"><span class="level-start"><span class="level-item">July 2021</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/06/"><span class="level-start"><span class="level-item">June 2021</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/05/"><span class="level-start"><span class="level-item">May 2021</span></span><span class="level-end"><span class="level-item tag">12</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/04/"><span class="level-start"><span class="level-item">April 2021</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/02/"><span class="level-start"><span class="level-item">February 2021</span></span><span class="level-end"><span class="level-item tag">11</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/01/"><span class="level-start"><span class="level-item">January 2021</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/06/"><span class="level-start"><span class="level-item">June 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/05/"><span class="level-start"><span class="level-item">May 2020</span></span><span class="level-end"><span class="level-item tag">23</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/04/"><span class="level-start"><span class="level-item">April 2020</span></span><span class="level-end"><span class="level-item tag">12</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/02/"><span class="level-start"><span class="level-item">February 2020</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/01/"><span class="level-start"><span class="level-item">January 2020</span></span><span class="level-end"><span class="level-item tag">13</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/12/"><span class="level-start"><span class="level-item">December 2019</span></span><span class="level-end"><span class="level-item tag">12</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/11/"><span class="level-start"><span class="level-item">November 2019</span></span><span class="level-end"><span class="level-item tag">12</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/09/"><span class="level-start"><span class="level-item">September 2019</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/07/"><span class="level-start"><span class="level-item">July 2019</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/04/"><span class="level-start"><span class="level-item">April 2019</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li></ul></div></div></div><div class="card widget" data-type="subscribe-email"><div class="card-content"><div class="menu"><h3 class="menu-label">Subscribe for updates</h3><form action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open(&#039;https://feedburner.google.com/fb/a/mailverify?uri=&#039;,&#039;popupwindow&#039;,&#039;scrollbars=yes,width=550,height=520&#039;);return true"><input type="hidden" value="" name="uri"><input type="hidden" name="loc" value="en_US"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button" type="submit" value="Subscribe"></div></div></form></div></div></div><div class="column-right-shadow is-hidden-widescreen is-sticky"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3 is-sticky"><div class="card widget" id="toc" data-type="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">Catalogue</h3><ul class="menu-list"><li><a class="level is-mobile" href="#Class-Organization"><span class="level-left"><span class="level-item">1</span><span class="level-item">Class Organization</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Dong-goi"><span class="level-left"><span class="level-item">1.1</span><span class="level-item">Đóng gói</span></span></a></li></ul></li><li><a class="level is-mobile" href="#Classes-Should-Be-Small"><span class="level-left"><span class="level-item">2</span><span class="level-item">Classes Should Be Small!</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#The-Single-Responsibility-Principle"><span class="level-left"><span class="level-item">2.1</span><span class="level-item">The Single Responsibility Principle</span></span></a></li><li><a class="level is-mobile" href="#Cohesion-Su-gan-ket"><span class="level-left"><span class="level-item">2.2</span><span class="level-item">Cohesion: Sự gắn kết</span></span></a></li><li><a class="level is-mobile" href="#Duy-tri-ket-qua-gan-ket-trong-nhieu-lop-nho"><span class="level-left"><span class="level-item">2.3</span><span class="level-item">Duy trì kết quả gắn kết trong nhiều lớp nhỏ</span></span></a></li></ul></li><li><a class="level is-mobile" href="#Organizing-for-Change"><span class="level-left"><span class="level-item">3</span><span class="level-item">Organizing for Change</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Isolating-from-Change"><span class="level-left"><span class="level-item">3.1</span><span class="level-item">Isolating from Change</span></span></a></li></ul></li><li><a class="level is-mobile" href="#Bibliography"><span class="level-left"><span class="level-item">4</span><span class="level-item">Bibliography</span></span></a></li></ul></div></div><style>#toc .menu-list > li > a.is-active + .menu-list { display: block; }#toc .menu-list > li > a + .menu-list { display: none; }</style><script src="/js/toc.js" defer></script></div><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">Recents</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2024-08-27T14:55:03.000Z">2024-08-27</time></p><p class="title"><a href="/2024/08/27/Clean-code-Chapter-11-System/">[Clean code] Chapter 11: System</a></p><p class="categories"><a href="/categories/Clean-code/">Clean code</a> / <a href="/categories/Clean-code/Clean-code-Robert-C-Martin/">Clean code - Robert C. Martin</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2024-08-27T14:01:21.000Z">2024-08-27</time></p><p class="title"><a href="/2024/08/27/Blog-for-me/">Blog for me</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2024-08-27T13:46:55.000Z">2024-08-27</time></p><p class="title"><a href="/2024/08/27/Tips-2-PHP-Snippets-code/">Tips 2: PHP Snippets code</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2024-08-23T15:42:35.000Z">2024-08-23</time></p><p class="title"><a href="/2024/08/23/Tips-Laravel-Snippets-code/">Tips 1: Laravel Snippets code</a></p><p class="categories"><a href="/categories/Snippets-code/">Snippets code</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2024-08-17T15:41:26.000Z">2024-08-17</time></p><p class="title"><a href="/2024/08/17/Clean-code-Chapter-10-Class/">[Clean code] Chapter 10: Class</a></p><p class="categories"><a href="/categories/Clean-code/">Clean code</a> / <a href="/categories/Clean-code/Clean-code-Robert-C-Martin/">Clean code - Robert C. Martin</a></p></div></article></div></div><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">Links</h3><ul class="menu-list"><li><a class="level is-mobile" href="https://blog.zhangruipeng.me/hexo-theme-icarus/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Icarus blog</span></span><span class="level-right"><span class="level-item tag">blog.zhangruipeng.me</span></span></a></li><li><a class="level is-mobile" href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Icarus github</span></span><span class="level-right"><span class="level-item tag">github.com</span></span></a></li></ul></div></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="https://octodex.github.com/images/privateinvestocat.jpg" alt="Hello, I am Minh" height="28"></a><p class="is-size-7"><span>&copy; 2024 Ming</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a><br><span id="busuanzi_container_site_uv">Visited by <span id="busuanzi_value_site_uv">0</span> users</span></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "This website uses cookies to improve your experience.",
          dismiss: "Got it!",
          allow: "Allow cookies",
          deny: "Decline",
          link: "Learn more",
          policy: "Cookie Policy",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>